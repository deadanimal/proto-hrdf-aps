(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4ZJM":function(t,e,i){t.exports=function(){"use strict";var t,e,i;function r(r,n){if(t)if(e){var a="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",o={};t(o),(i=n(o)).workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"}))}else e=n;else t=n}return r(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var i=r;function r(t,e,i,r){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=i,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var i,r,n,a,o;for(void 0===e&&(e=1e-6),n=t,o=0;o<8;o++){if(a=this.sampleCurveX(n)-t,Math.abs(a)<e)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=a/s}if((n=t)<(i=0))return i;if(n>(r=1))return r;for(;i<r;){if(a=this.sampleCurveX(n),Math.abs(a-t)<e)return n;t>a?i=n:r=n,n=.5*(r-i)+i}return n},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var n=a;function a(t,e){this.x=t,this.y=e}function o(t,e,r,n){var a=new i(t,e,r,n);return function(t){return a.solve(t)}}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=r,this},_rotateAround:function(t,e){var i=Math.cos(t),r=Math.sin(t),n=e.y+r*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-r*(this.y-e.y),this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var s=o(.25,.1,.25,1);function l(t,e,i){return Math.min(i,Math.max(e,t))}function c(t,e,i){var r=i-e,n=((t-e)%r+r)%r+e;return n===e?i:n}function u(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var r=0,n=e;r<n.length;r+=1){var a=n[r];for(var o in a)t[o]=a[o]}return t}var h=1;function p(){return h++}function d(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function f(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function b(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function m(t,e){return-1!==t.indexOf(e,t.length-e.length)}function g(t,e,i){var r={};for(var n in t)r[n]=e.call(i||this,t[n],n,t);return r}function y(t,e,i){var r={};for(var n in t)e.call(i||this,t[n],n,t)&&(r[n]=t[n]);return r}function v(t){return Array.isArray(t)?t.map(v):"object"==typeof t&&t?g(t,v):t}var _={};function x(t){_[t]||("undefined"!=typeof console&&console.warn(t),_[t]=!0)}function w(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function V(t){for(var e=0,i=0,r=t.length,n=r-1,a=void 0,o=void 0;i<r;n=i++)e+=((o=t[n]).x-(a=t[i]).x)*(a.y+o.y);return e}function C(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function P(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,i,r,n){var a=r||n;return e[i]=!a||a.toLowerCase(),""})),e["max-age"]){var i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}var U=null;function S(t){if(null==U){var e=t.navigator?t.navigator.userAgent:null;U=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return U}function T(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var k,I,A,O,D=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),M=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,F=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,E={now:D,frame:function(t){var e=M(t);return{cancel:function(){return F(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var i=self.document.createElement("canvas"),r=i.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return i.width=t.width,i.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return k||(k=self.document.createElement("a")),k.href=t,k.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==I&&(I=self.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},R={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},L={supported:!1,testSupport:function(t){!H&&O&&(j?z(t):A=t)}},H=!1,j=!1;function z(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,O),t.isContextLost())return;L.supported=!0}catch(t){}t.deleteTexture(e),H=!0}self.document&&((O=self.document.createElement("img")).onload=function(){A&&z(A),A=null,j=!0},O.onerror=function(){H=!0,A=null},O.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var B="01",N=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function X(t){return 0===t.indexOf("mapbox:")}N.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",B,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},N.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},N.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},N.prototype.normalizeStyleURL=function(t,e){if(!X(t))return t;var i=q(t);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)},N.prototype.normalizeGlyphsURL=function(t,e){if(!X(t))return t;var i=q(t);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)},N.prototype.normalizeSourceURL=function(t,e){if(!X(t))return t;var i=q(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||e)},N.prototype.normalizeSpriteURL=function(t,e,i,r){var n=q(t);return X(t)?(n.path="/styles/v1"+n.path+"/sprite"+e+i,this._makeAPIURL(n,this._customAccessToken||r)):(n.path+=""+e+i,K(n))},N.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!X(t))return t;var i=q(t);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,(E.devicePixelRatio>=2||512===e?"@2x":"")+(L.supported?".webp":"$1")),i.path=i.path.replace(/^.+\/v4\//,"/"),i.path="/v4"+i.path;var r=this._customAccessToken||function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(i.params)||R.ACCESS_TOKEN;return R.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&i.params.push("sku="+this._skuToken),this._makeAPIURL(i,r)},N.prototype.canonicalizeTileURL=function(t,e){var i=q(t);if(!i.path.match(/(^\/v4\/)/)||!i.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=i.path.replace("/v4/","");var n=i.params;return e&&(n=n.filter((function(t){return!t.match(/^access_token=/)}))),n.length&&(r+="?"+n.join("&")),r},N.prototype.canonicalizeTileset=function(t,e){for(var i=!!e&&X(e),r=[],n=0,a=t.tiles||[];n<a.length;n+=1){var o=a[n];G(o)?r.push(this.canonicalizeTileURL(o,i)):r.push(o)}return r},N.prototype._makeAPIURL=function(t,e){var i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=q(R.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"/"!==r.path&&(t.path=""+r.path+t.path),!R.REQUIRE_ACCESS_TOKEN)return K(t);if(!(e=e||R.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+i);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),K(t)};var W=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function G(t){return W.test(t)}var Y=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function q(t){var e=t.match(Y);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function K(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var Z=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Z.prototype.getStorageKey=function(t){var e,i=J(R.ACCESS_TOKEN);return e=i&&i.u?self.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):R.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Z.prototype.fetchEventData=function(){var t=T("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var n=self.localStorage.getItem(i);n&&(this.anonId=n)}catch(t){x("Unable to read from LocalStorage")}},Z.prototype.saveEventData=function(){var t=T("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){x("Unable to write to LocalStorage")}},Z.prototype.processRequests=function(t){},Z.prototype.postEvent=function(t,e,i,r){var n=this;if(R.EVENTS_URL){var a=q(R.EVENTS_URL);a.params.push("access_token="+(r||R.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.10.0",skuId:B,userId:this.anonId},s=e?u(o,e):o,l={url:K(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=vt(l,(function(t){n.pendingRequest=null,i(t),n.saveEventData(),n.processRequests(r)}))}},Z.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var Q,$,tt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,i,r){this.skuToken=i,(R.EVENTS_URL&&r||R.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return X(t)||G(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var i=this.queue.shift(),r=i.id,n=i.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),f(this.anonId)||(this.anonId=d()),this.postEvent(n,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(Z),et=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){R.EVENTS_URL&&R.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return X(t)||G(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var i=J(R.ACCESS_TOKEN),r=i?i.u:R.ACCESS_TOKEN,n=r!==this.eventData.tokenU;f(this.anonId)||(this.anonId=d(),n=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;n=n||l>=1||l<-1||o.getDate()!==s.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=a,e.eventData.tokenU=r)}),t)}},e}(Z)),it=et.postTurnstileEvent.bind(et),rt=new tt,nt=rt.postMapLoadEvent.bind(rt),at=500,ot=50;function st(){self.caches&&!Q&&(Q=self.caches.open("mapbox-tiles"))}function lt(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var ct,ut=1/0;function ht(){return null==ct&&(ct=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),ct}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pt);var dt,ft,bt=function(t){function e(e,i,r){401===i&&G(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=i,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),mt=C()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href},gt=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(mt())&&!/^\w+:/.test(i))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(t,e){var i,r=new self.AbortController,n=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:mt(),signal:r.signal}),a=!1,o=!1,s=(i=n.url).indexOf("sku=")>0&&G(i);"json"===t.type&&n.headers.set("Accept","application/json");var l=function(i,r,a){if(!o){if(i&&"SecurityError"!==i.message&&x(i),r&&a)return c(r);var l=Date.now();self.fetch(n).then((function(i){if(i.ok){var r=s?i.clone():null;return c(i,r,l)}return e(new bt(i.statusText,i.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(i,r,s){("arrayBuffer"===t.type?i.arrayBuffer():"json"===t.type?i.json():i.text()).then((function(t){o||(r&&s&&function(t,e,i){if(st(),Q){var r={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var n=P(e.headers.get("Cache-Control")||"");n["no-store"]||(n["max-age"]&&r.headers.set("Expires",new Date(i+1e3*n["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-i<42e4||function(t,e){if(void 0===$)try{new Response(new ReadableStream),$=!0}catch(t){$=!1}$?e(t.body):t.blob().then(e)}(e,(function(e){var i=new self.Response(e,r);st(),Q&&Q.then((function(e){return e.put(lt(t.url),i)})).catch((function(t){return x(t.message)}))})))}}(n,r,s),a=!0,e(null,t,i.headers.get("Cache-Control"),i.headers.get("Expires")))})).catch((function(t){o||e(new Error(t.message))}))};return s?function(t,e){if(st(),!Q)return e(null);var i=lt(t.url);Q.then((function(t){t.match(i).then((function(r){var n=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),i=P(t.headers.get("Cache-Control")||"");return e>Date.now()&&!i["no-cache"]}(r);t.delete(i),n&&t.put(i,r.clone()),e(null,r,n)})).catch(e)})).catch(e)}(n,l):l(null,null),{cancel:function(){o=!0,a||r.abort()}}}(t,e);if(C()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(t,e){var i=new self.XMLHttpRequest;for(var r in i.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(i.responseType="arraybuffer"),t.headers)i.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===t.credentials,i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){var r=i.response;if("json"===t.type)try{r=JSON.parse(i.response)}catch(t){return e(t)}e(null,r,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else e(new bt(i.statusText,i.status,t.url))},i.send(t.body),{cancel:function(){return i.abort()}}}(t,e)},yt=function(t,e){return gt(u(t,{type:"arrayBuffer"}),e)},vt=function(t,e){return gt(u(t,{method:"POST"}),e)};dt=[],ft=0;var _t=function(t,e){if(L.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ft>=R.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return dt.push(i),i}ft++;var r=!1,n=function(){if(!r)for(r=!0,ft--;dt.length&&ft<R.MAX_PARALLEL_IMAGE_REQUESTS;){var t=dt.shift();t.cancelled||(t.cancel=_t(t.requestParameters,t.callback).cancel)}},a=yt(t,(function(t,i,r,a){n(),t?e(t):i&&(ht()?function(t,e){var i=new self.Blob([new Uint8Array(t)],{type:"image/png"});self.createImageBitmap(i).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(i,e):function(t,e,i,r){var n=new self.Image,a=self.URL;n.onload=function(){e(null,n),a.revokeObjectURL(n.src)},n.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var o=new self.Blob([new Uint8Array(t)],{type:"image/png"});n.cacheControl=i,n.expires=r,n.src=t.byteLength?a.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(i,e,r,a))}));return{cancel:function(){a.cancel(),n()}}};function xt(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function wt(t,e,i){if(i&&i[t]){var r=i[t].indexOf(e);-1!==r&&i[t].splice(r,1)}}var Vt=function(t,e){void 0===e&&(e={}),u(this,e),this.type=t},Ct=function(t){function e(e,i){void 0===i&&(i={}),t.call(this,"error",u({error:e},i))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Vt),Pt=function(){};Pt.prototype.on=function(t,e){return this._listeners=this._listeners||{},xt(t,e,this._listeners),this},Pt.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Pt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},xt(t,e,this._oneTimeListeners),this},Pt.prototype.fire=function(t,e){"string"==typeof t&&(t=new Vt(t,e||{}));var i=t.type;if(this.listens(i)){t.target=this;for(var r=0,n=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];r<n.length;r+=1)n[r].call(this,t);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];a<o.length;a+=1){var s=o[a];wt(i,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&&(u(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof Ct&&console.error(t.error);return this},Pt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Pt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Ut={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"},slice:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},St=function(t,e,i,r){this.message=(t?t+": ":"")+i,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function Tt(t){var e=t.value;return e?[new St(t.key,e,"constants have been deprecated as of v8")]:[]}function kt(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var r=0,n=e;r<n.length;r+=1){var a=n[r];for(var o in a)t[o]=a[o]}return t}function It(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function At(t){if(Array.isArray(t))return t.map(At);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var i in t)e[i]=At(t[i]);return e}return It(t)}var Ot=function(t){function e(e,i){t.call(this,i),this.message=i,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Dt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var i=0,r=e;i<r.length;i+=1){var n=r[i];this.bindings[n[0]]=n[1]}};Dt.prototype.concat=function(t){return new Dt(this,t)},Dt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Dt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Mt={kind:"null"},Ft={kind:"number"},Et={kind:"string"},Rt={kind:"boolean"},Lt={kind:"color"},Ht={kind:"object"},jt={kind:"value"},zt={kind:"collator"},Bt={kind:"formatted"},Nt={kind:"resolvedImage"};function Xt(t,e){return{kind:"array",itemType:t,N:e}}function Wt(t){if("array"===t.kind){var e=Wt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Gt=[Mt,Ft,Et,Rt,Lt,Bt,Ht,Xt(jt),Nt];function Yt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Yt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var i=0,r=Gt;i<r.length;i+=1)if(!Yt(r[i],e))return null}return"Expected "+Wt(t)+" but found "+Wt(e)+" instead."}function qt(t,e){return e.some((function(e){return e.kind===t.kind}))}function Kt(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}var Jt=e((function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function n(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function o(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in i)return i[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=s.indexOf("("),c=s.indexOf(")");if(-1!==l&&c+1===s.length){var u=s.substr(0,l),h=s.substr(l+1,c-(l+1)).split(","),p=1;switch(u){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[n(h[0]),n(h[1]),n(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,f=a(h[1]),b=a(h[2]),m=b<=.5?b*(f+1):b+f-b*f,g=2*b-m;return[r(255*o(g,m,d+1/3)),r(255*o(g,m,d)),r(255*o(g,m,d-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,Zt=function(t,e,i,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=i,this.a=r};Zt.parse=function(t){if(t){if(t instanceof Zt)return t;if("string"==typeof t){var e=Jt(t);if(e)return new Zt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Zt.prototype.toString=function(){var t=this.toArray(),e=t[1],i=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(i)+","+r+")"},Zt.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Zt.black=new Zt(0,0,0,1),Zt.white=new Zt(1,1,1,1),Zt.transparent=new Zt(0,0,0,0),Zt.red=new Zt(1,0,0,1);var Qt=function(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qt.prototype.compare=function(t,e){return this.collator.compare(t,e)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var $t=function(t,e,i,r,n){this.text=t,this.image=e,this.scale=i,this.fontStack=r,this.textColor=n},te=function(t){this.sections=t};te.fromString=function(t){return new te([new $t(t,null,null,null,null)])},te.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},te.factory=function(t){return t instanceof te?t:te.fromString(t)},te.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},te.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var r=i[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var n={};r.fontStack&&(n["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(n["font-scale"]=r.scale),r.textColor&&(n["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(n)}}return t};var ee=function(t){this.name=t.name,this.available=t.available};function ie(t,e,i,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,i,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,i,r]:[t,e,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function re(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Zt)return!0;if(t instanceof Qt)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(Array.isArray(t)){for(var e=0,i=t;e<i.length;e+=1)if(!re(i[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!re(t[r]))return!1;return!0}return!1}function ne(t){if(null===t)return Mt;if("string"==typeof t)return Et;if("boolean"==typeof t)return Rt;if("number"==typeof t)return Ft;if(t instanceof Zt)return Lt;if(t instanceof Qt)return zt;if(t instanceof te)return Bt;if(t instanceof ee)return Nt;if(Array.isArray(t)){for(var e,i=t.length,r=0,n=t;r<n.length;r+=1){var a=ne(n[r]);if(e){if(e===a)continue;e=jt;break}e=a}return Xt(e||jt,i)}return Ht}function ae(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Zt||t instanceof te||t instanceof ee?t.toString():JSON.stringify(t)}ee.prototype.toString=function(){return this.name},ee.fromString=function(t){return t?new ee({name:t,available:!1}):null},ee.prototype.serialize=function(){return["image",this.name]};var oe=function(t,e){this.type=t,this.value=e};oe.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!re(t[1]))return e.error("invalid value");var i=t[1],r=ne(i),n=e.expectedType;return"array"!==r.kind||0!==r.N||!n||"array"!==n.kind||"number"==typeof n.N&&0!==n.N||(r=n),new oe(r,i)},oe.prototype.evaluate=function(){return this.value},oe.prototype.eachChild=function(){},oe.prototype.outputDefined=function(){return!0},oe.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Zt?["rgba"].concat(this.value.toArray()):this.value instanceof te?this.value.serialize():this.value};var se=function(t){this.name="ExpressionEvaluationError",this.message=t};se.prototype.toJSON=function(){return this.message};var le={string:Et,number:Ft,boolean:Rt,object:Ht},ce=function(t,e){this.type=t,this.args=e};ce.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i,r=1,n=t[0];if("array"===n){var a,o;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in le)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);a=le[s],r++}else a=jt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],r++}i=Xt(a,o)}else i=le[n];for(var l=[];r<t.length;r++){var c=e.parse(t[r],r,jt);if(!c)return null;l.push(c)}return new ce(i,l)},ce.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var i=this.args[e].evaluate(t);if(!Yt(this.type,ne(i)))return i;if(e===this.args.length-1)throw new se("Expected value to be of type "+Wt(this.type)+", but found "+Wt(ne(i))+" instead.")}return null},ce.prototype.eachChild=function(t){this.args.forEach(t)},ce.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ce.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var i=t.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){e.push(i.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var ue=function(t){this.type=Bt,this.sections=t};ue.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[1];if(!Array.isArray(i)&&"object"==typeof i)return e.error("First argument must be an image or text section.");for(var r=[],n=!1,a=1;a<=t.length-1;++a){var o=t[a];if(n&&"object"==typeof o&&!Array.isArray(o)){n=!1;var s=null;if(o["font-scale"]&&!(s=e.parse(o["font-scale"],1,Ft)))return null;var l=null;if(o["text-font"]&&!(l=e.parse(o["text-font"],1,Xt(Et))))return null;var c=null;if(o["text-color"]&&!(c=e.parse(o["text-color"],1,Lt)))return null;var u=r[r.length-1];u.scale=s,u.font=l,u.textColor=c}else{var h=e.parse(t[a],1,jt);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");n=!0,r.push({content:h,scale:null,font:null,textColor:null})}}return new ue(r)},ue.prototype.evaluate=function(t){return new te(this.sections.map((function(e){var i=e.content.evaluate(t);return ne(i)===Nt?new $t("",i,null,null,null):new $t(ae(i),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},ue.prototype.eachChild=function(t){for(var e=0,i=this.sections;e<i.length;e+=1){var r=i[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},ue.prototype.outputDefined=function(){return!1},ue.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var r=i[e];t.push(r.content.serialize());var n={};r.scale&&(n["font-scale"]=r.scale.serialize()),r.font&&(n["text-font"]=r.font.serialize()),r.textColor&&(n["text-color"]=r.textColor.serialize()),t.push(n)}return t};var he=function(t){this.type=Nt,this.input=t};he.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var i=e.parse(t[1],1,Et);return i?new he(i):e.error("No image name provided.")},he.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=ee.fromString(e);return i&&t.availableImages&&(i.available=t.availableImages.indexOf(e)>-1),i},he.prototype.eachChild=function(t){t(this.input)},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){return["image",this.input.serialize()]};var pe={"to-boolean":Rt,"to-color":Lt,"to-number":Ft,"to-string":Et},de=function(t,e){this.type=t,this.args=e};de.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[0];if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");for(var r=pe[i],n=[],a=1;a<t.length;a++){var o=e.parse(t[a],a,jt);if(!o)return null;n.push(o)}return new de(r,n)},de.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,i,r=0,n=this.args;r<n.length;r+=1){if(i=null,(e=n[r].evaluate(t))instanceof Zt)return e;if("string"==typeof e){var a=t.parseColor(e);if(a)return a}else if(Array.isArray(e)&&!(i=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ie(e[0],e[1],e[2],e[3])))return new Zt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new se(i||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,l=this.args;s<l.length;s+=1){if(null===(o=l[s].evaluate(t)))return 0;var c=Number(o);if(!isNaN(c))return c}throw new se("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?te.fromString(ae(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ee.fromString(ae(this.args[0].evaluate(t))):ae(this.args[0].evaluate(t))},de.prototype.eachChild=function(t){this.args.forEach(t)},de.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},de.prototype.serialize=function(){if("formatted"===this.type.kind)return new ue([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var fe=["Unknown","Point","LineString","Polygon"],be=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};be.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},be.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?fe[this.feature.type]:this.feature.type:null},be.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},be.prototype.canonicalID=function(){return this.canonical},be.prototype.properties=function(){return this.feature&&this.feature.properties||{}},be.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Zt.parse(t)),e};var me=function(t,e,i,r){this.name=t,this.type=e,this._evaluate=i,this.args=r};me.prototype.evaluate=function(t){return this._evaluate(t,this.args)},me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.outputDefined=function(){return!1},me.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},me.parse=function(t,e){var i,r=t[0],n=me.definitions[r];if(!n)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,s=o.filter((function(e){var i=e[0];return!Array.isArray(i)||i.length===t.length-1})),l=null,c=0,u=s;c<u.length;c+=1){var h=u[c],p=h[0],d=h[1];l=new Le(e.registry,e.path,null,e.scope);for(var f=[],b=!1,m=1;m<t.length;m++){var g=t[m],y=Array.isArray(p)?p[m-1]:p.type,v=l.parse(g,1+f.length,y);if(!v){b=!0;break}f.push(v)}if(!b)if(Array.isArray(p)&&p.length!==f.length)l.error("Expected "+p.length+" arguments, but found "+f.length+" instead.");else{for(var _=0;_<f.length;_++){var x=Array.isArray(p)?p[_]:p.type,w=f[_];l.concat(_+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new me(r,a,d,f)}}if(1===s.length)(i=e.errors).push.apply(i,l.errors);else{for(var V=(s.length?s:o).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Wt).join(", ")+")":"("+Wt(e.type)+"...)"})).join(" | "),C=[],P=1;P<t.length;P++){var U=e.parse(t[P],1+C.length);if(!U)return null;C.push(Wt(U.type))}e.error("Expected arguments of type "+V+", but found ("+C.join(", ")+") instead.")}return null},me.register=function(t,e){for(var i in me.definitions=e,e)t[i]=me};var ge=function(t,e,i){this.type=zt,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e};function ye(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function ve(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function _e(t,e){var i=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,n=Math.pow(2,e.z);return[Math.round(i*n*8192),Math.round(r*n*8192)]}function xe(t,e,i){return e[1]>t[1]!=i[1]>t[1]&&t[0]<(i[0]-e[0])*(t[1]-e[1])/(i[1]-e[1])+e[0]}function we(t,e){for(var i,r,n,a,o,s,l,c=!1,u=0,h=e.length;u<h;u++)for(var p=e[u],d=0,f=p.length;d<f-1;d++){if((a=(i=t)[0]-(r=p[d])[0])*(l=i[1]-(n=p[d+1])[1])-(s=i[0]-n[0])*(o=i[1]-r[1])==0&&a*s<=0&&o*l<=0)return!1;xe(t,p[d],p[d+1])&&(c=!c)}return c}function Ve(t,e){for(var i=0;i<e.length;i++)if(we(t,e[i]))return!0;return!1}function Ce(t,e,i,r){var n=r[0]-i[0],a=r[1]-i[1],o=(t[0]-i[0])*a-n*(t[1]-i[1]),s=(e[0]-i[0])*a-n*(e[1]-i[1]);return o>0&&s<0||o<0&&s>0}function Pe(t,e,i){for(var r=0,n=i;r<n.length;r+=1)for(var a=n[r],o=0;o<a.length-1;++o)if(0!=(h=[(u=a[o+1])[0]-(c=a[o])[0],u[1]-c[1]])[0]*(p=[(l=e)[0]-(s=t)[0],l[1]-s[1]])[1]-h[1]*p[0]&&Ce(s,l,c,u)&&Ce(c,u,s,l))return!0;var s,l,c,u,h,p;return!1}function Ue(t,e){for(var i=0;i<t.length;++i)if(!we(t[i],e))return!1;for(var r=0;r<t.length-1;++r)if(Pe(t[r],t[r+1],e))return!1;return!0}function Se(t,e){for(var i=0;i<e.length;i++)if(Ue(t,e[i]))return!0;return!1}function Te(t,e,i){for(var r=[],n=0;n<t.length;n++){for(var a=[],o=0;o<t[n].length;o++){var s=_e(t[n][o],i);ye(e,s),a.push(s)}r.push(a)}return r}function ke(t,e,i){for(var r=[],n=0;n<t.length;n++){var a=Te(t[n],e,i);r.push(a)}return r}function Ie(t,e,i,r){if(t[0]<i[0]||t[0]>i[2]){var n=.5*r,a=t[0]-i[0]>n?-r:i[0]-t[0]>n?r:0;0===a&&(a=t[0]-i[2]>n?-r:i[2]-t[0]>n?r:0),t[0]+=a}ye(e,t)}function Ae(t,e,i,r){for(var n=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],o=[],s=0,l=t;s<l.length;s+=1)for(var c=0,u=l[s];c<u.length;c+=1){var h=u[c],p=[h.x+a[0],h.y+a[1]];Ie(p,e,i,n),o.push(p)}return o}function Oe(t,e,i,r){for(var n,a=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],s=[],l=0,c=t;l<c.length;l+=1){for(var u=[],h=0,p=c[l];h<p.length;h+=1){var d=p[h],f=[d.x+o[0],d.y+o[1]];ye(e,f),u.push(f)}s.push(u)}if(e[2]-e[0]<=a/2){(n=e)[0]=n[1]=1/0,n[2]=n[3]=-1/0;for(var b=0,m=s;b<m.length;b+=1)for(var g=0,y=m[b];g<y.length;g+=1)Ie(y[g],e,i,a)}return s}ge.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,Rt);if(!r)return null;var n=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,Rt);if(!n)return null;var a=null;return i.locale&&!(a=e.parse(i.locale,1,Et))?null:new ge(r,n,a)},ge.prototype.evaluate=function(t){return new Qt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ge.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var De=function(t,e){this.type=Rt,this.geojson=t,this.geometries=e};function Me(t){if(t instanceof me){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof De)return!1;var e=!0;return t.eachChild((function(t){e&&!Me(t)&&(e=!1)})),e}function Fe(t){if(t instanceof me&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Fe(t)&&(e=!1)})),e}function Ee(t,e){if(t instanceof me&&e.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild((function(t){i&&!Ee(t,e)&&(i=!1)})),i}De.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(re(t[1])){var i=t[1];if("FeatureCollection"===i.type)for(var r=0;r<i.features.length;++r){var n=i.features[r].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new De(i,i.features[r].geometry)}else if("Feature"===i.type){var a=i.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new De(i,i.geometry)}else if("Polygon"===i.type||"MultiPolygon"===i.type)return new De(i,i)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},De.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=t.canonicalID();if("Polygon"===e.type){var a=Te(e.coordinates,r,n),o=Ae(t.geometry(),i,r,n);if(!ve(i,r))return!1;for(var s=0,l=o;s<l.length;s+=1)if(!we(l[s],a))return!1}if("MultiPolygon"===e.type){var c=ke(e.coordinates,r,n),u=Ae(t.geometry(),i,r,n);if(!ve(i,r))return!1;for(var h=0,p=u;h<p.length;h+=1)if(!Ve(p[h],c))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=t.canonicalID();if("Polygon"===e.type){var a=Te(e.coordinates,r,n),o=Oe(t.geometry(),i,r,n);if(!ve(i,r))return!1;for(var s=0,l=o;s<l.length;s+=1)if(!Ue(l[s],a))return!1}if("MultiPolygon"===e.type){var c=ke(e.coordinates,r,n),u=Oe(t.geometry(),i,r,n);if(!ve(i,r))return!1;for(var h=0,p=u;h<p.length;h+=1)if(!Se(p[h],c))return!1}return!0}(t,this.geometries)}return!1},De.prototype.eachChild=function(){},De.prototype.outputDefined=function(){return!0},De.prototype.serialize=function(){return["within",this.geojson]};var Re=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Re.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new Re(i,e.scope.get(i)):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},Re.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!1},Re.prototype.serialize=function(){return["var",this.name]};var Le=function(t,e,i,r,n){void 0===e&&(e=[]),void 0===r&&(r=new Dt),void 0===n&&(n=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=n,this.expectedType=i};function He(t,e){for(var i,r=t.length-1,n=0,a=r,o=0;n<=a;)if((i=t[o=Math.floor((n+a)/2)])<=e){if(o===r||e<t[o+1])return o;n=o+1}else{if(!(i>e))throw new se("Input is not a number.");a=o-1}return 0}Le.prototype.parse=function(t,e,i,r,n){return void 0===n&&(n={}),e?this.concat(e,i,r)._parse(t,n):this._parse(t,n)},Le.prototype._parse=function(t,e){function i(t,e,i){return"assert"===i?new ce(e,[t]):"coerce"===i?new de(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var n=this.registry[r];if(n){var a=n.parse(t,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=i(a,o,e.typeAnnotation||"coerce");else a=i(a,o,e.typeAnnotation||"assert")}if(!(a instanceof oe)&&"resolvedImage"!==a.type.kind&&function t(e){if(e instanceof Re)return t(e.boundExpression);if(e instanceof me&&"error"===e.name)return!1;if(e instanceof ge)return!1;if(e instanceof De)return!1;var i=e instanceof de||e instanceof ce,r=!0;return e.eachChild((function(e){r=i?r&&t(e):r&&e instanceof oe})),!!r&&Me(e)&&Ee(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var l=new be;try{a=new oe(a.type,a.evaluate(l))}catch(t){return this.error(t.message),null}}return a}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},Le.prototype.concat=function(t,e,i){var r="number"==typeof t?this.path.concat(t):this.path,n=i?this.scope.concat(i):this.scope;return new Le(this.registry,r,e||null,n,this.errors)},Le.prototype.error=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Ot(r,t))},Le.prototype.checkSubtype=function(t,e){var i=Yt(t,e);return i&&this.error(i),i};var je=function(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,n=i;r<n.length;r+=1){var a=n[r],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function ze(t,e,i){return t*(1-i)+e*i}je.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var i=e.parse(t[1],1,Ft);if(!i)return null;var r=[],n=null;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var a=1;a<t.length;a+=2){var o=1===a?-1/0:t[a],s=t[a+1],l=a,c=a+1;if("number"!=typeof o)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=o)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var u=e.parse(s,c,n);if(!u)return null;n=n||u.type,r.push([o,u])}return new je(n,i,r)},je.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return i[0].evaluate(t);var n=e.length;return r>=e[n-1]?i[n-1].evaluate(t):i[He(e,r)].evaluate(t)},je.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},je.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},je.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Be=Object.freeze({__proto__:null,number:ze,color:function(t,e,i){return new Zt(ze(t.r,e.r,i),ze(t.g,e.g,i),ze(t.b,e.b,i),ze(t.a,e.a,i))},array:function(t,e,i){return t.map((function(t,r){return ze(t,e[r],i)}))}}),Ne=6/29*3*(6/29),Xe=Math.PI/180,We=180/Math.PI;function Ge(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ne+4/29}function Ye(t){return t>6/29?t*t*t:Ne*(t-4/29)}function qe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ke(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Je(t){var e=Ke(t.r),i=Ke(t.g),r=Ke(t.b),n=Ge((.4124564*e+.3575761*i+.1804375*r)/.95047),a=Ge((.2126729*e+.7151522*i+.072175*r)/1);return{l:116*a-16,a:500*(n-a),b:200*(a-Ge((.0193339*e+.119192*i+.9503041*r)/1.08883)),alpha:t.a}}function Ze(t){var e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*Ye(e),i=.95047*Ye(i),r=1.08883*Ye(r),new Zt(qe(3.2404542*i-1.5371385*e-.4985314*r),qe(-.969266*i+1.8760108*e+.041556*r),qe(.0556434*i-.2040259*e+1.0572252*r),t.alpha)}function Qe(t,e,i){var r=e-t;return t+i*(r>180||r<-180?r-360*Math.round(r/360):r)}var $e={forward:Je,reverse:Ze,interpolate:function(t,e,i){return{l:ze(t.l,e.l,i),a:ze(t.a,e.a,i),b:ze(t.b,e.b,i),alpha:ze(t.alpha,e.alpha,i)}}},ti={forward:function(t){var e=Je(t),i=e.l,r=e.a,n=e.b,a=Math.atan2(n,r)*We;return{h:a<0?a+360:a,c:Math.sqrt(r*r+n*n),l:i,alpha:t.a}},reverse:function(t){var e=t.h*Xe,i=t.c;return Ze({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:Qe(t.h,e.h,i),c:ze(t.c,e.c,i),l:ze(t.l,e.l,i),alpha:ze(t.alpha,e.alpha,i)}}},ei=Object.freeze({__proto__:null,lab:$e,hcl:ti}),ii=function(t,e,i,r,n){this.type=t,this.operator=e,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(var a=0,o=n;a<o.length;a+=1){var s=o[a],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function ri(t,e,i,r){var n=r-i,a=t-i;return 0===n?0:1===e?a/n:(Math.pow(e,a)-1)/(Math.pow(e,n)-1)}ii.interpolationFactor=function(t,e,r,n){var a=0;if("exponential"===t.name)a=ri(e,t.base,r,n);else if("linear"===t.name)a=ri(e,1,r,n);else if("cubic-bezier"===t.name){var o=t.controlPoints;a=new i(o[0],o[1],o[2],o[3]).solve(ri(e,1,r,n))}return a},ii.parse=function(t,e){var i=t[0],r=t[1],n=t[2],a=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var o=r[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:o}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,2,Ft)))return null;var l=[],c=null;"interpolate-hcl"===i||"interpolate-lab"===i?c=Lt:e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var u=0;u<a.length;u+=2){var h=a[u],p=a[u+1],d=u+3,f=u+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(l.length&&l[l.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var b=e.parse(p,f,c);if(!b)return null;c=c||b.type,l.push([h,b])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new ii(c,i,r,n,l):e.error("Type "+Wt(c)+" is not interpolatable.")},ii.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return i[0].evaluate(t);var n=e.length;if(r>=e[n-1])return i[n-1].evaluate(t);var a=He(e,r),o=ii.interpolationFactor(this.interpolation,r,e[a],e[a+1]),s=i[a].evaluate(t),l=i[a+1].evaluate(t);return"interpolate"===this.operator?Be[this.type.kind.toLowerCase()](s,l,o):"interpolate-hcl"===this.operator?ti.reverse(ti.interpolate(ti.forward(s),ti.forward(l),o)):$e.reverse($e.interpolate($e.forward(s),$e.forward(l),o))},ii.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},ii.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},ii.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],i=0;i<this.labels.length;i++)e.push(this.labels[i],this.outputs[i].serialize());return e};var ni=function(t,e){this.type=t,this.args=e};ni.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null,r=e.expectedType;r&&"value"!==r.kind&&(i=r);for(var n=[],a=0,o=t.slice(1);a<o.length;a+=1){var s=e.parse(o[a],1+n.length,i,void 0,{typeAnnotation:"omit"});if(!s)return null;i=i||s.type,n.push(s)}var l=r&&n.some((function(t){return Yt(r,t.type)}));return new ni(l?jt:i,n)},ni.prototype.evaluate=function(t){for(var e,i=null,r=0,n=0,a=this.args;n<a.length&&(r++,(i=a[n].evaluate(t))&&i instanceof ee&&!i.available&&(e||(e=i.name),i=null,r===this.args.length&&(i=e)),null===i);n+=1);return i},ni.prototype.eachChild=function(t){this.args.forEach(t)},ni.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ni.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var ai=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};ai.prototype.evaluate=function(t){return this.result.evaluate(t)},ai.prototype.eachChild=function(t){for(var e=0,i=this.bindings;e<i.length;e+=1)t(i[e][1]);t(this.result)},ai.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],r=1;r<t.length-1;r+=2){var n=t[r];if("string"!=typeof n)return e.error("Expected string, but found "+typeof n+" instead.",r);if(/[^a-zA-Z0-9_]/.test(n))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=e.parse(t[r+1],r+1);if(!a)return null;i.push([n,a])}var o=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return o?new ai(i,o):null},ai.prototype.outputDefined=function(){return this.result.outputDefined()},ai.prototype.serialize=function(){for(var t=["let"],e=0,i=this.bindings;e<i.length;e+=1){var r=i[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var oi=function(t,e,i){this.type=t,this.index=e,this.input=i};oi.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,Ft),r=e.parse(t[2],2,Xt(e.expectedType||jt));return i&&r?new oi(r.type.itemType,i,r):null},oi.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new se("Array index out of bounds: "+e+" < 0.");if(e>=i.length)throw new se("Array index out of bounds: "+e+" > "+(i.length-1)+".");if(e!==Math.floor(e))throw new se("Array index must be an integer, but found "+e+" instead.");return i[e]},oi.prototype.eachChild=function(t){t(this.index),t(this.input)},oi.prototype.outputDefined=function(){return!1},oi.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var si=function(t,e){this.type=Rt,this.needle=t,this.haystack=e};si.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,jt),r=e.parse(t[2],2,jt);return i&&r?qt(i.type,[Rt,Et,Ft,Mt,jt])?new si(i,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(i.type)+" instead"):null},si.prototype.evaluate=function(t){var e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!i)return!1;if(!Kt(e,["boolean","string","number","null"]))throw new se("Expected first argument to be of type boolean, string, number or null, but found "+Wt(ne(e))+" instead.");if(!Kt(i,["string","array"]))throw new se("Expected second argument to be of type array or string, but found "+Wt(ne(i))+" instead.");return i.indexOf(e)>=0},si.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},si.prototype.outputDefined=function(){return!0},si.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var li=function(t,e,i){this.type=Ft,this.needle=t,this.haystack=e,this.fromIndex=i};li.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,jt),r=e.parse(t[2],2,jt);if(!i||!r)return null;if(!qt(i.type,[Rt,Et,Ft,Mt,jt]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(i.type)+" instead");if(4===t.length){var n=e.parse(t[3],3,Ft);return n?new li(i,r,n):null}return new li(i,r)},li.prototype.evaluate=function(t){var e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!Kt(e,["boolean","string","number","null"]))throw new se("Expected first argument to be of type boolean, string, number or null, but found "+Wt(ne(e))+" instead.");if(!Kt(i,["string","array"]))throw new se("Expected second argument to be of type array or string, but found "+Wt(ne(i))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return i.indexOf(e,r)}return i.indexOf(e)},li.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},li.prototype.outputDefined=function(){return!1},li.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ci=function(t,e,i,r,n,a){this.inputType=t,this.type=e,this.input=i,this.cases=r,this.outputs=n,this.otherwise=a};ci.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var i,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n={},a=[],o=2;o<t.length-1;o+=2){var s=t[o],l=t[o+1];Array.isArray(s)||(s=[s]);var c=e.concat(o);if(0===s.length)return c.error("Expected at least one branch label.");for(var u=0,h=s;u<h.length;u+=1){var p=h[u];if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(i){if(c.checkSubtype(i,ne(p)))return null}else i=ne(p);if(void 0!==n[String(p)])return c.error("Branch labels must be unique.");n[String(p)]=a.length}var d=e.parse(l,o,r);if(!d)return null;r=r||d.type,a.push(d)}var f=e.parse(t[1],1,jt);if(!f)return null;var b=e.parse(t[t.length-1],t.length-1,r);return b?"value"!==f.type.kind&&e.concat(1).checkSubtype(i,f.type)?null:new ci(i,r,f,n,a,b):null},ci.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ne(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},ci.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},ci.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},ci.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],i=[],r={},n=0,a=Object.keys(this.cases).sort();n<a.length;n+=1){var o=a[n];void 0===(h=r[this.cases[o]])?(r[this.cases[o]]=i.length,i.push([this.cases[o],[o]])):i[h][1].push(o)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,c=i;l<c.length;l+=1){var u=c[l],h=u[0],p=u[1];e.push(1===p.length?s(p[0]):p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var ui=function(t,e,i){this.type=t,this.branches=e,this.otherwise=i};ui.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var r=[],n=1;n<t.length-1;n+=2){var a=e.parse(t[n],n,Rt);if(!a)return null;var o=e.parse(t[n+1],n+1,i);if(!o)return null;r.push([a,o]),i=i||o.type}var s=e.parse(t[t.length-1],t.length-1,i);return s?new ui(i,r,s):null},ui.prototype.evaluate=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var r=i[e],n=r[1];if(r[0].evaluate(t))return n.evaluate(t)}return this.otherwise.evaluate(t)},ui.prototype.eachChild=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var r=i[e],n=r[1];t(r[0]),t(n)}t(this.otherwise)},ui.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},ui.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var hi=function(t,e,i,r){this.type=t,this.input=e,this.beginIndex=i,this.endIndex=r};function pi(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function di(t,e,i,r){return 0===r.compare(e,i)}function fi(t,e,i){var r="=="!==t&&"!="!==t;return function(){function n(t,e,i){this.type=Rt,this.lhs=t,this.rhs=e,this.collator=i,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return n.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var i=t[0],a=e.parse(t[1],1,jt);if(!a)return null;if(!pi(i,a.type))return e.concat(1).error('"'+i+"\" comparisons are not supported for type '"+Wt(a.type)+"'.");var o=e.parse(t[2],2,jt);if(!o)return null;if(!pi(i,o.type))return e.concat(2).error('"'+i+"\" comparisons are not supported for type '"+Wt(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot compare types '"+Wt(a.type)+"' and '"+Wt(o.type)+"'.");r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new ce(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new ce(a.type,[o])));var s=null;if(4===t.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,zt)))return null}return new n(a,o,s)},n.prototype.evaluate=function(n){var a=this.lhs.evaluate(n),o=this.rhs.evaluate(n);if(r&&this.hasUntypedArgument){var s=ne(a),l=ne(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new se('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var c=ne(a),u=ne(o);if("string"!==c.kind||"string"!==u.kind)return e(n,a,o)}return this.collator?i(n,a,o,this.collator.evaluate(n)):e(n,a,o)},n.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},n.prototype.outputDefined=function(){return!0},n.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},n}()}hi.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,jt),r=e.parse(t[2],2,Ft);if(!i||!r)return null;if(!qt(i.type,[Xt(jt),Et,jt]))return e.error("Expected first argument to be of type array or string, but found "+Wt(i.type)+" instead");if(4===t.length){var n=e.parse(t[3],3,Ft);return n?new hi(i.type,i,r,n):null}return new hi(i.type,i,r)},hi.prototype.evaluate=function(t){var e=this.input.evaluate(t),i=this.beginIndex.evaluate(t);if(!Kt(e,["string","array"]))throw new se("Expected first argument to be of type array or string, but found "+Wt(ne(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(i,r)}return e.slice(i)},hi.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},hi.prototype.outputDefined=function(){return!1},hi.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var bi=fi("==",(function(t,e,i){return e===i}),di),mi=fi("!=",(function(t,e,i){return e!==i}),(function(t,e,i,r){return!di(0,e,i,r)})),gi=fi("<",(function(t,e,i){return e<i}),(function(t,e,i,r){return r.compare(e,i)<0})),yi=fi(">",(function(t,e,i){return e>i}),(function(t,e,i,r){return r.compare(e,i)>0})),vi=fi("<=",(function(t,e,i){return e<=i}),(function(t,e,i,r){return r.compare(e,i)<=0})),_i=fi(">=",(function(t,e,i){return e>=i}),(function(t,e,i,r){return r.compare(e,i)>=0})),xi=function(t,e,i,r,n){this.type=Et,this.number=t,this.locale=e,this.currency=i,this.minFractionDigits=r,this.maxFractionDigits=n};xi.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var i=e.parse(t[1],1,Ft);if(!i)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var n=null;if(r.locale&&!(n=e.parse(r.locale,1,Et)))return null;var a=null;if(r.currency&&!(a=e.parse(r.currency,1,Et)))return null;var o=null;if(r["min-fraction-digits"]&&!(o=e.parse(r["min-fraction-digits"],1,Ft)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Ft))?null:new xi(i,n,a,o,s)},xi.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},xi.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},xi.prototype.outputDefined=function(){return!1},xi.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var wi=function(t){this.type=Ft,this.input=t};wi.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error("Expected argument of type string or array, but found "+Wt(i.type)+" instead."):new wi(i):null},wi.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new se("Expected value to be of type string or array, but found "+Wt(ne(e))+" instead.")},wi.prototype.eachChild=function(t){t(this.input)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Vi={"==":bi,"!=":mi,">":yi,"<":gi,">=":_i,"<=":vi,array:ce,at:oi,boolean:ce,case:ui,coalesce:ni,collator:ge,format:ue,image:he,in:si,"index-of":li,interpolate:ii,"interpolate-hcl":ii,"interpolate-lab":ii,length:wi,let:ai,literal:oe,match:ci,number:ce,"number-format":xi,object:ce,slice:hi,step:je,string:ce,"to-boolean":de,"to-color":de,"to-number":de,"to-string":de,var:Re,within:De};function Ci(t,e){var i=e[0],r=e[1],n=e[2],a=e[3];i=i.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);var o=a?a.evaluate(t):1,s=ie(i,r,n,o);if(s)throw new se(s);return new Zt(i/255*o,r/255*o,n/255*o,o)}function Pi(t,e){return t in e}function Ui(t,e){var i=e[t];return void 0===i?null:i}function Si(t){return{type:t}}function Ti(t){return{result:"success",value:t}}function ki(t){return{result:"error",value:t}}function Ii(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ai(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Oi(t){return!!t.expression&&t.expression.interpolated}function Di(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Mi(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Fi(t){return t}function Ei(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function Ri(t,e,i,r,n){return Ei(typeof i===n?r[i]:void 0,t.default,e.default)}function Li(t,e,i){if("number"!==Di(i))return Ei(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[r-1][0])return t.stops[r-1][1];var n=He(t.stops.map((function(t){return t[0]})),i);return t.stops[n][1]}function Hi(t,e,i){var r=void 0!==t.base?t.base:1;if("number"!==Di(i))return Ei(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var a=He(t.stops.map((function(t){return t[0]})),i),o=function(t,e,i,r){var n=r-i,a=t-i;return 0===n?0:1===e?a/n:(Math.pow(e,a)-1)/(Math.pow(e,n)-1)}(i,r,t.stops[a][0],t.stops[a+1][0]),s=t.stops[a][1],l=t.stops[a+1][1],c=Be[e.type]||Fi;if(t.colorSpace&&"rgb"!==t.colorSpace){var u=ei[t.colorSpace];c=function(t,e){return u.reverse(u.interpolate(u.forward(t),u.forward(e),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==i&&void 0!==r)return c(i,r,o)}}:c(s,l,o)}function ji(t,e,i){return"color"===e.type?i=Zt.parse(i):"formatted"===e.type?i=te.fromString(i.toString()):"resolvedImage"===e.type?i=ee.fromString(i.toString()):Di(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Ei(i,t.default,e.default)}me.register(Vi,{error:[{kind:"error"},[Et],function(t,e){throw new se(e[0].evaluate(t))}],typeof:[Et,[jt],function(t,e){return Wt(ne(e[0].evaluate(t)))}],"to-rgba":[Xt(Ft,4),[Lt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Lt,[Ft,Ft,Ft],Ci],rgba:[Lt,[Ft,Ft,Ft,Ft],Ci],has:{type:Rt,overloads:[[[Et],function(t,e){return Pi(e[0].evaluate(t),t.properties())}],[[Et,Ht],function(t,e){var i=e[1];return Pi(e[0].evaluate(t),i.evaluate(t))}]]},get:{type:jt,overloads:[[[Et],function(t,e){return Ui(e[0].evaluate(t),t.properties())}],[[Et,Ht],function(t,e){var i=e[1];return Ui(e[0].evaluate(t),i.evaluate(t))}]]},"feature-state":[jt,[Et],function(t,e){return Ui(e[0].evaluate(t),t.featureState||{})}],properties:[Ht,[],function(t){return t.properties()}],"geometry-type":[Et,[],function(t){return t.geometryType()}],id:[jt,[],function(t){return t.id()}],zoom:[Ft,[],function(t){return t.globals.zoom}],"heatmap-density":[Ft,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Ft,[],function(t){return t.globals.lineProgress||0}],accumulated:[jt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Ft,Si(Ft),function(t,e){for(var i=0,r=0,n=e;r<n.length;r+=1)i+=n[r].evaluate(t);return i}],"*":[Ft,Si(Ft),function(t,e){for(var i=1,r=0,n=e;r<n.length;r+=1)i*=n[r].evaluate(t);return i}],"-":{type:Ft,overloads:[[[Ft,Ft],function(t,e){var i=e[1];return e[0].evaluate(t)-i.evaluate(t)}],[[Ft],function(t,e){return-e[0].evaluate(t)}]]},"/":[Ft,[Ft,Ft],function(t,e){var i=e[1];return e[0].evaluate(t)/i.evaluate(t)}],"%":[Ft,[Ft,Ft],function(t,e){var i=e[1];return e[0].evaluate(t)%i.evaluate(t)}],ln2:[Ft,[],function(){return Math.LN2}],pi:[Ft,[],function(){return Math.PI}],e:[Ft,[],function(){return Math.E}],"^":[Ft,[Ft,Ft],function(t,e){var i=e[1];return Math.pow(e[0].evaluate(t),i.evaluate(t))}],sqrt:[Ft,[Ft],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Ft,[Ft],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Ft,[Ft],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Ft,[Ft],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Ft,[Ft],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Ft,[Ft],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Ft,[Ft],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Ft,Si(Ft),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Ft,Si(Ft),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Ft,[Ft],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Ft,[Ft],function(t,e){var i=e[0].evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[Ft,[Ft],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Ft,[Ft],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Rt,[Et,jt],function(t,e){var i=e[0],r=e[1];return t.properties()[i.value]===r.value}],"filter-id-==":[Rt,[jt],function(t,e){var i=e[0];return t.id()===i.value}],"filter-type-==":[Rt,[Et],function(t,e){var i=e[0];return t.geometryType()===i.value}],"filter-<":[Rt,[Et,jt],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],a=r.value;return typeof n==typeof a&&n<a}],"filter-id-<":[Rt,[jt],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r<n}],"filter->":[Rt,[Et,jt],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],a=r.value;return typeof n==typeof a&&n>a}],"filter-id->":[Rt,[jt],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r>n}],"filter-<=":[Rt,[Et,jt],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],a=r.value;return typeof n==typeof a&&n<=a}],"filter-id-<=":[Rt,[jt],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r<=n}],"filter->=":[Rt,[Et,jt],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],a=r.value;return typeof n==typeof a&&n>=a}],"filter-id->=":[Rt,[jt],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r>=n}],"filter-has":[Rt,[jt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Rt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Rt,[Xt(Et)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Rt,[Xt(jt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Rt,[Et,Xt(jt)],function(t,e){var i=e[0];return e[1].value.indexOf(t.properties()[i.value])>=0}],"filter-in-large":[Rt,[Et,Xt(jt)],function(t,e){var i=e[0],r=e[1];return function(t,e,i,r){for(;i<=r;){var n=i+r>>1;if(e[n]===t)return!0;e[n]>t?r=n-1:i=n+1}return!1}(t.properties()[i.value],r.value,0,r.value.length-1)}],all:{type:Rt,overloads:[[[Rt,Rt],function(t,e){var i=e[1];return e[0].evaluate(t)&&i.evaluate(t)}],[Si(Rt),function(t,e){for(var i=0,r=e;i<r.length;i+=1)if(!r[i].evaluate(t))return!1;return!0}]]},any:{type:Rt,overloads:[[[Rt,Rt],function(t,e){var i=e[1];return e[0].evaluate(t)||i.evaluate(t)}],[Si(Rt),function(t,e){for(var i=0,r=e;i<r.length;i+=1)if(r[i].evaluate(t))return!0;return!1}]]},"!":[Rt,[Rt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Rt,[Et],function(t,e){var i=t.globals&&t.globals.isSupportedScript;return!i||i(e[0].evaluate(t))}],upcase:[Et,[Et],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Et,[Et],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Et,Si(jt),function(t,e){return e.map((function(e){return ae(e.evaluate(t))})).join("")}],"resolved-locale":[Et,[zt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var zi=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new be,this._defaultValue=e?function(t){return"color"===t.type&&Mi(t.default)?new Zt(0,0,0,0):"color"===t.type?Zt.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Bi(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Vi}function Ni(t,e){var i=new Le(Vi,[],e?function(t){var e={color:Lt,string:Et,number:Ft,enum:Et,boolean:Rt,formatted:Bt,resolvedImage:Nt};return"array"===t.type?Xt(e[t.value]||jt,t.length):e[t.type]}(e):void 0),r=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Ti(new zi(r,e)):ki(i.errors)}zi.prototype.evaluateWithoutErrorHandling=function(t,e,i,r,n,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this._evaluator.canonical=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},zi.prototype.evaluate=function(t,e,i,r,n,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new se("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Xi=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Fe(e.expression)};Xi.prototype.evaluateWithoutErrorHandling=function(t,e,i,r,n,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,r,n,a)},Xi.prototype.evaluate=function(t,e,i,r,n,a){return this._styleExpression.evaluate(t,e,i,r,n,a)};var Wi=function(t,e,i,r){this.kind=t,this.zoomStops=i,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Fe(e.expression),this.interpolationType=r};function Gi(t,e){if("error"===(t=Ni(t,e)).result)return t;var i=t.value.expression,r=Me(i);if(!r&&!Ii(e))return ki([new Ot("","data expressions not supported")]);var n=Ee(i,["zoom"]);if(!n&&!Ai(e))return ki([new Ot("","zoom expressions not supported")]);var a=function t(e){var i=null;if(e instanceof ai)i=t(e.result);else if(e instanceof ni)for(var r=0,n=e.args;r<n.length&&!(i=t(n[r]));r+=1);else(e instanceof je||e instanceof ii)&&e.input instanceof me&&"zoom"===e.input.name&&(i=e);return i instanceof Ot||e.eachChild((function(e){var r=t(e);r instanceof Ot?i=r:!i&&r?i=new Ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&r&&i!==r&&(i=new Ot("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),i}(i);return a||n?a instanceof Ot?ki([a]):a instanceof ii&&!Oi(e)?ki([new Ot("",'"interpolate" expressions cannot be used with this property')]):Ti(a?new Wi(r?"camera":"composite",t.value,a.labels,a instanceof ii?a.interpolation:void 0):new Xi(r?"constant":"source",t.value)):ki([new Ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Wi.prototype.evaluateWithoutErrorHandling=function(t,e,i,r,n,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,r,n,a)},Wi.prototype.evaluate=function(t,e,i,r,n,a){return this._styleExpression.evaluate(t,e,i,r,n,a)},Wi.prototype.interpolationFactor=function(t,e,i){return this.interpolationType?ii.interpolationFactor(this.interpolationType,t,e,i):0};var Yi=function(t,e){this._parameters=t,this._specification=e,kt(this,function t(e,i){var r,n,a,o="color"===i.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),c=e.type||(Oi(i)?"exponential":"interval");if(o&&((e=kt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],Zt.parse(t[1])]}))),e.default=Zt.parse(e.default?e.default:i.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!ei[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)r=Hi;else if("interval"===c)r=Li;else if("categorical"===c){r=Ri,n=Object.create(null);for(var u=0,h=e.stops;u<h.length;u+=1){var p=h[u];n[p[0]]=p[1]}a=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');r=ji}if(s){for(var d={},f=[],b=0;b<e.stops.length;b++){var m=e.stops[b],g=m[0].zoom;void 0===d[g]&&(d[g]={zoom:g,type:e.type,property:e.property,default:e.default,stops:[]},f.push(g)),d[g].stops.push([m[0].value,m[1]])}for(var y=[],v=0,_=f;v<_.length;v+=1){var x=_[v];y.push([d[x].zoom,t(d[x],i)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:ii.interpolationFactor.bind(void 0,w),zoomStops:y.map((function(t){return t[0]})),evaluate:function(t,r){var n=t.zoom;return Hi({stops:y,base:e.base},i,n).evaluate(n,r)}}}if(l){var V="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:ii.interpolationFactor.bind(void 0,V),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,i,t.zoom,n,a)}}}return{kind:"source",evaluate:function(t,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?Ei(e.default,i.default):r(e,i,s,n,a)}}}(this._parameters,this._specification))};function qi(t){var e=t.key,i=t.value,r=t.valueSpec||{},n=t.objectElementValidators||{},a=t.style,o=t.styleSpec,s=[],l=Di(i);if("object"!==l)return[new St(e,i,"object expected, "+l+" found")];for(var c in i){var u=c.split(".")[0],h=r[u]||r["*"],p=void 0;if(n[u])p=n[u];else if(r[u])p=vr;else if(n["*"])p=n["*"];else{if(!r["*"]){s.push(new St(e,i[c],'unknown property "'+c+'"'));continue}p=vr}s=s.concat(p({key:(e?e+".":e)+c,value:i[c],valueSpec:h,style:a,styleSpec:o,object:i,objectKey:c},i))}for(var d in r)n[d]||r[d].required&&void 0===r[d].default&&void 0===i[d]&&s.push(new St(e,i,'missing required property "'+d+'"'));return s}function Ki(t){var e=t.value,i=t.valueSpec,r=t.style,n=t.styleSpec,a=t.key,o=t.arrayElementValidator||vr;if("array"!==Di(e))return[new St(a,e,"array expected, "+Di(e)+" found")];if(i.length&&e.length!==i.length)return[new St(a,e,"array length "+i.length+" expected, length "+e.length+" found")];if(i["min-length"]&&e.length<i["min-length"])return[new St(a,e,"array length at least "+i["min-length"]+" expected, length "+e.length+" found")];var s={type:i.value,values:i.values};n.$version<7&&(s.function=i.function),"object"===Di(i.value)&&(s=i.value);for(var l=[],c=0;c<e.length;c++)l=l.concat(o({array:e,arrayIndex:c,value:e[c],valueSpec:s,style:r,styleSpec:n,key:a+"["+c+"]"}));return l}function Ji(t){var e=t.key,i=t.value,r=t.valueSpec,n=Di(i);return"number"===n&&i!=i&&(n="NaN"),"number"!==n?[new St(e,i,"number expected, "+n+" found")]:"minimum"in r&&i<r.minimum?[new St(e,i,i+" is less than the minimum value "+r.minimum)]:"maximum"in r&&i>r.maximum?[new St(e,i,i+" is greater than the maximum value "+r.maximum)]:[]}function Zi(t){var e,i,r,n=t.valueSpec,a=It(t.value.type),o={},s="categorical"!==a&&void 0===t.value.property,l=!s,c="array"===Di(t.value.stops)&&"array"===Di(t.value.stops[0])&&"object"===Di(t.value.stops[0][0]),u=qi({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===a)return[new St(t.key,t.value,'identity function may not have a "stops" property')];var e=[],i=t.value;return e=e.concat(Ki({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Di(i)&&0===i.length&&e.push(new St(t.key,i,"array must have at least one stop")),e},default:function(t){return vr({key:t.key,value:t.value,valueSpec:n,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===a&&s&&u.push(new St(t.key,t.value,'missing required property "property"')),"identity"===a||t.value.stops||u.push(new St(t.key,t.value,'missing required property "stops"')),"exponential"===a&&t.valueSpec.expression&&!Oi(t.valueSpec)&&u.push(new St(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!Ii(t.valueSpec)?u.push(new St(t.key,t.value,"property functions not supported")):s&&!Ai(t.valueSpec)&&u.push(new St(t.key,t.value,"zoom functions not supported"))),"categorical"!==a&&!c||void 0!==t.value.property||u.push(new St(t.key,t.value,'"property" property is required')),u;function h(t){var e=[],a=t.value,s=t.key;if("array"!==Di(a))return[new St(s,a,"array expected, "+Di(a)+" found")];if(2!==a.length)return[new St(s,a,"array length 2 expected, length "+a.length+" found")];if(c){if("object"!==Di(a[0]))return[new St(s,a,"object expected, "+Di(a[0])+" found")];if(void 0===a[0].zoom)return[new St(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new St(s,a,"object stop key must have value")];if(r&&r>It(a[0].zoom))return[new St(s,a[0].zoom,"stop zoom values must appear in ascending order")];It(a[0].zoom)!==r&&(r=It(a[0].zoom),i=void 0,o={}),e=e.concat(qi({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Ji,value:p}}))}else e=e.concat(p({key:s+"[0]",value:a[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},a));return Bi(At(a[1]))?e.concat([new St(s+"[1]",a[1],"expressions are not allowed in function stops.")]):e.concat(vr({key:s+"[1]",value:a[1],valueSpec:n,style:t.style,styleSpec:t.styleSpec}))}function p(t,r){var s=Di(t.value),l=It(t.value),c=null!==t.value?t.value:r;if(e){if(s!==e)return[new St(t.key,c,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new St(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var u="number expected, "+s+" found";return Ii(n)&&void 0===a&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new St(t.key,c,u)]}return"categorical"!==a||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==a&&"number"===s&&void 0!==i&&l<i?[new St(t.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===a&&l in o?[new St(t.key,c,"stop domain values must be unique")]:(o[l]=!0,[])):[new St(t.key,c,"integer expected, found "+l)]}}function Qi(t){var e=("property"===t.expressionContext?Gi:Ni)(At(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new St(""+t.key+e.key,t.value,e.message)}));var i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new St(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Fe(i))return[new St(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Fe(i))return[new St(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Ee(i,["zoom","feature-state"]))return[new St(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Me(i))return[new St(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function $i(t){var e=t.key,i=t.value,r=t.valueSpec,n=[];return Array.isArray(r.values)?-1===r.values.indexOf(It(i))&&n.push(new St(e,i,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(i)+" found")):-1===Object.keys(r.values).indexOf(It(i))&&n.push(new St(e,i,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(i)+" found")),n}function tr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var r=i[e];if(!tr(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Yi.deserialize=function(t){return new Yi(t._parameters,t._specification)},Yi.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var er={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ir(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};tr(t)||(t=nr(t));var e=Ni(t,er);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,i,r){return e.value.evaluate(t,i,{},r)},needGeometry:Array.isArray(t)&&0!==t.length&&"within"===t[0]}}function rr(t,e){return t<e?-1:t>e?1:0}function nr(t){if(!t)return!0;var e,i=t[0];return t.length<=1?"any"!==i:"=="===i?ar(t[1],t[2],"=="):"!="===i?lr(ar(t[1],t[2],"==")):"<"===i||">"===i||"<="===i||">="===i?ar(t[1],t[2],i):"any"===i?(e=t.slice(1),["any"].concat(e.map(nr))):"all"===i?["all"].concat(t.slice(1).map(nr)):"none"===i?["all"].concat(t.slice(1).map(nr).map(lr)):"in"===i?or(t[1],t.slice(2)):"!in"===i?lr(or(t[1],t.slice(2))):"has"===i?sr(t[1]):"!has"!==i||lr(sr(t[1]))}function ar(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function or(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(rr)]]:["filter-in-small",t,["literal",e]]}}function sr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function lr(t){return["!",t]}function cr(t){return tr(At(t.value))?Qi(kt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var i=e.value,r=e.key;if("array"!==Di(i))return[new St(r,i,"array expected, "+Di(i)+" found")];var n,a=e.styleSpec,o=[];if(i.length<1)return[new St(r,i,"filter array must have at least 1 element")];switch(o=o.concat($i({key:r+"[0]",value:i[0],valueSpec:a.filter_operator,style:e.style,styleSpec:e.styleSpec})),It(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===It(i[1])&&o.push(new St(r,i,'"$type" cannot be use with operator "'+i[0]+'"'));case"==":case"!=":3!==i.length&&o.push(new St(r,i,'filter array for operator "'+i[0]+'" must have 3 elements'));case"in":case"!in":i.length>=2&&"string"!==(n=Di(i[1]))&&o.push(new St(r+"[1]",i[1],"string expected, "+n+" found"));for(var s=2;s<i.length;s++)n=Di(i[s]),"$type"===It(i[1])?o=o.concat($i({key:r+"["+s+"]",value:i[s],valueSpec:a.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&o.push(new St(r+"["+s+"]",i[s],"string, number, or boolean expected, "+n+" found"));break;case"any":case"all":case"none":for(var l=1;l<i.length;l++)o=o.concat(t({key:r+"["+l+"]",value:i[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=Di(i[1]),2!==i.length?o.push(new St(r,i,'filter array for "'+i[0]+'" operator must have 2 elements')):"string"!==n&&o.push(new St(r+"[1]",i[1],"string expected, "+n+" found"))}return o}(t)}function ur(t,e){var i=t.key,r=t.style,n=t.styleSpec,a=t.value,o=t.objectKey,s=n[e+"_"+t.layerType];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return vr({key:i,value:a,valueSpec:n.transition,style:r,styleSpec:n});var c,u=t.valueSpec||s[o];if(!u)return[new St(i,a,'unknown property "'+o+'"')];if("string"===Di(a)&&Ii(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(a)))return[new St(i,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===o&&r&&!r.glyphs&&h.push(new St(i,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Mi(At(a))&&"identity"===It(a.type)&&h.push(new St(i,a,'"text-font" does not support identity functions'))),h.concat(vr({key:t.key,value:a,valueSpec:u,style:r,styleSpec:n,expressionContext:"property",propertyType:e,propertyKey:o}))}function hr(t){return ur(t,"paint")}function pr(t){return ur(t,"layout")}function dr(t){var e=[],i=t.value,r=t.key,n=t.style,a=t.styleSpec;i.type||i.ref||e.push(new St(r,i,'either "type" or "ref" is required'));var o,s=It(i.type),l=It(i.ref);if(i.id)for(var c=It(i.id),u=0;u<t.arrayIndex;u++){var h=n.layers[u];It(h.id)===c&&e.push(new St(r,i.id,'duplicate layer id "'+i.id+'", previously used at line '+h.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach((function(t){t in i&&e.push(new St(r,i[t],'"'+t+'" is prohibited for ref layers'))})),n.layers.forEach((function(t){It(t.id)===l&&(o=t)})),o?o.ref?e.push(new St(r,i.ref,"ref cannot reference another ref layer")):s=It(o.type):e.push(new St(r,i.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(i.source){var p=n.sources&&n.sources[i.source],d=p&&It(p.type);p?"vector"===d&&"raster"===s?e.push(new St(r,i.source,'layer "'+i.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new St(r,i.source,'layer "'+i.id+'" requires a vector source')):"vector"!==d||i["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new St(r,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!i.paint||!i.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||e.push(new St(r,i,'layer "'+i.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new St(r,i,'layer "'+i.id+'" must specify a "source-layer"')):e.push(new St(r,i.source,'source "'+i.source+'" not found'))}else e.push(new St(r,i,'missing required property "source"'));return e=e.concat(qi({key:r,value:i,valueSpec:a.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return vr({key:r+".type",value:i.type,valueSpec:a.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"})},filter:cr,layout:function(t){return qi({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return pr(kt({layerType:s},t))}}})},paint:function(t){return qi({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return hr(kt({layerType:s},t))}}})}}}))}function fr(t){var e=t.value,i=t.key,r=Di(e);return"string"!==r?[new St(i,e,"string expected, "+r+" found")]:[]}var br={promoteId:function(t){var e=t.key,i=t.value;if("string"===Di(i))return fr({key:e,value:i});var r=[];for(var n in i)r.push.apply(r,fr({key:e+"."+n,value:i[n]}));return r}};function mr(t){var e=t.value,i=t.key,r=t.styleSpec,n=t.style;if(!e.type)return[new St(i,e,'"type" is required')];var a,o=It(e.type);switch(o){case"vector":case"raster":case"raster-dem":return qi({key:i,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:br});case"geojson":if(a=qi({key:i,value:e,valueSpec:r.source_geojson,style:n,styleSpec:r,objectElementValidators:br}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],c=l[0],u="string"==typeof c?[c,["accumulated"],["get",s]]:c;a.push.apply(a,Qi({key:i+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),a.push.apply(a,Qi({key:i+"."+s+".reduce",value:u,expressionContext:"cluster-reduce"}))}return a;case"video":return qi({key:i,value:e,valueSpec:r.source_video,style:n,styleSpec:r});case"image":return qi({key:i,value:e,valueSpec:r.source_image,style:n,styleSpec:r});case"canvas":return[new St(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return $i({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:n,styleSpec:r})}}function gr(t){var e=t.value,i=t.styleSpec,r=i.light,n=t.style,a=[],o=Di(e);if(void 0===e)return a;if("object"!==o)return a.concat([new St("light",e,"object expected, "+o+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&r[l[1]]&&r[l[1]].transition?vr({key:s,value:e[s],valueSpec:i.transition,style:n,styleSpec:i}):r[s]?vr({key:s,value:e[s],valueSpec:r[s],style:n,styleSpec:i}):[new St(s,e[s],'unknown property "'+s+'"')])}return a}var yr={"*":function(){return[]},array:Ki,boolean:function(t){var e=t.value,i=t.key,r=Di(e);return"boolean"!==r?[new St(i,e,"boolean expected, "+r+" found")]:[]},number:Ji,color:function(t){var e=t.key,i=t.value,r=Di(i);return"string"!==r?[new St(e,i,"color expected, "+r+" found")]:null===Jt(i)?[new St(e,i,'color expected, "'+i+'" found')]:[]},constants:Tt,enum:$i,filter:cr,function:Zi,layer:dr,object:qi,source:mr,light:gr,string:fr,formatted:function(t){return 0===fr(t).length?[]:Qi(t)},resolvedImage:function(t){return 0===fr(t).length?[]:Qi(t)}};function vr(t){var e=t.value,i=t.valueSpec,r=t.styleSpec;return i.expression&&Mi(It(e))?Zi(t):i.expression&&Bi(At(e))?Qi(t):i.type&&yr[i.type]?yr[i.type](t):qi(kt({},t,{valueSpec:i.type?r[i.type]:i}))}function _r(t){var e=t.value,i=t.key,r=fr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new St(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new St(i,e,'"glyphs" url must include a "{range}" token'))),r}function xr(t,e){void 0===e&&(e=Ut);var i=[];return i=i.concat(vr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:_r,"*":function(){return[]}}})),t.constants&&(i=i.concat(Tt({key:"constants",value:t.constants,style:t,styleSpec:e}))),wr(i)}function wr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Vr(t){return function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return wr(t.apply(this,e))}}xr.source=Vr(mr),xr.light=Vr(gr),xr.layer=Vr(dr),xr.filter=Vr(cr),xr.paintProperty=Vr(hr),xr.layoutProperty=Vr(pr);var Cr=xr,Pr=Cr.light,Ur=Cr.paintProperty,Sr=Cr.layoutProperty;function Tr(t,e){var i=!1;if(e&&e.length)for(var r=0,n=e;r<n.length;r+=1)t.fire(new Ct(new Error(n[r].message))),i=!0;return i}var kr=Ir;function Ir(t,e,i){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var n=new Int32Array(this.arrayBuffer);t=n[0],this.d=(e=n[1])+2*(i=n[2]);for(var a=0;a<this.d*this.d;a++){var o=n[3+a],s=n[3+a+1];r.push(o===s?null:n.subarray(o,s))}var l=n[3+r.length+1];this.keys=n.subarray(n[3+r.length],l),this.bboxes=n.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var u=i/e*t;this.min=-u,this.max=t+u}Ir.prototype.insert=function(t,e,i,r,n){this._forEachCell(e,i,r,n,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n)},Ir.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ir.prototype._insertCell=function(t,e,i,r,n,a){this.cells[n].push(a)},Ir.prototype.query=function(t,e,i,r,n){var a=this.min,o=this.max;if(t<=a&&e<=a&&o<=i&&o<=r&&!n)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,i,r,this._queryCell,s,{},n),s},Ir.prototype._queryCell=function(t,e,i,r,n,a,o,s){var l=this.cells[n];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===o[p]){var d=4*p;(s?s(u[d+0],u[d+1],u[d+2],u[d+3]):t<=u[d+2]&&e<=u[d+3]&&i>=u[d+0]&&r>=u[d+1])?(o[p]=!0,a.push(c[p])):o[p]=!1}}},Ir.prototype._forEachCell=function(t,e,i,r,n,a,o,s){for(var l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),u=this._convertToCellCoord(i),h=this._convertToCellCoord(r),p=l;p<=u;p++)for(var d=c;d<=h;d++){var f=this.d*d+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(d),this._convertFromCellCoord(p+1),this._convertFromCellCoord(d+1)))&&n.call(this,t,e,i,r,f,a,o,s))return}},Ir.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Ir.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Ir.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,i=0,r=0;r<this.cells.length;r++)i+=this.cells[r].length;var n=new Int32Array(e+i+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;for(var a=e,o=0;o<t.length;o++){var s=t[o];n[3+o]=a,n.set(s,a),a+=s.length}return n[3+t.length]=a,n.set(this.keys,a),n[3+t.length+1]=a+=this.keys.length,n.set(this.bboxes,a),a+=this.bboxes.length,n.buffer};var Ar=self.ImageData,Or=self.ImageBitmap,Dr={};function Mr(t,e,i){void 0===i&&(i={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Dr[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}for(var Fr in Mr("Object",Object),kr.serialize=function(t,e){var i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},kr.deserialize=function(t){return new kr(t.buffer)},Mr("Grid",kr),Mr("Color",Zt),Mr("Error",Error),Mr("ResolvedImage",ee),Mr("StylePropertyFunction",Yi),Mr("StyleExpression",zi,{omit:["_evaluator"]}),Mr("ZoomDependentExpression",Wi),Mr("ZoomConstantExpression",Xi),Mr("CompoundExpression",me,{omit:["_evaluate"]}),Vi)Vi[Fr]._classRegistryKey||Mr("Expression_"+Fr,Vi[Fr]);function Er(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Rr(t){return Or&&t instanceof Or}function Lr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Er(t)||Rr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var i=t;return e&&e.push(i.buffer),i}if(t instanceof Ar)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],n=0,a=t;n<a.length;n+=1)r.push(Lr(a[n],e));return r}if("object"==typeof t){var o=t.constructor,s=o._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=o.serialize?o.serialize(t,e):{};if(!o.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(Dr[s].omit.indexOf(c)>=0)){var u=t[c];l[c]=Dr[s].shallow.indexOf(c)>=0?u:Lr(u,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof t)}function Hr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Er(t)||Rr(t)||ArrayBuffer.isView(t)||t instanceof Ar)return t;if(Array.isArray(t))return t.map(Hr);if("object"==typeof t){var e=t.$name||"Object",i=Dr[e].klass;if(!i)throw new Error("can't deserialize unregistered class "+e);if(i.deserialize)return i.deserialize(t);for(var r=Object.create(i.prototype),n=0,a=Object.keys(t);n<a.length;n+=1){var o=a[n];if("$name"!==o){var s=t[o];r[o]=Dr[e].shallow.indexOf(o)>=0?s:Hr(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var jr=function(){this.first=!0};jr.prototype.update=function(t,e){var i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))};var zr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Br(t){for(var e=0,i=t;e<i.length;e+=1)if(Nr(i[e].charCodeAt(0)))return!0;return!1}function Nr(t){return!(746!==t&&747!==t&&(t<4352||!(zr["Bopomofo Extended"](t)||zr.Bopomofo(t)||zr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||zr["CJK Compatibility Ideographs"](t)||zr["CJK Compatibility"](t)||zr["CJK Radicals Supplement"](t)||zr["CJK Strokes"](t)||!(!zr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||zr["CJK Unified Ideographs Extension A"](t)||zr["CJK Unified Ideographs"](t)||zr["Enclosed CJK Letters and Months"](t)||zr["Hangul Compatibility Jamo"](t)||zr["Hangul Jamo Extended-A"](t)||zr["Hangul Jamo Extended-B"](t)||zr["Hangul Jamo"](t)||zr["Hangul Syllables"](t)||zr.Hiragana(t)||zr["Ideographic Description Characters"](t)||zr.Kanbun(t)||zr["Kangxi Radicals"](t)||zr["Katakana Phonetic Extensions"](t)||zr.Katakana(t)&&12540!==t||!(!zr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!zr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||zr["Unified Canadian Aboriginal Syllabics"](t)||zr["Unified Canadian Aboriginal Syllabics Extended"](t)||zr["Vertical Forms"](t)||zr["Yijing Hexagram Symbols"](t)||zr["Yi Syllables"](t)||zr["Yi Radicals"](t))))}function Xr(t){return!(Nr(t)||function(t){return!!(zr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||zr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||zr["Letterlike Symbols"](t)||zr["Number Forms"](t)||zr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||zr["Control Pictures"](t)&&9251!==t||zr["Optical Character Recognition"](t)||zr["Enclosed Alphanumerics"](t)||zr["Geometric Shapes"](t)||zr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||zr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||zr["CJK Symbols and Punctuation"](t)||zr.Katakana(t)||zr["Private Use Area"](t)||zr["CJK Compatibility Forms"](t)||zr["Small Form Variants"](t)||zr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Wr(t){return t>=1424&&t<=2303||zr["Arabic Presentation Forms-A"](t)||zr["Arabic Presentation Forms-B"](t)}function Gr(t,e){return!(!e&&Wr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||zr.Khmer(t))}function Yr(t){for(var e=0,i=t;e<i.length;e+=1)if(Wr(i[e].charCodeAt(0)))return!0;return!1}var qr=null,Kr="unavailable",Jr=null,Zr=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Kr="error"),qr&&qr(t)};function Qr(){$r.fire(new Vt("pluginStateChange",{pluginStatus:Kr,pluginURL:Jr}))}var $r=new Pt,tn=function(){return Kr},en=function(){if("deferred"!==Kr||!Jr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Kr="loading",Qr(),Jr&&yt({url:Jr},(function(t){t?Zr(t):(Kr="loaded",Qr())}))},rn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Kr||null!=rn.applyArabicShaping},isLoading:function(){return"loading"===Kr},setState:function(t){Kr=t.pluginStatus,Jr=t.pluginURL},isParsed:function(){return null!=rn.applyArabicShaping&&null!=rn.processBidirectionalText&&null!=rn.processStyledBidirectionalText},getPluginURL:function(){return Jr}},nn=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new jr,this.transition={})};nn.prototype.isSupportedScript=function(t){return function(t,e){for(var i=0,r=t;i<r.length;i+=1)if(!Gr(r[i].charCodeAt(0),e))return!1;return!0}(t,rn.isLoaded())},nn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},nn.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}};var an=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Mi(t))return new Yi(t,e);if(Bi(t)){var i=Gi(t,e);if("error"===i.result)throw new Error(i.value.map((function(t){return t.key+": "+t.message})).join(", "));return i.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=Zt.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};an.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},an.prototype.possiblyEvaluate=function(t,e,i){return this.property.possiblyEvaluate(this,t,e,i)};var on=function(t){this.property=t,this.value=new an(t,void 0)};on.prototype.transitioned=function(t,e){return new ln(this.property,this.value,e,u({},t.transition,this.transition),t.now)},on.prototype.untransitioned=function(){return new ln(this.property,this.value,null,{},0)};var sn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};sn.prototype.getValue=function(t){return v(this._values[t].value.value)},sn.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new on(this._values[t].property)),this._values[t].value=new an(this._values[t].property,null===e?void 0:v(e))},sn.prototype.getTransition=function(t){return v(this._values[t].transition)},sn.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new on(this._values[t].property)),this._values[t].transition=v(e)||void 0},sn.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e],n=this.getValue(r);void 0!==n&&(t[r]=n);var a=this.getTransition(r);void 0!==a&&(t[r+"-transition"]=a)}return t},sn.prototype.transitioned=function(t,e){for(var i=new cn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var a=n[r];i._values[a]=this._values[a].transitioned(t,e._values[a])}return i},sn.prototype.untransitioned=function(){for(var t=new cn(this._properties),e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e];t._values[r]=this._values[r].untransitioned()}return t};var ln=function(t,e,i,r,n){this.property=t,this.value=e,this.begin=n+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=i)};ln.prototype.possiblyEvaluate=function(t,e,i){var r=t.now||0,n=this.value.possiblyEvaluate(t,e,i),a=this.prior;if(a){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return a.possiblyEvaluate(t,e,i);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(t,e,i),n,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}(o))}return n};var cn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};cn.prototype.possiblyEvaluate=function(t,e){for(var i=new pn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var a=n[r];i._values[a]=this._values[a].possiblyEvaluate(t,e)}return i},cn.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var un=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};un.prototype.getValue=function(t){return v(this._values[t].value)},un.prototype.setValue=function(t,e){this._values[t]=new an(this._values[t].property,null===e?void 0:v(e))},un.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e],n=this.getValue(r);void 0!==n&&(t[r]=n)}return t},un.prototype.possiblyEvaluate=function(t,e){for(var i=new pn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var a=n[r];i._values[a]=this._values[a].possiblyEvaluate(t,e)}return i};var hn=function(t,e,i){this.property=t,this.value=e,this.parameters=i};hn.prototype.isConstant=function(){return"constant"===this.value.kind},hn.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},hn.prototype.evaluate=function(t,e,i,r){return this.property.evaluate(this.value,this.parameters,t,e,i,r)};var pn=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};pn.prototype.get=function(t){return this._values[t]};var dn=function(t){this.specification=t};dn.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},dn.prototype.interpolate=function(t,e,i){var r=Be[this.specification.type];return r?r(t,e,i):t};var fn=function(t,e){this.specification=t,this.overrides=e};fn.prototype.possiblyEvaluate=function(t,e,i,r){return new hn(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},i,r)}:t.expression,e)},fn.prototype.interpolate=function(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new hn(this,{kind:"constant",value:void 0},t.parameters);var r=Be[this.specification.type];return r?new hn(this,{kind:"constant",value:r(t.value.value,e.value.value,i)},t.parameters):t},fn.prototype.evaluate=function(t,e,i,r,n,a){return"constant"===t.kind?t.value:t.evaluate(e,i,r,n,a)};var bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,i,r){if(void 0===t.value)return new hn(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var n=t.expression.evaluate(e,null,{},i,r),a="resolvedImage"===t.property.specification.type&&"string"!=typeof n?n.name:n,o=this._calculate(a,a,a,e);return new hn(this,{kind:"constant",value:o},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new hn(this,{kind:"constant",value:s},e)}return new hn(this,t.expression,e)},e.prototype.evaluate=function(t,e,i,r,n,a){if("source"===t.kind){var o=t.evaluate(e,i,r,n,a);return this._calculate(o,o,o,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},i,r),t.evaluate({zoom:Math.floor(e.zoom)},i,r),t.evaluate({zoom:Math.floor(e.zoom)+1},i,r),e):t.value},e.prototype._calculate=function(t,e,i,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}},e.prototype.interpolate=function(t){return t},e}(fn),mn=function(t){this.specification=t};mn.prototype.possiblyEvaluate=function(t,e,i,r){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e,null,{},i,r);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate(new nn(Math.floor(e.zoom-1),e)),t.expression.evaluate(new nn(Math.floor(e.zoom),e)),t.expression.evaluate(new nn(Math.floor(e.zoom+1),e)),e)}},mn.prototype._calculate=function(t,e,i,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}},mn.prototype.interpolate=function(t){return t};var gn=function(t){this.specification=t};gn.prototype.possiblyEvaluate=function(t,e,i,r){return!!t.expression.evaluate(e,null,{},i,r)},gn.prototype.interpolate=function(){return!1};var yn=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var i=t[e];i.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new an(i,void 0),n=this.defaultTransitionablePropertyValues[e]=new on(i);this.defaultTransitioningPropertyValues[e]=n.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Mr("DataDrivenProperty",fn),Mr("DataConstantProperty",dn),Mr("CrossFadedDataDrivenProperty",bn),Mr("CrossFadedProperty",mn),Mr("ColorRampProperty",gn);var vn=function(t){function e(e,i){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new un(i.layout)),i.paint)){for(var r in this._transitionablePaint=new sn(i.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var n in e.layout)this.setLayoutProperty(n,e.layout[n],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,i){void 0===i&&(i={}),null!=e&&this._validate(Sr,"layers."+this.id+".layout."+t,t,e,i)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return m(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,i){if(void 0===i&&(i={}),null!=e&&this._validate(Ur,"layers."+this.id+".paint."+t,t,e,i))return!1;if(m(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],n="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||a||n||this._handleOverridablePaintPropertyUpdate(t,o,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,i){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),y(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,i,r,n){return void 0===n&&(n={}),(!n||!1!==n.validate)&&Tr(this,t.call(Cr,{key:e,layerType:this.type,objectKey:i,value:r,styleSpec:Ut,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof hn&&Ii(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Pt),_n={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},xn=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},wn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Vn(t,e){void 0===e&&(e=1);var i=0,r=0;return{members:t.map((function(t){var n=_n[t.type].BYTES_PER_ELEMENT,a=i=Cn(i,Math.max(e,n)),o=t.components||1;return r=Math.max(r,n),i+=n*o,{name:t.name,type:t.type,components:o,offset:a}})),size:Cn(i,Math.max(r,e)),alignment:e}}function Cn(t,e){return Math.ceil(t/e)*e}wn.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},wn.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},wn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},wn.prototype.clear=function(){this.length=0},wn.prototype.resize=function(t){this.reserve(t),this.length=t},wn.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},wn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Pn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=i,t},e}(wn);Pn.prototype.bytesPerElement=4,Mr("StructArrayLayout2i4",Pn);var Un=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,i,r)},e.prototype.emplace=function(t,e,i,r,n){var a=4*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.int16[a+2]=r,this.int16[a+3]=n,t},e}(wn);Un.prototype.bytesPerElement=8,Mr("StructArrayLayout4i8",Un);var Sn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,r,n,a)},e.prototype.emplace=function(t,e,i,r,n,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(wn);Sn.prototype.bytesPerElement=12,Mr("StructArrayLayout2i4i12",Sn);var Tn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,r,n,a)},e.prototype.emplace=function(t,e,i,r,n,a,o){var s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.uint8[l+4]=r,this.uint8[l+5]=n,this.uint8[l+6]=a,this.uint8[l+7]=o,t},e}(wn);Tn.prototype.bytesPerElement=8,Mr("StructArrayLayout2i4ub8",Tn);var kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a,o,s,l,c){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,i,r,n,a,o,s,l,c)},e.prototype.emplace=function(t,e,i,r,n,a,o,s,l,c,u){var h=9*t,p=18*t;return this.uint16[h+0]=e,this.uint16[h+1]=i,this.uint16[h+2]=r,this.uint16[h+3]=n,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint8[p+16]=c,this.uint8[p+17]=u,t},e}(wn);kn.prototype.bytesPerElement=18,Mr("StructArrayLayout8ui2ub18",kn);var In=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a,o,s,l,c,u,h){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,i,r,n,a,o,s,l,c,u,h)},e.prototype.emplace=function(t,e,i,r,n,a,o,s,l,c,u,h,p){var d=12*t;return this.int16[d+0]=e,this.int16[d+1]=i,this.int16[d+2]=r,this.int16[d+3]=n,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.int16[d+8]=c,this.int16[d+9]=u,this.int16[d+10]=h,this.int16[d+11]=p,t},e}(wn);In.prototype.bytesPerElement=24,Mr("StructArrayLayout4i4ui4i24",In);var An=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.float32[n+0]=e,this.float32[n+1]=i,this.float32[n+2]=r,t},e}(wn);An.prototype.bytesPerElement=12,Mr("StructArrayLayout3f12",An);var On=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(wn);On.prototype.bytesPerElement=4,Mr("StructArrayLayout1ul4",On);var Dn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a,o,s,l){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,i,r,n,a,o,s,l)},e.prototype.emplace=function(t,e,i,r,n,a,o,s,l,c){var u=10*t,h=5*t;return this.int16[u+0]=e,this.int16[u+1]=i,this.int16[u+2]=r,this.int16[u+3]=n,this.int16[u+4]=a,this.int16[u+5]=o,this.uint32[h+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,t},e}(wn);Dn.prototype.bytesPerElement=20,Mr("StructArrayLayout6i1ul2ui20",Dn);var Mn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,r,n,a)},e.prototype.emplace=function(t,e,i,r,n,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(wn);Mn.prototype.bytesPerElement=12,Mr("StructArrayLayout2i2i2i12",Mn);var Fn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,i,r,n)},e.prototype.emplace=function(t,e,i,r,n,a){var o=4*t,s=8*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=r,this.int16[s+6]=n,this.int16[s+7]=a,t},e}(wn);Fn.prototype.bytesPerElement=16,Mr("StructArrayLayout2f1f2i16",Fn);var En=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,i,r)},e.prototype.emplace=function(t,e,i,r,n){var a=12*t,o=3*t;return this.uint8[a+0]=e,this.uint8[a+1]=i,this.float32[o+1]=r,this.float32[o+2]=n,t},e}(wn);En.prototype.bytesPerElement=12,Mr("StructArrayLayout2ub2f12",En);var Rn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,this.uint16[n+2]=r,t},e}(wn);Rn.prototype.bytesPerElement=6,Mr("StructArrayLayout3ui6",Rn);var Ln=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m){var g=this.length;return this.resize(g+1),this.emplace(g,t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m)},e.prototype.emplace=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m,g){var y=24*t,v=12*t,_=48*t;return this.int16[y+0]=e,this.int16[y+1]=i,this.uint16[y+2]=r,this.uint16[y+3]=n,this.uint32[v+2]=a,this.uint32[v+3]=o,this.uint32[v+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=c,this.uint16[y+12]=u,this.float32[v+7]=h,this.float32[v+8]=p,this.uint8[_+36]=d,this.uint8[_+37]=f,this.uint8[_+38]=b,this.uint32[v+10]=m,this.int16[y+22]=g,t},e}(wn);Ln.prototype.bytesPerElement=48,Mr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ln);var Hn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m,g,y,v,_,x,w,V,C,P,U,S){var T=this.length;return this.resize(T+1),this.emplace(T,t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m,g,y,v,_,x,w,V,C,P,U,S)},e.prototype.emplace=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m,g,y,v,_,x,w,V,C,P,U,S,T){var k=34*t,I=17*t;return this.int16[k+0]=e,this.int16[k+1]=i,this.int16[k+2]=r,this.int16[k+3]=n,this.int16[k+4]=a,this.int16[k+5]=o,this.int16[k+6]=s,this.int16[k+7]=l,this.uint16[k+8]=c,this.uint16[k+9]=u,this.uint16[k+10]=h,this.uint16[k+11]=p,this.uint16[k+12]=d,this.uint16[k+13]=f,this.uint16[k+14]=b,this.uint16[k+15]=m,this.uint16[k+16]=g,this.uint16[k+17]=y,this.uint16[k+18]=v,this.uint16[k+19]=_,this.uint16[k+20]=x,this.uint16[k+21]=w,this.uint16[k+22]=V,this.uint32[I+12]=C,this.float32[I+13]=P,this.float32[I+14]=U,this.float32[I+15]=S,this.float32[I+16]=T,t},e}(wn);Hn.prototype.bytesPerElement=68,Mr("StructArrayLayout8i15ui1ul4f68",Hn);var jn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(wn);jn.prototype.bytesPerElement=4,Mr("StructArrayLayout1f4",jn);var zn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.int16[n+0]=e,this.int16[n+1]=i,this.int16[n+2]=r,t},e}(wn);zn.prototype.bytesPerElement=6,Mr("StructArrayLayout3i6",zn);var Bn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=4*t;return this.uint32[2*t+0]=e,this.uint16[n+2]=i,this.uint16[n+3]=r,t},e}(wn);Bn.prototype.bytesPerElement=8,Mr("StructArrayLayout1ul2ui8",Bn);var Nn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=i,t},e}(wn);Nn.prototype.bytesPerElement=4,Mr("StructArrayLayout2ui4",Nn);var Xn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(wn);Xn.prototype.bytesPerElement=2,Mr("StructArrayLayout1ui2",Xn);var Wn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=i,t},e}(wn);Wn.prototype.bytesPerElement=8,Mr("StructArrayLayout2f8",Wn);var Gn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,i,r)},e.prototype.emplace=function(t,e,i,r,n){var a=4*t;return this.float32[a+0]=e,this.float32[a+1]=i,this.float32[a+2]=r,this.float32[a+3]=n,t},e}(wn);Gn.prototype.bytesPerElement=16,Mr("StructArrayLayout4f16",Gn);var Yn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.anchorPoint.get=function(){return new n(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,i),e}(xn);Yn.prototype.size=20;var qn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Yn(this,t)},e}(Dn);Mr("CollisionBoxArray",qn);var Kn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},i.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},i.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},i.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},i.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},i.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,i),e}(xn);Kn.prototype.size=48;var Jn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Kn(this,t)},e}(Ln);Mr("PlacedSymbolArray",Jn);var Zn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},i.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},i.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},i.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},i.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},i.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},i.key.get=function(){return this._structArray.uint16[this._pos2+8]},i.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},i.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},i.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},i.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},i.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},i.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},i.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},i.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},i.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},i.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},i.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},i.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},i.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},i.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},i.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},i.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},i.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},i.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,i),e}(xn);Zn.prototype.size=68;var Qn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Zn(this,t)},e}(Hn);Mr("SymbolInstanceArray",Qn);var $n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(jn);Mr("GlyphOffsetArray",$n);var ta=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(zn);Mr("SymbolLineVertexArray",ta);var ea=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,i),e}(xn);ea.prototype.size=8;var ia=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new ea(this,t)},e}(Bn);Mr("FeatureIndexArray",ia);var ra=Vn([{name:"a_pos",components:2,type:"Int16"}],4).members,na=function(t){void 0===t&&(t=[]),this.segments=t};function aa(t,e){return 256*(t=l(Math.floor(t),0,255))+l(Math.floor(e),0,255)}na.prototype.prepareSegment=function(t,e,i,r){var n=this.segments[this.segments.length-1];return t>na.MAX_VERTEX_ARRAY_LENGTH&&x("Max vertices per segment is "+na.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!n||n.vertexLength+t>na.MAX_VERTEX_ARRAY_LENGTH||n.sortKey!==r)&&(n={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==r&&(n.sortKey=r),this.segments.push(n)),n},na.prototype.get=function(){return this.segments},na.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var i=e[t];for(var r in i.vaos)i.vaos[r].destroy()}},na.simpleSegment=function(t,e,i,r){return new na([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:r,vaos:{},sortKey:0}])},na.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Mr("SegmentVector",na);var oa=Vn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),sa=e((function(t){t.exports=function(t,e){var i,r,n,a,o,s,l,c;for(r=t.length-(i=3&t.length),n=e,o=3432918353,s=461845907,c=0;c<r;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,n=27492+(65535&(a=5*(65535&(n=(n^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:n^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return n^=t.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0}})),la=e((function(t){t.exports=function(t,e){for(var i,r=t.length,n=e^r,a=0;r>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24))+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:n^=(255&t.charCodeAt(a+2))<<16;case 2:n^=(255&t.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(a)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}})),ca=sa,ua=la;ca.murmur3=sa,ca.murmur2=ua;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(t,e,i,r){this.ids.push(da(t)),this.positions.push(e,i,r)},ha.prototype.getPositions=function(t){for(var e=da(t),i=0,r=this.ids.length-1;i<r;){var n=i+r>>1;this.ids[n]>=e?r=n:i=n+1}for(var a=[];this.ids[i]===e;)a.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return a},ha.serialize=function(t,e){var i=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,i,r,n){for(;r<n;){for(var a=e[r+n>>1],o=r-1,s=n+1;;){do{o++}while(e[o]<a);do{s--}while(e[s]>a);if(o>=s)break;fa(e,o,s),fa(i,3*o,3*s),fa(i,3*o+1,3*s+1),fa(i,3*o+2,3*s+2)}s-r<n-s?(t(e,i,r,s),r=s+1):(t(e,i,s+1,n),n=s)}}(i,r,0,i.length-1),e&&e.push(i.buffer,r.buffer),{ids:i,positions:r}},ha.deserialize=function(t){var e=new ha;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var pa=Math.pow(2,53)-1;function da(t){var e=+t;return!isNaN(e)&&e<=pa?e:ca(String(t))}function fa(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}Mr("FeaturePositionMap",ha);var ba=function(t,e){this.gl=t.gl,this.location=e},ma=function(t){function e(e,i){t.call(this,e,i),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(ba),ga=function(t){function e(e,i){t.call(this,e,i),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(ba),ya=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(ba),va=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(ba),_a=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(ba),xa=function(t){function e(e,i){t.call(this,e,i),this.current=Zt.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(ba),wa=new Float32Array(16),Va=function(t){function e(e,i){t.call(this,e,i),this.current=wa}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(ba);function Ca(t){return[aa(255*t.r,255*t.g),aa(255*t.b,255*t.a)]}var Pa=function(t,e,i){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=i};Pa.prototype.setUniform=function(t,e,i){t.set(i.constantOr(this.value))},Pa.prototype.getBinding=function(t,e,i){return"color"===this.type?new xa(t,e):new ga(t,e)};var Ua=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ua.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Ua.prototype.setUniform=function(t,e,i,r){var n="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;n&&t.set(n)},Ua.prototype.getBinding=function(t,e,i){return"u_pattern"===i.substr(0,9)?new _a(t,e):new ga(t,e)};var Sa=function(t,e,i,r){this.expression=t,this.type=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===i?2:1,offset:0}})),this.paintVertexArray=new r};Sa.prototype.populatePaintArray=function(t,e,i,r,n){var a=this.paintVertexArray.length,o=this.expression.evaluate(new nn(0),e,{},r,[],n);this.paintVertexArray.resize(t),this._setPaintValue(a,t,o)},Sa.prototype.updatePaintArray=function(t,e,i,r){var n=this.expression.evaluate({zoom:0},i,r);this._setPaintValue(t,e,n)},Sa.prototype._setPaintValue=function(t,e,i){if("color"===this.type)for(var r=Ca(i),n=t;n<e;n++)this.paintVertexArray.emplace(n,r[0],r[1]);else{for(var a=t;a<e;a++)this.paintVertexArray.emplace(a,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}},Sa.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Sa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ta=function(t,e,i,r,n,a){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=i,this.useIntegerZoom=r,this.zoom=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===i?4:2,offset:0}})),this.paintVertexArray=new a};Ta.prototype.populatePaintArray=function(t,e,i,r,n){var a=this.expression.evaluate(new nn(this.zoom),e,{},r,[],n),o=this.expression.evaluate(new nn(this.zoom+1),e,{},r,[],n),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,a,o)},Ta.prototype.updatePaintArray=function(t,e,i,r){var n=this.expression.evaluate({zoom:this.zoom},i,r),a=this.expression.evaluate({zoom:this.zoom+1},i,r);this._setPaintValue(t,e,n,a)},Ta.prototype._setPaintValue=function(t,e,i,r){if("color"===this.type)for(var n=Ca(i),a=Ca(r),o=t;o<e;o++)this.paintVertexArray.emplace(o,n[0],n[1],a[0],a[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,i,r);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(r))}},Ta.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ta.prototype.setUniform=function(t,e){var i=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=l(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);t.set(r)},Ta.prototype.getBinding=function(t,e,i){return new ga(t,e)};var ka=function(t,e,i,r,n,a){this.expression=t,this.type=e,this.useIntegerZoom=i,this.zoom=r,this.layerId=a,this.zoomInPaintVertexArray=new n,this.zoomOutPaintVertexArray=new n};ka.prototype.populatePaintArray=function(t,e,i){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],i)},ka.prototype.updatePaintArray=function(t,e,i,r,n){this._setPaintValues(t,e,i.patterns&&i.patterns[this.layerId],n)},ka.prototype._setPaintValues=function(t,e,i,r){if(r&&i){var n=r[i.min],a=r[i.mid],o=r[i.max];if(n&&a&&o)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],a.pixelRatio,n.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},ka.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,oa.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,oa.members,this.expression.isStateDependent))},ka.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ia=function(t,e,i,r){this.binders={},this.layoutAttributes=r,this._buffers=[];var n=[];for(var a in t.paint._values)if(i(a)){var o=t.paint.get(a);if(o instanceof hn&&Ii(o.property.specification)){var s=Oa(a,t.type),l=o.value,c=o.property.specification.type,u=o.property.useIntegerZoom,h=o.property.specification["property-type"],p="cross-faded"===h||"cross-faded-data-driven"===h;if("constant"===l.kind)this.binders[a]=p?new Ua(l.value,s):new Pa(l.value,s,c),n.push("/u_"+a);else if("source"===l.kind||p){var d=Da(a,c,"source");this.binders[a]=p?new ka(l,c,u,e,d,t.id):new Sa(l,s,c,d),n.push("/a_"+a)}else{var f=Da(a,c,"composite");this.binders[a]=new Ta(l,s,c,u,e,f),n.push("/z_"+a)}}}this.cacheKey=n.sort().join("")};Ia.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Sa||e instanceof Ta?e.maxValue:0},Ia.prototype.populatePaintArrays=function(t,e,i,r,n){for(var a in this.binders){var o=this.binders[a];(o instanceof Sa||o instanceof Ta||o instanceof ka)&&o.populatePaintArray(t,e,i,r,n)}},Ia.prototype.setConstantPatternPositions=function(t,e){for(var i in this.binders){var r=this.binders[i];r instanceof Ua&&r.setConstantPatternPositions(t,e)}},Ia.prototype.updatePaintArrays=function(t,e,i,r,n){var a=!1;for(var o in t)for(var s=0,l=e.getPositions(o);s<l.length;s+=1){var c=l[s],u=i.feature(c.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof Sa||p instanceof Ta||p instanceof ka)&&!0===p.expression.isStateDependent){var d=r.paint.get(h);p.expression=d.value,p.updatePaintArray(c.start,c.end,u,t[o],n),a=!0}}}return a},Ia.prototype.defines=function(){var t=[];for(var e in this.binders){var i=this.binders[e];(i instanceof Pa||i instanceof Ua)&&t.push.apply(t,i.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},Ia.prototype.getPaintVertexBuffers=function(){return this._buffers},Ia.prototype.getUniforms=function(t,e){var i=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof Pa||n instanceof Ua||n instanceof Ta)for(var a=0,o=n.uniformNames;a<o.length;a+=1){var s=o[a];if(e[s]){var l=n.getBinding(t,e[s],s);i.push({name:s,property:r,binding:l})}}}return i},Ia.prototype.setUniforms=function(t,e,i,r){for(var n=0,a=e;n<a.length;n+=1){var o=a[n],s=o.name,l=o.property;this.binders[l].setUniform(o.binding,r,i.get(l),s)}},Ia.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var i=this.binders[e];if(t&&i instanceof ka){var r=2===t.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(i instanceof Sa||i instanceof Ta)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}},Ia.prototype.upload=function(t){for(var e in this.binders){var i=this.binders[e];(i instanceof Sa||i instanceof Ta||i instanceof ka)&&i.upload(t)}this.updatePaintBuffers()},Ia.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Sa||e instanceof Ta||e instanceof ka)&&e.destroy()}};var Aa=function(t,e,i,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var n=0,a=e;n<a.length;n+=1){var o=a[n];this.programConfigurations[o.id]=new Ia(o,i,r,t)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function Oa(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Da(t,e,i){var r={color:{source:Wn,composite:Gn},number:{source:jn,composite:Wn}},n=function(t){return{"line-pattern":{source:kn,composite:kn},"fill-pattern":{source:kn,composite:kn},"fill-extrusion-pattern":{source:kn,composite:kn}}[t]}(t);return n&&n[i]||r[e][i]}Aa.prototype.populatePaintArrays=function(t,e,i,r,n,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(t,e,r,n,a);void 0!==e.id&&this._featureMap.add(e.id,i,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Aa.prototype.updatePaintArrays=function(t,e,i,r){for(var n=0,a=i;n<a.length;n+=1){var o=a[n];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,this._featureMap,e,o,r)||this.needsUpload}},Aa.prototype.get=function(t){return this.programConfigurations[t]},Aa.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Aa.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Mr("ConstantBinder",Pa),Mr("CrossFadedConstantBinder",Ua),Mr("SourceExpressionBinder",Sa),Mr("CrossFadedCompositeBinder",ka),Mr("CompositeExpressionBinder",Ta),Mr("ProgramConfiguration",Ia,{omit:["_buffers"]}),Mr("ProgramConfigurationSet",Aa);var Ma={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function Fa(t){for(var e=8192/t.extent,i=t.loadGeometry(),r=0;r<i.length;r++)for(var n=i[r],a=0;a<n.length;a++){var o=n[a];o.x=Math.round(o.x*e),o.y=Math.round(o.y*e),(o.x<Ma.min||o.x>Ma.max||o.y<Ma.min||o.y>Ma.max)&&(x("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o.x=l(o.x,Ma.min,Ma.max),o.y=l(o.y,Ma.min,Ma.max))}return i}function Ea(t,e,i,r,n){t.emplaceBack(2*e+(r+1)/2,2*i+(n+1)/2)}var Ra=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Pn,this.indexArray=new Rn,this.segments=new na,this.programConfigurations=new Aa(ra,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function La(t,e){for(var i=0;i<t.length;i++)if(Ya(e,t[i]))return!0;for(var r=0;r<e.length;r++)if(Ya(t,e[r]))return!0;return!!Ba(t,e)}function Ha(t,e,i){return!!Ya(t,e)||!!Xa(e,t,i)}function ja(t,e){if(1===t.length)return Ga(e,t[0]);for(var i=0;i<e.length;i++)for(var r=e[i],n=0;n<r.length;n++)if(Ya(t,r[n]))return!0;for(var a=0;a<t.length;a++)if(Ga(e,t[a]))return!0;for(var o=0;o<e.length;o++)if(Ba(t,e[o]))return!0;return!1}function za(t,e,i){if(t.length>1){if(Ba(t,e))return!0;for(var r=0;r<e.length;r++)if(Xa(e[r],t,i))return!0}for(var n=0;n<t.length;n++)if(Xa(t[n],e,i))return!0;return!1}function Ba(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var r=t[i],n=t[i+1],a=0;a<e.length-1;a++)if(Na(r,n,e[a],e[a+1]))return!0;return!1}function Na(t,e,i,r){return w(t,i,r)!==w(e,i,r)&&w(t,e,i)!==w(t,e,r)}function Xa(t,e,i){var r=i*i;if(1===e.length)return t.distSqr(e[0])<r;for(var n=1;n<e.length;n++)if(Wa(t,e[n-1],e[n])<r)return!0;return!1}function Wa(t,e,i){var r=e.distSqr(i);if(0===r)return t.distSqr(e);var n=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/r;return t.distSqr(n<0?e:n>1?i:i.sub(e)._mult(n)._add(e))}function Ga(t,e){for(var i,r,n,a=!1,o=0;o<t.length;o++)for(var s=0,l=(i=t[o]).length-1;s<i.length;l=s++)(r=i[s]).y>e.y!=(n=i[l]).y>e.y&&e.x<(n.x-r.x)*(e.y-r.y)/(n.y-r.y)+r.x&&(a=!a);return a}function Ya(t,e){for(var i=!1,r=0,n=t.length-1;r<t.length;n=r++){var a=t[r],o=t[n];a.y>e.y!=o.y>e.y&&e.x<(o.x-a.x)*(e.y-a.y)/(o.y-a.y)+a.x&&(i=!i)}return i}function qa(t,e,i){var r=i[0],n=i[2];if(t.x<r.x&&e.x<r.x||t.x>n.x&&e.x>n.x||t.y<r.y&&e.y<r.y||t.y>n.y&&e.y>n.y)return!1;var a=w(t,e,i[0]);return a!==w(t,e,i[1])||a!==w(t,e,i[2])||a!==w(t,e,i[3])}function Ka(t,e,i){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:i.programConfigurations.get(e.id).getMaxValue(t)}function Ja(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Za(t,e,i,r,a){if(!e[0]&&!e[1])return t;var o=n.convert(e)._mult(a);"viewport"===i&&o._rotate(-r);for(var s=[],l=0;l<t.length;l++)s.push(t[l].sub(o));return s}Ra.prototype.populate=function(t,e,i){var r=this.layers[0],n=[],a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(var o=0,s=t;o<s.length;o+=1){var l=s[o],c=l.feature,u=l.id,h=l.index,p=l.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f={type:c.type,id:u,properties:c.properties,geometry:d?Fa(c):[]};if(this.layers[0]._featureFilter.filter(new nn(this.zoom),f,i)){d||(f.geometry=Fa(c));var b=a?a.evaluate(f,{},i):void 0;n.push({id:u,properties:c.properties,type:c.type,sourceLayerIndex:p,index:h,geometry:f.geometry,patterns:{},sortKey:b})}}a&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var m=0,g=n;m<g.length;m+=1){var y=g[m],v=y.geometry,_=y.index,x=y.sourceLayerIndex,w=t[_].feature;this.addFeature(y,v,_,i),e.featureIndex.insert(w,v,_,x,this.index)}},Ra.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},Ra.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ra.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ra.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ra),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ra.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ra.prototype.addFeature=function(t,e,i,r){for(var n=0,a=e;n<a.length;n+=1)for(var o=0,s=a[n];o<s.length;o+=1){var l=s[o],c=l.x,u=l.y;if(!(c<0||c>=8192||u<0||u>=8192)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=h.vertexLength;Ea(this.layoutVertexArray,c,u,-1,-1),Ea(this.layoutVertexArray,c,u,1,-1),Ea(this.layoutVertexArray,c,u,1,1),Ea(this.layoutVertexArray,c,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{},r)},Mr("CircleBucket",Ra,{omit:["layers"]});var Qa=new yn({"circle-sort-key":new fn(Ut.layout_circle["circle-sort-key"])}),$a={paint:new yn({"circle-radius":new fn(Ut.paint_circle["circle-radius"]),"circle-color":new fn(Ut.paint_circle["circle-color"]),"circle-blur":new fn(Ut.paint_circle["circle-blur"]),"circle-opacity":new fn(Ut.paint_circle["circle-opacity"]),"circle-translate":new dn(Ut.paint_circle["circle-translate"]),"circle-translate-anchor":new dn(Ut.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new dn(Ut.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new dn(Ut.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new fn(Ut.paint_circle["circle-stroke-width"]),"circle-stroke-color":new fn(Ut.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new fn(Ut.paint_circle["circle-stroke-opacity"])}),layout:Qa},to="undefined"!=typeof Float32Array?Float32Array:Array;function eo(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function io(t,e,i){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=e[9],d=e[10],f=e[11],b=e[12],m=e[13],g=e[14],y=e[15],v=i[0],_=i[1],x=i[2],w=i[3];return t[0]=v*r+_*s+x*h+w*b,t[1]=v*n+_*l+x*p+w*m,t[2]=v*a+_*c+x*d+w*g,t[3]=v*o+_*u+x*f+w*y,t[4]=(v=i[4])*r+(_=i[5])*s+(x=i[6])*h+(w=i[7])*b,t[5]=v*n+_*l+x*p+w*m,t[6]=v*a+_*c+x*d+w*g,t[7]=v*o+_*u+x*f+w*y,t[8]=(v=i[8])*r+(_=i[9])*s+(x=i[10])*h+(w=i[11])*b,t[9]=v*n+_*l+x*p+w*m,t[10]=v*a+_*c+x*d+w*g,t[11]=v*o+_*u+x*f+w*y,t[12]=(v=i[12])*r+(_=i[13])*s+(x=i[14])*h+(w=i[15])*b,t[13]=v*n+_*l+x*p+w*m,t[14]=v*a+_*c+x*d+w*g,t[15]=v*o+_*u+x*f+w*y,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,i=arguments.length;i--;)e+=t[i]*t[i];return Math.sqrt(e)});var ro,no=io;function ao(t,e,i){var r=e[0],n=e[1],a=e[2],o=e[3];return t[0]=i[0]*r+i[4]*n+i[8]*a+i[12]*o,t[1]=i[1]*r+i[5]*n+i[9]*a+i[13]*o,t[2]=i[2]*r+i[6]*n+i[10]*a+i[14]*o,t[3]=i[3]*r+i[7]*n+i[11]*a+i[15]*o,t}ro=new to(3),to!=Float32Array&&(ro[0]=0,ro[1]=0,ro[2]=0),function(){var t=new to(4);to!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var oo=(function(){var t=new to(2);to!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,$a)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Ra(t)},e.prototype.queryRadius=function(t){var e=t;return Ka("circle-radius",this,e)+Ka("circle-stroke-width",this,e)+Ja(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,a,o,s){for(var l=Za(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),c=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i),u="map"===this.paint.get("circle-pitch-alignment"),h=u?l:function(t,e){return t.map((function(t){return so(t,e)}))}(l,s),p=u?c*o:c,d=0,f=r;d<f.length;d+=1)for(var b=0,m=f[d];b<m.length;b+=1){var g=m[b],y=u?g:so(g,s),v=p,_=ao([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=_[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=a.cameraToCenterDistance/_[3]),Ha(h,y,v))return!0}return!1},e}(vn));function so(t,e){var i=ao([],[t.x,t.y,0,1],e);return new n(i[0]/i[3],i[1]/i[3])}var lo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ra);function co(t,e,i,r){var n=e.width,a=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==n*a*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(n*a*i);return t.width=n,t.height=a,t.data=r,t}function uo(t,e,i){var r=e.width,n=e.height;if(r!==t.width||n!==t.height){var a=co({},{width:r,height:n},i);ho(t,a,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,n)},i),t.width=r,t.height=n,t.data=a.data}}function ho(t,e,i,r,n,a){if(0===n.width||0===n.height)return e;if(n.width>t.width||n.height>t.height||i.x>t.width-n.width||i.y>t.height-n.height)throw new RangeError("out of range source coordinates for image copy");if(n.width>e.width||n.height>e.height||r.x>e.width-n.width||r.y>e.height-n.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=t.data,s=e.data,l=0;l<n.height;l++)for(var c=((i.y+l)*t.width+i.x)*a,u=((r.y+l)*e.width+r.x)*a,h=0;h<n.width*a;h++)s[u+h]=o[c+h];return e}Mr("HeatmapBucket",lo,{omit:["layers"]});var po=function(t,e){co(this,t,1,e)};po.prototype.resize=function(t){uo(this,t,1)},po.prototype.clone=function(){return new po({width:this.width,height:this.height},new Uint8Array(this.data))},po.copy=function(t,e,i,r,n){ho(t,e,i,r,n,1)};var fo=function(t,e){co(this,t,4,e)};fo.prototype.resize=function(t){uo(this,t,4)},fo.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},fo.prototype.clone=function(){return new fo({width:this.width,height:this.height},new Uint8Array(this.data))},fo.copy=function(t,e,i,r,n){ho(t,e,i,r,n,4)},Mr("AlphaImage",po),Mr("RGBAImage",fo);var bo={paint:new yn({"heatmap-radius":new fn(Ut.paint_heatmap["heatmap-radius"]),"heatmap-weight":new fn(Ut.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new dn(Ut.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gn(Ut.paint_heatmap["heatmap-color"]),"heatmap-opacity":new dn(Ut.paint_heatmap["heatmap-opacity"])})};function mo(t,e){for(var i=new Uint8Array(1024),r={},n=0,a=0;n<256;n++,a+=4){r[e]=n/255;var o=t.evaluate(r);i[a+0]=Math.floor(255*o.r/o.a),i[a+1]=Math.floor(255*o.g/o.a),i[a+2]=Math.floor(255*o.b/o.a),i[a+3]=Math.floor(255*o.a)}return new fo({width:256,height:1},i)}var go=function(t){function e(e){t.call(this,e,bo),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new lo(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=mo(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(vn),yo={paint:new yn({"hillshade-illumination-direction":new dn(Ut.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new dn(Ut.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new dn(Ut.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new dn(Ut.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new dn(Ut.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new dn(Ut.paint_hillshade["hillshade-accent-color"])})},vo=function(t){function e(e){t.call(this,e,yo)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(vn),_o=Vn([{name:"a_pos",components:2,type:"Int16"}],4).members,xo=Vo,wo=Vo;function Vo(t,e,i){i=i||2;var r,n,a,o,s,l,c,u=e&&e.length,h=u?e[0]*i:t.length,p=Co(t,0,h,i,!0),d=[];if(!p||p.next===p.prev)return d;if(u&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=Co(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Fo(o));for(s.sort(Ao),n=0;n<s.length;n++)Oo(s[n],i),i=Po(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<h;f+=i)(s=t[f])<r&&(r=s),(l=t[f+1])<n&&(n=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-r,o-n))?1/c:0}return Uo(p,d,i,r,n,c),d}function Co(t,e,i,r,n){var a,o;if(n===qo(t,e,i,r)>0)for(a=e;a<i;a+=r)o=Wo(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=Wo(a,t[a],t[a+1],o);return o&&Ho(o,o.next)&&(Go(o),o=o.next),o}function Po(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Ho(r,r.next)&&0!==Lo(r.prev,r,r.next))r=r.next;else{if(Go(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Uo(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=Mo(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,l,c=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,l--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,c*=2}while(o>1)}(n)}(t,r,n,a);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?To(t,r,n,a):So(t))e.push(s.i/i),e.push(t.i/i),e.push(l.i/i),Go(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?Uo(t=ko(Po(t),e,i),e,i,r,n,a,2):2===o&&Io(t,e,i,r,n,a):Uo(Po(t),e,i,r,n,a,1);break}}}function So(t){var e=t.prev,i=t,r=t.next;if(Lo(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(Eo(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Lo(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function To(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Lo(n,a,o)>=0)return!1;for(var s=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,l=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=Mo(n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,e,i,r),u=Mo(s,l,e,i,r),h=t.prevZ,p=t.nextZ;h&&h.z>=c&&p&&p.z<=u;){if(h!==t.prev&&h!==t.next&&Eo(n.x,n.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Lo(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&Eo(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Lo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&Eo(n.x,n.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Lo(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=u;){if(p!==t.prev&&p!==t.next&&Eo(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Lo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ko(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Ho(n,a)&&jo(n,r,r.next,a)&&No(n,a)&&No(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),Go(r),Go(r.next),r=t=a),r=r.next}while(r!==t);return Po(r)}function Io(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ro(o,s)){var l=Xo(o,s);return o=Po(o,o.next),l=Po(l,l.next),Uo(o,e,i,r,n,a),void Uo(l,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function Ao(t,e){return t.x-e.x}function Oo(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i;var l,c=i,u=i.x,h=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&Eo(a<h?n:o,a,u,h,a<h?o:n,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(n-r.x),No(r,t)&&(l<p||l===p&&(r.x>i.x||r.x===i.x&&Do(i,r)))&&(i=r,p=l)),r=r.next}while(r!==c);return i}(t,e)){var i=Xo(e,t);Po(e,e.next),Po(i,i.next)}}function Do(t,e){return Lo(t.prev,t,e.prev)<0&&Lo(e.next,t,t.next)<0}function Mo(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Fo(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function Eo(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Ro(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&jo(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(No(t,e)&&No(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)&&(Lo(t.prev,t,e.prev)||Lo(t,e.prev,e))||Ho(t,e)&&Lo(t.prev,t,t.next)>0&&Lo(e.prev,e,e.next)>0)}function Lo(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Ho(t,e){return t.x===e.x&&t.y===e.y}function jo(t,e,i,r){var n=Bo(Lo(t,e,i)),a=Bo(Lo(t,e,r)),o=Bo(Lo(i,r,t)),s=Bo(Lo(i,r,e));return n!==a&&o!==s||!(0!==n||!zo(t,i,e))||!(0!==a||!zo(t,r,e))||!(0!==o||!zo(i,t,r))||!(0!==s||!zo(i,e,r))}function zo(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Bo(t){return t>0?1:t<0?-1:0}function No(t,e){return Lo(t.prev,t,t.next)<0?Lo(t,e,t.next)>=0&&Lo(t,t.prev,e)>=0:Lo(t,e,t.prev)<0||Lo(t,t.next,e)<0}function Xo(t,e){var i=new Yo(t.i,t.x,t.y),r=new Yo(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Wo(t,e,i,r){var n=new Yo(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Go(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Yo(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qo(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}function Ko(t,e,i,r,n){!function t(e,i,r,n,a){for(;n>r;){if(n-r>600){var o=n-r+1,s=i-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);t(e,i,Math.max(r,Math.floor(i-s*c/o+u)),Math.min(n,Math.floor(i+(o-s)*c/o+u)),a)}var h=e[i],p=r,d=n;for(Jo(e,r,i),a(e[n],h)>0&&Jo(e,r,n);p<d;){for(Jo(e,p,d),p++,d--;a(e[p],h)<0;)p++;for(;a(e[d],h)>0;)d--}0===a(e[r],h)?Jo(e,r,d):Jo(e,++d,n),d<=i&&(r=d+1),i<=d&&(n=d-1)}}(t,e,i||0,r||t.length-1,n||Zo)}function Jo(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function Zo(t,e){return t<e?-1:t>e?1:0}function Qo(t,e){var i=t.length;if(i<=1)return[t];for(var r,n,a=[],o=0;o<i;o++){var s=V(t[o]);0!==s&&(t[o].area=Math.abs(s),void 0===n&&(n=s<0),n===s<0?(r&&a.push(r),r=[t[o]]):r.push(t[o]))}if(r&&a.push(r),e>1)for(var l=0;l<a.length;l++)a[l].length<=e||(Ko(a[l],e,1,a[l].length-1,$o),a[l]=a[l].slice(0,e));return a}function $o(t,e){return e.area-t.area}function ts(t,e,i){for(var r=i.patternDependencies,n=!1,a=0,o=e;a<o.length;a+=1){var s=o[a].paint.get(t+"-pattern");s.isConstant()||(n=!0);var l=s.constantOr(null);l&&(n=!0,r[l.to]=!0,r[l.from]=!0)}return n}function es(t,e,i,r,n){for(var a=n.patternDependencies,o=0,s=e;o<s.length;o+=1){var l=s[o],c=l.paint.get(t+"-pattern").value;if("constant"!==c.kind){var u=c.evaluate({zoom:r-1},i,{},n.availableImages),h=c.evaluate({zoom:r},i,{},n.availableImages),p=c.evaluate({zoom:r+1},i,{},n.availableImages);h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,a[u=u&&u.name?u.name:u]=!0,a[h]=!0,a[p]=!0,i.patterns[l.id]={min:u,mid:h,max:p}}}return i}Vo.deviation=function(t,e,i,r){var n=e&&e.length,a=Math.abs(qo(t,0,n?e[0]*i:t.length,i));if(n)for(var o=0,s=e.length;o<s;o++)a-=Math.abs(qo(t,e[o]*i,o<s-1?e[o+1]*i:t.length,i));var l=0;for(o=0;o<r.length;o+=3){var c=r[o]*i,u=r[o+1]*i,h=r[o+2]*i;l+=Math.abs((t[c]-t[h])*(t[u+1]-t[c+1])-(t[c]-t[u])*(t[h+1]-t[c+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Vo.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++)for(var o=0;o<e;o++)i.vertices.push(t[n][a][o]);n>0&&i.holes.push(r+=t[n-1].length)}return i},xo.default=wo;var is=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pn,this.indexArray=new Rn,this.indexArray2=new Nn,this.programConfigurations=new Aa(_o,t.layers,t.zoom),this.segments=new na,this.segments2=new na,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};is.prototype.populate=function(t,e,i){this.hasPattern=ts("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),n=[],a=0,o=t;a<o.length;a+=1){var s=o[a],l=s.feature,c=s.id,u=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d={type:l.type,id:c,properties:l.properties,geometry:p?Fa(l):[]};if(this.layers[0]._featureFilter.filter(new nn(this.zoom),d,i)){p||(d.geometry=Fa(l));var f=r?r.evaluate(d,{},i,e.availableImages):void 0;n.push({id:c,properties:l.properties,type:l.type,sourceLayerIndex:h,index:u,geometry:d.geometry,patterns:{},sortKey:f})}}r&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var b=0,m=n;b<m.length;b+=1){var g=m[b],y=g.geometry,v=g.index,_=g.sourceLayerIndex;if(this.hasPattern){var x=es("fill",this.layers,g,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(g,y,v,i,{});e.featureIndex.insert(t[v].feature,y,v,_,this.index)}},is.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},is.prototype.addFeatures=function(t,e,i){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var a=n[r];this.addFeature(a,a.geometry,a.index,e,i)}},is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},is.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,_o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},is.prototype.addFeature=function(t,e,i,r,n){for(var a=0,o=Qo(e,500);a<o.length;a+=1){for(var s=o[a],l=0,c=0,u=s;c<u.length;c+=1)l+=u[c].length;for(var h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),p=h.vertexLength,d=[],f=[],b=0,m=s;b<m.length;b+=1){var g=m[b];if(0!==g.length){g!==s[0]&&f.push(d.length/2);var y=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),v=y.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(v+g.length-1,v),d.push(g[0].x),d.push(g[0].y);for(var _=1;_<g.length;_++)this.layoutVertexArray.emplaceBack(g[_].x,g[_].y),this.indexArray2.emplaceBack(v+_-1,v+_),d.push(g[_].x),d.push(g[_].y);y.vertexLength+=g.length,y.primitiveLength+=g.length}}for(var x=xo(d,f),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);h.vertexLength+=l,h.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,n,r)},Mr("FillBucket",is,{omit:["layers","patternFeatures"]});var rs=new yn({"fill-sort-key":new fn(Ut.layout_fill["fill-sort-key"])}),ns={paint:new yn({"fill-antialias":new dn(Ut.paint_fill["fill-antialias"]),"fill-opacity":new fn(Ut.paint_fill["fill-opacity"]),"fill-color":new fn(Ut.paint_fill["fill-color"]),"fill-outline-color":new fn(Ut.paint_fill["fill-outline-color"]),"fill-translate":new dn(Ut.paint_fill["fill-translate"]),"fill-translate-anchor":new dn(Ut.paint_fill["fill-translate-anchor"]),"fill-pattern":new bn(Ut.paint_fill["fill-pattern"])}),layout:rs},as=function(t){function e(e){t.call(this,e,ns)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,i){t.prototype.recalculate.call(this,e,i);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new is(t)},e.prototype.queryRadius=function(){return Ja(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,a,o){return ja(Za(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),r)},e.prototype.isTileClipped=function(){return!0},e}(vn),os=Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ss=ls;function ls(t,e,i,r,n){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=n,t.readFields(cs,this,e)}function cs(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var r=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[r]=n}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function us(t){for(var e,i,r=0,n=0,a=t.length,o=a-1;n<a;o=n++)r+=((i=t[o]).x-(e=t[n]).x)*(e.y+i.y);return r}ls.types=["Unknown","Point","LineString","Polygon"],ls.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,r=1,a=0,o=0,s=0,l=[];t.pos<i;){if(a<=0){var c=t.readVarint();r=7&c,a=c>>3}if(a--,1===r||2===r)o+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new n(o,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},ls.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,r=0,n=0,a=0,o=1/0,s=-1/0,l=1/0,c=-1/0;t.pos<e;){if(r<=0){var u=t.readVarint();i=7&u,r=u>>3}if(r--,1===i||2===i)(n+=t.readSVarint())<o&&(o=n),n>s&&(s=n),(a+=t.readSVarint())<l&&(l=a),a>c&&(c=a);else if(7!==i)throw new Error("unknown command "+i)}return[o,l,s,c]},ls.prototype.toGeoJSON=function(t,e,i){var r,n,a=this.extent*Math.pow(2,i),o=this.extent*t,s=this.extent*e,l=this.loadGeometry(),c=ls.types[this.type];function u(t){for(var e=0;e<t.length;e++){var i=t[e];t[e]=[360*(i.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];u(l=h);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var i,r,n=[],a=0;a<e;a++){var o=us(t[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(i&&n.push(i),i=[t[a]]):i.push(t[a]))}return i&&n.push(i),n}(l),r=0;r<l.length;r++)for(n=0;n<l[r].length;n++)u(l[r][n])}1===l.length?l=l[0]:c="Multi"+c;var p={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var hs=ps;function ps(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ds,this,e),this.length=this._features.length}function ds(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(i))}function fs(t,e,i){if(3===t){var r=new hs(i,i.readVarint()+i.pos);r.length&&(e[r.name]=r)}}ps.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ss(this._pbf,e,this.extent,this._keys,this._values)};var bs={VectorTile:function(t,e){this.layers=t.readFields(fs,{},e)},VectorTileFeature:ss,VectorTileLayer:hs},ms=bs.VectorTileFeature.types,gs=Math.pow(2,13);function ys(t,e,i,r,n,a,o,s){t.emplaceBack(e,i,2*Math.floor(r*gs)+o,n*gs*2,a*gs*2,Math.round(s))}var vs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Sn,this.indexArray=new Rn,this.programConfigurations=new Aa(os,t.layers,t.zoom),this.segments=new na,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function _s(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}vs.prototype.populate=function(t,e,i){this.features=[],this.hasPattern=ts("fill-extrusion",this.layers,e);for(var r=0,n=t;r<n.length;r+=1){var a=n[r],o=a.feature,s=a.id,l=a.index,c=a.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,h={type:o.type,id:s,properties:o.properties,geometry:u?Fa(o):[]};if(this.layers[0]._featureFilter.filter(new nn(this.zoom),h,i)){var p={id:s,sourceLayerIndex:c,index:l,geometry:u?h.geometry:Fa(o),properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(p.id=o.id),this.hasPattern?this.features.push(es("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,p.geometry,l,i,{}),e.featureIndex.insert(o,p.geometry,l,c,this.index,!0)}}},vs.prototype.addFeatures=function(t,e,i){for(var r=0,n=this.features;r<n.length;r+=1){var a=n[r];this.addFeature(a,a.geometry,a.index,e,i)}},vs.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},vs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},vs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,os),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},vs.prototype.addFeature=function(t,e,i,r,n){for(var a=0,o=Qo(e,500);a<o.length;a+=1){for(var s=o[a],l=0,c=0,u=s;c<u.length;c+=1)l+=u[c].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,d=s;p<d.length;p+=1){var f=d[p];if(0!==f.length&&!((O=f).every((function(t){return t.x<0}))||O.every((function(t){return t.x>8192}))||O.every((function(t){return t.y<0}))||O.every((function(t){return t.y>8192}))))for(var b=0,m=0;m<f.length;m++){var g=f[m];if(m>=1){var y=f[m-1];if(!_s(g,y)){h.vertexLength+4>na.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=g.sub(y)._perp()._unit(),_=y.dist(g);b+_>32768&&(b=0),ys(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,0,b),ys(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,1,b),ys(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,b+=_),ys(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,b);var x=h.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+l>na.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===ms[t.type]){for(var w=[],V=[],C=h.vertexLength,P=0,U=s;P<U.length;P+=1){var S=U[P];if(0!==S.length){S!==s[0]&&V.push(w.length/2);for(var T=0;T<S.length;T++){var k=S[T];ys(this.layoutVertexArray,k.x,k.y,0,0,1,1,0),w.push(k.x),w.push(k.y)}}}for(var I=xo(w,V),A=0;A<I.length;A+=3)this.indexArray.emplaceBack(C+I[A],C+I[A+2],C+I[A+1]);h.primitiveLength+=I.length/3,h.vertexLength+=l}}var O;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,n,r)},Mr("FillExtrusionBucket",vs,{omit:["layers","features"]});var xs={paint:new yn({"fill-extrusion-opacity":new dn(Ut["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new fn(Ut["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new dn(Ut["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new dn(Ut["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new bn(Ut["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new fn(Ut["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new fn(Ut["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new dn(Ut["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},ws=function(t){function e(e){t.call(this,e,xs)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new vs(t)},e.prototype.queryRadius=function(){return Ja(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,i,r,a,o,s,l){var c=Za(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),u=this.paint.get("fill-extrusion-height").evaluate(e,i),h=this.paint.get("fill-extrusion-base").evaluate(e,i),p=function(t,e,i,r){for(var a=[],o=0,s=t;o<s.length;o+=1){var l=s[o],c=[l.x,l.y,0,1];ao(c,c,e),a.push(new n(c[0]/c[3],c[1]/c[3]))}return a}(c,l),d=function(t,e,i,r){for(var a=[],o=[],s=r[8]*e,l=r[9]*e,c=r[10]*e,u=r[11]*e,h=r[8]*i,p=r[9]*i,d=r[10]*i,f=r[11]*i,b=0,m=t;b<m.length;b+=1){for(var g=[],y=[],v=0,_=m[b];v<_.length;v+=1){var x=_[v],w=x.x,V=x.y,C=r[0]*w+r[4]*V+r[12],P=r[1]*w+r[5]*V+r[13],U=r[2]*w+r[6]*V+r[14],S=r[3]*w+r[7]*V+r[15],T=U+c,k=S+u,I=C+h,A=P+p,O=U+d,D=S+f,M=new n((C+s)/k,(P+l)/k);M.z=T/k,g.push(M);var F=new n(I/D,A/D);F.z=O/D,y.push(F)}a.push(g),o.push(y)}return[a,o]}(r,h,u,l);return function(t,e,i){var r=1/0;ja(i,e)&&(r=Cs(i,e[0]));for(var n=0;n<e.length;n++)for(var a=e[n],o=t[n],s=0;s<a.length-1;s++){var l=a[s],c=[l,a[s+1],o[s+1],o[s],l];La(i,c)&&(r=Math.min(r,Cs(i,c)))}return r!==1/0&&r}(d[0],d[1],p)},e}(vn);function Vs(t,e){return t.x*e.x+t.y*e.y}function Cs(t,e){if(1===t.length){for(var i,r=0,n=e[r++];!i||n.equals(i);)if(!(i=e[r++]))return 1/0;for(;r<e.length;r++){var a=e[r],o=t[0],s=i.sub(n),l=a.sub(n),c=o.sub(n),u=Vs(s,s),h=Vs(s,l),p=Vs(l,l),d=Vs(c,s),f=Vs(c,l),b=u*p-h*h,m=(p*d-h*f)/b,g=(u*f-h*d)/b,y=n.z*(1-m-g)+i.z*m+a.z*g;if(isFinite(y))return y}return 1/0}for(var v=1/0,_=0,x=e;_<x.length;_+=1)v=Math.min(v,x[_].z);return v}var Ps=Vn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Us=bs.VectorTileFeature.types,Ss=Math.cos(Math.PI/180*37.5),Ts=Math.pow(2,14)/.5,ks=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Tn,this.indexArray=new Rn,this.programConfigurations=new Aa(Ps,t.layers,t.zoom),this.segments=new na,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ks.prototype.populate=function(t,e,i){this.hasPattern=ts("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),n=[],a=0,o=t;a<o.length;a+=1){var s=o[a],l=s.feature,c=s.id,u=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d={type:l.type,id:c,properties:l.properties,geometry:p?Fa(l):[]};if(this.layers[0]._featureFilter.filter(new nn(this.zoom),d,i)){p||(d.geometry=Fa(l));var f=r?r.evaluate(d,{},i):void 0;n.push({id:c,properties:l.properties,type:l.type,sourceLayerIndex:h,index:u,geometry:d.geometry,patterns:{},sortKey:f})}}r&&n.sort((function(t,e){return t.sortKey-e.sortKey}));for(var b=0,m=n;b<m.length;b+=1){var g=m[b],y=g.geometry,v=g.index,_=g.sourceLayerIndex;if(this.hasPattern){var x=es("line",this.layers,g,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(g,y,v,i,{});e.featureIndex.insert(t[v].feature,y,v,_,this.index)}},ks.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},ks.prototype.addFeatures=function(t,e,i){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var a=n[r];this.addFeature(a,a.geometry,a.index,e,i)}},ks.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ps),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(t,e,i,r,n){for(var a=this.layers[0].layout,o=a.get("line-join").evaluate(t,{}),s=a.get("line-cap"),l=a.get("line-miter-limit"),c=a.get("line-round-limit"),u=0,h=e;u<h.length;u+=1)this.addLine(h[u],t,o,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,n,r)},ks.prototype.addLine=function(t,e,i,r,n,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var o=0;o<t.length-1;o++)this.totalDistance+=t[o].dist(t[o+1]);this.updateScaledDistance()}for(var s="Polygon"===Us[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var c=0;c<l-1&&t[c].equals(t[c+1]);)c++;if(!(l<(s?3:2))){"bevel"===i&&(n=1.05);var u,h=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),d=void 0,f=void 0,b=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=t[c].sub(u=t[l-2])._unit()._perp());for(var g=c;g<l;g++)if(!(f=g===l-1?s?t[c+1]:void 0:t[g+1])||!t[g].equals(f)){m&&(b=m),u&&(d=u),u=t[g],m=f?f.sub(u)._unit()._perp():b;var y=(b=b||m).add(m);0===y.x&&0===y.y||y._unit();var v=b.x*m.x+b.y*m.y,_=y.x*m.x+y.y*m.y,x=0!==_?1/_:1/0,w=2*Math.sqrt(2-2*_),V=_<Ss&&d&&f,C=b.x*m.y-b.y*m.x>0;if(V&&g>c){var P=u.dist(d);if(P>2*h){var U=u.sub(u.sub(d)._mult(h/P)._round());this.updateDistance(d,U),this.addCurrentVertex(U,b,0,0,p),d=U}}var S=d&&f,T=S?i:s?"butt":r;if(S&&"round"===T&&(x<a?T="miter":x<=2&&(T="fakeround")),"miter"===T&&x>n&&(T="bevel"),"bevel"===T&&(x>2&&(T="flipbevel"),x<n&&(T="miter")),d&&this.updateDistance(d,u),"miter"===T)y._mult(x),this.addCurrentVertex(u,y,0,0,p);else if("flipbevel"===T){if(x>100)y=m.mult(-1);else{var k=x*b.add(m).mag()/b.sub(m).mag();y._perp()._mult(k*(C?-1:1))}this.addCurrentVertex(u,y,0,0,p),this.addCurrentVertex(u,y.mult(-1),0,0,p)}else if("bevel"===T||"fakeround"===T){var I=-Math.sqrt(x*x-1),A=C?I:0,O=C?0:I;if(d&&this.addCurrentVertex(u,b,A,O,p),"fakeround"===T)for(var D=Math.round(180*w/Math.PI/20),M=1;M<D;M++){var F=M/D;if(.5!==F){var E=F-.5;F+=F*E*(F-1)*((1.0904+v*(v*(3.55645-1.43519*v)-3.2452))*E*E+(.848013+v*(.215638*v-1.06021)))}var R=m.sub(b)._mult(F)._add(b)._unit()._mult(C?-1:1);this.addHalfVertex(u,R.x,R.y,!1,C,0,p)}f&&this.addCurrentVertex(u,m,-A,-O,p)}else if("butt"===T)this.addCurrentVertex(u,y,0,0,p);else if("square"===T){var L=d?1:-1;this.addCurrentVertex(u,y,L,L,p)}else"round"===T&&(d&&(this.addCurrentVertex(u,b,0,0,p),this.addCurrentVertex(u,b,1,1,p,!0)),f&&(this.addCurrentVertex(u,m,-1,-1,p,!0),this.addCurrentVertex(u,m,0,0,p)));if(V&&g<l-1){var H=u.dist(f);if(H>2*h){var j=u.add(f.sub(u)._mult(h/H)._round());this.updateDistance(u,j),this.addCurrentVertex(j,m,0,0,p),u=j}}}}},ks.prototype.addCurrentVertex=function(t,e,i,r,n,a){void 0===a&&(a=!1);var o=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*i,e.y-e.x*i,a,!1,i,n),this.addHalfVertex(t,o,s,a,!0,-r,n),this.distance>Ts/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,i,r,n,a))},ks.prototype.addHalfVertex=function(t,e,i,r,n,a,o){var s=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(n?1:0),Math.round(63*e)+128,Math.round(63*i)+128,1+(0===a?0:a<0?-1:1)|(63&s)<<2,s>>6);var l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),n?this.e2=l:this.e1=l},ks.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Ts-1):this.distance},ks.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Mr("LineBucket",ks,{omit:["layers","patternFeatures"]});var Is=new yn({"line-cap":new dn(Ut.layout_line["line-cap"]),"line-join":new fn(Ut.layout_line["line-join"]),"line-miter-limit":new dn(Ut.layout_line["line-miter-limit"]),"line-round-limit":new dn(Ut.layout_line["line-round-limit"]),"line-sort-key":new fn(Ut.layout_line["line-sort-key"])}),As={paint:new yn({"line-opacity":new fn(Ut.paint_line["line-opacity"]),"line-color":new fn(Ut.paint_line["line-color"]),"line-translate":new dn(Ut.paint_line["line-translate"]),"line-translate-anchor":new dn(Ut.paint_line["line-translate-anchor"]),"line-width":new fn(Ut.paint_line["line-width"]),"line-gap-width":new fn(Ut.paint_line["line-gap-width"]),"line-offset":new fn(Ut.paint_line["line-offset"]),"line-blur":new fn(Ut.paint_line["line-blur"]),"line-dasharray":new mn(Ut.paint_line["line-dasharray"]),"line-pattern":new bn(Ut.paint_line["line-pattern"]),"line-gradient":new gn(Ut.paint_line["line-gradient"])}),layout:Is},Os=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,i){return i=new nn(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,zoomHistory:i.zoomHistory,transition:i.transition}),t.prototype.possiblyEvaluate.call(this,e,i)},e.prototype.evaluate=function(e,i,r,n){return i=u({},i,{zoom:Math.floor(i.zoom)}),t.prototype.evaluate.call(this,e,i,r,n)},e}(fn))(As.paint.properties["line-width"].specification);Os.useIntegerZoom=!0;var Ds=function(t){function e(e){t.call(this,e,As)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=mo(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e,i){t.prototype.recalculate.call(this,e,i),this.paint._values["line-floorwidth"]=Os.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new ks(t)},e.prototype.queryRadius=function(t){var e=t,i=Ms(Ka("line-width",this,e),Ka("line-gap-width",this,e)),r=Ka("line-offset",this,e);return i/2+Math.abs(r)+Ja(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,a,o,s){var l=Za(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),c=s/2*Ms(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),u=this.paint.get("line-offset").evaluate(e,i);return u&&(r=function(t,e){for(var i=[],r=new n(0,0),a=0;a<t.length;a++){for(var o=t[a],s=[],l=0;l<o.length;l++){var c=o[l],u=o[l+1],h=0===l?r:c.sub(o[l-1])._unit()._perp(),p=l===o.length-1?r:u.sub(c)._unit()._perp(),d=h._add(p)._unit();d._mult(1/(d.x*p.x+d.y*p.y)),s.push(d._mult(e)._add(c))}i.push(s)}return i}(r,u*s)),function(t,e,i){for(var r=0;r<e.length;r++){var n=e[r];if(t.length>=3)for(var a=0;a<n.length;a++)if(Ya(t,n[a]))return!0;if(za(t,n,i))return!0}return!1}(l,r,c)},e.prototype.isTileClipped=function(){return!0},e}(vn);function Ms(t,e){return e>0?e+2*t:t}var Fs=Vn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Es=Vn([{name:"a_projected_pos",components:3,type:"Float32"}],4),Rs=(Vn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Vn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ls=(Vn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Vn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function js(t,e,i){return t.sections.forEach((function(t){t.text=function(t,e,i){var r=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),rn.applyArabicShaping&&(t=rn.applyArabicShaping(t)),t}(t.text,e,i)})),t}Vn([{name:"triangle",components:3,type:"Uint16"}]),Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Vn([{type:"Float32",name:"offsetX"}]),Vn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Bs=function(t,e,i,r,n){var a,o,s=8*n-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=i?n-1:0,p=i?-1:1,d=t[e+h];for(h+=p,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+t[e+h],h+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+t[e+h],h+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=c}return(d?-1:1)*o*Math.pow(2,a-r)},Ns=function(t,e,i,r,n,a){var o,s,l,c=8*a-n-1,u=(1<<c)-1,h=u>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,f=r?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(e*l-1)*Math.pow(2,n),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[i+d]=255&s,d+=f,s/=256,n-=8);for(o=o<<n|s,c+=n;c>0;t[i+d]=255&o,d+=f,o/=256,c-=8);t[i+d-f]|=128*b},Xs=Ws;function Ws(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Ws.Varint=0,Ws.Fixed64=1,Ws.Bytes=2,Ws.Fixed32=5;var Gs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ys(t){return t.type===Ws.Bytes?t.readVarint()+t.pos:t.pos+1}function qs(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Ks(t,e,i){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=t;n--)i.buf[n+r]=i.buf[n]}function Js(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Zs(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Qs(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function $s(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function tl(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function el(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function il(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function rl(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function nl(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function al(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ol(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function sl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function ll(t,e,i){1===t&&i.readMessage(cl,e)}function cl(t,e,i){if(3===t){var r=i.readMessage(ul,{}),n=r.width,a=r.height,o=r.left,s=r.top,l=r.advance;e.push({id:r.id,bitmap:new po({width:n+6,height:a+6},r.bitmap),metrics:{width:n,height:a,left:o,top:s,advance:l}})}}function ul(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function hl(t){for(var e=0,i=0,r=0,n=t;r<n.length;r+=1){var a=n[r];e+=a.w*a.h,i=Math.max(i,a.w)}t.sort((function(t,e){return e.h-t.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}],s=0,l=0,c=0,u=t;c<u.length;c+=1)for(var h=u[c],p=o.length-1;p>=0;p--){var d=o[p];if(!(h.w>d.w||h.h>d.h)){if(h.x=d.x,h.y=d.y,l=Math.max(l,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===d.w&&h.h===d.h){var f=o.pop();p<o.length&&(o[p]=f)}else h.h===d.h?(d.x+=h.w,d.w-=h.w):h.w===d.w?(d.y+=h.h,d.h-=h.h):(o.push({x:d.x+h.w,y:d.y,w:d.w-h.w,h:h.h}),d.y+=h.h,d.h-=h.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}Ws.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,a=this.pos;this.type=7&r,t(n,e,this),this.pos===a&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=al(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=sl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=al(this.buf,this.pos)+4294967296*al(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=al(this.buf,this.pos)+4294967296*sl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Bs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Bs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,r=this.buf;return e=127&(i=r[this.pos++]),i<128?e:(e|=(127&(i=r[this.pos++]))<<7,i<128?e:(e|=(127&(i=r[this.pos++]))<<14,i<128?e:(e|=(127&(i=r[this.pos++]))<<21,i<128?e:function(t,e,i){var r,n,a=i.buf;if(r=(112&(n=a[i.pos++]))>>4,n<128)return qs(t,r,e);if(r|=(127&(n=a[i.pos++]))<<3,n<128)return qs(t,r,e);if(r|=(127&(n=a[i.pos++]))<<10,n<128)return qs(t,r,e);if(r|=(127&(n=a[i.pos++]))<<17,n<128)return qs(t,r,e);if(r|=(127&(n=a[i.pos++]))<<24,n<128)return qs(t,r,e);if(r|=(1&(n=a[i.pos++]))<<31,n<128)return qs(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Gs?function(t,e,i){return Gs.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var r="",n=e;n<i;){var a,o,s,l=t[n],c=null,u=l>239?4:l>223?3:l>191?2:1;if(n+u>i)break;1===u?l<128&&(c=l):2===u?128==(192&(a=t[n+1]))&&(c=(31&l)<<6|63&a)<=127&&(c=null):3===u?(o=t[n+2],128==(192&(a=t[n+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=t[n+2],s=t[n+3],128==(192&(a=t[n+1]))&&128==(192&o)&&128==(192&s)&&((c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),n+=u}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Ws.Bytes)return t.push(this.readVarint(e));var i=Ys(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Ws.Bytes)return t.push(this.readSVarint());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Ws.Bytes)return t.push(this.readBoolean());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Ws.Bytes)return t.push(this.readFloat());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Ws.Bytes)return t.push(this.readDouble());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Ws.Bytes)return t.push(this.readFixed32());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Ws.Bytes)return t.push(this.readSFixed32());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Ws.Bytes)return t.push(this.readFixed64());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Ws.Bytes)return t.push(this.readSFixed64());var e=Ys(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Ws.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ws.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ws.Fixed32)this.pos+=4;else{if(e!==Ws.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),ol(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),ol(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),ol(this.buf,-1&t,this.pos),ol(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),ol(this.buf,-1&t,this.pos),ol(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,r;if(t>=0?(i=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,i.buf[i.pos]=127&(t>>>=7)}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var r,n,a=0;a<e.length;a++){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){r>56319||a+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):n=r;continue}if(r<56320){t[i++]=239,t[i++]=191,t[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null}else n&&(t[i++]=239,t[i++]=191,t[i++]=189,n=null);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Ks(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),Ns(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Ns(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var r=this.pos-i;r>=128&&Ks(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,i){this.writeTag(t,Ws.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Js,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Zs,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,tl,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Qs,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,$s,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,el,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,il,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,rl,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,nl,e)},writeBytesField:function(t,e){this.writeTag(t,Ws.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Ws.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Ws.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Ws.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Ws.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Ws.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Ws.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Ws.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Ws.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Ws.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var pl=function(t,e){var i=e.pixelRatio,r=e.version,n=e.stretchX,a=e.stretchY,o=e.content;this.paddedRect=t,this.pixelRatio=i,this.stretchX=n,this.stretchY=a,this.content=o,this.version=r},dl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};dl.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},dl.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},dl.tlbr.get=function(){return this.tl.concat(this.br)},dl.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(pl.prototype,dl);var fl=function(t,e){var i={},r={};this.haveRenderCallbacks=[];var n=[];this.addImages(t,i,n),this.addImages(e,r,n);var a=hl(n),o=new fo({width:a.w||1,height:a.h||1});for(var s in t){var l=t[s],c=i[s].paddedRect;fo.copy(l.data,o,{x:0,y:0},{x:c.x+1,y:c.y+1},l.data)}for(var u in e){var h=e[u],p=r[u].paddedRect,d=p.x+1,f=p.y+1,b=h.data.width,m=h.data.height;fo.copy(h.data,o,{x:0,y:0},{x:d,y:f},h.data),fo.copy(h.data,o,{x:0,y:m-1},{x:d,y:f-1},{width:b,height:1}),fo.copy(h.data,o,{x:0,y:0},{x:d,y:f+m},{width:b,height:1}),fo.copy(h.data,o,{x:b-1,y:0},{x:d-1,y:f},{width:1,height:m}),fo.copy(h.data,o,{x:0,y:0},{x:d+b,y:f},{width:1,height:m})}this.image=o,this.iconPositions=i,this.patternPositions=r};fl.prototype.addImages=function(t,e,i){for(var r in t){var n=t[r],a={x:0,y:0,w:n.data.width+2,h:n.data.height+2};i.push(a),e[r]=new pl(a,n),n.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},fl.prototype.patchUpdatedImages=function(t,e){for(var i in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[i],t.getImage(i),e),this.patchUpdatedImage(this.patternPositions[i],t.getImage(i),e)},fl.prototype.patchUpdatedImage=function(t,e,i){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;i.update(e.data,void 0,{x:r[0],y:r[1]})}},Mr("ImagePosition",pl),Mr("ImageAtlas",fl);var bl={horizontal:1,vertical:2,horizontalOnly:3},ml=function(){this.scale=1,this.fontStack="",this.imageName=null};ml.forText=function(t,e){var i=new ml;return i.scale=t||1,i.fontStack=e,i},ml.forImage=function(t){var e=new ml;return e.imageName=t,e};var gl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function yl(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b){var m,g=gl.fromFeature(t,n);h===bl.vertical&&g.verticalizePunctuation();var y=rn.processBidirectionalText,v=rn.processStyledBidirectionalText;if(y&&1===g.sections.length){m=[];for(var _=0,x=y(g.toString(),Pl(g,c,a,e,r,d,f));_<x.length;_+=1){var w=x[_],V=new gl;V.text=w,V.sections=g.sections;for(var C=0;C<w.length;C++)V.sectionIndex.push(0);m.push(V)}}else if(v){m=[];for(var P=0,U=v(g.text,g.sectionIndex,Pl(g,c,a,e,r,d,f));P<U.length;P+=1){var S=U[P],T=new gl;T.text=S[0],T.sectionIndex=S[1],T.sections=g.sections,m.push(T)}}else m=function(t,e){for(var i=[],r=t.text,n=0,a=0,o=e;a<o.length;a+=1){var s=o[a];i.push(t.substring(n,s)),n=s}return n<r.length&&i.push(t.substring(n,r.length)),i}(g,Pl(g,c,a,e,r,d,f));var k=[],I={positionedLines:k,text:g.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,e,i,r,n,a,o,s,l,c,u,h){for(var p=0,d=-17,f=0,b=0,m="right"===s?1:"left"===s?0:.5,g=0,y=0,v=n;y<v.length;y+=1){var _=v[y];_.trim();var x=_.getMaxScale(),w=24*(x-1),V={positionedGlyphs:[],lineOffset:0};t.positionedLines[g]=V;var C=V.positionedGlyphs,P=0;if(_.length()){for(var U=0;U<_.length();U++){var S=_.getSection(U),T=_.getSectionIndex(U),k=_.getCharCode(U),I=0,A=null,O=null,D=null,M=24,F=!(l===bl.horizontal||!u&&!Nr(k)||u&&(vl[k]||(X=k,zr.Arabic(X)||zr["Arabic Supplement"](X)||zr["Arabic Extended-A"](X)||zr["Arabic Presentation Forms-A"](X)||zr["Arabic Presentation Forms-B"](X))));if(S.imageName){var E=r[S.imageName];if(!E)continue;D=S.imageName,t.iconsInText=t.iconsInText||!0,O=E.paddedRect;var R=E.displaySize;S.scale=24*S.scale/h,I=w+(24-R[1]*S.scale),M=(A={width:R[0],height:R[1],left:1,top:-3,advance:F?R[1]:R[0]}).advance;var L=F?R[0]*S.scale-24*x:R[1]*S.scale-24*x;L>0&&L>P&&(P=L)}else{var H=i[S.fontStack],j=H&&H[k];if(j&&j.rect)O=j.rect,A=j.metrics;else{var z=e[S.fontStack],B=z&&z[k];if(!B)continue;A=B.metrics}I=24*(x-S.scale)}F?(t.verticalizable=!0,C.push({glyph:k,imageName:D,x:p,y:d+I,vertical:F,scale:S.scale,fontStack:S.fontStack,sectionIndex:T,metrics:A,rect:O}),p+=M*S.scale+c):(C.push({glyph:k,imageName:D,x:p,y:d+I,vertical:F,scale:S.scale,fontStack:S.fontStack,sectionIndex:T,metrics:A,rect:O}),p+=A.advance*S.scale+c)}0!==C.length&&(f=Math.max(p-c,f),Sl(C,0,C.length-1,m,P)),p=0;var N=a*x+P;V.lineOffset=Math.max(P,w),d+=N,b=Math.max(N,b),++g}else d+=a,++g}var X,W=d- -17,G=Ul(o),Y=G.horizontalAlign,q=G.verticalAlign;(function(t,e,i,r,n,a,o,s,l){var c,u=(e-i)*n;c=a!==o?-s*r- -17:(-r*l+.5)*o;for(var h=0,p=t;h<p.length;h+=1)for(var d=0,f=p[h].positionedGlyphs;d<f.length;d+=1){var b=f[d];b.x+=u,b.y+=c}})(t.positionedLines,m,Y,q,f,b,a,W,n.length),t.top+=-q*W,t.bottom=t.top+W,t.left+=-Y*f,t.right=t.left+f}(I,e,i,r,m,o,s,l,h,c,p,b),!function(t){for(var e=0,i=t;e<i.length;e+=1)if(0!==i[e].positionedGlyphs.length)return!1;return!0}(k)&&I}gl.fromFeature=function(t,e){for(var i=new gl,r=0;r<t.sections.length;r++){var n=t.sections[r];n.image?i.addImageSection(n):i.addTextSection(n,e)}return i},gl.prototype.length=function(){return this.text.length},gl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},gl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},gl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},gl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",i=0;i<t.length;i++){var r=t.charCodeAt(i+1)||null,n=t.charCodeAt(i-1)||null;e+=r&&Xr(r)&&!zs[t[i+1]]||n&&Xr(n)&&!zs[t[i-1]]||!zs[t[i]]?t[i]:zs[t[i]]}return e}(this.text)},gl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&vl[this.text.charCodeAt(e)];e++)t++;for(var i=this.text.length,r=this.text.length-1;r>=0&&r>=t&&vl[this.text.charCodeAt(r)];r--)i--;this.text=this.text.substring(t,i),this.sectionIndex=this.sectionIndex.slice(t,i)},gl.prototype.substring=function(t,e){var i=new gl;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i},gl.prototype.toString=function(){return this.text},gl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,i){return Math.max(e,t.sections[i].scale)}),0)},gl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(ml.forText(t.scale,t.fontStack||e));for(var i=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(i)},gl.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(ml.forImage(e)),this.sectionIndex.push(this.sections.length-1)):x("Reached maximum number of images 6401")}else x("Can't add FormattedSection with an empty image.")},gl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var vl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_l={};function xl(t,e,i,r,n,a){if(e.imageName){var o=r[e.imageName];return o?o.displaySize[0]*e.scale*24/a+n:0}var s=i[e.fontStack],l=s&&s[t];return l?l.metrics.advance*e.scale+n:0}function wl(t,e,i,r){var n=Math.pow(t-e,2);return r?t<e?n/2:2*n:n+Math.abs(i)*i}function Vl(t,e,i){var r=0;return 10===t&&(r-=1e4),i&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Cl(t,e,i,r,n,a){for(var o=null,s=wl(e,i,n,a),l=0,c=r;l<c.length;l+=1){var u=c[l],h=wl(e-u.x,i,n,a)+u.badness;h<=s&&(o=u,s=h)}return{index:t,x:e,priorBreak:o,badness:s}}function Pl(t,e,i,r,n,a,o){if("point"!==a)return[];if(!t)return[];for(var s,l=[],c=function(t,e,i,r,n,a){for(var o=0,s=0;s<t.length();s++){var l=t.getSection(s);o+=xl(t.getCharCode(s),l,r,n,e,a)}return o/Math.max(1,Math.ceil(o/i))}(t,e,i,r,n,o),u=t.text.indexOf("\u200b")>=0,h=0,p=0;p<t.length();p++){var d=t.getSection(p),f=t.getCharCode(p);if(vl[f]||(h+=xl(f,d,r,n,e,o)),p<t.length()-1){var b=!((s=f)<11904||!(zr["Bopomofo Extended"](s)||zr.Bopomofo(s)||zr["CJK Compatibility Forms"](s)||zr["CJK Compatibility Ideographs"](s)||zr["CJK Compatibility"](s)||zr["CJK Radicals Supplement"](s)||zr["CJK Strokes"](s)||zr["CJK Symbols and Punctuation"](s)||zr["CJK Unified Ideographs Extension A"](s)||zr["CJK Unified Ideographs"](s)||zr["Enclosed CJK Letters and Months"](s)||zr["Halfwidth and Fullwidth Forms"](s)||zr.Hiragana(s)||zr["Ideographic Description Characters"](s)||zr["Kangxi Radicals"](s)||zr["Katakana Phonetic Extensions"](s)||zr.Katakana(s)||zr["Vertical Forms"](s)||zr["Yi Radicals"](s)||zr["Yi Syllables"](s)));(_l[f]||b||d.imageName)&&l.push(Cl(p+1,h,c,l,Vl(f,t.getCharCode(p+1),b&&u),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Cl(t.length(),h,c,l,0,!0))}function Ul(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function Sl(t,e,i,r,n){if(r||n)for(var a=t[i],o=(t[i].x+a.metrics.advance*a.scale)*r,s=e;s<=i;s++)t[s].x-=o,t[s].y+=n}function Tl(t,e,i,r,n,a){var o,s=t.image;if(s.content){var l=s.content,c=s.pixelRatio||1;o=[l[0]/c,l[1]/c,s.displaySize[0]-l[2]/c,s.displaySize[1]-l[3]/c]}var u,h,p,d,f=e.left*a,b=e.right*a;"width"===i||"both"===i?(d=n[0]+f-r[3],h=n[0]+b+r[1]):h=(d=n[0]+(f+b-s.displaySize[0])/2)+s.displaySize[0];var m=e.top*a,g=e.bottom*a;return"height"===i||"both"===i?(u=n[1]+m-r[0],p=n[1]+g+r[2]):p=(u=n[1]+(m+g-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:h,bottom:p,left:d,collisionPadding:o}}_l[10]=!0,_l[32]=!0,_l[38]=!0,_l[40]=!0,_l[41]=!0,_l[43]=!0,_l[45]=!0,_l[47]=!0,_l[173]=!0,_l[183]=!0,_l[8203]=!0,_l[8208]=!0,_l[8211]=!0,_l[8231]=!0;var kl=function(t){function e(e,i,r,n){t.call(this,e,i),this.angle=r,void 0!==n&&(this.segment=n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(n);function Il(t,e){var i=e.expression;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new nn(t+1))};if("source"===i.kind)return{kind:"source"};for(var r=i.zoomStops,n=i.interpolationType,a=0;a<r.length&&r[a]<=t;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var s=r[a],l=r[o];return"composite"===i.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:n}:{kind:"camera",minZoom:s,maxZoom:l,minSize:i.evaluate(new nn(s)),maxSize:i.evaluate(new nn(l)),interpolationType:n}}function Al(t,e,i){var r=e.uSize,n=i.lowerSize;return"source"===t.kind?n/128:"composite"===t.kind?ze(n/128,i.upperSize/128,e.uSizeT):r}function Ol(t,e){var i=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var n=t.interpolationType,a=n?l(ii.interpolationFactor(n,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=ze(t.minSize,t.maxSize,a):i=a}return{uSizeT:i,uSize:r}}Mr("Anchor",kl);var Dl=Object.freeze({__proto__:null,getSizeData:Il,evaluateSizeForFeature:Al,evaluateSizeForZoom:Ol,SIZE_PACK_FACTOR:128});function Ml(t,e,i,r,n){if(void 0===e.segment)return!0;for(var a=e,o=e.segment+1,s=0;s>-i/2;){if(--o<0)return!1;s-=t[o].dist(a),a=t[o]}s+=t[o].dist(t[o+1]),o++;for(var l=[],c=0;s<i/2;){var u=t[o],h=t[o+1];if(!h)return!1;var p=t[o-1].angleTo(u)-u.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),c+=p;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>n)return!1;o++,s+=u.dist(h)}return!0}function Fl(t){for(var e=0,i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function El(t,e,i){return t?.6*e*i:0}function Rl(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Ll(t,e,i,r,n,a){for(var o=El(i,n,a),s=Rl(i,r)*a,l=0,c=Fl(t)/2,u=0;u<t.length-1;u++){var h=t[u],p=t[u+1],d=h.dist(p);if(l+d>c){var f=(c-l)/d,b=ze(h.x,p.x,f),m=ze(h.y,p.y,f),g=new kl(b,m,p.angleTo(h),u);return g._round(),!o||Ml(t,g,s,o,e)?g:void 0}l+=d}}function Hl(t,e,i,r,n,a,o,s,l){var c=El(r,a,o),u=Rl(r,n),h=u*o,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),function t(e,i,r,n,a,o,s,l,c){for(var u=o/2,h=Fl(e),p=0,d=i-r,f=[],b=0;b<e.length-1;b++){for(var m=e[b],g=e[b+1],y=m.dist(g),v=g.angleTo(m);d+r<p+y;){var _=((d+=r)-p)/y,x=ze(m.x,g.x,_),w=ze(m.y,g.y,_);if(x>=0&&x<c&&w>=0&&w<c&&d-u>=0&&d+u<=h){var V=new kl(x,w,v,b);V._round(),n&&!Ml(e,V,o,n,a)||f.push(V)}}p+=y}return l||f.length||s||(f=t(e,p/2,r,n,a,o,s,!0,c)),f}(t,p?e/2*s%e:(u/2+2*a)*o*s%e,e,c,i,h,p,!1,l)}function jl(t,e,i,r,a){for(var o=[],s=0;s<t.length;s++)for(var l=t[s],c=void 0,u=0;u<l.length-1;u++){var h=l[u],p=l[u+1];h.x<e&&p.x<e||(h.x<e?h=new n(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x<e&&(p=new n(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y<i&&p.y<i||(h.y<i?h=new n(h.x+(i-h.y)/(p.y-h.y)*(p.x-h.x),i)._round():p.y<i&&(p=new n(h.x+(i-h.y)/(p.y-h.y)*(p.x-h.x),i)._round()),h.x>=r&&p.x>=r||(h.x>=r?h=new n(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x>=r&&(p=new n(r,h.y+(r-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y>=a&&p.y>=a||(h.y>=a?h=new n(h.x+(a-h.y)/(p.y-h.y)*(p.x-h.x),a)._round():p.y>=a&&(p=new n(h.x+(a-h.y)/(p.y-h.y)*(p.x-h.x),a)._round()),c&&h.equals(c[c.length-1])||o.push(c=[h]),c.push(p)))))}return o}function zl(t,e,i,r){var a=[],o=t.image,s=o.pixelRatio,l=o.paddedRect.w-2,c=o.paddedRect.h-2,u=t.right-t.left,h=t.bottom-t.top,p=o.stretchX||[[0,l]],d=o.stretchY||[[0,c]],f=function(t,e){return t+e[1]-e[0]},b=p.reduce(f,0),m=d.reduce(f,0),g=l-b,y=c-m,v=0,_=b,x=0,w=m,V=0,C=g,P=0,U=y;if(o.content&&r){var S=o.content;v=Bl(p,0,S[0]),x=Bl(d,0,S[1]),_=Bl(p,S[0],S[2]),w=Bl(d,S[1],S[3]),V=S[0]-v,P=S[1]-x,C=S[2]-S[0]-_,U=S[3]-S[1]-w}var T=function(r,a,l,c){var p=Xl(r.stretch-v,_,u,t.left),d=Wl(r.fixed-V,C,r.stretch,b),f=Xl(a.stretch-x,w,h,t.top),g=Wl(a.fixed-P,U,a.stretch,m),y=Xl(l.stretch-v,_,u,t.left),S=Wl(l.fixed-V,C,l.stretch,b),T=Xl(c.stretch-x,w,h,t.top),k=Wl(c.fixed-P,U,c.stretch,m),I=new n(p,f),A=new n(y,f),O=new n(y,T),D=new n(p,T),M=new n(d/s,g/s),F=new n(S/s,k/s),E=e*Math.PI/180;if(E){var R=Math.sin(E),L=Math.cos(E),H=[L,-R,R,L];I._matMult(H),A._matMult(H),D._matMult(H),O._matMult(H)}var j=r.stretch+r.fixed,z=a.stretch+a.fixed;return{tl:I,tr:A,bl:D,br:O,tex:{x:o.paddedRect.x+1+j,y:o.paddedRect.y+1+z,w:l.stretch+l.fixed-j,h:c.stretch+c.fixed-z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:M,pixelOffsetBR:F,minFontScaleX:C/s/u,minFontScaleY:U/s/h,isSDF:i}};if(r&&(o.stretchX||o.stretchY))for(var k=Nl(p,g,b),I=Nl(d,y,m),A=0;A<k.length-1;A++)for(var O=k[A],D=k[A+1],M=0;M<I.length-1;M++)a.push(T(O,I[M],D,I[M+1]));else a.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return a}function Bl(t,e,i){for(var r=0,n=0,a=t;n<a.length;n+=1){var o=a[n];r+=Math.max(e,Math.min(i,o[1]))-Math.max(e,Math.min(i,o[0]))}return r}function Nl(t,e,i){for(var r=[{fixed:-1,stretch:0}],n=0,a=t;n<a.length;n+=1){var o=a[n],s=o[0],l=o[1],c=r[r.length-1];r.push({fixed:s-c.stretch,stretch:c.stretch}),r.push({fixed:s-c.stretch,stretch:c.stretch+(l-s)})}return r.push({fixed:e+1,stretch:i}),r}function Xl(t,e,i,r){return t/e*i+r}function Wl(t,e,i,r){return t-e*i/r}var Gl=function(t,e,i,r,a,o,s,l,c,u){if(this.boxStartIndex=t.length,c){var h=o.top,p=o.bottom,d=o.collisionPadding;d&&(h-=d[1],p+=d[3]);var f=p-h;f>0&&(f=Math.max(10,f),this.circleDiameter=f)}else{var b=o.top*s-l,m=o.bottom*s+l,g=o.left*s-l,y=o.right*s+l,v=o.collisionPadding;if(v&&(g-=v[0]*s,b-=v[1]*s,y+=v[2]*s,m+=v[3]*s),u){var _=new n(g,b),x=new n(y,b),w=new n(g,m),V=new n(y,m),C=u*Math.PI/180;_._rotate(C),x._rotate(C),w._rotate(C),V._rotate(C),g=Math.min(_.x,x.x,w.x,V.x),y=Math.max(_.x,x.x,w.x,V.x),b=Math.min(_.y,x.y,w.y,V.y),m=Math.max(_.y,x.y,w.y,V.y)}t.emplaceBack(e.x,e.y,g,b,y,m,i,r,a)}this.boxEndIndex=t.length},Yl=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=ql),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)};function ql(t,e){return t<e?-1:t>e?1:0}function Kl(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);for(var r=1/0,a=1/0,o=-1/0,s=-1/0,l=t[0],c=0;c<l.length;c++){var u=l[c];(!c||u.x<r)&&(r=u.x),(!c||u.y<a)&&(a=u.y),(!c||u.x>o)&&(o=u.x),(!c||u.y>s)&&(s=u.y)}var h=Math.min(o-r,s-a),p=h/2,d=new Yl([],Jl);if(0===h)return new n(r,a);for(var f=r;f<o;f+=h)for(var b=a;b<s;b+=h)d.push(new Zl(f+p,b+p,p,t));for(var m=function(t){for(var e=0,i=0,r=0,n=t[0],a=0,o=n.length,s=o-1;a<o;s=a++){var l=n[a],c=n[s],u=l.x*c.y-c.x*l.y;i+=(l.x+c.x)*u,r+=(l.y+c.y)*u,e+=3*u}return new Zl(i/e,r/e,0,t)}(t),g=d.length;d.length;){var y=d.pop();(y.d>m.d||!m.d)&&(m=y,i&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,g)),y.max-m.d<=e||(d.push(new Zl(y.p.x-(p=y.h/2),y.p.y-p,p,t)),d.push(new Zl(y.p.x+p,y.p.y-p,p,t)),d.push(new Zl(y.p.x-p,y.p.y+p,p,t)),d.push(new Zl(y.p.x+p,y.p.y+p,p,t)),g+=4)}return i&&(console.log("num probes: "+g),console.log("best distance: "+m.d)),m.p}function Jl(t,e){return e.max-t.max}function Zl(t,e,i,r){this.p=new n(t,e),this.h=i,this.d=function(t,e){for(var i=!1,r=1/0,n=0;n<e.length;n++)for(var a=e[n],o=0,s=a.length,l=s-1;o<s;l=o++){var c=a[o],u=a[l];c.y>t.y!=u.y>t.y&&t.x<(u.x-c.x)*(t.y-c.y)/(u.y-c.y)+c.x&&(i=!i),r=Math.min(r,Wa(t,c,u))}return(i?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}Yl.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Yl.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Yl.prototype.peek=function(){return this.data[0]},Yl.prototype._up=function(t){for(var e=this.data,i=this.compare,r=e[t];t>0;){var n=t-1>>1,a=e[n];if(i(r,a)>=0)break;e[t]=a,t=n}e[t]=r},Yl.prototype._down=function(t){for(var e=this.data,i=this.compare,r=this.length>>1,n=e[t];t<r;){var a=1+(t<<1),o=e[a],s=a+1;if(s<this.length&&i(e[s],o)<0&&(a=s,o=e[s]),i(o,n)>=0)break;e[t]=o,t=a}e[t]=n};var Ql=Number.POSITIVE_INFINITY;function $l(t,e){return e[1]!==Ql?function(t,e,i){var r=0,n=0;switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":n=i-7;break;case"bottom-right":case"bottom-left":case"bottom":n=7-i}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,n]}(t,e[0],e[1]):function(t,e){var i=0,r=0;e<0&&(e=0);var n=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=n-7;break;case"bottom-right":case"bottom-left":r=7-n;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":i=-n;break;case"top-left":case"bottom-left":i=n;break;case"left":i=e;break;case"right":i=-e}return[i,r]}(t,e[0])}function tc(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ec(t,e,i,r,a,o,s,l,c,u,h,p,d,f,b){var m=function(t,e,i,r,a,o,s,l){for(var c=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=[],h=0,p=e.positionedLines;h<p.length;h+=1)for(var d=p[h],f=0,b=d.positionedGlyphs;f<b.length;f+=1){var m=b[f];if(m.rect){var g=m.rect||{},y=4,v=!0,_=1,x=0,w=(a||l)&&m.vertical,V=m.metrics.advance*m.scale/2;if(l&&e.verticalizable&&(x=d.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var C=s[m.imageName];v=C.sdf,y=1/(_=C.pixelRatio)}var P=a?[m.x+V,m.y]:[0,0],U=a?[0,0]:[m.x+V+i[0],m.y+i[1]-x],S=[0,0];w&&(S=U,U=[0,0]);var T=(m.metrics.left-y)*m.scale-V+U[0],k=(-m.metrics.top-y)*m.scale+U[1],I=T+g.w*m.scale/_,A=k+g.h*m.scale/_,O=new n(T,k),D=new n(I,k),M=new n(T,A),F=new n(I,A);if(w){var E=new n(-V,V- -17),R=-Math.PI/2,L=12-V,H=new n(22-L,-(m.imageName?L:0)),j=new(Function.prototype.bind.apply(n,[null].concat(S)));O._rotateAround(R,E)._add(H)._add(j),D._rotateAround(R,E)._add(H)._add(j),M._rotateAround(R,E)._add(H)._add(j),F._rotateAround(R,E)._add(H)._add(j)}if(c){var z=Math.sin(c),B=Math.cos(c),N=[B,-z,z,B];O._matMult(N),D._matMult(N),M._matMult(N),F._matMult(N)}var X=new n(0,0),W=new n(0,0);u.push({tl:O,tr:D,bl:M,br:F,tex:g,writingMode:e.writingMode,glyphOffset:P,sectionIndex:m.sectionIndex,isSDF:v,pixelOffsetTL:X,pixelOffsetBR:W,minFontScaleX:0,minFontScaleY:0})}}return u}(0,i,l,a,o,s,r,t.allowVerticalPlacement),g=t.textSizeData,y=null;"source"===g.kind?(y=[128*a.layout.get("text-size").evaluate(s,{})])[0]>32640&&x(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===g.kind&&((y=[128*f.compositeTextSizes[0].evaluate(s,{},b),128*f.compositeTextSizes[1].evaluate(s,{},b)])[0]>32640||y[1]>32640)&&x(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,m,y,l,o,s,u,e,c.lineStartIndex,c.lineLength,d,b);for(var v=0,_=h;v<_.length;v+=1)p[_[v]]=t.text.placedSymbolArray.length-1;return 4*m.length}function ic(t){for(var e in t)return t[e];return null}function rc(t,e,i,r){var n=t.compareText;if(e in n){for(var a=n[e],o=a.length-1;o>=0;o--)if(r.dist(a[o])<i)return!0}else n[e]=[];return n[e].push(r),!1}var nc=bs.VectorTileFeature.types,ac=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function oc(t,e,i,r,n,a,o,s,l,c,u,h,p){var d=s?Math.min(32640,Math.round(s[0])):0,f=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,i,Math.round(32*r),Math.round(32*n),a,o,(d<<1)+(l?1:0),f,16*c,16*u,256*h,256*p)}function sc(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function lc(t){for(var e=0,i=t.sections;e<i.length;e+=1)if(Yr(i[e].text))return!0;return!1}var cc=function(t){this.layoutVertexArray=new In,this.indexArray=new Rn,this.programConfigurations=t,this.segments=new na,this.dynamicLayoutVertexArray=new An,this.opacityVertexArray=new On,this.placedSymbolArray=new Jn};cc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cc.prototype.upload=function(t,e,i,r){this.isEmpty()||(i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fs.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Es.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ac,!0),this.opacityVertexBuffer.itemSize=1),(i||r)&&this.programConfigurations.upload(t))},cc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Mr("SymbolBuffers",cc);var uc=function(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new na,this.collisionVertexArray=new En};uc.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Rs.members,!0)},uc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Mr("CollisionBuffers",uc);var hc=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=eo([]),this.placementViewportMatrix=eo([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Il(this.zoom,e["text-size"]),this.iconSizeData=Il(this.zoom,e["icon-size"]);var i=this.layers[0].layout,r=i.get("symbol-sort-key"),n=i.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==n&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===n||"auto"===n&&!this.sortFeaturesByKey)&&(i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement")),"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map((function(t){return bl[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};hc.prototype.createArrays=function(){this.text=new cc(new Aa(Fs.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new cc(new Aa(Fs.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new $n,this.lineVertexArray=new ta,this.symbolInstances=new Qn},hc.prototype.calculateGlyphDependencies=function(t,e,i,r,n){for(var a=0;a<t.length;a++)if(e[t.charCodeAt(a)]=!0,(i||r)&&n){var o=zs[t.charAt(a)];o&&(e[o.charCodeAt(0)]=!0)}},hc.prototype.populate=function(t,e,i){var r=this.layers[0],n=r.layout,a=n.get("text-font"),o=n.get("text-field"),s=n.get("icon-image"),l=("constant"!==o.value.kind||o.value.value instanceof te&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,u=n.get("symbol-sort-key");if(this.features=[],l||c){for(var h=e.iconDependencies,p=e.glyphDependencies,d=e.availableImages,f=new nn(this.zoom),b=0,m=t;b<m.length;b+=1){var g=m[b],y=g.feature,v=g.id,_=g.index,x=g.sourceLayerIndex,w=r._featureFilter.needGeometry,V={type:y.type,id:v,properties:y.properties,geometry:w?Fa(y):[]};if(r._featureFilter.filter(f,V,i)){w||(V.geometry=Fa(y));var C=void 0;if(l){var P=r.getValueAndResolveTokens("text-field",V,i,d),U=te.factory(P);lc(U)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===tn()||this.hasRTLText&&rn.isParsed())&&(C=js(U,r,V))}var S=void 0;if(c){var T=r.getValueAndResolveTokens("icon-image",V,i,d);S=T instanceof ee?T:ee.fromString(T)}if(C||S){var k=this.sortFeaturesByKey?u.evaluate(V,{},i):void 0,I={id:v,text:C,icon:S,index:_,sourceLayerIndex:x,geometry:Fa(y),properties:y.properties,type:nc[y.type],sortKey:k};if(this.features.push(I),S&&(h[S.name]=!0),C){var A=a.evaluate(V,{},i).join(","),O="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bl.vertical)>=0;for(var D=0,M=C.sections;D<M.length;D+=1){var F=M[D];if(F.image)h[F.image.name]=!0;else{var E=Br(C.toString()),R=F.fontStack||A,L=p[R]=p[R]||{};this.calculateGlyphDependencies(F.text,L,O,this.allowVerticalPlacement,E)}}}}}}"line"===n.get("symbol-placement")&&(this.features=function(t){var e={},i={},r=[],n=0;function a(e){r.push(t[e]),n++}function o(t,e,n){var a=i[t];return delete i[t],i[e]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(n[0]),a}function s(t,i,n){var a=e[i];return delete e[i],e[t]=a,r[a].geometry[0].shift(),r[a].geometry[0]=n[0].concat(r[a].geometry[0]),a}function l(t,e,i){var r=i?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var c=0;c<t.length;c++){var u=t[c],h=u.geometry,p=u.text?u.text.toString():null;if(p){var d=l(p,h),f=l(p,h,!0);if(d in i&&f in e&&i[d]!==e[f]){var b=s(d,f,h),m=o(d,f,r[b].geometry);delete e[d],delete i[f],i[l(p,r[m].geometry,!0)]=m,r[b].geometry=null}else d in i?o(d,f,h):f in e?s(d,f,h):(a(c),e[d]=n-1,i[f]=n-1)}else a(c)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},hc.prototype.update=function(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))},hc.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},hc.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},hc.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},hc.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},hc.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},hc.prototype.addToLineVertexArray=function(t,e){var i=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]),a={},o=t.segment+1;o<e.length;o++)a[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:r},o<e.length-1&&(r+=e[o+1].dist(e[o]));for(var s=t.segment||0;s>=0;s--)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:n},s>0&&(n+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var c=a[l];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}},hc.prototype.addSymbols=function(t,e,i,r,n,a,o,s,l,c,u,h){for(var p=t.indexArray,d=t.layoutVertexArray,f=t.segments.prepareSegment(4*e.length,d,p,a.sortKey),b=this.glyphOffsetArray.length,m=f.vertexLength,g=this.allowVerticalPlacement&&o===bl.vertical?Math.PI/2:0,y=a.text&&a.text.sections,v=0;v<e.length;v++){var _=e[v],x=_.tl,w=_.tr,V=_.bl,C=_.br,P=_.tex,U=_.pixelOffsetTL,S=_.pixelOffsetBR,T=_.minFontScaleX,k=_.minFontScaleY,I=_.glyphOffset,A=_.isSDF,O=_.sectionIndex,D=f.vertexLength,M=I[1];oc(d,s.x,s.y,x.x,M+x.y,P.x,P.y,i,A,U.x,U.y,T,k),oc(d,s.x,s.y,w.x,M+w.y,P.x+P.w,P.y,i,A,S.x,U.y,T,k),oc(d,s.x,s.y,V.x,M+V.y,P.x,P.y+P.h,i,A,U.x,S.y,T,k),oc(d,s.x,s.y,C.x,M+C.y,P.x+P.w,P.y+P.h,i,A,S.x,S.y,T,k),sc(t.dynamicLayoutVertexArray,s,g),p.emplaceBack(D,D+1,D+2),p.emplaceBack(D+1,D+2,D+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(I[0]),v!==e.length-1&&O===e[v+1].sectionIndex||t.programConfigurations.populatePaintArrays(d.length,a,a.index,{},h,y&&y[O])}t.placedSymbolArray.emplaceBack(s.x,s.y,b,this.glyphOffsetArray.length-b,m,l,c,s.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],o,0,!1,0,u)},hc.prototype._addCollisionDebugVertex=function(t,e,i,r,n,a){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,r,n,Math.round(a.x),Math.round(a.y))},hc.prototype.addCollisionDebugVertices=function(t,e,i,r,a,o,s){var l=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),c=l.vertexLength,u=a.layoutVertexArray,h=a.collisionVertexArray,p=s.anchorX,d=s.anchorY;this._addCollisionDebugVertex(u,h,o,p,d,new n(t,e)),this._addCollisionDebugVertex(u,h,o,p,d,new n(i,e)),this._addCollisionDebugVertex(u,h,o,p,d,new n(i,r)),this._addCollisionDebugVertex(u,h,o,p,d,new n(t,r)),l.vertexLength+=4;var f=a.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),l.primitiveLength+=4},hc.prototype.addDebugCollisionBoxes=function(t,e,i,r){for(var n=t;n<e;n++){var a=this.collisionBoxArray.get(n);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,i)}},hc.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new uc(Mn,Ls.members,Nn),this.iconCollisionBox=new uc(Mn,Ls.members,Nn);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},hc.prototype._deserializeCollisionBoxesForSymbol=function(t,e,i,r,n,a,o,s,l){for(var c={},u=e;u<i;u++){var h=t.get(u);c.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},c.textFeatureIndex=h.featureIndex;break}for(var p=r;p<n;p++){var d=t.get(p);c.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},c.verticalTextFeatureIndex=d.featureIndex;break}for(var f=a;f<o;f++){var b=t.get(f);c.iconBox={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,anchorPointX:b.anchorPointX,anchorPointY:b.anchorPointY},c.iconFeatureIndex=b.featureIndex;break}for(var m=s;m<l;m++){var g=t.get(m);c.verticalIconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},c.verticalIconFeatureIndex=g.featureIndex;break}return c},hc.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}},hc.prototype.hasTextData=function(){return this.text.segments.get().length>0},hc.prototype.hasIconData=function(){return this.icon.segments.get().length>0},hc.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},hc.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},hc.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},hc.prototype.addIndicesForPlacedSymbol=function(t,e){for(var i=t.placedSymbolArray.get(e),r=i.vertexStartIndex+4*i.numGlyphs,n=i.vertexStartIndex;n<r;n+=4)t.indexArray.emplaceBack(n,n+1,n+2),t.indexArray.emplaceBack(n+1,n+2,n+3)},hc.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),i=Math.cos(t),r=[],n=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(e*s.anchorX+i*s.anchorY)),n.push(s.featureIndex)}return a.sort((function(t,e){return r[t]-r[e]||n[e]-n[t]})),a},hc.prototype.addToSortKeyRanges=function(t,e){var i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===e?i.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},hc.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var i=0,r=this.symbolInstanceIndexes;i<r.length;i+=1){var n=this.symbolInstances.get(r[i]);this.featureSortOrder.push(n.featureIndex),[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach((function(t,i,r){t>=0&&r.indexOf(t)===i&&e.addIndicesForPlacedSymbol(e.text,t)})),n.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,n.verticalPlacedTextSymbolIndex),n.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,n.placedIconSymbolIndex),n.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,n.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Mr("SymbolBucket",hc,{omit:["layers","collisionBoxArray","features","compareText"]}),hc.MAX_GLYPHS=65535,hc.addDynamicAttributes=sc;var pc=new yn({"symbol-placement":new dn(Ut.layout_symbol["symbol-placement"]),"symbol-spacing":new dn(Ut.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new dn(Ut.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new fn(Ut.layout_symbol["symbol-sort-key"]),"symbol-z-order":new dn(Ut.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new dn(Ut.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new dn(Ut.layout_symbol["icon-ignore-placement"]),"icon-optional":new dn(Ut.layout_symbol["icon-optional"]),"icon-rotation-alignment":new dn(Ut.layout_symbol["icon-rotation-alignment"]),"icon-size":new fn(Ut.layout_symbol["icon-size"]),"icon-text-fit":new dn(Ut.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new dn(Ut.layout_symbol["icon-text-fit-padding"]),"icon-image":new fn(Ut.layout_symbol["icon-image"]),"icon-rotate":new fn(Ut.layout_symbol["icon-rotate"]),"icon-padding":new dn(Ut.layout_symbol["icon-padding"]),"icon-keep-upright":new dn(Ut.layout_symbol["icon-keep-upright"]),"icon-offset":new fn(Ut.layout_symbol["icon-offset"]),"icon-anchor":new fn(Ut.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new dn(Ut.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new dn(Ut.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new dn(Ut.layout_symbol["text-rotation-alignment"]),"text-field":new fn(Ut.layout_symbol["text-field"]),"text-font":new fn(Ut.layout_symbol["text-font"]),"text-size":new fn(Ut.layout_symbol["text-size"]),"text-max-width":new fn(Ut.layout_symbol["text-max-width"]),"text-line-height":new dn(Ut.layout_symbol["text-line-height"]),"text-letter-spacing":new fn(Ut.layout_symbol["text-letter-spacing"]),"text-justify":new fn(Ut.layout_symbol["text-justify"]),"text-radial-offset":new fn(Ut.layout_symbol["text-radial-offset"]),"text-variable-anchor":new dn(Ut.layout_symbol["text-variable-anchor"]),"text-anchor":new fn(Ut.layout_symbol["text-anchor"]),"text-max-angle":new dn(Ut.layout_symbol["text-max-angle"]),"text-writing-mode":new dn(Ut.layout_symbol["text-writing-mode"]),"text-rotate":new fn(Ut.layout_symbol["text-rotate"]),"text-padding":new dn(Ut.layout_symbol["text-padding"]),"text-keep-upright":new dn(Ut.layout_symbol["text-keep-upright"]),"text-transform":new fn(Ut.layout_symbol["text-transform"]),"text-offset":new fn(Ut.layout_symbol["text-offset"]),"text-allow-overlap":new dn(Ut.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new dn(Ut.layout_symbol["text-ignore-placement"]),"text-optional":new dn(Ut.layout_symbol["text-optional"])}),dc={paint:new yn({"icon-opacity":new fn(Ut.paint_symbol["icon-opacity"]),"icon-color":new fn(Ut.paint_symbol["icon-color"]),"icon-halo-color":new fn(Ut.paint_symbol["icon-halo-color"]),"icon-halo-width":new fn(Ut.paint_symbol["icon-halo-width"]),"icon-halo-blur":new fn(Ut.paint_symbol["icon-halo-blur"]),"icon-translate":new dn(Ut.paint_symbol["icon-translate"]),"icon-translate-anchor":new dn(Ut.paint_symbol["icon-translate-anchor"]),"text-opacity":new fn(Ut.paint_symbol["text-opacity"]),"text-color":new fn(Ut.paint_symbol["text-color"],{runtimeType:Lt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new fn(Ut.paint_symbol["text-halo-color"]),"text-halo-width":new fn(Ut.paint_symbol["text-halo-width"]),"text-halo-blur":new fn(Ut.paint_symbol["text-halo-blur"]),"text-translate":new dn(Ut.paint_symbol["text-translate"]),"text-translate-anchor":new dn(Ut.paint_symbol["text-translate-anchor"])}),layout:pc},fc=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Mt,this.defaultValue=t};fc.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},fc.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},fc.prototype.outputDefined=function(){return!1},fc.prototype.serialize=function(){return null},Mr("FormatSectionOverride",fc,{omit:["defaultValue"]});var bc=function(t){function e(e){t.call(this,e,dc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,i){if(t.prototype.recalculate.call(this,e,i),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var n=[],a=0,o=r;a<o.length;a+=1){var s=o[a];n.indexOf(s)<0&&n.push(s)}this.layout._values["text-writing-mode"]=n}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,i,r){var n=this.layout.get(t).evaluate(e,{},i,r),a=this._unevaluatedLayout._values[t];return a.isDataDriven()||Bi(a.value)||!n?n:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,i){return i in t?String(t[i]):""}))}(e.properties,n)},e.prototype.createBucket=function(t){return new hc(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,i=dc.paint.overridableProperties;t<i.length;t+=1){var r=i[t];if(e.hasPaintOverride(this.layout,r)){var n,a=this.paint.get(r),o=new fc(a),s=new zi(o,a.property.specification);n="constant"===a.value.kind||"source"===a.value.kind?new Xi("source",s):new Wi("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[r]=new hn(a.property,n,a.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,i,r){return!(!this.layout||i.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var i=t.get("text-field"),r=dc.paint.properties[e],n=!1,a=function(t){for(var e=0,i=t;e<i.length;e+=1)if(r.overrides&&r.overrides.hasOverride(i[e]))return void(n=!0)};if("constant"===i.value.kind&&i.value.value instanceof te)a(i.value.value.sections);else if("source"===i.value.kind){var o=function(t){n||(t instanceof oe&&ne(t.value)===Bt?a(t.value.sections):t instanceof ue?a(t.sections):t.eachChild(o))},s=i.value;s._styleExpression&&o(s._styleExpression.expression)}return n},e}(vn),mc={paint:new yn({"background-color":new dn(Ut.paint_background["background-color"]),"background-pattern":new mn(Ut.paint_background["background-pattern"]),"background-opacity":new dn(Ut.paint_background["background-opacity"])})},gc=function(t){function e(e){t.call(this,e,mc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(vn),yc={paint:new yn({"raster-opacity":new dn(Ut.paint_raster["raster-opacity"]),"raster-hue-rotate":new dn(Ut.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new dn(Ut.paint_raster["raster-brightness-min"]),"raster-brightness-max":new dn(Ut.paint_raster["raster-brightness-max"]),"raster-saturation":new dn(Ut.paint_raster["raster-saturation"]),"raster-contrast":new dn(Ut.paint_raster["raster-contrast"]),"raster-resampling":new dn(Ut.paint_raster["raster-resampling"]),"raster-fade-duration":new dn(Ut.paint_raster["raster-fade-duration"])})},vc=function(t){function e(e){t.call(this,e,yc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(vn),_c=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(vn),xc={circle:oo,heatmap:go,hillshade:vo,fill:as,"fill-extrusion":ws,line:Ds,symbol:bc,background:gc,raster:vc},wc=self.HTMLImageElement,Vc=self.HTMLCanvasElement,Cc=self.HTMLVideoElement,Pc=self.ImageData,Uc=self.ImageBitmap,Sc=function(t,e,i,r){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,r)};Sc.prototype.update=function(t,e,i){var r=t.width,n=t.height,a=!(this.size&&this.size[0]===r&&this.size[1]===n||i),o=this.context,s=o.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),a)this.size=[r,n],t instanceof wc||t instanceof Vc||t instanceof Cc||t instanceof Pc||Uc&&t instanceof Uc?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,n,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=i||{x:0,y:0},c=l.x,u=l.y;t instanceof wc||t instanceof Vc||t instanceof Cc||t instanceof Pc||Uc&&t instanceof Uc?s.texSubImage2D(s.TEXTURE_2D,0,c,u,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,c,u,r,n,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Sc.prototype.bind=function(t,e,i){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Sc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Sc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Tc=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Tc.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},Tc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var kc=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},b(["receive","process"],this),this.invoker=new Tc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=C()?t:self};function Ic(t,e,i){var r=2*Math.PI*6378137/256/Math.pow(2,i);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}kc.prototype.send=function(t,e,i,r,n){var a=this;void 0===n&&(n=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(this.callbacks[o]=i);var s=S(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:t,hasCallback:!!i,targetMapId:r,mustQueue:n,sourceMapId:this.mapId,data:Lr(e,s)},s),{cancel:function(){i&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:a.mapId})}}},kc.prototype.receive=function(t){var e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[i];var r=this.cancelCallbacks[i];delete this.cancelCallbacks[i],r&&r()}else C()||e.mustQueue?(this.tasks[i]=e,this.taskQueue.push(i),this.invoker.trigger()):this.processTask(i,e)},kc.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},kc.prototype.processTask=function(t,e){var i=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Hr(e.error)):r(null,Hr(e.data)))}else{var n=!1,a=S(this.globalScope)?void 0:[],o=e.hasCallback?function(e,r){n=!0,delete i.cancelCallbacks[t],i.target.postMessage({id:t,type:"<response>",sourceMapId:i.mapId,error:e?Lr(e):null,data:Lr(r,a)},a)}:function(t){n=!0},s=null,l=Hr(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,l,o);else if(this.parent.getWorkerSource){var c=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,c[0],l.source)[c[1]](l,o)}else o(new Error("Could not find function "+e.type));!n&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},kc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Ac=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Ac.prototype.setNorthEast=function(t){return this._ne=t instanceof Oc?new Oc(t.lng,t.lat):Oc.convert(t),this},Ac.prototype.setSouthWest=function(t){return this._sw=t instanceof Oc?new Oc(t.lng,t.lat):Oc.convert(t),this},Ac.prototype.extend=function(t){var e,i,r=this._sw,n=this._ne;if(t instanceof Oc)e=t,i=t;else{if(!(t instanceof Ac))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Ac.convert(t)):this.extend(Oc.convert(t)):this;if(i=t._ne,!(e=t._sw)||!i)return this}return r||n?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)):(this._sw=new Oc(e.lng,e.lat),this._ne=new Oc(i.lng,i.lat)),this},Ac.prototype.getCenter=function(){return new Oc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ac.prototype.getSouthWest=function(){return this._sw},Ac.prototype.getNorthEast=function(){return this._ne},Ac.prototype.getNorthWest=function(){return new Oc(this.getWest(),this.getNorth())},Ac.prototype.getSouthEast=function(){return new Oc(this.getEast(),this.getSouth())},Ac.prototype.getWest=function(){return this._sw.lng},Ac.prototype.getSouth=function(){return this._sw.lat},Ac.prototype.getEast=function(){return this._ne.lng},Ac.prototype.getNorth=function(){return this._ne.lat},Ac.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ac.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ac.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ac.prototype.contains=function(t){var e=Oc.convert(t),i=e.lng,r=e.lat,n=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n},Ac.convert=function(t){return!t||t instanceof Ac?t:new Ac(t)};var Oc=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Oc.prototype.wrap=function(){return new Oc(c(this.lng,-180,180),this.lat)},Oc.prototype.toArray=function(){return[this.lng,this.lat]},Oc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Oc.prototype.distanceTo=function(t){var e=Math.PI/180,i=this.lat*e,r=t.lat*e,n=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(n,1))},Oc.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new Ac(new Oc(this.lng-i,this.lat-e),new Oc(this.lng+i,this.lat+e))},Oc.convert=function(t){if(t instanceof Oc)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Oc(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Oc(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Dc=2*Math.PI*6371008.8;function Mc(t){return Dc*Math.cos(t*Math.PI/180)}function Fc(t){return(180+t)/360}function Ec(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Rc(t,e){return t/Mc(e)}function Lc(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Hc=function(t,e,i){void 0===i&&(i=0),this.x=+t,this.y=+e,this.z=+i};Hc.fromLngLat=function(t,e){void 0===e&&(e=0);var i=Oc.convert(t);return new Hc(Fc(i.lng),Ec(i.lat),Rc(e,i.lat))},Hc.prototype.toLngLat=function(){return new Oc(360*this.x-180,Lc(this.y))},Hc.prototype.toAltitude=function(){return this.z*Mc(Lc(this.y))},Hc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Dc*(t=Lc(this.y),1/Math.cos(t*Math.PI/180));var t};var jc=function(t,e,i){this.z=t,this.x=e,this.y=i,this.key=Nc(0,t,t,e,i)};jc.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},jc.prototype.url=function(t,e){var i,r,n,a,o,s=(r=this.y,n=this.z,a=Ic(256*(i=this.x),256*(r=Math.pow(2,n)-r-1),n),o=Ic(256*(i+1),256*(r+1),n),a[0]+","+a[1]+","+o[0]+","+o[1]),l=function(t,e,i){for(var r,n="",a=t;a>0;a--)n+=(e&(r=1<<a-1)?1:0)+(i&r?2:0);return n}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},jc.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new n(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},jc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var zc=function(t,e){this.wrap=t,this.canonical=e,this.key=Nc(t,e.z,e.z,e.x,e.y)},Bc=function(t,e,i,r,n){this.overscaledZ=t,this.wrap=e,this.canonical=new jc(i,+r,+n),this.key=Nc(e,t,i,r,n)};function Nc(t,e,i,r,n){(t*=2)<0&&(t=-1*t-1);var a=1<<i;return(a*a*t+a*n+r).toString(36)+i.toString(36)+e.toString(36)}Bc.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Bc.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Bc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Bc(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Bc.prototype.calculateScaledKey=function(t,e){var i=this.canonical.z-t;return t>this.canonical.z?Nc(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Nc(this.wrap*+e,t,t,this.canonical.x>>i,this.canonical.y>>i)},Bc.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Bc.prototype.children=function(t){if(this.overscaledZ>=t)return[new Bc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,i=2*this.canonical.x,r=2*this.canonical.y;return[new Bc(e,this.wrap,e,i,r),new Bc(e,this.wrap,e,i+1,r),new Bc(e,this.wrap,e,i,r+1),new Bc(e,this.wrap,e,i+1,r+1)]},Bc.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Bc.prototype.wrapped=function(){return new Bc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Bc.prototype.unwrapTo=function(t){return new Bc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Bc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Bc.prototype.toUnwrapped=function(){return new zc(this.wrap,this.canonical)},Bc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Bc.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Hc(t.x-this.wrap,t.y))},Mr("CanonicalTileID",jc),Mr("OverscaledTileID",Bc,{omit:["posMatrix"]});var Xc=function(t,e,i){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return x('"'+i+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=i||"mapbox";for(var n=0;n<r;n++)this.data[this._idx(-1,n)]=this.data[this._idx(0,n)],this.data[this._idx(r,n)]=this.data[this._idx(r-1,n)],this.data[this._idx(n,-1)]=this.data[this._idx(n,0)],this.data[this._idx(n,r)]=this.data[this._idx(n,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Xc.prototype.get=function(t,e){var i=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(i[r],i[r+1],i[r+2])},Xc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xc.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Xc.prototype._unpackMapbox=function(t,e,i){return(256*t*256+256*e+i)/10-1e4},Xc.prototype._unpackTerrarium=function(t,e,i){return 256*t+e+i/256-32768},Xc.prototype.getPixels=function(){return new fo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xc.prototype.backfillBorder=function(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,n=e*this.dim+this.dim,a=i*this.dim,o=i*this.dim+this.dim;switch(e){case-1:r=n-1;break;case 1:n=r+1}switch(i){case-1:a=o-1;break;case 1:o=a+1}for(var s=-e*this.dim,l=-i*this.dim,c=a;c<o;c++)for(var u=r;u<n;u++)this.data[this._idx(u,c)]=t.data[this._idx(u+s,c+l)]},Mr("DEMData",Xc);var Wc=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}};Wc.prototype.encode=function(t){return this._stringToNumber[t]},Wc.prototype.decode=function(t){return this._numberToString[t]};var Gc=function(t,e,i,r,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=r,this.properties=t.properties,this.id=n},Yc={geometry:{configurable:!0}};Yc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Yc.geometry.set=function(t){this._geometry=t},Gc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Gc.prototype,Yc);var qc=function(){this.state={},this.stateChanges={},this.deletedStates={}};qc.prototype.updateState=function(t,e,i){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},u(this.stateChanges[t][r],i),null===this.deletedStates[t])for(var n in this.deletedStates[t]={},this.state[t])n!==r&&(this.deletedStates[t][n]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var a in this.deletedStates[t][r]={},this.state[t][r])i[a]||(this.deletedStates[t][r][a]=null);else for(var o in i)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][o]&&delete this.deletedStates[t][r][o]},qc.prototype.removeFeatureState=function(t,e,i){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},i&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][i]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(i in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][i]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},qc.prototype.getState=function(t,e){var i=String(e),r=u({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var n=this.deletedStates[t][e];if(null===n)return{};for(var a in n)delete r[a]}return r},qc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},qc.prototype.coalesceChanges=function(t,e){var i={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var n={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),u(this.state[r][a],this.stateChanges[r][a]),n[a]=this.state[r][a];i[r]=n}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var c in this.deletedStates[o]){if(null===this.deletedStates[o][c])this.state[o][c]={};else for(var h=0,p=Object.keys(this.deletedStates[o][c]);h<p.length;h+=1)delete this.state[o][c][p[h]];s[c]=this.state[o][c]}i[o]=i[o]||{},u(i[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(var d in t)t[d].setFeatureState(i,e)};var Kc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new kr(8192,16,0),this.grid3D=new kr(8192,16,0),this.featureIndexArray=new ia,this.promoteId=e};function Jc(t,e,i,r,n){return g(t,(function(t,a){var o=e instanceof pn?e.get(a):null;return o&&o.evaluate?o.evaluate(i,r,n):o}))}function Zc(t){for(var e=1/0,i=1/0,r=-1/0,n=-1/0,a=0,o=t;a<o.length;a+=1){var s=o[a];e=Math.min(e,s.x),i=Math.min(i,s.y),r=Math.max(r,s.x),n=Math.max(n,s.y)}return{minX:e,minY:i,maxX:r,maxY:n}}function Qc(t,e){return e-t}Kc.prototype.insert=function(t,e,i,r,n,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,r,n);for(var s=a?this.grid3D:this.grid,l=0;l<e.length;l++){for(var c=e[l],u=[1/0,1/0,-1/0,-1/0],h=0;h<c.length;h++){var p=c[h];u[0]=Math.min(u[0],p.x),u[1]=Math.min(u[1],p.y),u[2]=Math.max(u[2],p.x),u[3]=Math.max(u[3],p.y)}u[0]<8192&&u[1]<8192&&u[2]>=0&&u[3]>=0&&s.insert(o,u[0],u[1],u[2],u[3])}},Kc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Wc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Kc.prototype.query=function(t,e,i,r){var a=this;this.loadVTLayers();for(var o=t.params||{},s=8192/t.tileSize/t.scale,l=ir(o.filter),c=t.queryGeometry,u=t.queryPadding*s,h=Zc(c),p=this.grid.query(h.minX-u,h.minY-u,h.maxX+u,h.maxY+u),d=Zc(t.cameraQueryGeometry),f=0,b=this.grid3D.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u,(function(e,i,r,a){return function(t,e,i,r,a){for(var o=0,s=t;o<s.length;o+=1){var l=s[o];if(e<=l.x&&i<=l.y&&r>=l.x&&a>=l.y)return!0}var c=[new n(e,i),new n(e,a),new n(r,a),new n(r,i)];if(t.length>2)for(var u=0,h=c;u<h.length;u+=1)if(Ya(t,h[u]))return!0;for(var p=0;p<t.length-1;p++)if(qa(t[p],t[p+1],c))return!0;return!1}(t.cameraQueryGeometry,e-u,i-u,r+u,a+u)}));f<b.length;f+=1)p.push(b[f]);p.sort(Qc);for(var m,g={},y=function(n){var u=p[n];if(u!==m){m=u;var h=a.featureIndexArray.get(u),d=null;a.loadMatchingFeature(g,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,l,o.layers,o.availableImages,e,i,r,(function(e,i,r){return d||(d=Fa(e)),i.queryIntersectsFeature(c,e,r,d,a.z,t.transform,s,t.pixelPosMatrix)}))}},v=0;v<p.length;v++)y(v);return g},Kc.prototype.loadMatchingFeature=function(t,e,i,r,n,a,o,s,l,c,u){var h=this.bucketLayerIDs[e];if(!a||function(t,e){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}(a,h)){var p=this.sourceLayerCoder.decode(i),d=this.vtLayers[p].feature(r);if(n.filter(new nn(this.tileID.overscaledZ),d))for(var f=this.getId(d,p),b=0;b<h.length;b++){var m=h[b];if(!(a&&a.indexOf(m)<0)){var g=s[m];if(g){var y={};void 0!==f&&c&&(y=c.getState(g.sourceLayer||"_geojsonTileLayer",f));var v=l[m];v.paint=Jc(v.paint,g.paint,d,y,o),v.layout=Jc(v.layout,g.layout,d,y,o);var _=!u||u(d,g,y);if(_){var x=new Gc(d,this.z,this.x,this.y,f);x.layer=v;var w=t[m];void 0===w&&(w=t[m]=[]),w.push({featureIndex:r,feature:x,intersectionZ:_})}}}}}},Kc.prototype.lookupSymbolFeatures=function(t,e,i,r,n,a,o,s){var l={};this.loadVTLayers();for(var c=ir(n),u=0,h=t;u<h.length;u+=1)this.loadMatchingFeature(l,i,r,h[u],c,a,o,s,e);return l},Kc.prototype.hasLayer=function(t){for(var e=0,i=this.bucketLayerIDs;e<i.length;e+=1)for(var r=0,n=i[e];r<n.length;r+=1)if(t===n[r])return!0;return!1},Kc.prototype.getId=function(t,e){var i=t.id;return this.promoteId&&"boolean"==typeof(i=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(i=Number(i)),i},Mr("FeatureIndex",Kc,{omit:["rawTileData","sourceLayerCoder"]});var $c=function(t,e){this.tileID=t,this.uid=p(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};$c.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<E.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},$c.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},$c.prototype.loadVectorData=function(t,e,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var i={};if(!e)return i;for(var r=function(){var t=a[n],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var o=0,s=r;o<s.length;o+=1)i[s[o].id]=t}},n=0,a=t;n<a.length;n+=1)r();return i}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var n=this.buckets[r];if(n instanceof hc){if(this.hasSymbolBuckets=!0,!i)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof hc&&o.hasRTLText){this.hasRTLText=!0,rn.isLoading()||rn.isLoaded()||"deferred"!==tn()||en();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(l))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new qn},$c.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},$c.prototype.getBucket=function(t){return this.buckets[t.id]},$c.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploadPending()&&i.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Sc(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Sc(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},$c.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},$c.prototype.queryRenderedFeatures=function(t,e,i,r,n,a,o,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:a,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:o,queryPadding:this.queryPadding*l},t,e,i):{}},$c.prototype.querySourceFeatures=function(t,e){var i=this.latestFeatureIndex;if(i&&i.rawTileData){var r=i.loadVTLayers(),n=e?e.sourceLayer:"",a=r._geojsonTileLayer||r[n];if(a)for(var o=ir(e&&e.filter),s=this.tileID.canonical,l=s.z,c=s.x,u=s.y,h={z:l,x:c,y:u},p=0;p<a.length;p++){var d=a.feature(p);if(o.filter(new nn(this.tileID.overscaledZ),d)){var f=i.getId(d,n),b=new Gc(d,l,c,u,f);b.tile=h,t.push(b)}}}},$c.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},$c.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},$c.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=P(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),n=!1;if(this.expirationTime>r)n=!1;else if(e)if(this.expirationTime<e)n=!0;else{var a=this.expirationTime-e;a?this.expirationTime=r+Math.max(a,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},$c.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},$c.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var i=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var n=this.buckets[r],a=n.layers[0].sourceLayer||"_geojsonTileLayer",o=i[a],s=t[a];if(o&&s&&0!==Object.keys(s).length){n.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=e&&e.style&&e.style.getLayer(r);l&&l.paint&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(n)))}}}},$c.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},$c.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()},$c.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},$c.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=E.now()+t},$c.prototype.setDependencies=function(t,e){for(var i={},r=0,n=e;r<n.length;r+=1)i[n[r]]=!0;this.dependencies[t]=i},$c.prototype.hasDependency=function(t,e){for(var i=0,r=t;i<r.length;i+=1){var n=this.dependencies[r[i]];if(n)for(var a=0,o=e;a<o.length;a+=1)if(n[o[a]])return!0}return!1};var tu=self.performance,eu=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},tu.mark(this._marks.start)};eu.prototype.finish=function(){tu.mark(this._marks.end);var t=tu.getEntriesByName(this._marks.measure);return 0===t.length&&(tu.measure(this._marks.measure,this._marks.start,this._marks.end),t=tu.getEntriesByName(this._marks.measure),tu.clearMarks(this._marks.start),tu.clearMarks(this._marks.end),tu.clearMeasures(this._marks.measure)),t},t.Actor=kc,t.AlphaImage=po,t.CanonicalTileID=jc,t.CollisionBoxArray=qn,t.Color=Zt,t.DEMData=Xc,t.DataConstantProperty=dn,t.DictionaryCoder=Wc,t.EXTENT=8192,t.ErrorEvent=Ct,t.EvaluationParameters=nn,t.Event=Vt,t.Evented=Pt,t.FeatureIndex=Kc,t.FillBucket=is,t.FillExtrusionBucket=vs,t.ImageAtlas=fl,t.ImagePosition=pl,t.LineBucket=ks,t.LngLat=Oc,t.LngLatBounds=Ac,t.MercatorCoordinate=Hc,t.ONE_EM=24,t.OverscaledTileID=Bc,t.Point=n,t.Point$1=n,t.Properties=yn,t.Protobuf=Xs,t.RGBAImage=fo,t.RequestManager=N,t.RequestPerformance=eu,t.ResourceType=pt,t.SegmentVector=na,t.SourceFeatureState=qc,t.StructArrayLayout1ui2=Xn,t.StructArrayLayout2f1f2i16=Fn,t.StructArrayLayout2i4=Pn,t.StructArrayLayout3ui6=Rn,t.StructArrayLayout4i8=Un,t.SymbolBucket=hc,t.Texture=Sc,t.Tile=$c,t.Transitionable=sn,t.Uniform1f=ga,t.Uniform1i=ma,t.Uniform2f=ya,t.Uniform3f=va,t.Uniform4f=_a,t.UniformColor=xa,t.UniformMatrix4f=Va,t.UnwrappedTileID=zc,t.ValidationError=St,t.WritingMode=bl,t.ZoomHistory=jr,t.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},t.addDynamicAttributes=sc,t.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var r=t.length,n=new Array(t.length),a=null;t.forEach((function(t,o){e(t,(function(t,e){t&&(a=t),n[o]=e,0==--r&&i(a,n)}))}))},t.bezier=o,t.bindAll=b,t.browser=E,t.cacheEntryPossiblyAdded=function(t){++ut>ot&&(t.getActor().send("enforceCacheSizeLimit",at),ut=0)},t.clamp=l,t.clearTileCache=function(t){var e=self.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=jl,t.clone=function(t){var e=new to(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=v,t.clone$2=function(t){var e=new to(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Hs,t.config=R,t.create=function(){var t=new to(16);return to!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new to(9);return to!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new to(4);return to!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Ni,t.createLayout=Vn,t.createStyleLayer=function(t){return"custom"===t.type?new _c(t):new xc[t.type](t)},t.cross=function(t,e,i){var r=e[0],n=e[1],a=e[2],o=i[0],s=i[1],l=i[2];return t[0]=n*l-a*s,t[1]=a*o-r*l,t[2]=r*s-n*o,t},t.deepEqual=function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],i[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==i){if("object"!=typeof i)return!1;if(Object.keys(e).length!==Object.keys(i).length)return!1;for(var n in e)if(!t(e[n],i[n]))return!1;return!0}return e===i},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=s,t.emitValidationErrors=Tr,t.endsWith=m,t.enforceCacheSizeLimit=function(t){st(),Q&&Q.then((function(e){e.keys().then((function(i){for(var r=0;r<i.length-t;r++)e.delete(i[r])}))}))},t.evaluateSizeForFeature=Al,t.evaluateSizeForZoom=Ol,t.evaluateVariableOffset=$l,t.evented=$r,t.extend=u,t.featureFilter=ir,t.filterObject=y,t.fromRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Ul,t.getAnchorJustification=tc,t.getArrayBuffer=yt,t.getImage=_t,t.getJSON=function(t,e){return gt(u(t,{type:"json"}),e)},t.getRTLTextPluginStatus=tn,t.getReferrer=mt,t.getVideo=function(t,e){var i,r,n=self.document.createElement("video");n.muted=!0,n.onloadstart=function(){e(null,n)};for(var a=0;a<t.length;a++){var o=self.document.createElement("source");i=t[a],r=void 0,(r=self.document.createElement("a")).href=i,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(n.crossOrigin="Anonymous"),o.src=t[a],n.appendChild(o)}return{cancel:function(){}}},t.identity=eo,t.invert=function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],d=e[11],f=e[12],b=e[13],m=e[14],g=e[15],y=i*s-r*o,v=i*l-n*o,_=i*c-a*o,x=r*l-n*s,w=r*c-a*s,V=n*c-a*l,C=u*b-h*f,P=u*m-p*f,U=u*g-d*f,S=h*m-p*b,T=h*g-d*b,k=p*g-d*m,I=y*k-v*T+_*S+x*U-w*P+V*C;return I?(t[0]=(s*k-l*T+c*S)*(I=1/I),t[1]=(n*T-r*k-a*S)*I,t[2]=(b*V-m*w+g*x)*I,t[3]=(p*w-h*V-d*x)*I,t[4]=(l*U-o*k-c*P)*I,t[5]=(i*k-n*U+a*P)*I,t[6]=(m*_-f*V-g*v)*I,t[7]=(u*V-p*_+d*v)*I,t[8]=(o*T-s*U+c*C)*I,t[9]=(r*U-i*T-a*C)*I,t[10]=(f*w-b*_+g*y)*I,t[11]=(h*_-u*w-d*y)*I,t[12]=(s*P-o*S-l*C)*I,t[13]=(i*S-r*P+n*C)*I,t[14]=(b*v-f*x-m*y)*I,t[15]=(u*x-h*v+p*y)*I,t):null},t.isChar=zr,t.isMapboxURL=X,t.keysDifference=function(t,e){var i=[];for(var r in t)r in e||i.push(r);return i},t.makeRequest=gt,t.mapObject=g,t.mercatorXfromLng=Fc,t.mercatorYfromLat=Ec,t.mercatorZfromAltitude=Rc,t.mul=no,t.multiply=io,t.mvt=bs,t.normalize=function(t,e){var i=e[0],r=e[1],n=e[2],a=i*i+r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},t.number=ze,t.offscreenCanvasSupported=ht,t.ortho=function(t,e,i,r,n,a,o){var s=1/(e-i),l=1/(r-n),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*s,t[13]=(n+r)*l,t[14]=(o+a)*c,t[15]=1,t},t.parseGlyphPBF=function(t){return new Xs(t).readFields(ll,[])},t.pbf=Xs,t.performSymbolLayout=function(t,e,i,r,n,a,o){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.kind){var u=t.textSizeData,h=u.maxZoom;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new nn(u.minZoom),o),l["text-size"].possiblyEvaluate(new nn(h),o)]}if("composite"===t.iconSizeData.kind){var p=t.iconSizeData,d=p.maxZoom;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new nn(p.minZoom),o),l["icon-size"].possiblyEvaluate(new nn(d),o)]}c.layoutTextSize=l["text-size"].possiblyEvaluate(new nn(t.zoom+1),o),c.layoutIconSize=l["icon-size"].possiblyEvaluate(new nn(t.zoom+1),o),c.textMaxSize=l["text-size"].possiblyEvaluate(new nn(18));for(var f=24*s.get("text-line-height"),b="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),g=s.get("text-size"),y=function(){var a=_[v],l=s.get("text-font").evaluate(a,{},o).join(","),u=g.evaluate(a,{},o),h=c.layoutTextSize.evaluate(a,{},o),p=c.layoutIconSize.evaluate(a,{},o),d={horizontal:{},vertical:void 0},y=a.text,w=[0,0];if(y){var V=y.toString(),C=24*s.get("text-letter-spacing").evaluate(a,{},o),P=function(t){for(var e=0,i=t;e<i.length;e+=1)if(r=i[e].charCodeAt(0),zr.Arabic(r)||zr["Arabic Supplement"](r)||zr["Arabic Extended-A"](r)||zr["Arabic Presentation Forms-A"](r)||zr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(V)?C:0,U=s.get("text-anchor").evaluate(a,{},o),S=s.get("text-variable-anchor");if(!S){var T=s.get("text-radial-offset").evaluate(a,{},o);w=T?$l(U,[24*T,Ql]):s.get("text-offset").evaluate(a,{},o).map((function(t){return 24*t}))}var k=b?"center":s.get("text-justify").evaluate(a,{},o),I=s.get("symbol-placement"),A="point"===I?24*s.get("text-max-width").evaluate(a,{},o):0,O=function(){t.allowVerticalPlacement&&Br(V)&&(d.vertical=yl(y,e,i,n,l,A,f,U,"left",P,w,bl.vertical,!0,I,h,u))};if(!b&&S){for(var D="auto"===k?S.map((function(t){return tc(t)})):[k],M=!1,F=0;F<D.length;F++){var E=D[F];if(!d.horizontal[E])if(M)d.horizontal[E]=d.horizontal[0];else{var R=yl(y,e,i,n,l,A,f,"center",E,P,w,bl.horizontal,!1,I,h,u);R&&(d.horizontal[E]=R,M=1===R.positionedLines.length)}}O()}else{"auto"===k&&(k=tc(U));var L=yl(y,e,i,n,l,A,f,U,k,P,w,bl.horizontal,!1,I,h,u);L&&(d.horizontal[k]=L),O(),Br(V)&&b&&m&&(d.vertical=yl(y,e,i,n,l,A,f,U,k,P,w,bl.vertical,!1,I,h,u))}}var H=void 0,j=!1;if(a.icon&&a.icon.name){var z=r[a.icon.name];z&&(H=function(t,e,i){var r=Ul(i),n=e[0]-t.displaySize[0]*r.horizontalAlign,a=e[1]-t.displaySize[1]*r.verticalAlign;return{image:t,top:a,bottom:a+t.displaySize[1],left:n,right:n+t.displaySize[0]}}(n[a.icon.name],s.get("icon-offset").evaluate(a,{},o),s.get("icon-anchor").evaluate(a,{},o)),j=z.sdf,void 0===t.sdfIcons?t.sdfIcons=z.sdf:t.sdfIcons!==z.sdf&&x("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(z.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var B=ic(d.horizontal)||d.vertical;t.iconsInText=!!B&&B.iconsInText,(B||H)&&function(t,e,i,r,n,a,o,s,l,c,u){var h=a.textMaxSize.evaluate(e,{});void 0===h&&(h=o);var p,d=t.layers[0].layout,f=d.get("icon-offset").evaluate(e,{},u),b=ic(i.horizontal),m=o/24,g=t.tilePixelRatio*m,y=t.tilePixelRatio*h/24,v=t.tilePixelRatio*s,_=t.tilePixelRatio*d.get("symbol-spacing"),w=d.get("text-padding")*t.tilePixelRatio,V=d.get("icon-padding")*t.tilePixelRatio,C=d.get("text-max-angle")/180*Math.PI,P="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),U="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),S=d.get("symbol-placement"),T=_/2,k=d.get("icon-text-fit");r&&"none"!==k&&(t.allowVerticalPlacement&&i.vertical&&(p=Tl(r,i.vertical,k,d.get("icon-text-fit-padding"),f,m)),b&&(r=Tl(r,b,k,d.get("icon-text-fit-padding"),f,m)));var I=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b,m,g,y,v,_,w,V,C,P){var U,S,T,k,I,A=t.addToLineVertexArray(e,i),O=0,D=0,M=0,F=0,E=-1,R=-1,L={},H=ca(""),j=0,z=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(U=s.layout.get("text-offset").evaluate(_,{},C).map((function(t){return 24*t})))[0],z=U[1]):(j=24*s.layout.get("text-radial-offset").evaluate(_,{},C),z=Ql),t.allowVerticalPlacement&&r.vertical){var B=s.layout.get("text-rotate").evaluate(_,{},C)+90;k=new Gl(l,e,c,u,h,r.vertical,p,d,f,B),o&&(I=new Gl(l,e,c,u,h,o,m,g,f,B))}if(n){var N=s.layout.get("icon-rotate").evaluate(_,{}),X="none"!==s.layout.get("icon-text-fit"),W=zl(n,N,V,X),G=o?zl(o,N,V,X):void 0;T=new Gl(l,e,c,u,h,n,m,g,!1,N),O=4*W.length;var Y=t.iconSizeData,q=null;"source"===Y.kind?(q=[128*s.layout.get("icon-size").evaluate(_,{})])[0]>32640&&x(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Y.kind&&((q=[128*w.compositeIconSizes[0].evaluate(_,{},C),128*w.compositeIconSizes[1].evaluate(_,{},C)])[0]>32640||q[1]>32640)&&x(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,W,q,v,y,_,!1,e,A.lineStartIndex,A.lineLength,-1,C),E=t.icon.placedSymbolArray.length-1,G&&(D=4*G.length,t.addSymbols(t.icon,G,q,v,y,_,bl.vertical,e,A.lineStartIndex,A.lineLength,-1,C),R=t.icon.placedSymbolArray.length-1)}for(var K in r.horizontal){var J=r.horizontal[K];if(!S){H=ca(J.text);var Z=s.layout.get("text-rotate").evaluate(_,{},C);S=new Gl(l,e,c,u,h,J,p,d,f,Z)}var Q=1===J.positionedLines.length;if(M+=ec(t,e,J,a,s,f,_,b,A,r.vertical?bl.horizontal:bl.horizontalOnly,Q?Object.keys(r.horizontal):[K],L,E,w,C),Q)break}r.vertical&&(F+=ec(t,e,r.vertical,a,s,f,_,b,A,bl.vertical,["vertical"],L,R,w,C));var $=S?S.boxStartIndex:t.collisionBoxArray.length,tt=S?S.boxEndIndex:t.collisionBoxArray.length,et=k?k.boxStartIndex:t.collisionBoxArray.length,it=k?k.boxEndIndex:t.collisionBoxArray.length,rt=T?T.boxStartIndex:t.collisionBoxArray.length,nt=T?T.boxEndIndex:t.collisionBoxArray.length,at=I?I.boxStartIndex:t.collisionBoxArray.length,ot=I?I.boxEndIndex:t.collisionBoxArray.length,st=-1,lt=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=lt(S,st),st=lt(k,st),st=lt(T,st);var ct=(st=lt(I,st))>-1?1:0;ct&&(st*=P/24),t.glyphOffsetArray.length>=hc.MAX_GLYPHS&&x("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,_.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,L.right>=0?L.right:-1,L.center>=0?L.center:-1,L.left>=0?L.left:-1,L.vertical||-1,E,R,H,$,tt,et,it,rt,nt,at,ot,c,M,F,O,D,ct,0,p,j,z,st)}(t,h,s,i,r,n,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,w,P,l,v,V,U,f,e,a,c,u,o)};if("line"===S)for(var A=0,O=jl(e.geometry,0,0,8192,8192);A<O.length;A+=1)for(var D=O[A],M=0,F=Hl(D,_,C,i.vertical||b,r,24,y,t.overscaling,8192);M<F.length;M+=1){var E=F[M];b&&rc(t,b.text,T,E)||I(D,E)}else if("line-center"===S)for(var R=0,L=e.geometry;R<L.length;R+=1){var H=L[R];if(H.length>1){var j=Ll(H,C,i.vertical||b,r,24,y);j&&I(H,j)}}else if("Polygon"===e.type)for(var z=0,B=Qo(e.geometry,0);z<B.length;z+=1){var N=B[z],X=Kl(N,16);I(N[0],new kl(X.x,X.y,0))}else if("LineString"===e.type)for(var W=0,G=e.geometry;W<G.length;W+=1){var Y=G[W];I(Y,new kl(Y[0].x,Y[0].y,0))}else if("Point"===e.type)for(var q=0,K=e.geometry;q<K.length;q+=1)for(var J=0,Z=K[q];J<Z.length;J+=1){var Q=Z[J];I([Q],new kl(Q.x,Q.y,0))}}(t,a,d,H,r,c,h,p,w,j,o)},v=0,_=t.features;v<_.length;v+=1)y();a&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,i,r,n){var a,o=1/Math.tan(e/2);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(t[10]=(n+r)*(a=1/(r-n)),t[14]=2*n*r*a):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var i={},r=0;r<e.length;r++){var n=e[r];n in t&&(i[n]=t[n])}return i},t.plugin=rn,t.polygonIntersectsPolygon=La,t.postMapLoadEvent=nt,t.postTurnstileEvent=it,t.potpack=hl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Mr,t.registerForPluginStateChange=function(t){return t({pluginStatus:Kr,pluginURL:Jr}),$r.on("pluginStateChange",t),t},t.rotate=function(t,e,i){var r=e[0],n=e[1],a=e[2],o=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=r*l+a*s,t[1]=n*l+o*s,t[2]=r*-s+a*l,t[3]=n*-s+o*l,t},t.rotateX=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*n+c*r,t[5]=o*n+u*r,t[6]=s*n+h*r,t[7]=l*n+p*r,t[8]=c*n-a*r,t[9]=u*n-o*r,t[10]=h*n-s*r,t[11]=p*n-l*r,t},t.rotateZ=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n+c*r,t[1]=o*n+u*r,t[2]=s*n+h*r,t[3]=l*n+p*r,t[4]=c*n-a*r,t[5]=u*n-o*r,t[6]=h*n-s*r,t[7]=p*n-l*r,t},t.scale=function(t,e,i){var r=i[0],n=i[1],a=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},t.scale$2=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},t.setCacheLimits=function(t,e){at=t,ot=e},t.setRTLTextPlugin=function(t,e,i){if(void 0===i&&(i=!1),"deferred"===Kr||"loading"===Kr||"loaded"===Kr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Jr=E.resolveURL(t),Kr="deferred",qr=e,Qr(),i||en()},t.sphericalToCartesian=function(t){var e=t[0],i=t[1],r=t[2];return i+=90,i*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(i)*Math.sin(r),y:e*Math.sin(i)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],i=t[1];return e*e+i*i},t.styleSpec=Ut,t.sub=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},t.symbolSize=Dl,t.transformMat3=function(t,e,i){var r=e[0],n=e[1],a=e[2];return t[0]=r*i[0]+n*i[3]+a*i[6],t[1]=r*i[1]+n*i[4]+a*i[7],t[2]=r*i[2]+n*i[5]+a*i[8],t},t.transformMat4=ao,t.translate=function(t,e,i){var r,n,a,o,s,l,c,u,h,p,d,f,b=i[0],m=i[1],g=i[2];return e===t?(t[12]=e[0]*b+e[4]*m+e[8]*g+e[12],t[13]=e[1]*b+e[5]*m+e[9]*g+e[13],t[14]=e[2]*b+e[6]*m+e[10]*g+e[14],t[15]=e[3]*b+e[7]*m+e[11]*g+e[15]):(n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=r=e[0],t[1]=n,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=r*b+s*m+h*g+e[12],t[13]=n*b+l*m+p*g+e[13],t[14]=a*b+c*m+d*g+e[14],t[15]=o*b+u*m+f*g+e[15]),t},t.triggerPluginCompletionEvent=Zr,t.uniqueId=p,t.validateCustomStyleLayer=function(t){var e=[],i=t.id;return void 0===i&&e.push({message:"layers."+i+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+i+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+i+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Pr,t.validateStyle=Cr,t.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},t.vectorTile=bs,t.version="1.10.0",t.warnOnce=x,t.webpSupported=L,t.window=self,t.wrap=c})),r(0,(function(t){function e(t){var i=typeof t;if("number"===i||"boolean"===i||"string"===i||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",n=0,a=t;n<a.length;n+=1)r+=e(a[n])+",";return r+"]"}for(var o=Object.keys(t).sort(),s="{",l=0;l<o.length;l++)s+=JSON.stringify(o[l])+":"+e(t[o[l]])+",";return s+"}"}function i(i){for(var r="",n=0,a=t.refProperties;n<a.length;n+=1)r+="/"+e(i[a[n]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var n=this,a=0,o=e;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var c=0,u=r;c<u.length;c+=1){var h=u[c];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var p=0,d=function(t,e){for(var r={},n=0;n<t.length;n++){var a=e&&e[t[n].id]||i(t[n]);e&&(e[t[n].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(t[n])}var s=[];for(var l in r)s.push(r[l]);return s}(t.values(this._layerConfigs),this.keyCache);p<d.length;p+=1){var f=d[p].map((function(t){return n._layers[t.id]})),b=f[0];if("none"!==b.visibility){var m=b.source||"",g=this.familiesBySource[m];g||(g=this.familiesBySource[m]={});var y=b.sourceLayer||"_geojsonTileLayer",v=g[y];v||(v=g[y]=[]),v.push(f)}}};var n=function(e){var i={},r=[];for(var n in e){var a=e[n],o=i[n]={};for(var s in a){var l=a[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var c={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(c),o[s]={rect:c,metrics:l.metrics}}}}var u=t.potpack(r),h=new t.AlphaImage({width:u.w||1,height:u.h||1});for(var p in e){var d=e[p];for(var f in d){var b=d[+f];if(b&&0!==b.bitmap.width&&0!==b.bitmap.height){var m=i[p][f].rect;t.AlphaImage.copy(b.bitmap,h,{x:0,y:0},{x:m.x+1,y:m.y+1},b.bitmap)}}}this.image=h,this.positions=i};t.register("GlyphAtlas",n);var a=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function o(e,i,r){for(var n=new t.EvaluationParameters(i),a=0,o=e;a<o.length;a+=1)o[a].recalculate(n,r)}function s(e,i){var r=t.getArrayBuffer(e.request,(function(e,r,n,a){e?i(e):r&&i(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:n,expires:a})}));return function(){r.cancel(),i()}}a.prototype.parse=function(e,i,r,a,s){var l=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var c=new t.DictionaryCoder(Object.keys(e.layers).sort()),u=new t.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var h,p,d,f,b={},m={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},g=i.familiesBySource[this.source];for(var y in g){var v=e.layers[y];if(v){1===v.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=c.encode(y),x=[],w=0;w<v.length;w++){var V=v.feature(w),C=u.getId(V,y);x.push({feature:V,id:C,index:w,sourceLayerIndex:_})}for(var P=0,U=g[y];P<U.length;P+=1){var S=U[P],T=S[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(o(S,this.zoom,r),(b[T.id]=T.createBucket({index:u.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(x,m,this.tileID.canonical),u.bucketLayerIDs.push(S.map((function(t){return t.id}))))}}}var k=t.mapObject(m.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(k).length?a.send("getGlyphs",{uid:this.uid,stacks:k},(function(t,e){h||(h=t,p=e,O.call(l))})):p={};var I=Object.keys(m.iconDependencies);I.length?a.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){h||(h=t,d=e,O.call(l))})):d={};var A=Object.keys(m.patternDependencies);function O(){if(h)return s(h);if(p&&d&&f){var e=new n(p),i=new t.ImageAtlas(d,f);for(var a in b){var l=b[a];l instanceof t.SymbolBucket?(o(l.layers,this.zoom,r),t.performSymbolLayout(l,p,e.positions,d,i.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof t.LineBucket||l instanceof t.FillBucket||l instanceof t.FillExtrusionBucket)&&(o(l.layers,this.zoom,r),l.addFeatures(m,this.tileID.canonical,i.patternPositions))}this.status="done",s(null,{buckets:t.values(b).filter((function(t){return!t.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:i,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?e.positions:null})}}A.length?a.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){h||(h=t,f=e,O.call(l))})):f={},O.call(this)};var l=function(t,e,i,r){this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=r||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(e,i){var r=this,n=e.uid;this.loading||(this.loading={});var o=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[n]=new a(e);s.abort=this.loadVectorData(e,(function(e,a){if(delete r.loading[n],e||!a)return s.status="done",r.loaded[n]=s,i(e);var l=a.rawData,c={};a.expires&&(c.expires=a.expires),a.cacheControl&&(c.cacheControl=a.cacheControl);var u={};if(o){var h=o.finish();h&&(u.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return i(e);i(null,t.extend({rawTileData:l.slice(0)},r,c,u))})),r.loaded=r.loaded||{},r.loaded[n]=s}))},l.prototype.reloadTile=function(t,e){var i=this,r=this.loaded,n=t.uid,a=this;if(r&&r[n]){var o=r[n];o.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,r){var n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,i.availableImages,a.actor,n)),e(t,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(t,e){var i=this.loading,r=t.uid;i&&i[r]&&i[r].abort&&(i[r].abort(),delete i[r]),e()},l.prototype.removeTile=function(t,e){var i=this.loaded,r=t.uid;i&&i[r]&&delete i[r],e()};var c=t.window.ImageBitmap,u=function(){this.loaded={}};function h(t,e){if(0!==t.length){p(t[0],e);for(var i=1;i<t.length;i++)p(t[i],!e)}}function p(t,e){for(var i=0,r=0,n=t.length,a=n-1;r<n;a=r++)i+=(t[r][0]-t[a][0])*(t[a][1]+t[r][1]);i>=0!=!!e&&t.reverse()}u.prototype.loadTile=function(e,i){var r=e.uid,n=e.encoding,a=e.rawImageData,o=c&&a instanceof c?this.getImageData(a):a,s=new t.DEMData(r,o,n);this.loaded=this.loaded||{},this.loaded[r]=s,i(null,s)},u.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var i=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:i.width,height:i.height},i.data)},u.prototype.removeTile=function(t){var e=this.loaded,i=t.uid;e&&e[i]&&delete e[i]};var d=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,f=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};f.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],i=0,r=this._feature.geometry;i<r.length;i+=1){var n=r[i];e.push([new t.Point$1(n[0],n[1])])}return e}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var l=[],c=0,u=s[o];c<u.length;c+=1){var h=u[c];l.push(new t.Point$1(h[0],h[1]))}a.push(l)}return a},f.prototype.toGeoJSON=function(t,e,i){return d.call(this,t,e,i)};var b=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};b.prototype.feature=function(t){return new f(this._features[t])};var m=t.vectorTile.VectorTileFeature,g=y;function y(t,e){this.options=e||{},this.features=t,this.length=t.length}function v(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}y.prototype.feature=function(t){return new v(this.features[t],this.options.extent)},v.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var r=e[i],n=[],a=0;a<r.length;a++)n.push(new t.Point$1(r[a][0],r[a][1]));this.geometry.push(n)}return this.geometry},v.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,r=1/0,n=-1/0,a=0;a<t.length;a++)for(var o=t[a],s=0;s<o.length;s++){var l=o[s];e=Math.min(e,l.x),i=Math.max(i,l.x),r=Math.min(r,l.y),n=Math.max(n,l.y)}return[e,r,i,n]},v.prototype.toGeoJSON=m.prototype.toGeoJSON;var _=w,x=g;function w(e){var i=new t.pbf;return function(t,e){for(var i in t.layers)e.writeMessage(3,V,t.layers[i])}(e,i),i.finish()}function V(t,e){var i;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)r.feature=t.feature(i),e.writeMessage(2,C,r);var n=r.keys;for(i=0;i<n.length;i++)e.writeStringField(3,n[i]);var a=r.values;for(i=0;i<a.length;i++)e.writeMessage(4,k,a[i])}function C(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,P,t),e.writeVarintField(3,i.type),e.writeMessage(4,T,i)}function P(t,e){var i=t.feature,r=t.keys,n=t.values,a=t.keycache,o=t.valuecache;for(var s in i.properties){var l=a[s];void 0===l&&(r.push(s),a[s]=l=r.length-1),e.writeVarint(l);var c=i.properties[s],u=typeof c;"string"!==u&&"boolean"!==u&&"number"!==u&&(c=JSON.stringify(c));var h=u+":"+c,p=o[h];void 0===p&&(n.push(c),o[h]=p=n.length-1),e.writeVarint(p)}}function U(t,e){return(e<<3)+(7&t)}function S(t){return t<<1^t>>31}function T(t,e){for(var i=t.loadGeometry(),r=t.type,n=0,a=0,o=i.length,s=0;s<o;s++){var l=i[s],c=1;1===r&&(c=l.length),e.writeVarint(U(1,c));for(var u=3===r?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==r&&e.writeVarint(U(2,u-1));var p=l[h].x-n,d=l[h].y-a;e.writeVarint(S(p)),e.writeVarint(S(d)),n+=p,a+=d}3===r&&e.writeVarint(U(7,1))}}function k(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function I(t,e,i,r){A(t,i,r),A(e,2*i,2*r),A(e,2*i+1,2*r+1)}function A(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function O(t,e,i,r){var n=t-i,a=e-r;return n*n+a*a}_.fromVectorTileJs=w,_.fromGeojsonVt=function(t,e){e=e||{};var i={};for(var r in t)i[r]=new g(t[r].features,e),i[r].name=r,i[r].version=e.version,i[r].extent=e.extent;return w({layers:i})},_.GeoJSONWrapper=x;var D=function(t){return t[0]},M=function(t){return t[1]},F=function(t,e,i,r,n){void 0===e&&(e=D),void 0===i&&(i=M),void 0===r&&(r=64),void 0===n&&(n=Float64Array),this.nodeSize=r,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(t.length),s=this.coords=new n(2*t.length),l=0;l<t.length;l++)o[l]=l,s[2*l]=e(t[l]),s[2*l+1]=i(t[l]);!function t(e,i,r,n,a,o){if(!(a-n<=r)){var s=n+a>>1;!function t(e,i,r,n,a,o){for(;a>n;){if(a-n>600){var s=a-n+1,l=r-n+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);t(e,i,r,Math.max(n,Math.floor(r-l*u/s+h)),Math.min(a,Math.floor(r+(s-l)*u/s+h)),o)}var p=i[2*r+o],d=n,f=a;for(I(e,i,n,r),i[2*a+o]>p&&I(e,i,n,a);d<f;){for(I(e,i,d,f),d++,f--;i[2*d+o]<p;)d++;for(;i[2*f+o]>p;)f--}i[2*n+o]===p?I(e,i,n,f):I(e,i,++f,a),f<=r&&(n=f+1),r<=f&&(a=f-1)}}(e,i,s,n,a,o%2),t(e,i,r,n,s-1,o+1),t(e,i,r,s+1,a,o+1)}}(o,s,r,0,o.length-1,0)};F.prototype.range=function(t,e,i,r){return function(t,e,i,r,n,a,o){for(var s,l,c=[0,t.length-1,0],u=[];c.length;){var h=c.pop(),p=c.pop(),d=c.pop();if(p-d<=o)for(var f=d;f<=p;f++)l=e[2*f+1],(s=e[2*f])>=i&&s<=n&&l>=r&&l<=a&&u.push(t[f]);else{var b=Math.floor((d+p)/2);l=e[2*b+1],(s=e[2*b])>=i&&s<=n&&l>=r&&l<=a&&u.push(t[b]);var m=(h+1)%2;(0===h?i<=s:r<=l)&&(c.push(d),c.push(b-1),c.push(m)),(0===h?n>=s:a>=l)&&(c.push(b+1),c.push(p),c.push(m))}}return u}(this.ids,this.coords,t,e,i,r,this.nodeSize)},F.prototype.within=function(t,e,i){return function(t,e,i,r,n,a){for(var o=[0,t.length-1,0],s=[],l=n*n;o.length;){var c=o.pop(),u=o.pop(),h=o.pop();if(u-h<=a)for(var p=h;p<=u;p++)O(e[2*p],e[2*p+1],i,r)<=l&&s.push(t[p]);else{var d=Math.floor((h+u)/2),f=e[2*d],b=e[2*d+1];O(f,b,i,r)<=l&&s.push(t[d]);var m=(c+1)%2;(0===c?i-n<=f:r-n<=b)&&(o.push(h),o.push(d-1),o.push(m)),(0===c?i+n>=f:r+n>=b)&&(o.push(d+1),o.push(u),o.push(m))}}return s}(this.ids,this.coords,t,e,i,this.nodeSize)};var E={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},R=function(t){this.options=X(Object.create(E),t),this.trees=new Array(this.options.maxZoom+1)};function L(t,e,i,r,n){return{x:t,y:e,zoom:1/0,id:i,parentId:-1,numPoints:r,properties:n}}function H(t,e){var i=t.geometry.coordinates,r=i[1];return{x:B(i[0]),y:N(r),zoom:1/0,index:e,parentId:-1}}function j(t){return{type:"Feature",id:t.id,properties:z(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,i=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(i))/Math.PI-90)]}};var e,i,r}function z(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return X(X({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function B(t){return t/360+.5}function N(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function X(t,e){for(var i in e)t[i]=e[i];return t}function W(t){return t.x}function G(t){return t.y}function Y(t,e,i,r,n,a){var o=n-i,s=a-r;if(0!==o||0!==s){var l=((t-i)*o+(e-r)*s)/(o*o+s*s);l>1?(i=n,r=a):l>0&&(i+=o*l,r+=s*l)}return(o=t-i)*o+(s=e-r)*s}function q(t,e,i,r){var n={id:void 0===t?null:t,type:e,geometry:i,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)K(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var r=0;r<e.length;r++)K(t,e[r]);else if("MultiPolygon"===i)for(r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)K(t,e[r][n])}(n),n}function K(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function J(t,e,i,r){if(e.geometry){var n=e.geometry.coordinates,a=e.geometry.type,o=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),s=[],l=e.id;if(i.promoteId?l=e.properties[i.promoteId]:i.generateId&&(l=r||0),"Point"===a)Z(n,s);else if("MultiPoint"===a)for(var c=0;c<n.length;c++)Z(n[c],s);else if("LineString"===a)Q(n,s,o,!1);else if("MultiLineString"===a){if(i.lineMetrics){for(c=0;c<n.length;c++)Q(n[c],s=[],o,!1),t.push(q(l,"LineString",s,e.properties));return}$(n,s,o,!1)}else if("Polygon"===a)$(n,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(c=0;c<e.geometry.geometries.length;c++)J(t,{id:l,geometry:e.geometry.geometries[c],properties:e.properties},i,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<n.length;c++){var u=[];$(n[c],u,o,!0),s.push(u)}}t.push(q(l,a,s,e.properties))}}function Z(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function Q(t,e,i,r){for(var n,a,o=0,s=0;s<t.length;s++){var l=tt(t[s][0]),c=et(t[s][1]);e.push(l),e.push(c),e.push(0),s>0&&(o+=r?(n*c-l*a)/2:Math.sqrt(Math.pow(l-n,2)+Math.pow(c-a,2))),n=l,a=c}var u=e.length-3;e[2]=1,function t(e,i,r,n){for(var a,o=n,s=r-i>>1,l=r-i,c=e[i],u=e[i+1],h=e[r],p=e[r+1],d=i+3;d<r;d+=3){var f=Y(e[d],e[d+1],c,u,h,p);if(f>o)a=d,o=f;else if(f===o){var b=Math.abs(d-s);b<l&&(a=d,l=b)}}o>n&&(a-i>3&&t(e,i,a,n),e[a+2]=o,r-a>3&&t(e,a,r,n))}(e,0,u,i),e[u+2]=1,e.size=Math.abs(o),e.start=0,e.end=e.size}function $(t,e,i,r){for(var n=0;n<t.length;n++){var a=[];Q(t[n],a,i,r),e.push(a)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function it(t,e,i,r,n,a,o,s){if(r/=e,a>=(i/=e)&&o<r)return t;if(o<i||a>=r)return null;for(var l=[],c=0;c<t.length;c++){var u=t[c],h=u.geometry,p=u.type,d=0===n?u.minX:u.minY,f=0===n?u.maxX:u.maxY;if(d>=i&&f<r)l.push(u);else if(!(f<i||d>=r)){var b=[];if("Point"===p||"MultiPoint"===p)rt(h,b,i,r,n);else if("LineString"===p)nt(h,b,i,r,n,!1,s.lineMetrics);else if("MultiLineString"===p)ot(h,b,i,r,n,!1);else if("Polygon"===p)ot(h,b,i,r,n,!0);else if("MultiPolygon"===p)for(var m=0;m<h.length;m++){var g=[];ot(h[m],g,i,r,n,!0),g.length&&b.push(g)}if(b.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<b.length;m++)l.push(q(u.id,p,b[m],u.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===b.length?(p="LineString",b=b[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===b.length?"Point":"MultiPoint"),l.push(q(u.id,p,b,u.tags))}}}return l.length?l:null}function rt(t,e,i,r,n){for(var a=0;a<t.length;a+=3){var o=t[a+n];o>=i&&o<=r&&(e.push(t[a]),e.push(t[a+1]),e.push(t[a+2]))}}function nt(t,e,i,r,n,a,o){for(var s,l,c=at(t),u=0===n?lt:ct,h=t.start,p=0;p<t.length-3;p+=3){var d=t[p],f=t[p+1],b=t[p+2],m=t[p+3],g=t[p+4],y=0===n?d:f,v=0===n?m:g,_=!1;o&&(s=Math.sqrt(Math.pow(d-m,2)+Math.pow(f-g,2))),y<i?v>i&&(l=u(c,d,f,m,g,i),o&&(c.start=h+s*l)):y>r?v<r&&(l=u(c,d,f,m,g,r),o&&(c.start=h+s*l)):st(c,d,f,b),v<i&&y>=i&&(l=u(c,d,f,m,g,i),_=!0),v>r&&y<=r&&(l=u(c,d,f,m,g,r),_=!0),!a&&_&&(o&&(c.end=h+s*l),e.push(c),c=at(t)),o&&(h+=s)}var x=t.length-3;d=t[x],f=t[x+1],b=t[x+2],(y=0===n?d:f)>=i&&y<=r&&st(c,d,f,b),x=c.length-3,a&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&st(c,c[0],c[1],c[2]),c.length&&e.push(c)}function at(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ot(t,e,i,r,n,a){for(var o=0;o<t.length;o++)nt(t[o],e,i,r,n,a,!1)}function st(t,e,i,r){t.push(e),t.push(i),t.push(r)}function lt(t,e,i,r,n,a){var o=(a-e)/(r-e);return t.push(a),t.push(i+(n-i)*o),t.push(1),o}function ct(t,e,i,r,n,a){var o=(a-i)/(n-i);return t.push(e+(r-e)*o),t.push(a),t.push(1),o}function ut(t,e){for(var i=[],r=0;r<t.length;r++){var n,a=t[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)n=ht(a.geometry,e);else if("MultiLineString"===o||"Polygon"===o){n=[];for(var s=0;s<a.geometry.length;s++)n.push(ht(a.geometry[s],e))}else if("MultiPolygon"===o)for(n=[],s=0;s<a.geometry.length;s++){for(var l=[],c=0;c<a.geometry[s].length;c++)l.push(ht(a.geometry[s][c],e));n.push(l)}i.push(q(a.id,o,n,a.tags))}return i}function ht(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var r=0;r<t.length;r+=3)i.push(t[r]+e,t[r+1],t[r+2]);return i}function pt(t,e){if(t.transformed)return t;var i,r,n,a=1<<t.z,o=t.x,s=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(dt(c[r],c[r+1],e,a,o,s));else for(r=0;r<c.length;r++){var h=[];for(n=0;n<c[r].length;n+=2)h.push(dt(c[r][n],c[r][n+1],e,a,o,s));l.geometry.push(h)}}return t.transformed=!0,t}function dt(t,e,i,r,n,a){return[Math.round(i*(t*r-n)),Math.round(i*(e*r-a))]}function ft(t,e,i,r,n){for(var a=e===n.maxZoom?0:n.tolerance/((1<<e)*n.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){o.numFeatures++,bt(o,t[s],a,n);var l=t[s].minX,c=t[s].minY,u=t[s].maxX,h=t[s].maxY;l<o.minX&&(o.minX=l),c<o.minY&&(o.minY=c),u>o.maxX&&(o.maxX=u),h>o.maxY&&(o.maxY=h)}return o}function bt(t,e,i,r){var n=e.geometry,a=e.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<n.length;s+=3)o.push(n[s]),o.push(n[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)mt(o,n,t,i,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<n.length;s++)mt(o,n[s],t,i,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<n.length;l++){var c=n[l];for(s=0;s<c.length;s++)mt(o,c[s],t,i,!0,0===s)}if(o.length){var u=e.tags||null;if("LineString"===a&&r.lineMetrics){for(var h in u={},e.tags)u[h]=e.tags[h];u.mapbox_clip_start=n.start/n.size,u.mapbox_clip_end=n.end/n.size}var p={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:u};null!==e.id&&(p.id=e.id),t.features.push(p)}}function mt(t,e,i,r,n,a){var o=r*r;if(r>0&&e.size<(n?o:r))i.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>o)&&(i.numSimplified++,s.push(e[l]),s.push(e[l+1])),i.numPoints++;n&&function(t,e){for(var i=0,r=0,n=t.length,a=n-2;r<n;a=r,r+=2)i+=(t[r]-t[a])*(t[r+1]+t[a+1]);if(i>0===e)for(r=0,n=t.length;r<n/2;r+=2){var o=t[r],s=t[r+1];t[r]=t[n-2-r],t[r+1]=t[n-1-r],t[n-2-r]=o,t[n-1-r]=s}}(s,a),t.push(s)}}function gt(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)J(i,t.features[r],e,r);else J(i,"Feature"===t.type?t:{geometry:t},e);return i}(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var i=e.buffer/e.extent,r=t,n=it(t,1,-1-i,i,0,-1,2,e),a=it(t,1,1-i,2+i,0,-1,2,e);return(n||a)&&(r=it(t,1,-i,1+i,0,-1,2,e)||[],n&&(r=ut(n,1).concat(r)),a&&(r=r.concat(ut(a,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),i&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function yt(t,e,i){return 32*((1<<t)*i+e)+t}function vt(t,e){var i=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!r)return e(null,null);var n=new b(r.features),a=_(n);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:n,rawData:a.buffer})}R.prototype.load=function(t){var e=this.options,i=e.log,r=e.minZoom,n=e.maxZoom,a=e.nodeSize;i&&console.time("total time");var o="prepare "+t.length+" points";i&&console.time(o),this.points=t;for(var s=[],l=0;l<t.length;l++)t[l].geometry&&s.push(H(t[l],l));this.trees[n+1]=new F(s,W,G,a,Float32Array),i&&console.timeEnd(o);for(var c=n;c>=r;c--){var u=+Date.now();s=this._cluster(s,c),this.trees[c]=new F(s,W,G,a,Float32Array),i&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-u)}return i&&console.timeEnd("total time"),this},R.prototype.getClusters=function(t,e){var i=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),n=180===t[2]?180:((t[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)i=-180,n=180;else if(i>n){var o=this.getClusters([i,r,180,a],e),s=this.getClusters([-180,r,n,a],e);return o.concat(s)}for(var l=this.trees[this._limitZoom(e)],c=[],u=0,h=l.range(B(i),N(a),B(n),N(r));u<h.length;u+=1){var p=l.points[h[u]];c.push(p.numPoints?j(p):this.points[p.index])}return c},R.prototype.getChildren=function(t){var e=this._getOriginId(t),i=this._getOriginZoom(t),r="No cluster with the specified id.",n=this.trees[i];if(!n)throw new Error(r);var a=n.points[e];if(!a)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,i-1)),s=[],l=0,c=n.within(a.x,a.y,o);l<c.length;l+=1){var u=n.points[c[l]];u.parentId===t&&s.push(u.numPoints?j(u):this.points[u.index])}if(0===s.length)throw new Error(r);return s},R.prototype.getLeaves=function(t,e,i){var r=[];return this._appendLeaves(r,t,e=e||10,i=i||0,0),r},R.prototype.getTile=function(t,e,i){var r=this.trees[this._limitZoom(t)],n=Math.pow(2,t),a=this.options,o=a.radius/a.extent,s=(i-o)/n,l=(i+1+o)/n,c={features:[]};return this._addTileFeatures(r.range((e-o)/n,s,(e+1+o)/n,l),r.points,e,i,n,c),0===e&&this._addTileFeatures(r.range(1-o/n,s,1,l),r.points,n,i,n,c),e===n-1&&this._addTileFeatures(r.range(0,s,o/n,l),r.points,-1,i,n,c),c.features.length?c:null},R.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},R.prototype._appendLeaves=function(t,e,i,r,n){for(var a=0,o=this.getChildren(e);a<o.length;a+=1){var s=o[a],l=s.properties;if(l&&l.cluster?n+l.point_count<=r?n+=l.point_count:n=this._appendLeaves(t,l.cluster_id,i,r,n):n<r?n++:t.push(s),t.length===i)break}return n},R.prototype._addTileFeatures=function(t,e,i,r,n,a){for(var o=0,s=t;o<s.length;o+=1){var l=e[s[o]],c=l.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(l.x*n-i)),Math.round(this.options.extent*(l.y*n-r))]],tags:c?z(l):this.points[l.index].properties},h=void 0;c?h=l.id:this.options.generateId?h=l.index:this.points[l.index].id&&(h=this.points[l.index].id),void 0!==h&&(u.id=h),a.features.push(u)}},R.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},R.prototype._cluster=function(t,e){for(var i=[],r=this.options,n=r.reduce,a=r.radius/(r.extent*Math.pow(2,e)),o=0;o<t.length;o++){var s=t[o];if(!(s.zoom<=e)){s.zoom=e;for(var l=this.trees[e+1],c=l.within(s.x,s.y,a),u=s.numPoints||1,h=s.x*u,p=s.y*u,d=n&&u>1?this._map(s,!0):null,f=(o<<5)+(e+1)+this.points.length,b=0,m=c;b<m.length;b+=1){var g=l.points[m[b]];if(!(g.zoom<=e)){g.zoom=e;var y=g.numPoints||1;h+=g.x*y,p+=g.y*y,u+=y,g.parentId=f,n&&(d||(d=this._map(s,!0)),n(d,this._map(g)))}}1===u?i.push(s):(s.parentId=f,i.push(L(h/u,p/u,f,u,d)))}}return i},R.prototype._getOriginId=function(t){return t-this.points.length>>5},R.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},R.prototype._map=function(t,e){if(t.numPoints)return e?X({},t.properties):t.properties;var i=this.points[t.index].properties,r=this.options.map(i);return e&&r===i?X({},r):r},gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gt.prototype.splitTile=function(t,e,i,r,n,a,o){for(var s=[t,e,i,r],l=this.options,c=l.debug;s.length;){r=s.pop(),i=s.pop(),e=s.pop(),t=s.pop();var u=1<<e,h=yt(e,i,r),p=this.tiles[h];if(!p&&(c>1&&console.time("creation"),p=this.tiles[h]=ft(t,e,i,r,l),this.tileCoords.push({z:e,x:i,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=t,n){if(e===l.maxZoom||e===n)continue;var f=1<<n-e;if(i!==Math.floor(a/f)||r!==Math.floor(o/f))continue}else if(e===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==t.length){c>1&&console.time("clipping");var b,m,g,y,v,_,x=.5*l.buffer/l.extent,w=.5-x,V=.5+x,C=1+x;b=m=g=y=null,v=it(t,u,i-x,i+V,0,p.minX,p.maxX,l),_=it(t,u,i+w,i+C,0,p.minX,p.maxX,l),t=null,v&&(b=it(v,u,r-x,r+V,1,p.minY,p.maxY,l),m=it(v,u,r+w,r+C,1,p.minY,p.maxY,l),v=null),_&&(g=it(_,u,r-x,r+V,1,p.minY,p.maxY,l),y=it(_,u,r+w,r+C,1,p.minY,p.maxY,l),_=null),c>1&&console.timeEnd("clipping"),s.push(b||[],e+1,2*i,2*r),s.push(m||[],e+1,2*i,2*r+1),s.push(g||[],e+1,2*i+1,2*r),s.push(y||[],e+1,2*i+1,2*r+1)}}},gt.prototype.getTile=function(t,e,i){var r=this.options,n=r.extent,a=r.debug;if(t<0||t>24)return null;var o=1<<t,s=yt(t,e=(e%o+o)%o,i);if(this.tiles[s])return pt(this.tiles[s],n);a>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var l,c=t,u=e,h=i;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[yt(c,u,h)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,u,h),a>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,t,e,i),a>1&&console.timeEnd("drilling down"),this.tiles[s]?pt(this.tiles[s],n):null):null};var _t=function(e){function i(t,i,r,n){e.call(this,t,i,r,vt),n&&(this.loadGeoJSON=n)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},i.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var i=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var n=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(a,o){if(a||!o)return i(a);if("object"!=typeof o)return i(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,i){var r,n=e&&e.type;if("FeatureCollection"===n)for(r=0;r<e.features.length;r++)t(e.features[r],i);else if("GeometryCollection"===n)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],i);else if("Feature"===n)t(e.geometry,i);else if("Polygon"===n)h(e.coordinates,i);else if("MultiPolygon"===n)for(r=0;r<e.coordinates.length;r++)h(e.coordinates[r],i);return e}(o,!0);try{e._geoJSONIndex=r.cluster?new R(function(e){var i=e.superclusterOptions,r=e.clusterProperties;if(!r||!i)return i;for(var n={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),c=0,u=l;c<u.length;c+=1){var h=u[c],p=r[h],d=p[0],f=t.createExpression(p[1]),b=t.createExpression("string"==typeof d?[d,["accumulated"],["get",h]]:d);n[h]=f.value,a[h]=b.value}return i.map=function(t){s.properties=t;for(var e={},i=0,r=l;i<r.length;i+=1){var a=r[i];e[a]=n[a].evaluate(o,s)}return e},i.reduce=function(t,e){s.properties=e;for(var i=0,r=l;i<r.length;i+=1){var n=r[i];o.accumulated=t[n],t[n]=a[n].evaluate(o,s)}},i}(r)).load(o.features):function(t,e){return new gt(t,e)}(o,r.geojsonVtOptions)}catch(a){return i(a)}e.loaded={};var s={};if(n){var l=n.finish();l&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(l)))}i(null,s)}))}},i.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},i.prototype.reloadTile=function(t,i){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,i):this.loadTile(t,i)},i.prototype.loadGeoJSON=function(e,i){if(e.request)t.getJSON(e.request,i);else{if("string"!=typeof e.data)return i(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return i(null,JSON.parse(e.data))}catch(t){return i(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},i.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},i.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},i.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},i.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},i}(l),xt=function(e){var i=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:_t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(i.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');i.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return xt.prototype.setReferrer=function(t,e){this.referrer=e},xt.prototype.setImages=function(t,e,i){this.availableImages[t]=e,i()},xt.prototype.setLayers=function(t,e,i){this.getLayerIndex(t).replace(e),i()},xt.prototype.updateLayers=function(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()},xt.prototype.loadTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).loadTile(e,i)},xt.prototype.loadDEMTile=function(t,e,i){this.getDEMWorkerSource(t,e.source).loadTile(e,i)},xt.prototype.reloadTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).reloadTile(e,i)},xt.prototype.abortTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).abortTile(e,i)},xt.prototype.removeTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).removeTile(e,i)},xt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},xt.prototype.removeSource=function(t,e,i){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,i):i()}},xt.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t.toString())}},xt.prototype.syncRTLPluginState=function(e,i,r){try{t.plugin.setState(i);var n=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=n){this.self.importScripts(n);var a=t.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from "+n),a)}}catch(t){r(t.toString())}},xt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},xt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},xt.prototype.getWorkerSource=function(t,e,i){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][i]||(this.workerSources[t][e][i]=new this.workerSourceTypes[e]({send:function(e,i,n){r.actor.send(e,i,n,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][i]},xt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new u),this.demWorkerSources[t][e]},xt.prototype.enforceCacheSizeLimit=function(e,i){t.enforceCacheSizeLimit(i)},"undefined"!=typeof WorkerGlobalScope&&void 0!==t.window&&t.window instanceof WorkerGlobalScope&&(t.window.worker=new xt(t.window)),xt})),r(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!i(t)}function i(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(i);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var i=e.getImageData(0,0,1,1);return i&&i.width===t.width}()?(void 0===r[i=t&&t.failIfMajorPerformanceCaveat]&&(r[i]=function(t){var i=function(t){var i=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",r)||i.probablySupportsContext("experimental-webgl",r):i.supportsContext?i.supportsContext("webgl",r)||i.supportsContext("experimental-webgl",r):i.getContext("webgl",r)||i.getContext("experimental-webgl",r)}(t);if(!i)return!1;var r=i.createShader(i.VERTEX_SHADER);return!(!r||i.isContextLost())&&(i.shaderSource(r,"void main() {}"),i.compileShader(r),!0===i.getShaderParameter(r,i.COMPILE_STATUS))}(i)),r[i]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var i}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=i);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),i={create:function(e,i,r){var n=t.window.document.createElement(e);return void 0!==i&&(n.className=i),r&&r.appendChild(n),n},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},r=t.window.document.documentElement.style;function n(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var a,o=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){r&&o&&(a=r[o],r[o]="none")},i.enableDrag=function(){r&&o&&(r[o]=a)};var s=n(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",c,c),t.window.removeEventListener("test",c,c)}catch(t){l=!1}i.addEventListener=function(t,e,i,r){void 0===r&&(r={}),t.addEventListener(e,i,"passive"in r&&l?r:r.capture)},i.removeEventListener=function(t,e,i,r){void 0===r&&(r={}),t.removeEventListener(e,i,"passive"in r&&l?r:r.capture)};var u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}i.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",u,!0)}),0)},i.mousePos=function(e,i){var r=e.getBoundingClientRect();return new t.Point(i.clientX-r.left-e.clientLeft,i.clientY-r.top-e.clientTop)},i.touchPos=function(e,i){for(var r=e.getBoundingClientRect(),n=[],a=0;a<i.length;a++)n.push(new t.Point(i[a].clientX-r.left-e.clientLeft,i[a].clientY-r.top-e.clientTop));return n},i.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var p=function(e){function i(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var r=i[e];this._notify(r.ids,r.callback)}this.requestors=[]}},i.prototype.getImage=function(t){return this.images[t]},i.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},i.prototype._validate=function(e,i){var r=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(i.content,i)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},i.prototype._validateStretch=function(t,e){if(!t)return!0;for(var i=0,r=0,n=t;r<n.length;r+=1){var a=n[r];if(a[0]<i||a[1]<a[0]||e<a[1])return!1;i=a[1]}return!0},i.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},i.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},i.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var r=0,n=t;r<n.length;r+=1)this.images[n[r]]||(i=!1);this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},i.prototype._notify=function(e,i){for(var r={},n=0,a=e;n<a.length;n+=1){var o=a[n];this.images[o]||this.fire(new t.Event("styleimagemissing",{id:o}));var s=this.images[o];s?r[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}i(null,r)},i.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},i.prototype.getPattern=function(e){var i=this.patterns[e],r=this.getImage(e);if(!r)return null;if(i&&i.position.version===r.version)return i.position;if(i)i.position.version=r.version;else{var n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new t.ImagePosition(n,r);this.patterns[e]={bin:n,position:a}}return this._updatePatternAtlas(),this.patterns[e].position},i.prototype.bind=function(e){var i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var e=[];for(var i in this.patterns)e.push(this.patterns[i].bin);var r=t.potpack(e),n=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:n||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,u=l.y+1,h=this.images[s].data,p=h.width,d=h.height;t.RGBAImage.copy(h,o,{x:0,y:0},{x:c,y:u},{width:p,height:d}),t.RGBAImage.copy(h,o,{x:0,y:d-1},{x:c,y:u-1},{width:p,height:1}),t.RGBAImage.copy(h,o,{x:0,y:0},{x:c,y:u+d},{width:p,height:1}),t.RGBAImage.copy(h,o,{x:p-1,y:0},{x:c-1,y:u},{width:1,height:d}),t.RGBAImage.copy(h,o,{x:0,y:0},{x:c+p,y:u},{width:1,height:d})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var n=this.images[r];h(n)&&this.updateImage(r,n)}}},i}(t.Evented),d=m,f=m,b=1e20;function m(t,e,i,r,n,a){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=n||"sans-serif",this.fontWeight=a||"normal",this.radius=i||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(t,e,i,r,n,a,o){for(var s=0;s<e;s++){for(var l=0;l<i;l++)r[l]=t[l*e+s];for(y(r,n,a,o,i),l=0;l<i;l++)t[l*e+s]=n[l]}for(l=0;l<i;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(y(r,n,a,o,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(n[s])}}function y(t,e,i,r,n){i[0]=0,r[0]=-b,r[1]=+b;for(var a=1,o=0;a<n;a++){for(var s=(t[a]+a*a-(t[i[o]]+i[o]*i[o]))/(2*a-2*i[o]);s<=r[o];)o--,s=(t[a]+a*a-(t[i[o]]+i[o]*i[o]))/(2*a-2*i[o]);i[++o]=a,r[o]=s,r[o+1]=+b}for(a=0,o=0;a<n;a++){for(;r[o+1]<a;)o++;e[a]=(a-i[o])*(a-i[o])+t[i[o]]}}m.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var n=e.data[4*r+3]/255;this.gridOuter[r]=1===n?0:0===n?b:Math.pow(Math.max(0,.5-n),2),this.gridInner[r]=1===n?b:0===n?0:Math.pow(Math.max(0,n-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)i[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return i},d.default=f;var v=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};v.prototype.setURL=function(t){this.url=t},v.prototype.getGlyphs=function(e,i){var r=this,n=[];for(var a in e)for(var o=0,s=e[a];o<s.length;o+=1)n.push({stack:a,id:s[o]});t.asyncAll(n,(function(t,e){var i=t.stack,n=t.id,a=r.entries[i];a||(a=r.entries[i]={glyphs:{},requests:{},ranges:{}});var o=a.glyphs[n];if(void 0===o){if(o=r._tinySDF(a,i,n))return a.glyphs[n]=o,void e(null,{stack:i,id:n,glyph:o});var s=Math.floor(n/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(a.ranges[s])e(null,{stack:i,id:n,glyph:o});else{var l=a.requests[s];l||(l=a.requests[s]=[],v.loadGlyphRange(i,s,r.url,r.requestManager,(function(t,e){if(e){for(var i in e)r._doesCharSupportLocalGlyph(+i)||(a.glyphs[+i]=e[+i]);a.ranges[s]=!0}for(var n=0,o=l;n<o.length;n+=1)(0,o[n])(t,e);delete a.requests[s]}))),l.push((function(t,r){t?e(t):r&&e(null,{stack:i,id:n,glyph:r[n]||null})}))}}else e(null,{stack:i,id:n,glyph:o})}),(function(t,e){if(t)i(t);else if(e){for(var r={},n=0,a=e;n<a.length;n+=1){var o=a[n],s=o.stack,l=o.id,c=o.glyph;(r[s]||(r[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,r)}}))},v.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},v.prototype._tinySDF=function(e,i,r){var n=this.localIdeographFontFamily;if(n&&this._doesCharSupportLocalGlyph(r)){var a=e.tinySDF;if(!a){var o="400";/bold/i.test(i)?o="900":/medium/i.test(i)?o="500":/light/i.test(i)&&(o="200"),a=e.tinySDF=new v.TinySDF(24,3,8,.25,n,o)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(e,i,r,n,a){var o=256*i,s=o+255,l=n.transformRequest(n.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",o+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,(function(e,i){if(e)a(e);else if(i){for(var r={},n=0,o=t.parseGlyphPBF(i);n<o.length;n+=1){var s=o[n];r[s.id]=s}a(null,r)}}))},v.TinySDF=d;var _=function(){this.specification=t.styleSpec.light.position};_.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},_.prototype.interpolate=function(e,i,r){return{x:t.number(e.x,i.x,r),y:t.number(e.y,i.y,r),z:t.number(e.z,i.z,r)}};var x=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new _,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(x),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e,i){if(void 0===i&&(i={}),!this._validate(t.validateLight,e,i))for(var r in e){var n=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),n):this._transitionable.setValue(r,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),V=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};V.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.dashEntry[i]||(this.dashEntry[i]=this.addDash(t,e)),this.dashEntry[i]},V.prototype.getDashRanges=function(t,e,i){var r=[],n=t.length%2==1?-t[t.length-1]*i:0,a=t[0]*i,o=!0;r.push({left:n,right:a,isDash:o,zeroLength:0===t[0]});for(var s=t[0],l=1;l<t.length;l++){var c=t[l];r.push({left:n=s*i,right:a=(s+=c)*i,isDash:o=!o,zeroLength:0===c})}return r},V.prototype.addRoundDash=function(t,e,i){for(var r=e/2,n=-i;n<=i;n++)for(var a=this.width*(this.nextRow+i+n),o=0,s=t[o],l=0;l<this.width;l++){l/s.right>1&&(s=t[++o]);var c=Math.abs(l-s.left),u=Math.abs(l-s.right),h=Math.min(c,u),p=void 0,d=n/i*(r+1);if(s.isDash){var f=r-Math.abs(d);p=Math.sqrt(h*h+f*f)}else p=r-Math.sqrt(h*h+d*d);this.data[a+l]=Math.max(0,Math.min(255,p+128))}},V.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var i=t[e],r=t[e+1];i.zeroLength?t.splice(e,1):r&&r.isDash===i.isDash&&(r.left=i.left,t.splice(e,1))}var n=t[0],a=t[t.length-1];n.isDash===a.isDash&&(n.left=a.left-this.width,a.right=n.right+this.width);for(var o=this.width*this.nextRow,s=0,l=t[s],c=0;c<this.width;c++){c/l.right>1&&(l=t[++s]);var u=Math.abs(c-l.left),h=Math.abs(c-l.right),p=Math.min(u,h);this.data[o+c]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},V.prototype.addDash=function(e,i){var r=i?7:0,n=2*r+1;if(this.nextRow+n>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<e.length;o++)a+=e[o];if(0!==a){var s=this.width/a,l=this.getDashRanges(e,this.width,s);i?this.addRoundDash(l,s,r):this.addRegularDash(l)}var c={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=n,this.dirty=!0,c},V.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var C=function e(i,r){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var n=this.workerPool.acquire(this.id),a=0;a<n.length;a++){var o=new e.Actor(n[a],r,this.id);o.name="Worker "+a,this.actors.push(o)}};function P(e,i,r){var n=function(n,a){if(n)return r(n);if(a){var o=t.pick(t.extend(a,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(t){return t.id}))),o.tiles=i.canonicalizeTileset(o,e.url),r(null,o)}};return e.url?t.getJSON(i.transformRequest(i.normalizeSourceURL(e.url),t.ResourceType.Source),n):t.browser.frame((function(){return n(null,e)}))}C.prototype.broadcast=function(e,i,r){t.asyncAll(this.actors,(function(t,r){t.send(e,i,r)}),r=r||function(){})},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},C.Actor=t.Actor;var U=function(e,i,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=r||24};U.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},U.prototype.contains=function(e){var i=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*i),n=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*i),a=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*i),o=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*i);return e.x>=r&&e.x<a&&e.y>=n&&e.y<o};var S=function(e){function i(i,r,n,a){if(e.call(this),this.id=i,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(function(i,r){e._tileJSONRequest=null,e._loaded=!0,i?e.fire(new t.ErrorEvent(i)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new U(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),n={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(r,n){return delete e.request,e.aborted?i(null):r&&404!==r.status?i(r):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}n.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=i:e.request=e.actor.send("reloadTile",n,a.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",n,a.bind(this)))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),T=function(e){function i(i,r,n,a){e.call(this),this.id=i,this.dispatcher=n,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(function(i,r){e._tileJSONRequest=null,e._loaded=!0,i?e.fire(new t.ErrorEvent(i)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new U(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var r=this,n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(n,t.ResourceType.Tile),(function(n,a){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(a){r.map._refreshExpiredTiles&&e.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=r.map.painter.context,s=o.gl;e.texture=r.map.painter.getTileTexture(a.width),e.texture?e.texture.update(a,{useMipmap:!0}):(e.texture=new t.Texture(o,a,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),i(null)}}))},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),k=function(e){function i(i,r,n,a){e.call(this,i,r,n,a),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function n(t,r){t&&(e.state="errored",i(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),(function(r,a){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(r)e.state="errored",i(r);else if(a){this.map._refreshExpiredTiles&&e.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=t.window.ImageBitmap&&a instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?a:t.browser.getImageData(a,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,n.bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,r=Math.pow(2,i.z),n=(i.x-1+r)%r,a=0===i.x?e.wrap-1:e.wrap,o=(i.x+1+r)%r,s=i.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,a,i.z,n,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,a,i.z,n,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y-1).key]={backfilled:!1}),i.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,a,i.z,n,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,o,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},i}(T),I=function(e){function i(i,r,n,a){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(a),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var o=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*o,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*o,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties},r.workerOptions)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(i){if(i)e.fire(new t.ErrorEvent(i));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)i.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(r.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",r))}})),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},i.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},i.prototype.getClusterLeaves=function(t,e,i,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},r),this},i.prototype._updateWorkerData=function(e){var i=this;this._loaded=!1;var r=t.extend({},this.workerOptions),n=this._data;"string"==typeof n?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(n),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(n),this.actor.send(this.type+".loadData",r,(function(t,n){i._removed||n&&n.abandoned||(i._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[i.id]&&(i._resourceTiming=n.resourceTiming[i.id].slice(0)),i.actor.send(i.type+".coalesce",{source:r.source},null),e(t))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(e,i){var r=this,n=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(n,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,a){return delete e.request,e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(a,r.map.painter,"reloadTile"===n),i(null))}))},i.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),A=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),O=function(e){function i(t,i,r,n){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=i}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(e,i){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(n,a){r._loaded=!0,n?r.fire(new t.ErrorEvent(n)):a&&(r.image=a,e&&(r.coordinates=e),i&&i(),r._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){var i=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var i=1/0,r=1/0,n=-1/0,a=-1/0,o=0,s=e;o<s.length;o+=1){var l=s[o];i=Math.min(i,l.x),r=Math.min(r,l.y),n=Math.max(n,l.x),a=Math.max(a,l.y)}var c=Math.max(n-i,a-r),u=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),h=Math.pow(2,u);return new t.CanonicalTileID(u,Math.floor((i+n)/2*h),Math.floor((r+a)/2*h))}(r),this.minzoom=this.maxzoom=this.tileID.z;var n=r.map((function(t){return i.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,i=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),D=function(e){function i(t,i,r,n){e.call(this,t,i,r,n),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(){var e=this;this._loaded=!1;var i=this.options;this.urls=[];for(var r=0,n=i.urls;r<n.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(n[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(i,r){e._loaded=!0,i?e.fire(new t.ErrorEvent(i)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(e){if(this.video){var i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+i.start(0)+" and "+i.end(0)+"-second mark."))):this.video.currentTime=e}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,i=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(O),M=function(e){function i(i,r,n,a){e.call(this,i,r,n,a),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,r=i.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(i,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[n];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(O),F={vector:S,raster:T,"raster-dem":k,geojson:I,video:D,image:O,canvas:M};function E(e,i){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(i.toUnwrapped()))}function R(t,e,i,r,n,a){var o=function(t,e,i){if(t)for(var r=0,n=t;r<n.length;r+=1){var a=e[n[r]];if(a&&a.source===i&&"fill-extrusion"===a.type)return!0}else for(var o in e){var s=e[o];if(s.source===i&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,e,t.id),s=a.maxPitchScaleFactor(),l=t.tilesIn(r,s,o);l.sort(L);for(var c=[],u=0,h=l;u<h.length;u+=1){var p=h[u];c.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,i,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,a,s,E(t.transform,p.tileID))})}var d=function(t){for(var e={},i={},r=0,n=t;r<n.length;r+=1){var a=n[r],o=a.queryResults,s=a.wrappedTileID,l=i[s]=i[s]||{};for(var c in o)for(var u=o[c],h=l[c]=l[c]||{},p=e[c]=e[c]||[],d=0,f=u;d<f.length;d+=1){var b=f[d];h[b.featureIndex]||(h[b.featureIndex]=!0,p.push(b))}}return e}(c);for(var f in d)d[f].forEach((function(e){var i=e.feature,r=t.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=r}));return d}function L(t,e){var i=t.tileID,r=e.tileID;return i.overscaledZ-r.overscaledZ||i.canonical.y-r.canonical.y||i.wrap-r.wrap||i.canonical.x-r.canonical.x}var H=function(t,e){this.max=t,this.onRemove=e,this.reset()};H.prototype.reset=function(){for(var t in this.data)for(var e=0,i=this.data[t];e<i.length;e+=1){var r=i[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},H.prototype.add=function(t,e,i){var r=this,n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);var a={value:e,timeout:void 0};if(void 0!==i&&(a.timeout=setTimeout((function(){r.remove(t,a)}),i)),this.data[n].push(a),this.order.push(n),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},H.prototype.has=function(t){return t.wrapped().key in this.data},H.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},H.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},H.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},H.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},H.prototype.remove=function(t,e){if(!this.has(t))return this;var i=t.wrapped().key,r=void 0===e?0:this.data[i].indexOf(e),n=this.data[i][r];return this.data[i].splice(r,1),n.timeout&&clearTimeout(n.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(n.value),this.order.splice(this.order.indexOf(i),1),this},H.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},H.prototype.filter=function(t){var e=[];for(var i in this.data)for(var r=0,n=this.data[i];r<n.length;r+=1){var a=n[r];t(a.value)||e.push(a)}for(var o=0,s=e;o<s.length;o+=1){var l=s[o];this.remove(l.value.tileID,l)}};var j=function(t,e,i){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},B=function(t,e,i,r){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var n=t.gl;this.buffer=n.createBuffer(),t.bindVertexBuffer.set(this.buffer),n.bufferData(n.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};B.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},B.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},B.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var r=e.attributes[this.attributes[i].name];void 0!==r&&t.enableVertexAttribArray(r)}},B.prototype.setVertexAttribPointers=function(t,e,i){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],a=e.attributes[n.name];void 0!==a&&t.vertexAttribPointer(a,n.components,t[z[n.type]],!1,this.itemSize,n.offset+this.itemSize*(i||0))}},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var N=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};N.prototype.get=function(){return this.current},N.prototype.set=function(t){},N.prototype.getDefault=function(){return this.default},N.prototype.setDefault=function(){this.set(this.default)};var X=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(N),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(N),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(N),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(N),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(N),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(N),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(N),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(N),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(N),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(N),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(N),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(N),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(N),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(N),nt=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(N),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(N),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(N),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(N),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(N),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(N),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(N),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(N),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(N),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(N),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(N),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(N),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(N),gt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(N),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(N),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(N),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(N),xt=function(t){function e(e,i){t.call(this,e),this.context=e,this.parent=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(N),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(xt),Vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(xt),Ct=function(t,e,i,r){this.context=t,this.width=e,this.height=i;var n=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new wt(t,n),r&&(this.depthAttachment=new Vt(t,n))};Ct.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i)}t.deleteFramebuffer(this.framebuffer)};var Pt=function(t,e,i){this.func=t,this.mask=e,this.range=i};Pt.ReadOnly=!1,Pt.ReadWrite=!0,Pt.disabled=new Pt(519,Pt.ReadOnly,[0,1]);var Ut=function(t,e,i,r,n,a){this.test=t,this.ref=e,this.mask=i,this.fail=r,this.depthFail=n,this.pass=a};Ut.disabled=new Ut({func:519,mask:0},0,0,7680,7680,7680);var St=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};St.disabled=new St(St.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,t.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Tt=function(t,e,i){this.enable=t,this.mode=e,this.frontFace=i};Tt.disabled=new Tt(!1,1029,2305),Tt.backCCW=new Tt(!0,1029,2305);var kt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new X(this),this.clearDepth=new W(this),this.clearStencil=new G(this),this.colorMask=new Y(this),this.depthMask=new q(this),this.stencilMask=new K(this),this.stencilFunc=new J(this),this.stencilOp=new Z(this),this.stencilTest=new Q(this),this.depthRange=new $(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new it(this),this.blendFunc=new rt(this),this.blendColor=new nt(this),this.blendEquation=new at(this),this.cullFace=new ot(this),this.cullFaceSide=new st(this),this.frontFace=new lt(this),this.program=new ct(this),this.activeTexture=new ut(this),this.viewport=new ht(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new dt(this),this.bindTexture=new ft(this),this.bindVertexBuffer=new bt(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new gt(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new _t(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query")};kt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},kt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},kt.prototype.createIndexBuffer=function(t,e){return new j(this,t,e)},kt.prototype.createVertexBuffer=function(t,e,i){return new B(this,t,e,i)},kt.prototype.createRenderbuffer=function(t,e,i){var r=this.gl,n=r.createRenderbuffer();return this.bindRenderbuffer.set(n),r.renderbufferStorage(r.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),n},kt.prototype.createFramebuffer=function(t,e,i){return new Ct(this,t,e,i)},kt.prototype.clear=function(t){var e=t.color,i=t.depth,r=this.gl,n=0;e&&(n|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(n|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),r.clear(n)},kt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},kt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},kt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},kt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},kt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var It=function(e){function i(i,r,n){var a=this;e.call(this),this.id=i,this.dispatcher=n,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),this.on("error",(function(){a._sourceErrored=!0})),this._source=function(e,i,r,n){var a=new F[i.type](e,i,r,n);if(a.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+a.id);return t.bindAll(["load","abort","unload","serialize","prepare"],a),a}(i,r,n,this),this._tiles={},this._cache=new H(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var i=this._tiles[e];i.upload(t),i.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},i.prototype.getRenderableIds=function(e){var i=this,r=[];for(var n in this._tiles)this._isIdRenderable(n,e)&&r.push(this._tiles[n]);return e?r.sort((function(e,r){var n=e.tileID,a=r.tileID,o=new t.Point(n.canonical.x,n.canonical.y)._rotate(i.transform.angle),s=new t.Point(a.canonical.x,a.canonical.y)._rotate(i.transform.angle);return n.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,r,n){if(n)return e.state="errored",void(404!==n.status?this._source.fire(new t.ErrorEvent(n,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var r=e[i];if(t.neighboringTiles&&t.neighboringTiles[r]){var n=this.getTileByID(r);a(t,n),a(n,t)}}function a(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,n=Math.pow(2,t.tileID.canonical.z),a=e.tileID.key;0===i&&0===r||Math.abs(r)>1||(Math.abs(i)>1&&(1===Math.abs(i+n)?i+=n:1===Math.abs(i-n)&&(i-=n)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,r),t.neighboringTiles&&t.neighboringTiles[a]&&(t.neighboringTiles[a].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype._retainLoadedChildren=function(t,e,i,r){for(var n in this._tiles){var a=this._tiles[n];if(!(r[n]||!a.hasData()||a.tileID.overscaledZ<=e||a.tileID.overscaledZ>i)){for(var o=a.tileID;a&&a.tileID.overscaledZ>e+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[o.key]=o;break}}}},i.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var i=this._loadedParentTiles[t.key];return i&&i.tileID.overscaledZ>=e?i:null}for(var r=t.overscaledZ-1;r>=e;r--){var n=t.scaledTo(r),a=this._getLoadedTile(n);if(a)return a}},i.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},i.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,i=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*i*5),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},i.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var i={};for(var r in this._tiles){var n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),i[n.tileID.key]=n}for(var a in this._tiles=i,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}},i.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(n=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter((function(t){return r._source.hasTile(t)})))):n=[];var a=e.coveringZoomLevel(this._source),o=Math.max(a-i.maxOverzooming,this._source.minzoom),s=Math.max(a+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(n,a);if(Ot(this._source.type)){for(var c={},u={},h=0,p=Object.keys(l);h<p.length;h+=1){var d=p[h],f=l[d],b=this._tiles[d];if(b&&!(b.fadeEndTime&&b.fadeEndTime<=t.browser.now())){var m=this.findLoadedParent(f,o);m&&(this._addTile(m.tileID),c[m.tileID.key]=m.tileID),u[d]=f}}for(var g in this._retainLoadedChildren(u,a,s,l),c)l[g]||(this._coveredTiles[g]=!0,l[g]=c[g])}for(var y in l)this._tiles[y].clearFadeHold();for(var v=0,_=t.keysDifference(this._tiles,l);v<_.length;v+=1){var x=_[v],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},i.prototype._updateRetainedTiles=function(t,e){for(var r={},n={},a=Math.max(e-i.maxOverzooming,this._source.minzoom),o=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},l=0,c=t;l<c.length;l+=1){var u=c[l],h=this._addTile(u);r[u.key]=u,h.hasData()||e<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,e,o,r);for(var p=0,d=t;p<d.length;p+=1){var f=d[p],b=this._tiles[f.key];if(!b.hasData()){if(e+1>this._source.maxzoom){var m=f.children(this._source.maxzoom)[0],g=this.getTile(m);if(g&&g.hasData()){r[m.key]=m;continue}}else{var y=f.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var v=b.wasRequested(),_=f.overscaledZ-1;_>=a;--_){var x=f.scaledTo(_);if(n[x.key])break;if(n[x.key]=!0,!(b=this.getTile(x))&&v&&(b=this._addTile(x)),b&&(r[x.key]=x,v=b.wasRequested(),b.hasData()))break}}}return r},i.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],i=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){i=this._loadedParentTiles[r.key];break}e.push(r.key);var n=r.scaledTo(r.overscaledZ-1);if(i=this._getLoadedTile(n))break;r=n}for(var a=0,o=e;a<o.length;a+=1)this._loadedParentTiles[o[a]]=i}},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));var r=Boolean(i);return r||(i=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,r||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){i._reloadTile(t,"expired"),delete i._timers[t]}),r))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,i,r){var n=this,a=[],o=this.transform;if(!o)return a;for(var s=r?o.getCameraQueryGeometry(e):e,l=e.map((function(t){return o.pointCoordinate(t)})),c=s.map((function(t){return o.pointCoordinate(t)})),u=this.getIds(),h=1/0,p=1/0,d=-1/0,f=-1/0,b=0,m=c;b<m.length;b+=1){var g=m[b];h=Math.min(h,g.x),p=Math.min(p,g.y),d=Math.max(d,g.x),f=Math.max(f,g.y)}for(var y=function(e){var r=n._tiles[u[e]];if(!r.holdingForFade()){var s=r.tileID,b=Math.pow(2,o.zoom-r.tileID.overscaledZ),m=i*r.queryPadding*t.EXTENT/r.tileSize/b,g=[s.getTilePoint(new t.MercatorCoordinate(h,p)),s.getTilePoint(new t.MercatorCoordinate(d,f))];if(g[0].x-m<t.EXTENT&&g[0].y-m<t.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){var y=l.map((function(t){return s.getTilePoint(t)})),v=c.map((function(t){return s.getTilePoint(t)}));a.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:v,scale:b})}}},v=0;v<u.length;v++)y(v);return a},i.prototype.getVisibleCoordinates=function(t){for(var e=this,i=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,n=i;r<n.length;r+=1){var a=n[r];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return i},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ot(this._source.type))for(var e in this._tiles){var i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=t.browser.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,i){this._state.updateState(t=t||"_geojsonTileLayer",e,i)},i.prototype.removeFeatureState=function(t,e,i){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,i)},i.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},i.prototype.setDependencies=function(t,e,i){var r=this._tiles[t];r&&r.setDependencies(e,i)},i.prototype.reloadTilesForDependencies=function(t,e){for(var i in this._tiles)this._tiles[i].hasDependency(t,e)&&this._reloadTile(i,"reloading");this._cache.filter((function(i){return!i.hasDependency(t,e)}))},i}(t.Evented);function At(t,e){var i=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Ot(t){return"raster"===t||"image"===t||"video"===t}function Dt(){return new t.window.Worker(Gn.workerUrl)}It.maxOverzooming=10,It.maxUnderzooming=3;var Mt="mapboxgl_preloaded_worker_pool",Ft=function(){this.active={}};Ft.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Ft.workerCount;)this.workers.push(new Dt);return this.active[t]=!0,this.workers.slice()},Ft.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Ft.prototype.isPreloaded=function(){return!!this.active[Mt]},Ft.prototype.numActive=function(){return Object.keys(this.active).length};var Et,Rt=Math.floor(t.browser.hardwareConcurrency/2);function Lt(){return Et||(Et=new Ft),Et}function Ht(e,i){var r={};for(var n in e)"ref"!==n&&(r[n]=e[n]);return t.refProperties.forEach((function(t){t in i&&(r[t]=i[t])})),r}function jt(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Ht(t[r],e[t[r].ref]));return t}Ft.workerCount=Math.max(Math.min(Rt,6),1);var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Bt(t,e,i){i.push({command:zt.addSource,args:[t,e[t]]})}function Nt(t,e,i){e.push({command:zt.removeSource,args:[t]}),i[t]=!0}function Xt(t,e,i,r){Nt(t,i,r),Bt(t,e,i)}function Wt(e,i,r){var n;for(n in e[r])if(e[r].hasOwnProperty(n)&&"data"!==n&&!t.deepEqual(e[r][n],i[r][n]))return!1;for(n in i[r])if(i[r].hasOwnProperty(n)&&"data"!==n&&!t.deepEqual(e[r][n],i[r][n]))return!1;return!0}function Gt(e,i,r,n,a,o){var s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||r.push({command:o,args:[n,s,i[s],a]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||r.push({command:o,args:[n,s,i[s],a]}))}function Yt(t){return t.id}function qt(t,e){return t[e.id]=e,t}var Kt=function(t,e){this.reset(t,e)};Kt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var i=1,r=this._distances[i],n=e*this.paddedLength+this.padding;r<n&&i<this._distances.length;)r=this._distances[++i];var a=i-1,o=this._distances[a],s=r-o,l=s>0?(n-o)/s:0;return this.points[a].mult(1-l).add(this.points[i].mult(l))};var Jt=function(t,e,i){var r=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var a=0;a<this.xCellCount*this.yCellCount;a++)r.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Zt(e,i,r,n,a){var o=t.create();return i?(t.scale(o,o,[1/a,1/a,1]),r||t.rotateZ(o,o,n.angle)):t.multiply(o,n.labelPlaneMatrix,e),o}function Qt(e,i,r,n,a){if(i){var o=t.clone(e);return t.scale(o,o,[a,a,1]),r||t.rotateZ(o,o,-n.angle),o}return n.glCoordMatrix}function $t(e,i){var r=[e.x,e.y,0,1];ue(r,r,i);var n=r[3];return{point:new t.Point(r[0]/n,r[1]/n),signedDistanceFromCamera:n}}function te(t,e){return.5+t/e*.5}function ee(t,e){var i=t[0]/t[3],r=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&r>=-e[1]&&r<=e[1]}function ie(e,i,r,n,a,o,s,l){var c=n?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(c,r.transform.zoom),h=[256/r.width*2+1,256/r.height*2+1],p=n?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,f=n?e.text.placedSymbolArray:e.icon.placedSymbolArray,b=r.transform.width/r.transform.height,m=!1,g=0;g<f.length;g++){var y=f.get(g);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!m)ce(y.numGlyphs,p);else{m=!1;var v=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(v,v,i),ee(v,h)){var _=te(r.transform.cameraToCenterDistance,v[3]),x=t.evaluateSizeForFeature(c,u,y),w=s?x/_:x*_,V=new t.Point(y.anchorX,y.anchorY),C=$t(V,a).point,P={},U=ae(y,w,!1,l,i,a,o,e.glyphOffsetArray,d,p,C,V,P,b);m=U.useVertical,(U.notEnoughRoom||m||U.needsFlipping&&ae(y,w,!0,l,i,a,o,e.glyphOffsetArray,d,p,C,V,P,b).notEnoughRoom)&&ce(y.numGlyphs,p)}else ce(y.numGlyphs,p)}}n?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function re(t,e,i,r,n,a,o,s,l,c,u){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,f=e.getoffsetX(s.glyphStartIndex),b=e.getoffsetX(h-1),m=se(t*f,i,r,n,a,o,s.segment,p,d,l,c,u);if(!m)return null;var g=se(t*b,i,r,n,a,o,s.segment,p,d,l,c,u);return g?{first:m,last:g}:null}function ne(e,i,r,n){return e===t.WritingMode.horizontal&&Math.abs(r.y-i.y)>Math.abs(r.x-i.x)*n?{useVertical:!0}:(e===t.WritingMode.vertical?i.y<r.y:i.x>r.x)?{needsFlipping:!0}:null}function ae(e,i,r,n,a,o,s,l,c,u,h,p,d,f){var b,m=i/24,g=e.lineOffsetX*m,y=e.lineOffsetY*m;if(e.numGlyphs>1){var v=e.glyphStartIndex+e.numGlyphs,_=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=re(m,l,g,y,r,h,p,e,c,o,d);if(!w)return{notEnoughRoom:!0};var V=$t(w.first.point,s).point,C=$t(w.last.point,s).point;if(n&&!r){var P=ne(e.writingMode,V,C,f);if(P)return P}b=[w.first];for(var U=e.glyphStartIndex+1;U<v-1;U++)b.push(se(m*l.getoffsetX(U),g,y,r,h,p,e.segment,_,x,c,o,d));b.push(w.last)}else{if(n&&!r){var S=$t(p,a).point,T=e.lineStartIndex+e.segment+1,k=new t.Point(c.getx(T),c.gety(T)),I=$t(k,a),A=I.signedDistanceFromCamera>0?I.point:oe(p,k,S,1,a),O=ne(e.writingMode,S,A,f);if(O)return O}var D=se(m*l.getoffsetX(e.glyphStartIndex),g,y,r,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,o,d);if(!D)return{notEnoughRoom:!0};b=[D]}for(var M=0,F=b;M<F.length;M+=1){var E=F[M];t.addDynamicAttributes(u,E.point,E.angle)}return{}}function oe(t,e,i,r,n){var a=$t(t.add(t.sub(e)._unit()),n).point,o=i.sub(a);return i.add(o._mult(r/o.mag()))}function se(e,i,r,n,a,o,s,l,c,u,h,p){var d=n?e-i:e+i,f=d>0?1:-1,b=0;n&&(f*=-1,b=Math.PI),f<0&&(b+=Math.PI);for(var m=f>0?l+s:l+s+1,g=a,y=a,v=0,_=0,x=Math.abs(d),w=[];v+_<=x;){if((m+=f)<l||m>=c)return null;if(y=g,w.push(g),void 0===(g=p[m])){var V=new t.Point(u.getx(m),u.gety(m)),C=$t(V,h);if(C.signedDistanceFromCamera>0)g=p[m]=C.point;else{var P=m-f;g=oe(0===v?o:new t.Point(u.getx(P),u.gety(P)),V,y,x-v+1,h)}}v+=_,_=y.dist(g)}var U=(x-v)/_,S=g.sub(y),T=S.mult(U)._add(y);T._add(S._unit()._perp()._mult(r*f));var k=b+Math.atan2(g.y-y.y,g.x-y.x);return w.push(T),{point:T,angle:k,path:w}}Jt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Jt.prototype.insert=function(t,e,i,r,n){this._forEachCell(e,i,r,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n)},Jt.prototype.insertCircle=function(t,e,i,r){this._forEachCell(e-r,i-r,e+r,i+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(r)},Jt.prototype._insertBoxCell=function(t,e,i,r,n,a){this.boxCells[n].push(a)},Jt.prototype._insertCircleCell=function(t,e,i,r,n,a){this.circleCells[n].push(a)},Jt.prototype._query=function(t,e,i,r,n,a){if(i<0||t>this.width||r<0||e>this.height)return!n&&[];var o=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=r){if(n)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],u=this.circles[3*l+1],h=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:c-h,y1:u-h,x2:c+h,y2:u+h})}return a?o.filter(a):o}return this._forEachCell(t,e,i,r,this._queryCell,o,{hitTest:n,seenUids:{box:{},circle:{}}},a),n?o.length>0:o},Jt.prototype._queryCircle=function(t,e,i,r,n){var a=t-i,o=t+i,s=e-i,l=e+i;if(o<0||a>this.width||l<0||s>this.height)return!r&&[];var c=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,c,{hitTest:r,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}},n),r?c.length>0:c},Jt.prototype.query=function(t,e,i,r,n){return this._query(t,e,i,r,!1,n)},Jt.prototype.hitTest=function(t,e,i,r,n){return this._query(t,e,i,r,!0,n)},Jt.prototype.hitTestCircle=function(t,e,i,r){return this._queryCircle(t,e,i,!0,r)},Jt.prototype._queryCell=function(t,e,i,r,n,a,o,s){var l=o.seenUids,c=this.boxCells[n];if(null!==c)for(var u=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(t<=u[f+2]&&e<=u[f+3]&&i>=u[f+0]&&r>=u[f+1]&&(!s||s(this.boxKeys[d]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[d],x1:u[f],y1:u[f+1],x2:u[f+2],y2:u[f+3]})}}}var b=this.circleCells[n];if(null!==b)for(var m=this.circles,g=0,y=b;g<y.length;g+=1){var v=y[g];if(!l.circle[v]){l.circle[v]=!0;var _=3*v;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],t,e,i,r)&&(!s||s(this.circleKeys[v]))){if(o.hitTest)return a.push(!0),!0;var x=m[_],w=m[_+1],V=m[_+2];a.push({key:this.circleKeys[v],x1:x-V,y1:w-V,x2:x+V,y2:w+V})}}}},Jt.prototype._queryCellCircle=function(t,e,i,r,n,a,o,s){var l=o.circle,c=o.seenUids,u=this.boxCells[n];if(null!==u)for(var h=this.bboxes,p=0,d=u;p<d.length;p+=1){var f=d[p];if(!c.box[f]){c.box[f]=!0;var b=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[b+0],h[b+1],h[b+2],h[b+3])&&(!s||s(this.boxKeys[f])))return a.push(!0),!0}}var m=this.circleCells[n];if(null!==m)for(var g=this.circles,y=0,v=m;y<v.length;y+=1){var _=v[y];if(!c.circle[_]){c.circle[_]=!0;var x=3*_;if(this._circlesCollide(g[x],g[x+1],g[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return a.push(!0),!0}}},Jt.prototype._forEachCell=function(t,e,i,r,n,a,o,s){for(var l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),u=this._convertToXCellCoord(i),h=this._convertToYCellCoord(r),p=l;p<=u;p++)for(var d=c;d<=h;d++)if(n.call(this,t,e,i,r,this.xCellCount*d+p,a,o,s))return},Jt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Jt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Jt.prototype._circlesCollide=function(t,e,i,r,n,a){var o=r-t,s=n-e,l=i+a;return l*l>o*o+s*s},Jt.prototype._circleAndRectCollide=function(t,e,i,r,n,a,o){var s=(a-r)/2,l=Math.abs(t-(r+s));if(l>s+i)return!1;var c=(o-n)/2,u=Math.abs(e-(n+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var h=l-s,p=u-c;return h*h+p*p<=i*i};var le=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ce(t,e){for(var i=0;i<t;i++){var r=e.length;e.resize(r+4),e.float32.set(le,3*r)}}function ue(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[4]*n+i[12],t[1]=i[1]*r+i[5]*n+i[13],t[3]=i[3]*r+i[7]*n+i[15],t}var he=function(t,e,i){void 0===e&&(e=new Jt(t.width+200,t.height+200,25)),void 0===i&&(i=new Jt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function pe(e,i,r){return i*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(t,e,i,r,n){var a=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),o=i*a.perspectiveRatio,s=t.x1*o+a.point.x,l=t.y1*o+a.point.y,c=t.x2*o+a.point.x,u=t.y2*o+a.point.y;return!this.isInsideGrid(s,l,c,u)||!e&&this.grid.hitTest(s,l,c,u,n)?{box:[],offscreen:!1}:{box:[s,l,c,u],offscreen:this.isOffscreen(s,l,c,u)}},he.prototype.placeCollisionCircles=function(e,i,r,n,a,o,s,l,c,u,h,p,d){var f=[],b=new t.Point(i.anchorX,i.anchorY),m=$t(b,o),g=te(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),y=(u?a/g:a*g)/t.ONE_EM,v=$t(b,s).point,_=re(y,n,i.lineOffsetX*y,i.lineOffsetY*y,!1,v,b,i,r,s,{}),x=!1,w=!1,V=!0;if(_){for(var C=.5*p*g+d,P=new t.Point(-100,-100),U=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),S=new Kt,T=_.first,k=_.last,I=[],A=T.path.length-1;A>=1;A--)I.push(T.path[A]);for(var O=1;O<k.path.length;O++)I.push(k.path[O]);var D=2.5*C;if(l){var M=I.map((function(t){return $t(t,l)}));I=M.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:M.map((function(t){return t.point}))}var F=[];if(I.length>0){for(var E=I[0].clone(),R=I[0].clone(),L=1;L<I.length;L++)E.x=Math.min(E.x,I[L].x),E.y=Math.min(E.y,I[L].y),R.x=Math.max(R.x,I[L].x),R.y=Math.max(R.y,I[L].y);F=E.x>=P.x&&R.x<=U.x&&E.y>=P.y&&R.y<=U.y?[I]:R.x<P.x||E.x>U.x||R.y<P.y||E.y>U.y?[]:t.clipLine([I],P.x,P.y,U.x,U.y)}for(var H=0,j=F;H<j.length;H+=1){var z;S.reset(j[H],.25*C),z=S.length<=.5*C?1:Math.ceil(S.paddedLength/D)+1;for(var B=0;B<z;B++){var N=B/Math.max(z-1,1),X=S.lerp(N),W=X.x+100,G=X.y+100;f.push(W,G,C,0);var Y=W-C,q=G-C,K=W+C,J=G+C;if(V=V&&this.isOffscreen(Y,q,K,J),w=w||this.isInsideGrid(Y,q,K,J),!e&&this.grid.hitTestCircle(W,G,C,h)&&(x=!0,!c))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!c&&x||!w?[]:f,offscreen:V,collisionDetected:x}},he.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var i=[],r=1/0,n=1/0,a=-1/0,o=-1/0,s=0,l=e;s<l.length;s+=1){var c=l[s],u=new t.Point(c.x+100,c.y+100);r=Math.min(r,u.x),n=Math.min(n,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y),i.push(u)}for(var h={},p={},d=0,f=this.grid.query(r,n,a,o).concat(this.ignoredGrid.query(r,n,a,o));d<f.length;d+=1){var b=f[d],m=b.key;if(void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]={}),!h[m.bucketInstanceId][m.featureIndex]){var g=[new t.Point(b.x1,b.y1),new t.Point(b.x2,b.y1),new t.Point(b.x2,b.y2),new t.Point(b.x1,b.y2)];t.polygonIntersectsPolygon(i,g)&&(h[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},he.prototype.insertCollisionBox=function(t,e,i,r,n){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:r,collisionGroupID:n},t[0],t[1],t[2],t[3])},he.prototype.insertCollisionCircles=function(t,e,i,r,n){for(var a=e?this.ignoredGrid:this.grid,o={bucketInstanceId:i,featureIndex:r,collisionGroupID:n},s=0;s<t.length;s+=4)a.insertCircle(o,t[s],t[s+1],t[s+2])},he.prototype.projectAndGetPerspectiveRatio=function(e,i,r){var n=[i,r,0,1];return ue(n,n,e),{point:new t.Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5}},he.prototype.isOffscreen=function(t,e,i,r){return i<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},he.prototype.isInsideGrid=function(t,e,i,r){return i>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var de=function(t,e,i,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&i?1:0,this.placed=i};de.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var fe=function(t,e,i,r,n){this.text=new de(t?t.text:null,e,i,n),this.icon=new de(t?t.icon:null,e,r,n)};fe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var be=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},me=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},ge=function(t,e,i,r,n){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=r,this.tileID=n},ye=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function ve(e,i,r,n,a){var o=t.getAnchorAlignment(e),s=-(o.horizontalAlign-.5)*i,l=-(o.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,n);return new t.Point(s+c[0]*a,l+c[1]*a)}function _e(e,i,r,n,a,o){var s=e.x1,l=e.x2,c=e.y1,u=e.y2,h=e.anchorPointX,p=e.anchorPointY,d=new t.Point(i,r);return n&&d._rotate(a?o:-o),{x1:s+d.x,y1:c+d.y,x2:l+d.x,y2:u+d.y,anchorPointX:h,anchorPointY:p}}ye.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var xe=function(t,e,i,r){this.transform=t.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ye(i),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function we(t,e,i,r,n){t.emplaceBack(e?1:0,i?1:0,r||0,n||0),t.emplaceBack(e?1:0,i?1:0,r||0,n||0),t.emplaceBack(e?1:0,i?1:0,r||0,n||0),t.emplaceBack(e?1:0,i?1:0,r||0,n||0)}xe.prototype.getBucketParts=function(e,i,r,n){var a=r.getBucket(i),o=r.latestFeatureIndex;if(a&&o&&i.id===a.layerIds[0]){var s=r.collisionBoxArray,l=a.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),d="map"===l.get("text-rotation-alignment"),f=pe(r,1,this.transform.zoom),b=Zt(h,p,d,this.transform,f),m=null;if(p){var g=Qt(h,p,d,this.transform,f);m=t.multiply([],this.transform.labelPlaneMatrix,g)}this.retainedQueryData[a.bucketInstanceId]=new ge(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var y={bucket:a,layout:l,posMatrix:h,textLabelPlaneMatrix:b,labelToScreenMatrix:m,scale:c,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(n)for(var v=0,_=a.sortKeyRanges;v<_.length;v+=1){var x=_[v];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:y})}},xe.prototype.attemptAnchorPlacement=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f){var b,m=[h.textOffset0,h.textOffset1],g=ve(t,i,r,m,n),y=this.collisionIndex.placeCollisionBox(_e(e,g.x,g.y,a,o,this.transform.angle),u,s,l,c.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(_e(f,g.x,g.y,a,o,this.transform.angle),u,s,l,c.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(b=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:m,width:i,height:r,anchor:t,textBoxScale:n,prevAnchor:b},this.markUsedJustification(p,t,h,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,h),this.placedOrientations[h.crossTileID]=d),{shift:g,placedGlyphBoxes:y}):void 0},xe.prototype.placeLayerBucketPart=function(e,i,r){var n=this,a=e.parameters,o=a.bucket,s=a.layout,l=a.posMatrix,c=a.textLabelPlaneMatrix,u=a.labelToScreenMatrix,h=a.textPixelRatio,p=a.holdingForFade,d=a.collisionBoxArray,f=a.partiallyEvaluatedTextSize,b=a.collisionGroup,m=s.get("text-optional"),g=s.get("icon-optional"),y=s.get("text-allow-overlap"),v=s.get("icon-allow-overlap"),_="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),V="viewport-y"===s.get("symbol-z-order"),C=y&&(v||!o.hasIconData()||g),P=v&&(y||!o.hasTextData()||m);!o.collisionArrays&&d&&o.deserializeCollisionBoxes(d);var U=function(e,a){if(!i[e.crossTileID])if(p)n.placements[e.crossTileID]=new be(!1,!1,!1);else{var d,V=!1,U=!1,S=!0,T=null,k={box:null,offscreen:null},I={box:null,offscreen:null},A=null,O=null,D=0,M=0,F=0;a.textFeatureIndex?D=a.textFeatureIndex:e.useRuntimeCollisionCircles&&(D=e.featureIndex),a.verticalTextFeatureIndex&&(M=a.verticalTextFeatureIndex);var E=a.textBox;if(E){var R=function(i){var r=t.WritingMode.horizontal;if(o.allowVerticalPlacement&&!i&&n.prevPlacement){var a=n.prevPlacement.placedOrientations[e.crossTileID];a&&(n.placedOrientations[e.crossTileID]=a,n.markUsedOrientation(o,r=a,e))}return r},L=function(i,r){if(o.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var n=0,s=o.writingModes;n<s.length&&(s[n]===t.WritingMode.vertical?(k=r(),I=k):k=i(),!(k&&k.box&&k.box.length));n+=1);else k=i()};if(s.get("text-variable-anchor")){var H=s.get("text-variable-anchor");if(n.prevPlacement&&n.prevPlacement.variableOffsets[e.crossTileID]){var j=n.prevPlacement.variableOffsets[e.crossTileID];H.indexOf(j.anchor)>0&&(H=H.filter((function(t){return t!==j.anchor}))).unshift(j.anchor)}var z=function(t,i,r){for(var a=t.x2-t.x1,s=t.y2-t.y1,c=e.textBoxScale,u=w&&!v?i:null,p={box:[],offscreen:!1},d=y?2*H.length:H.length,f=0;f<d;++f){var m=n.attemptAnchorPlacement(H[f%H.length],t,a,s,c,_,x,h,l,b,f>=H.length,e,o,r,u);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){V=!0,T=m.shift;break}}return p};L((function(){return z(E,a.iconBox,t.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return o.allowVerticalPlacement&&!(k&&k.box&&k.box.length)&&e.numVerticalGlyphVertices>0&&i?z(i,a.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),k&&(V=k.box,S=k.offscreen);var B=R(k&&k.box);if(!V&&n.prevPlacement){var N=n.prevPlacement.variableOffsets[e.crossTileID];N&&(n.variableOffsets[e.crossTileID]=N,n.markUsedJustification(o,N.anchor,e,B))}}else{var X=function(t,i){var r=n.collisionIndex.placeCollisionBox(t,y,h,l,b.predicate);return r&&r.box&&r.box.length&&(n.markUsedOrientation(o,i,e),n.placedOrientations[e.crossTileID]=i),r};L((function(){return X(E,t.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return o.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&i?X(i,t.WritingMode.vertical):{box:null,offscreen:null}})),R(k&&k.box&&k.box.length)}}if(V=(d=k)&&d.box&&d.box.length>0,S=d&&d.offscreen,e.useRuntimeCollisionCircles){var W=o.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),G=t.evaluateSizeForFeature(o.textSizeData,f,W),Y=s.get("text-padding");A=n.collisionIndex.placeCollisionCircles(y,W,o.lineVertexArray,o.glyphOffsetArray,G,l,c,u,r,x,b.predicate,e.collisionCircleDiameter,Y),V=y||A.circles.length>0&&!A.collisionDetected,S=S&&A.offscreen}if(a.iconFeatureIndex&&(F=a.iconFeatureIndex),a.iconBox){var q=function(t){var e=w&&T?_e(t,T.x,T.y,_,x,n.transform.angle):t;return n.collisionIndex.placeCollisionBox(e,v,h,l,b.predicate)};U=I&&I.box&&I.box.length&&a.verticalIconBox?(O=q(a.verticalIconBox)).box.length>0:(O=q(a.iconBox)).box.length>0,S=S&&O.offscreen}var K=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,J=g||0===e.numIconVertices;if(K||J?J?K||(U=U&&V):V=U&&V:U=V=U&&V,V&&d&&d.box&&n.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),o.bucketInstanceId,I&&I.box&&M?M:D,b.ID),U&&O&&n.collisionIndex.insertCollisionBox(O.box,s.get("icon-ignore-placement"),o.bucketInstanceId,F,b.ID),A&&(V&&n.collisionIndex.insertCollisionCircles(A.circles,s.get("text-ignore-placement"),o.bucketInstanceId,D,b.ID),r)){var Z=o.bucketInstanceId,Q=n.collisionCircleArrays[Z];void 0===Q&&(Q=n.collisionCircleArrays[Z]=new me);for(var $=0;$<A.circles.length;$+=4)Q.circles.push(A.circles[$+0]),Q.circles.push(A.circles[$+1]),Q.circles.push(A.circles[$+2]),Q.circles.push(A.collisionDetected?1:0)}n.placements[e.crossTileID]=new be(V||C,U||P,S||o.justReloaded),i[e.crossTileID]=!0}};if(V)for(var S=o.getSortedSymbolIndexes(this.transform.angle),T=S.length-1;T>=0;--T){var k=S[T];U(o.symbolInstances.get(k),o.collisionArrays[k])}else for(var I=e.symbolInstanceStart;I<e.symbolInstanceEnd;I++)U(o.symbolInstances.get(I),o.collisionArrays[I]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var A=this.collisionCircleArrays[o.bucketInstanceId];t.invert(A.invProjMatrix,l),A.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},xe.prototype.markUsedJustification=function(e,i,r,n){var a;a=n===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(i)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o+=1){var l=s[o];l>=0&&(e.text.placedSymbolArray.get(l).crossTileID=a>=0&&l!==a?0:r.crossTileID)}},xe.prototype.markUsedOrientation=function(e,i,r){for(var n=i===t.WritingMode.horizontal||i===t.WritingMode.horizontalOnly?i:0,a=i===t.WritingMode.vertical?i:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o+=1)e.text.placedSymbolArray.get(s[o]).placedOrientation=n;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)},xe.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,i=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,n=e?e.opacities:{},a=e?e.variableOffsets:{},o=e?e.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],c=n[s];c?(this.opacities[s]=new fe(c,r,l.text,l.icon),i=i||l.text!==c.text.placed||l.icon!==c.icon.placed):(this.opacities[s]=new fe(null,r,l.text,l.icon,l.skipFade),i=i||l.text||l.icon)}for(var u in n){var h=n[u];if(!this.opacities[u]){var p=new fe(h,r,!1,!1);p.isHidden()||(this.opacities[u]=p,i=i||h.text.placed||h.icon.placed)}}for(var d in a)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=a[d]);for(var f in o)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=o[f]);i?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},xe.prototype.updateLayerOpacities=function(t,e){for(var i={},r=0,n=e;r<n.length;r+=1){var a=n[r],o=a.getBucket(t);o&&a.latestFeatureIndex&&t.id===o.layerIds[0]&&this.updateBucketOpacities(o,i,a.collisionBoxArray)}},xe.prototype.updateBucketOpacities=function(e,i,r){var n=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var a=e.layers[0].layout,o=new fe(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),l=a.get("icon-allow-overlap"),c=a.get("text-variable-anchor"),u="map"===a.get("text-rotation-alignment"),h="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),d=new fe(null,0,s&&(l||!e.hasIconData()||a.get("icon-optional")),l&&(s||!e.hasTextData()||a.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var f=function(t,e,i){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(i)},b=function(r){var a=e.symbolInstances.get(r),s=a.numHorizontalGlyphVertices,l=a.numVerticalGlyphVertices,b=a.crossTileID,m=n.opacities[b];i[b]?m=o:m||(n.opacities[b]=m=d),i[b]=!0;var g=a.numIconVertices>0,y=n.placedOrientations[a.crossTileID],v=y===t.WritingMode.vertical,_=y===t.WritingMode.horizontal||y===t.WritingMode.horizontalOnly;if(s>0||l>0){var x=Ie(m.text);f(e.text,s,v?Ae:x),f(e.text,l,_?Ae:x);var w=m.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||v?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=w||_?1:0);var V=n.variableOffsets[a.crossTileID];V&&n.markUsedJustification(e,V.anchor,a,y);var C=n.placedOrientations[a.crossTileID];C&&(n.markUsedJustification(e,"left",a,C),n.markUsedOrientation(e,C,a))}if(g){var P=Ie(m.icon),U=!(p&&a.verticalPlacedIconSymbolIndex&&v);a.placedIconSymbolIndex>=0&&(f(e.icon,a.numIconVertices,U?P:Ae),e.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=m.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,a.numVerticalIconVertices,U?Ae:P),e.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var S=e.collisionArrays[r];if(S){var T=new t.Point(0,0);if(S.textBox||S.verticalTextBox){var k=!0;if(c){var I=n.variableOffsets[b];I?(T=ve(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),u&&T._rotate(h?n.transform.angle:-n.transform.angle)):k=!1}S.textBox&&we(e.textCollisionBox.collisionVertexArray,m.text.placed,!k||v,T.x,T.y),S.verticalTextBox&&we(e.textCollisionBox.collisionVertexArray,m.text.placed,!k||_,T.x,T.y)}var A=Boolean(!_&&S.verticalIconBox);S.iconBox&&we(e.iconCollisionBox.collisionVertexArray,m.icon.placed,A,p?T.x:0,p?T.y:0),S.verticalIconBox&&we(e.iconCollisionBox.collisionVertexArray,m.icon.placed,!A,p?T.x:0,p?T.y:0)}}},m=0;m<e.symbolInstances.length;m++)b(m);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var g=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=g.invProjMatrix,e.placementViewportMatrix=g.viewportMatrix,e.collisionCircleArray=g.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},xe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xe.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},xe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},xe.prototype.stillRecent=function(t,e){var i=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*i>t},xe.prototype.setStale=function(){this.stale=!0};var Ve=Math.pow(2,25),Ce=Math.pow(2,24),Pe=Math.pow(2,17),Ue=Math.pow(2,16),Se=Math.pow(2,9),Te=Math.pow(2,8),ke=Math.pow(2,1);function Ie(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*Ve+e*Ce+i*Pe+e*Ue+i*Se+e*Te+i*ke+e}var Ae=0,Oe=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Oe.prototype.continuePlacement=function(t,e,i,r,n){for(var a=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(a,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,n())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<a.length;)if(e.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,n())return!0;return!1};var De=function(t,e,i,r,n,a,o){this.placement=new xe(t,n,a,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1};De.prototype.isDone=function(){return this._done},De.prototype.continuePlacement=function(e,i,r){for(var n=this,a=t.browser.now(),o=function(){var e=t.browser.now()-a;return!n._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=i[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Oe(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},De.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Me=512/t.EXTENT/2,Fe=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var r=0;r<e.length;r++){var n=e.get(r),a=n.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,t)})}};Fe.prototype.getScaledCoordinates=function(e,i){var r=Me/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*r)}},Fe.prototype.findMatches=function(t,e,i){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),n=0;n<t.length;n++){var a=t.get(n);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,e),l=0,c=o;l<c.length;l+=1){var u=c[l];if(Math.abs(u.coord.x-s.x)<=r&&Math.abs(u.coord.y-s.y)<=r&&!i[u.crossTileID]){i[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}}};var Ee=function(){this.maxCrossTileID=0};Ee.prototype.generate=function(){return++this.maxCrossTileID};var Re=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Re.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var i in this.indexes){var r=this.indexes[i],n={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+e),n[o.tileID.key]=o}this.indexes[i]=n}this.lng=t},Re.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var n=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>t.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,n)}else{var c=o[t.scaledTo(Number(a)).key];c&&c.findMatches(e.symbolInstances,t,n)}}for(var u=0;u<e.symbolInstances.length;u++){var h=e.symbolInstances.get(u);h.crossTileID||(h.crossTileID=i.generate(),n[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Fe(t,e.symbolInstances,e.bucketInstanceId),!0},Re.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var r=0,n=e.indexedSymbolInstances[i];r<n.length;r+=1)delete this.usedCrossTileIDs[t][n[r].crossTileID]},Re.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var r=this.indexes[i];for(var n in r)t[r[n].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,r[n]),delete r[n],e=!0)}return e};var Le=function(){this.layerIndexes={},this.crossTileIDs=new Ee,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Le.prototype.addLayer=function(t,e,i){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Re);var n=!1,a={};r.handleWrapJump(i);for(var o=0,s=e;o<s.length;o+=1){var l=s[o],c=l.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,c,this.crossTileIDs)&&(n=!0),a[c.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(n=!0),n},Le.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var He=function(e,i){return t.emitValidationErrors(e,i&&i.filter((function(t){return"source.canvas"!==t.identifier})))},je=t.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ze=t.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),Be=function(){var e={},i=t.styleSpec.$version;for(var r in t.styleSpec.$root){var n,a=t.styleSpec.$root[r];a.required&&null!=(n="version"===r?i:"array"===a.type?[]:{})&&(e[r]=n)}return e}(),Ne=function(e){function i(r,n){var a=this;void 0===n&&(n={}),e.call(this),this.map=r,this.dispatcher=new C(Lt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new v(r._requestManager,n.localIdeographFontFamily),this.lineAtlas=new V(256,512),this.crossTileSymbolIndex=new Le,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var o=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(e){o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,i){if(t.triggerPluginCompletionEvent(e),i&&i.every((function(t){return t})))for(var r in o.sourceCaches)o.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=a.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var r in a._layers){var n=a._layers[r];n.source===i.id&&a._validateLayer(n)}}}}))}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.loadURL=function(e,i){var r=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var n="boolean"==typeof i.validate?i.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,i.accessToken);var a=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(a,(function(e,i){r._request=null,e?r.fire(new t.ErrorEvent(e)):i&&r._load(i,n)}))},i.prototype.loadJSON=function(e,i){var r=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==i.validate)}))},i.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Be,!1)},i.prototype._load=function(e,i){if(!i||!He(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var n=jt(this.stylesheet.layers);this._order=n.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var a=0,o=n;a<o.length;a+=1){var s=o[a];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._loadSprite=function(e){var i=this;this._spriteRequest=function(e,i,r){var n,a,o,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(i.transformRequest(i.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,o||(o=t,n=e,u())})),c=t.getImage(i.transformRequest(i.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){c=null,o||(o=t,a=e,u())}));function u(){if(o)r(o);else if(n&&a){var e=t.browser.getImageData(a),i={};for(var s in n){var l=n[s],c=l.width,u=l.height,h=l.x,p=l.y,d=l.sdf,f=l.pixelRatio,b=l.stretchX,m=l.stretchY,g=l.content,y=new t.RGBAImage({width:c,height:u});t.RGBAImage.copy(e,y,{x:h,y:p},{x:0,y:0},{width:c,height:u}),i[s]={data:y,pixelRatio:f,sdf:d,stretchX:b,stretchY:m,content:g}}r(null,i)}}return{cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e,this.map._requestManager,(function(e,r){if(i._spriteRequest=null,e)i.fire(new t.ErrorEvent(e));else if(r)for(var n in r)i.imageManager.addImage(n,r[n]);i.imageManager.setLoaded(!0),i._availableImages=i.imageManager.listImages(),i.dispatcher.broadcast("setImages",i._availableImages),i.fire(new t.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var r=e.sourceLayer;if(r){var n=i.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+n.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){for(var e=[],i=0,r=t;i<r.length;i+=1){var n=this._layers[r[i]];"custom"!==n.type&&e.push(n.serialize())}return e},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){var i=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var a in(r.length||n.length)&&this._updateWorkerLayers(r,n),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var c=0,u=this._order;c<u.length;c+=1){var h=this._layers[u[c]];h.recalculate(e,this._availableImages),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,i&&this.fire(new t.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),He(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=jt(e.layers);var r=function(e,i){if(!e)return[{command:zt.setStyle,args:[i]}];var r=[];try{if(!t.deepEqual(e.version,i.version))return[{command:zt.setStyle,args:[i]}];t.deepEqual(e.center,i.center)||r.push({command:zt.setCenter,args:[i.center]}),t.deepEqual(e.zoom,i.zoom)||r.push({command:zt.setZoom,args:[i.zoom]}),t.deepEqual(e.bearing,i.bearing)||r.push({command:zt.setBearing,args:[i.bearing]}),t.deepEqual(e.pitch,i.pitch)||r.push({command:zt.setPitch,args:[i.pitch]}),t.deepEqual(e.sprite,i.sprite)||r.push({command:zt.setSprite,args:[i.sprite]}),t.deepEqual(e.glyphs,i.glyphs)||r.push({command:zt.setGlyphs,args:[i.glyphs]}),t.deepEqual(e.transition,i.transition)||r.push({command:zt.setTransition,args:[i.transition]}),t.deepEqual(e.light,i.light)||r.push({command:zt.setLight,args:[i.light]});var n={},a=[];!function(e,i,r,n){var a;for(a in i=i||{},e=e||{})e.hasOwnProperty(a)&&(i.hasOwnProperty(a)||Nt(a,r,n));for(a in i)i.hasOwnProperty(a)&&(e.hasOwnProperty(a)?t.deepEqual(e[a],i[a])||("geojson"===e[a].type&&"geojson"===i[a].type&&Wt(e,i,a)?r.push({command:zt.setGeoJSONSourceData,args:[a,i[a].data]}):Xt(a,i,r,n)):Bt(a,i,r))}(e.sources,i.sources,a,n);var o=[];e.layers&&e.layers.forEach((function(t){n[t.source]?r.push({command:zt.removeLayer,args:[t.id]}):o.push(t)})),r=r.concat(a),function(e,i,r){i=i||[];var n,a,o,s,l,c,u,h=(e=e||[]).map(Yt),p=i.map(Yt),d=e.reduce(qt,{}),f=i.reduce(qt,{}),b=h.slice(),m=Object.create(null);for(n=0,a=0;n<h.length;n++)f.hasOwnProperty(o=h[n])?a++:(r.push({command:zt.removeLayer,args:[o]}),b.splice(b.indexOf(o,a),1));for(n=0,a=0;n<p.length;n++)b[b.length-1-n]!==(o=p[p.length-1-n])&&(d.hasOwnProperty(o)?(r.push({command:zt.removeLayer,args:[o]}),b.splice(b.lastIndexOf(o,b.length-a),1)):a++,r.push({command:zt.addLayer,args:[f[o],c=b[b.length-n]]}),b.splice(b.length-n,0,o),m[o]=!0);for(n=0;n<p.length;n++)if(s=d[o=p[n]],l=f[o],!m[o]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(u in Gt(s.layout,l.layout,r,o,null,zt.setLayoutProperty),Gt(s.paint,l.paint,r,o,null,zt.setPaintProperty),t.deepEqual(s.filter,l.filter)||r.push({command:zt.setFilter,args:[o,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:zt.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Gt(s[u],l[u],r,o,u.slice(6),zt.setPaintProperty):t.deepEqual(s[u],l[u])||r.push({command:zt.setLayerProperty,args:[o,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Gt(s[u],l[u],r,o,u.slice(6),zt.setPaintProperty):t.deepEqual(s[u],l[u])||r.push({command:zt.setLayerProperty,args:[o,u,l[u]]}))}else r.push({command:zt.removeLayer,args:[o]}),c=b[b.lastIndexOf(o)+1],r.push({command:zt.addLayer,args:[l,c]})}(o,i.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:zt.setStyle,args:[i]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in ze)}));if(0===r.length)return!1;var n=r.filter((function(t){return!(t.command in je)}));if(n.length>0)throw new Error("Unimplemented: "+n.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)})),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,i,r){var n=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,i,null,r))){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var a=this.sourceCaches[e]=new It(e,i,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:n.loaded(),source:a.serialize(),sourceId:e}})),a.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,r){void 0===r&&(r={}),this._checkLoaded();var n=e.id;if(this.getLayer(n))this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" already exists on this map')));else{var a;if("custom"===e.type){if(He(this,t.validateCustomStyleLayer(e)))return;a=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(n,e.source),e=t.clone$1(e),e=t.extend(e,{source:n})),this._validate(t.validateStyle.layer,"layers."+n,e,{arrayIndex:-1},r))return;a=t.createStyleLayer(e),this._validateLayer(a),a.setEventedParent(this,{layer:{id:n}}),this._serializedLayers[a.id]=a.serialize()}var o=i?this._order.indexOf(i):this._order.length;if(i&&-1===o)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(o,0,n),this._layerOrderChanged=!0,this._layers[n]=a,this._removedLayers[n]&&a.source&&"custom"!==a.type){var s=this._removedLayers[n];delete this._removedLayers[n],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==i){var r=this._order.indexOf(e);this._order.splice(r,1);var n=i?this._order.indexOf(i):this._order.length;i&&-1===n?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(n,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.hasLayer=function(t){return t in this._layers},i.prototype.setLayerZoomRange=function(e,i,r){this._checkLoaded();var n=this.getLayer(e);n?n.minzoom===i&&n.maxzoom===r||(null!=i&&(n.minzoom=i),null!=r&&(n.maxzoom=r),this._updateLayer(n)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i,r){void 0===r&&(r={}),this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.deepEqual(n.filter,i))return null==i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i,null,r)||(n.filter=t.clone$1(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,r,n){void 0===n&&(n={}),this._checkLoaded();var a=this.getLayer(e);a?t.deepEqual(a.getLayoutProperty(i),r)||(a.setLayoutProperty(i,r,n),this._updateLayer(a)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(e,i){var r=this.getLayer(e);if(r)return r.getLayoutProperty(i);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(e,i,r,n){void 0===n&&(n={}),this._checkLoaded();var a=this.getLayer(e);a?t.deepEqual(a.getPaintProperty(i),r)||(a.setPaintProperty(i,r,n)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,i){this._checkLoaded();var r=e.source,n=e.sourceLayer,a=this.sourceCaches[r];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&n?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||n?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(n,e.id,i)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(e,i){this._checkLoaded();var r=e.source,n=this.sourceCaches[r];if(void 0!==n){var a=n.getSource().type,o="vector"===a?e.sourceLayer:void 0;"vector"!==a||o?i&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):n.removeFeatureState(o,e.id,i):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var i=e.source,r=e.sourceLayer,n=this.sourceCaches[i];if(void 0!==n){if("vector"!==n.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),n.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,i=function(t){return"fill-extrusion"===e._layers[t].type},r={},n=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(i(o)){r[o]=a;for(var s=0,l=t;s<l.length;s+=1){var c=l[s][o];if(c)for(var u=0,h=c;u<h.length;u+=1)n.push(h[u])}}}n.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var p=[],d=this._order.length-1;d>=0;d--){var f=this._order[d];if(i(f))for(var b=n.length-1;b>=0;b--){var m=n[b].feature;if(r[m.layer.id]<d)break;p.push(m),n.pop()}else for(var g=0,y=t;g<y.length;g+=1){var v=y[g][f];if(v)for(var _=0,x=v;_<x.length;_+=1)p.push(x[_].feature)}}return p},i.prototype.queryRenderedFeatures=function(e,i,r){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);var n={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=i.layers;a<o.length;a+=1){var s=o[a],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];n[l.source]=!0}}var c=[];for(var u in i.availableImages=this._availableImages,this.sourceCaches)i.layers&&!n[u]||c.push(R(this.sourceCaches[u],this._layers,this._serializedLayers,e,i,r));return this.placement&&c.push(function(t,e,i,r,n,a,o){for(var s={},l=a.queryRenderedSymbols(r),c=[],u=0,h=Object.keys(l).map(Number);u<h.length;u+=1)c.push(o[h[u]]);c.sort(L);for(var p=function(){var i=f[d],r=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],e,i.bucketIndex,i.sourceLayerIndex,n.filter,n.layers,n.availableImages,t);for(var a in r){var o=s[a]=s[a]||[],c=r[a];c.sort((function(t,e){var r=i.featureSortOrder;if(r){var n=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-n}return e.featureIndex-t.featureIndex}));for(var u=0,h=c;u<h.length;u+=1)o.push(h[u])}},d=0,f=c;d<f.length;d+=1)p();var b=function(e){s[e].forEach((function(r){var n=r.feature,a=i[t[e].source].getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=a}))};for(var m in s)b(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);var r=this.sourceCaches[e];return r?function(t,e){for(var i=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],n={},a=0;a<i.length;a++){var o=i[a],s=o.tileID.canonical.key;n[s]||(n[s]=!0,o.querySourceFeatures(r,e))}return r}(r,i):[]},i.prototype.addSourceType=function(t,e,r){return i.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e,i){void 0===i&&(i={}),this._checkLoaded();var r=this.light.getLight(),n=!1;for(var a in e)if(!t.deepEqual(e[a],r[a])){n=!0;break}if(n){var o={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(o)}},i.prototype._validate=function(e,i,r,n,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&He(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:r,styleSpec:t.styleSpec},n)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var i in this.sourceCaches)this.sourceCaches[i].clearTiles(),this.sourceCaches[i].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(e,i,r,n,a){void 0===a&&(a=!1);for(var o=!1,s=!1,l={},c=0,u=this._order;c<u.length;c+=1){var h=this._layers[u[c]];if("symbol"===h.type){if(!l[h.source]){var p=this.sourceCaches[h.source];l[h.source]=p.getRenderableIds(!0).map((function(t){return p.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(h,l[h.source],e.center.lng);o=o||d}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new De(e,this._order,a,i,r,n,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var f=0,b=this._order;f<b.length;f+=1){var m=this._layers[b[f]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,l[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i.prototype.getResource=function(e,i,r){return t.makeRequest(i,r)},i}(t.Evented);Ne.getSourceType=function(t){return F[t]},Ne.setSourceType=function(t,e){F[t]=e},Ne.registerForPluginStateChange=t.registerForPluginStateChange;var Xe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),We=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ge=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ye=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),qe=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ke=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Je=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ze=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qe=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),ti=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ei=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),ii=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ri=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ni=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),ai=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),oi=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),si=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),li=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ci=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ui=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hi=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),pi=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),di=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),fi=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),bi=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),mi=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(t,e){var i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(i,(function(t,e,i,n,a){return r[a]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nvarying "+i+" "+n+" "+a+";\n#else\nuniform "+i+" "+n+" u_"+a+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+a+"\n    "+i+" "+n+" "+a+" = u_"+a+";\n#endif\n"})),vertexSource:e=e.replace(i,(function(t,e,i,n,a){var o="float"===n?"vec2":"vec4",s=a.match(/color/)?"color":o;return r[a]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+i+" "+o+" a_"+a+";\nvarying "+i+" "+n+" "+a+";\n#else\nuniform "+i+" "+n+" u_"+a+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = a_"+a+";\n#else\n    "+i+" "+n+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+i+" "+n+" "+a+" = u_"+a+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+i+" "+o+" a_"+a+";\n#else\nuniform "+i+" "+n+" u_"+a+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+i+" "+n+" "+a+" = a_"+a+";\n#else\n    "+i+" "+n+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+i+" "+n+" "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+i+" "+n+" "+a+" = u_"+a+";\n#endif\n"}))}}var yi=Object.freeze({__proto__:null,prelude:We,background:Ge,backgroundPattern:Ye,circle:qe,clippingMask:Ke,heatmap:Je,heatmapTexture:Ze,collisionBox:Qe,collisionCircle:$e,debug:ti,fill:ei,fillOutline:ii,fillOutlinePattern:ri,fillPattern:ni,fillExtrusion:ai,fillExtrusionPattern:oi,hillshadePrepare:si,hillshade:li,line:ci,lineGradient:ui,linePattern:hi,lineSDF:pi,raster:di,symbolIcon:fi,symbolSDF:bi,symbolTextAndIcon:mi}),vi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};vi.prototype.bind=function(t,e,i,r,n,a,o,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,c=0;!l&&c<r.length;c++)this.boundPaintVertexBuffers[c]!==r[c]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===n&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),o&&o.bind(),n&&n.dynamicDraw&&n.bind(),s&&s.bind()):this.freshBind(e,i,r,n,a,o,s)},vi.prototype.freshBind=function(t,e,i,r,n,a,o){var s,l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=r,this.boundVertexOffset=n,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=c.currentNumAttributes||0;for(var h=l;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var p=0,d=i;p<d.length;p+=1)d[p].enableAttributes(u,t);a&&a.enableAttributes(u,t),o&&o.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,n);for(var f=0,b=i;f<b.length;f+=1){var m=b[f];m.bind(),m.setVertexAttribPointers(u,t,n)}a&&(a.bind(),a.setVertexAttribPointers(u,t,n)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,t,n)),c.currentNumAttributes=l},vi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _i=function(t,e,i,r,n){var a=t.gl;this.program=a.createProgram();var o=i?i.defines():[];n&&o.push("#define OVERDRAW_INSPECTOR;");var s=o.concat(We.fragmentSource,e.fragmentSource).join("\n"),l=o.concat(We.vertexSource,e.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(c,s),a.compileShader(c),a.attachShader(this.program,c);var u=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(u,l),a.compileShader(u),a.attachShader(this.program,u);for(var h=i?i.layoutAttributes:[],p=0;p<h.length;p++)a.bindAttribLocation(this.program,p,h[p].name);a.linkProgram(this.program),a.deleteShader(u),a.deleteShader(c),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},f=0;f<this.numAttributes;f++){var b=a.getActiveAttrib(this.program,f);b&&(this.attributes[b.name]=a.getAttribLocation(this.program,b.name))}for(var m=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),g=0;g<m;g++){var y=a.getActiveUniform(this.program,g);y&&(d[y.name]=a.getUniformLocation(this.program,y.name))}this.fixedUniforms=r(t,d),this.binderUniforms=i?i.getUniforms(t,d):[]}}};function xi(t,e,i){var r=1/pe(i,1,e.transform.tileZoom),n=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,e.transform.tileZoom)/n,o=a*(i.tileID.canonical.x+i.tileID.wrap*n),s=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}_i.prototype.draw=function(t,e,i,r,n,a,o,s,l,c,u,h,p,d,f,b){var m,g=t.gl;if(!this.failedToCreate){for(var y in t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(r),t.setColorMode(n),t.setCullFace(a),this.fixedUniforms)this.fixedUniforms[y].set(o[y]);d&&d.setUniforms(t,this.binderUniforms,h,{zoom:p});for(var v=(m={},m[g.LINES]=2,m[g.TRIANGLES]=3,m[g.LINE_STRIP]=1,m)[e],_=0,x=u.get();_<x.length;_+=1){var w=x[_],V=w.vaos||(w.vaos={});(V[s]||(V[s]=new vi)).bind(t,this,l,d?d.getPaintVertexBuffers():[],c,w.vertexOffset,f,b),g.drawElements(e,w.primitiveLength*v,g.UNSIGNED_SHORT,w.primitiveOffset*v*2)}}};var wi=function(e,i,r,n){var a=i.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=t.create$1();"viewport"===a.properties.get("anchor")&&t.fromRotation(l,-i.transform.angle),t.transformMat3(s,s,l);var c=a.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:n}},Vi=function(e,i,r,n,a,o,s){return t.extend(wi(e,i,r,n),xi(o,i,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},Ci=function(t){return{u_matrix:t}},Pi=function(e,i,r,n){return t.extend(Ci(e),xi(r,i,n))},Ui=function(t,e){return{u_matrix:t,u_world:e}},Si=function(e,i,r,n,a){return t.extend(Pi(e,i,r,n),{u_world:a})},Ti=function(e,i,r,n){var a,o,s=e.transform;if("map"===n.paint.get("circle-pitch-alignment")){var l=pe(r,1,s.zoom);a=!0,o=[l,l]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(i.posMatrix,r,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:o}},ki=function(t,e,i){var r=pe(i,1,e.zoom),n=Math.pow(2,e.zoom-i.tileID.overscaledZ),a=i.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*n),e.pixelsToGLUnits[1]/(r*n)],u_overscale_factor:a}},Ii=function(t,e,i){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:i.cameraToCenterDistance,u_viewport_size:[i.width,i.height]}},Ai=function(t,e,i){return void 0===i&&(i=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:i}},Oi=function(t){return{u_matrix:t}},Di=function(t,e,i,r){return{u_matrix:t,u_extrude_scale:pe(e,1,i),u_intensity:r}},Mi=function(e,i,r){var n=e.transform;return{u_matrix:Hi(e,i,r),u_ratio:1/pe(i,1,n.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]]}},Fi=function(e,i,r){return t.extend(Mi(e,i,r),{u_image:0})},Ei=function(e,i,r,n){var a=e.transform,o=Li(i,a);return{u_matrix:Hi(e,i,r),u_texsize:i.imageAtlasTexture.size,u_ratio:1/pe(i,1,a.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[o,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Ri=function(e,i,r,n,a){var o=e.lineAtlas,s=Li(i,e.transform),l="round"===r.layout.get("line-cap"),c=o.getDash(n.from,l),u=o.getDash(n.to,l),h=c.width*a.fromScale,p=u.width*a.toScale;return t.extend(Mi(e,i,r),{u_patternscale_a:[s/h,-c.height/2],u_patternscale_b:[s/p,-u.height/2],u_sdfgamma:o.width/(256*Math.min(h,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:u.y,u_mix:a.t})};function Li(t,e){return 1/pe(t,1,e.tileZoom)}function Hi(t,e,i){return t.translatePosMatrix(e.tileID.posMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}var ji=function(t,e,i,r,n){return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*n.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:n.paint.get("raster-brightness-min"),u_brightness_high:n.paint.get("raster-brightness-max"),u_saturation_factor:(o=n.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=n.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:zi(n.paint.get("raster-hue-rotate"))};var a,o};function zi(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}var Bi,Ni=function(t,e,i,r,n,a,o,s,l,c){var u=n.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Xi=function(e,i,r,n,a,o,s,l,c,u,h){var p=a.transform;return t.extend(Ni(e,i,r,n,a,o,s,l,c,u),{u_gamma_scale:n?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+h})},Wi=function(e,i,r,n,a,o,s,l,c,u){return t.extend(Xi(e,i,r,n,a,o,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1})},Gi=function(t,e,i){return{u_matrix:t,u_opacity:e,u_color:i}},Yi=function(e,i,r,n,a,o){return t.extend(function(t,e,i,r){var n=i.imageManager.getPattern(t.from.toString()),a=i.imageManager.getPattern(t.to.toString()),o=i.imageManager.getPixelSize(),s=o.width,l=o.height,c=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,i.transform.tileZoom)/c,h=u*(r.tileID.canonical.x+r.tileID.wrap*c),p=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:n.tl,u_pattern_br_a:n.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:n.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/pe(r,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,p>>16],u_pixel_coord_lower:[65535&h,65535&p]}}(n,o,r,a),{u_matrix:e,u_opacity:i})},qi={fillExtrusion:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_opacity:new t.Uniform1f(e,i.u_opacity)}},fillExtrusionPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade),u_opacity:new t.Uniform1f(e,i.u_opacity)}},fill:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},fillPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},fillOutline:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}},fillOutlinePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},circle:function(e,i){return{u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,i.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},collisionBox:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,i.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,i.u_overscale_factor)}},collisionCircle:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,i.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,i.u_viewport_size)}},debug:function(e,i){return{u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_overlay:new t.Uniform1i(e,i.u_overlay),u_overlay_scale:new t.Uniform1f(e,i.u_overlay_scale)}},clippingMask:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmap:function(e,i){return{u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmapTexture:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}},hillshade:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}},hillshadePrepare:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_maxzoom:new t.Uniform1f(e,i.u_maxzoom),u_unpack:new t.Uniform4f(e,i.u_unpack)}},line:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels)}},lineGradient:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image)}},linePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_image:new t.Uniform1i(e,i.u_image),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},lineSDF:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,i.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,i.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,i.u_sdfgamma),u_image:new t.Uniform1i(e,i.u_image),u_tex_y_a:new t.Uniform1f(e,i.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,i.u_tex_y_b),u_mix:new t.Uniform1f(e,i.u_mix)}},raster:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}},symbolIcon:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}},symbolSDF:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}},symbolTextAndIcon:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texsize_icon:new t.Uniform2f(e,i.u_texsize_icon),u_texture:new t.Uniform1i(e,i.u_texture),u_texture_icon:new t.Uniform1i(e,i.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}},background:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}},backgroundPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}}};function Ki(e,i,r,n,a,o,s){for(var l=e.context,c=l.gl,u=e.useProgram("collisionBox"),h=[],p=0,d=0,f=0;f<n.length;f++){var b=n[f],m=i.getTile(b),g=m.getBucket(r);if(g){var y=b.posMatrix;0===a[0]&&0===a[1]||(y=e.translatePosMatrix(b.posMatrix,m,a,o));var v=s?g.textCollisionBox:g.iconCollisionBox,_=g.collisionCircleArray;if(_.length>0){var x=t.create(),w=y;t.mul(x,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,g.placementViewportMatrix),h.push({circleArray:_,circleOffset:d,transform:w,invTransform:x}),d=p+=_.length/4}v&&u.draw(l,c.LINES,Pt.disabled,Ut.disabled,e.colorModeForRenderPass(),Tt.disabled,ki(y,e.transform,m),r.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,e.transform.zoom,null,null,v.collisionVertexBuffer)}}if(s&&h.length){var V=e.useProgram("collisionCircle"),C=new t.StructArrayLayout2f1f2i16;C.resize(4*p),C._trim();for(var P=0,U=0,S=h;U<S.length;U+=1)for(var T=S[U],k=0;k<T.circleArray.length/4;k++){var I=4*k,A=T.circleArray[I+0],O=T.circleArray[I+1],D=T.circleArray[I+2],M=T.circleArray[I+3];C.emplace(P++,A,O,D,M,0),C.emplace(P++,A,O,D,M,1),C.emplace(P++,A,O,D,M,2),C.emplace(P++,A,O,D,M,3)}(!Bi||Bi.length<2*p)&&(Bi=function(e){var i=2*e,r=new t.StructArrayLayout3ui6;r.resize(i),r._trim();for(var n=0;n<i;n++){var a=6*n;r.uint16[a+0]=4*n+0,r.uint16[a+1]=4*n+1,r.uint16[a+2]=4*n+2,r.uint16[a+3]=4*n+2,r.uint16[a+4]=4*n+3,r.uint16[a+5]=4*n+0}return r}(p));for(var F=l.createIndexBuffer(Bi,!0),E=l.createVertexBuffer(C,t.collisionCircleLayout.members,!0),R=0,L=h;R<L.length;R+=1){var H=L[R],j=Ii(H.transform,H.invTransform,e.transform);V.draw(l,c.TRIANGLES,Pt.disabled,Ut.disabled,e.colorModeForRenderPass(),Tt.disabled,j,r.id,E,F,t.SegmentVector.simpleSegment(0,2*H.circleOffset,H.circleArray.length,H.circleArray.length/2),null,e.transform.zoom,null,null,null)}E.destroy(),F.destroy()}}var Ji=t.identity(new Float32Array(16));function Zi(e,i,r,n,a,o){var s=t.getAnchorAlignment(e),l=-(s.horizontalAlign-.5)*i,c=-(s.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,n);return new t.Point((l/a+u[0])*o,(c/a+u[1])*o)}function Qi(e,i,r,n,a,o,s,l,c,u,h){var p=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,b={};d.clear();for(var m=0;m<p.length;m++){var g=p.get(m),y=g.hidden||!g.crossTileID||e.allowVerticalPlacement&&!g.placedOrientation?null:n[g.crossTileID];if(y){var v=new t.Point(g.anchorX,g.anchorY),_=$t(v,r?l:s),x=te(o.cameraToCenterDistance,_.signedDistanceFromCamera),w=a.evaluateSizeForFeature(e.textSizeData,u,g)*x/t.ONE_EM;r&&(w*=e.tilePixelRatio/c);for(var V=Zi(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,w),C=r?$t(v.add(V),s).point:_.point.add(i?V.rotate(-o.angle):V),P=e.allowVerticalPlacement&&g.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,U=0;U<g.numGlyphs;U++)t.addDynamicAttributes(d,C,P);h&&g.associatedIconIndex>=0&&(b[g.associatedIconIndex]={shiftedAnchor:C,angle:P})}else ce(g.numGlyphs,d)}if(h){f.clear();for(var S=e.icon.placedSymbolArray,T=0;T<S.length;T++){var k=S.get(T);if(k.hidden)ce(k.numGlyphs,f);else{var I=b[T];if(I)for(var A=0;A<k.numGlyphs;A++)t.addDynamicAttributes(f,I.shiftedAnchor,I.angle);else ce(k.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(d)}function $i(t,e,i){return i.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function tr(e,i,r,n,a,o,s,l,c,u,h,p){for(var d=e.context,f=d.gl,b=e.transform,m="map"===l,g="map"===c,y=m&&"point"!==r.layout.get("symbol-placement"),v=m&&!g&&!y,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=e.depthModeForSublayer(0,Pt.ReadOnly),w=r.layout.get("text-variable-anchor"),V=[],C=0,P=n;C<P.length;C+=1){var U=P[C],S=i.getTile(U),T=S.getBucket(r);if(T){var k=a?T.text:T.icon;if(k&&k.segments.get().length){var I=k.programConfigurations.get(r.id),A=a||T.sdfIcons,O=a?T.textSizeData:T.iconSizeData,D=g||0!==b.pitch,M=e.useProgram($i(A,a,T),I),F=t.evaluateSizeForZoom(O,b.zoom),E=void 0,R=[0,0],L=void 0,H=void 0,j=null,z=void 0;if(a)L=S.glyphAtlasTexture,H=f.LINEAR,E=S.glyphAtlasTexture.size,T.iconsInText&&(R=S.imageAtlasTexture.size,j=S.imageAtlasTexture,z=D||e.options.rotating||e.options.zooming||"composite"===O.kind||"camera"===O.kind?f.LINEAR:f.NEAREST);else{var B=1!==r.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;L=S.imageAtlasTexture,H=A||e.options.rotating||e.options.zooming||B||D?f.LINEAR:f.NEAREST,E=S.imageAtlasTexture.size}var N=pe(S,1,e.transform.zoom),X=Zt(U.posMatrix,g,m,e.transform,N),W=Qt(U.posMatrix,g,m,e.transform,N),G=w&&T.hasTextData(),Y="none"!==r.layout.get("icon-text-fit")&&G&&T.hasIconData();y&&ie(T,U.posMatrix,e,a,X,W,g,u);var q=e.translatePosMatrix(U.posMatrix,S,o,s),K=y||a&&w||Y?Ji:X,J=e.translatePosMatrix(W,S,o,s,!0),Z=A&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:M,buffers:k,uniformValues:A?T.iconsInText?Wi(O.kind,F,v,g,e,q,K,J,E,R):Xi(O.kind,F,v,g,e,q,K,J,a,E,!0):Ni(O.kind,F,v,g,e,q,K,J,a,E),atlasTexture:L,atlasTextureIcon:j,atlasInterpolation:H,atlasInterpolationIcon:z,isSDF:A,hasHalo:Z};if(_)for(var $=0,tt=k.segments.get();$<tt.length;$+=1){var et=tt[$];V.push({segments:new t.SegmentVector([et]),sortKey:et.sortKey,state:Q})}else V.push({segments:k.segments,sortKey:0,state:Q})}}}_&&V.sort((function(t,e){return t.sortKey-e.sortKey}));for(var it=0,rt=V;it<rt.length;it+=1){var nt=rt[it],at=nt.state;if(d.activeTexture.set(f.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,f.CLAMP_TO_EDGE),at.atlasTextureIcon&&(d.activeTexture.set(f.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),at.isSDF){var ot=at.uniformValues;at.hasHalo&&(ot.u_is_halo=1,er(at.buffers,nt.segments,r,e,at.program,x,h,p,ot)),ot.u_is_halo=0}er(at.buffers,nt.segments,r,e,at.program,x,h,p,at.uniformValues)}}function er(t,e,i,r,n,a,o,s,l){var c=r.context;n.draw(c,c.gl.TRIANGLES,a,o,s,Tt.disabled,l,i.id,t.layoutVertexBuffer,t.indexBuffer,e,i.paint,r.transform.zoom,t.programConfigurations.get(i.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ir(t,e,i,r,n,a,o){var s,l,c,u,h,p=t.context.gl,d=i.paint.get("fill-pattern"),f=d&&d.constantOr(1),b=i.getCrossfadeParameters();o?(l=f&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=f?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,g=r;m<g.length;m+=1){var y=g[m],v=e.getTile(y);if(!f||v.patternsLoaded()){var _=v.getBucket(i);if(_){var x=_.programConfigurations.get(i.id),w=t.useProgram(l,x);f&&(t.context.activeTexture.set(p.TEXTURE0),v.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(b));var V=d.constantOr(null);if(V&&v.imageAtlas){var C=v.imageAtlas,P=C.patternPositions[V.to.toString()],U=C.patternPositions[V.from.toString()];P&&U&&x.setConstantPatternPositions(P,U)}var S=t.translatePosMatrix(y.posMatrix,v,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(o){u=_.indexBuffer2,h=_.segments2;var T=[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===l&&f?Si(S,t,b,v,T):Ui(S,T)}else u=_.indexBuffer,h=_.segments,c=f?Pi(S,t,b,v):Ci(S);w.draw(t.context,s,n,t.stencilModeForClipping(y),a,Tt.disabled,c,i.id,_.layoutVertexBuffer,u,h,i.paint,t.transform.zoom,x)}}}}function rr(t,e,i,r,n,a,o){for(var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=c.constantOr(1),h=i.getCrossfadeParameters(),p=i.paint.get("fill-extrusion-opacity"),d=0,f=r;d<f.length;d+=1){var b=f[d],m=e.getTile(b),g=m.getBucket(i);if(g){var y=g.programConfigurations.get(i.id),v=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",y);u&&(t.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(h));var _=c.constantOr(null);if(_&&m.imageAtlas){var x=m.imageAtlas,w=x.patternPositions[_.to.toString()],V=x.patternPositions[_.from.toString()];w&&V&&y.setConstantPatternPositions(w,V)}var C=t.translatePosMatrix(b.posMatrix,m,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),P=i.paint.get("fill-extrusion-vertical-gradient"),U=u?Vi(C,t,P,p,b,h,m):wi(C,t,P,p);v.draw(s,s.gl.TRIANGLES,n,a,o,Tt.backCCW,U,i.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,i.paint,t.transform.zoom,y)}}}function nr(e,i,r,n,a,o){var s=e.context,l=s.gl,c=i.fbo;if(c){var u=e.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get());var h=function(e,i,r){var n=r.paint.get("hillshade-shadow-color"),a=r.paint.get("hillshade-highlight-color"),o=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l,c,u,h=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),h),u_image:0,u_latrange:(l=i.tileID,c=Math.pow(2,l.canonical.z),u=l.canonical.y,[new t.MercatorCoordinate(0,u/c).toLngLat().lat,new t.MercatorCoordinate(0,(u+1)/c).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:n,u_highlight:a,u_accent:o}}(e,i,r);u.draw(s,l.TRIANGLES,n,a,o,Tt.disabled,h,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function ar(e,i,r,n,a,o,s){var l=e.context,c=l.gl,u=i.dem;if(u&&u.data){var h=u.dim,p=u.stride,d=u.getPixels();if(l.activeTexture.set(c.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(p),i.demTexture){var f=i.demTexture;f.update(d,{premultiply:!1}),f.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else i.demTexture=new t.Texture(l,d,c.RGBA,{premultiply:!1}),i.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);l.activeTexture.set(c.TEXTURE0);var b=i.fbo;if(!b){var m=new t.Texture(l,{width:h,height:h,data:null},c.RGBA);m.bind(c.LINEAR,c.CLAMP_TO_EDGE),(b=i.fbo=l.createFramebuffer(h,h,!0)).colorAttachment.set(m.texture)}l.bindFramebuffer.set(b.framebuffer),l.viewport.set([0,0,h,h]),e.useProgram("hillshadePrepare").draw(l,c.TRIANGLES,a,o,s,Tt.disabled,function(e,i,r){var n=i.stride,a=t.create();return t.ortho(a,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(a,a,[0,-t.EXTENT,0]),{u_matrix:a,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_maxzoom:r,u_unpack:i.getUnpackVector()}}(i.tileID,u,n),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function or(e,i,r,n,a){var o=n.paint.get("raster-fade-duration");if(o>0){var s=t.browser.now(),l=(s-e.timeAdded)/o,c=i?(s-i.timeAdded)/o:-1,u=r.getSource(),h=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),d=p&&e.refreshedUponExpiration?1:t.clamp(p?l:1-c,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var sr=new t.Color(1,0,0,1),lr=new t.Color(0,1,0,1),cr=new t.Color(0,0,1,1),ur=new t.Color(1,0,1,1),hr=new t.Color(0,1,1,1);function pr(t,e,i,r){fr(t,0,e+i/2,t.transform.width,i,r)}function dr(t,e,i,r){fr(t,e-i/2,0,i,t.transform.height,r)}function fr(e,i,r,n,a,o){var s=e.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,n*t.browser.devicePixelRatio,a*t.browser.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}function br(e,i,r){var n=e.context,a=n.gl,o=r.posMatrix,s=e.useProgram("debug"),l=Pt.disabled,c=Ut.disabled,u=e.colorModeForRenderPass();n.activeTexture.set(a.TEXTURE0),e.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(n,a.LINE_STRIP,l,c,u,Tt.disabled,Ai(o,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=i.getTileByID(r.key).latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),d=i.getTile(r).tileSize,f=512/Math.min(d,512)*(r.overscaledZ/e.transform.zoom)*.5,b=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(b+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var i=t.debugOverlayCanvas,r=t.context.gl,n=t.debugOverlayCanvas.getContext("2d");n.clearRect(0,0,i.width,i.height),n.shadowColor="white",n.shadowBlur=2,n.lineWidth=1.5,n.strokeStyle="white",n.textBaseline="top",n.font="bold 36px Open Sans, sans-serif",n.fillText(e,5,5),n.strokeText(e,5,5),t.debugOverlayTexture.update(i),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,b+" "+p+"kb"),s.draw(n,a.TRIANGLES,l,c,St.alphaBlended,Tt.disabled,Ai(o,t.Color.transparent,f),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var mr={symbol:function(e,i,r,n,a){if("translucent"===e.renderPass){var o=Ut.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,i,r,n,a,o,s){for(var l=i.transform,c="map"===a,u="map"===o,h=0,p=e;h<p.length;h+=1){var d=p[h],f=n.getTile(d),b=f.getBucket(r);if(b&&b.text&&b.text.segments.get().length){var m=t.evaluateSizeForZoom(b.textSizeData,l.zoom),g=pe(f,1,i.transform.zoom),y=Zt(d.posMatrix,u,c,i.transform,g),v="none"!==r.layout.get("icon-text-fit")&&b.hasIconData();if(m){var _=Math.pow(2,l.zoom-f.tileID.overscaledZ);Qi(b,c,u,s,t.symbolSize,l,y,d.posMatrix,_,m,v)}}}}(n,e,r,i,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&tr(e,i,r,n,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&tr(e,i,r,n,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),i.map.showCollisionBoxes&&(Ki(e,i,r,n,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Ki(e,i,r,n,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,i,r,n){if("translucent"===e.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var c=e.context,u=c.gl,h=e.depthModeForSublayer(0,Pt.ReadOnly),p=Ut.disabled,d=e.colorModeForRenderPass(),f=[],b=0;b<n.length;b++){var m=n[b],g=i.getTile(m),y=g.getBucket(r);if(y){var v=y.programConfigurations.get(r.id),_={programConfiguration:v,program:e.useProgram("circle",v),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Ti(e,m,g,r)};if(l)for(var x=0,w=y.segments.get();x<w.length;x+=1){var V=w[x];f.push({segments:new t.SegmentVector([V]),sortKey:V.sortKey,state:_})}else f.push({segments:y.segments,sortKey:0,state:_})}}l&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var C=0,P=f;C<P.length;C+=1){var U=P[C],S=U.state;S.program.draw(c,u.TRIANGLES,h,p,d,Tt.disabled,S.uniformValues,r.id,S.layoutVertexBuffer,S.indexBuffer,U.segments,r.paint,e.transform.zoom,S.programConfiguration)}}}},heatmap:function(e,i,r,n){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var a=e.context,o=a.gl,s=Ut.disabled,l=new St([o.ONE,o.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var n=i.heatmapFbo;if(n)r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),t.bindFramebuffer.set(n.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),n=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,i,r){var n=t.gl;n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.width/4,e.height/4,0,n.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:n.UNSIGNED_BYTE,null),r.colorAttachment.set(i)}(t,e,a,n)}}(a,e,r),a.clear({color:t.Color.transparent});for(var c=0;c<n.length;c++){var u=n[c];if(!i.hasRenderableParent(u)){var h=i.getTile(u),p=h.getBucket(r);if(p){var d=p.programConfigurations.get(r.id);e.useProgram("heatmap",d).draw(a,o.TRIANGLES,Pt.disabled,s,l,Tt.disabled,Di(u.posMatrix,h,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,e.transform.zoom,d)}}}a.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var r=e.context,n=r.gl,a=i.heatmapFbo;if(a){r.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(n.TEXTURE1);var o=i.colorRampTexture;o||(o=i.colorRampTexture=new t.Texture(r,i.colorRamp,n.RGBA)),o.bind(n.LINEAR,n.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,n.TRIANGLES,Pt.disabled,Ut.disabled,e.colorModeForRenderPass(),Tt.disabled,function(e,i,r,n){var a=t.create();t.ortho(a,0,e.width,e.height,0,0,1);var o=e.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:i.paint.get("heatmap-opacity")}}(e,i),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}}(e,r))},line:function(e,i,r,n){if("translucent"===e.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=e.depthModeForSublayer(0,Pt.ReadOnly),l=e.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),h=u.constantOr(1),p=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),f=h?"linePattern":c?"lineSDF":p?"lineGradient":"line",b=e.context,m=b.gl,g=!0;if(p){b.activeTexture.set(m.TEXTURE0);var y=r.gradientTexture;if(!r.gradient)return;y||(y=r.gradientTexture=new t.Texture(b,r.gradient,m.RGBA)),y.bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var v=0,_=n;v<_.length;v+=1){var x=_[v],w=i.getTile(x);if(!h||w.patternsLoaded()){var V=w.getBucket(r);if(V){var C=V.programConfigurations.get(r.id),P=e.context.program.get(),U=e.useProgram(f,C),S=g||U.program!==P,T=u.constantOr(null);if(T&&w.imageAtlas){var k=w.imageAtlas,I=k.patternPositions[T.to.toString()],A=k.patternPositions[T.from.toString()];I&&A&&C.setConstantPatternPositions(I,A)}var O=h?Ei(e,w,r,d):c?Ri(e,w,r,c,d):p?Fi(e,w,r):Mi(e,w,r);h?(b.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),C.updatePaintBuffers(d)):c&&(S||e.lineAtlas.dirty)&&(b.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(b)),U.draw(b,m.TRIANGLES,s,e.stencilModeForClipping(x),l,Tt.disabled,O,r.id,V.layoutVertexBuffer,V.indexBuffer,V.segments,r.paint,e.transform.zoom,C),g=!1}}}}}},fill:function(e,i,r,n){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(t.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){var u=e.depthModeForSublayer(1,"opaque"===e.renderPass?Pt.ReadWrite:Pt.ReadOnly);ir(e,i,r,n,u,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var h=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Pt.ReadOnly);ir(e,i,r,n,h,s,!0)}}},"fill-extrusion":function(t,e,i,r){var n=i.paint.get("fill-extrusion-opacity");if(0!==n&&"translucent"===t.renderPass){var a=new Pt(t.context.gl.LEQUAL,Pt.ReadWrite,t.depthRangeFor3D);if(1!==n||i.paint.get("fill-extrusion-pattern").constantOr(1))rr(t,e,i,r,a,Ut.disabled,St.disabled),rr(t,e,i,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var o=t.colorModeForRenderPass();rr(t,e,i,r,a,Ut.disabled,o)}}},hillshade:function(t,e,i,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var n=t.context,a=e.getSource().maxzoom,o=t.depthModeForSublayer(0,Pt.ReadOnly),s=t.colorModeForRenderPass(),l="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],c=l[0],u=0,h=l[1];u<h.length;u+=1){var p=h[u],d=e.getTile(p);d.needsHillshadePrepare&&"offscreen"===t.renderPass?ar(t,d,i,a,o,Ut.disabled,s):"translucent"===t.renderPass&&nr(t,d,i,o,c[p.overscaledZ],s)}n.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,r){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")&&r.length)for(var n=t.context,a=n.gl,o=e.getSource(),s=t.useProgram("raster"),l=t.colorModeForRenderPass(),c=o instanceof O?[{},r]:t.stencilConfigForOverlap(r),u=c[0],h=c[1],p=h[h.length-1].overscaledZ,d=!t.options.moving,f=0,b=h;f<b.length;f+=1){var m=b[f],g=t.depthModeForSublayer(m.overscaledZ-p,1===i.paint.get("raster-opacity")?Pt.ReadWrite:Pt.ReadOnly,a.LESS),y=e.getTile(m),v=t.transform.calculatePosMatrix(m.toUnwrapped(),d);y.registerFadeDuration(i.paint.get("raster-fade-duration"));var _=e.findLoadedParent(m,0),x=or(y,_,e,i,t.transform),w=void 0,V=void 0,C="nearest"===i.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;n.activeTexture.set(a.TEXTURE0),y.texture.bind(C,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),n.activeTexture.set(a.TEXTURE1),_?(_.texture.bind(C,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,_.tileID.overscaledZ-y.tileID.overscaledZ),V=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1]):y.texture.bind(C,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var P=ji(v,V||[0,0],w||1,x,i);o instanceof O?s.draw(n,a.TRIANGLES,g,Ut.disabled,l,Tt.disabled,P,i.id,o.boundsBuffer,t.quadTriangleIndexBuffer,o.boundsSegments):s.draw(n,a.TRIANGLES,g,u[m.overscaledZ],l,Tt.disabled,P,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,i){var r=i.paint.get("background-color"),n=i.paint.get("background-opacity");if(0!==n){var a=t.context,o=a.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern");if(!t.isPatternMissing(c)){var u=!c&&1===r.a&&1===n&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===u){var h=Ut.disabled,p=t.depthModeForSublayer(0,"opaque"===u?Pt.ReadWrite:Pt.ReadOnly),d=t.colorModeForRenderPass(),f=t.useProgram(c?"backgroundPattern":"background"),b=s.coveringTiles({tileSize:l});c&&(a.activeTexture.set(o.TEXTURE0),t.imageManager.bind(t.context));for(var m=i.getCrossfadeParameters(),g=0,y=b;g<y.length;g+=1){var v=y[g],_=t.transform.calculatePosMatrix(v.toUnwrapped()),x=c?Yi(_,n,t,c,{tileID:v,tileSize:l},m):Gi(_,n,r);f.draw(a,o.TRIANGLES,p,h,d,Tt.disabled,x,i.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,i){for(var r=0;r<i.length;r++)br(t,e,i[r])},custom:function(t,e,i){var r=t.context,n=i.implementation;if("offscreen"===t.renderPass){var a=n.prerender;a&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),a.call(n,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(Ut.disabled);var o="3d"===n.renderingMode?new Pt(t.context.gl.LEQUAL,Pt.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Pt.ReadOnly);r.setDepthMode(o),n.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},gr=function(t,e){this.context=new kt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=It.maxUnderzooming+It.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Le,this.gpuTimers={}};gr.prototype.resize=function(e,i){if(this.width=e*t.browser.devicePixelRatio,this.height=i*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,n=this.style._order;r<n.length;r+=1)this.style._layers[n[r]].resize()},gr.prototype.setup=function(){var e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,Xe.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,Xe.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var n=new t.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(t.EXTENT,0,t.EXTENT,0),n.emplaceBack(0,t.EXTENT,0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(n,A.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,Xe.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new Ut({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},gr.prototype.clearStencil=function(){var e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,i.TRIANGLES,Pt.disabled,this.stencilClearMode,St.disabled,Tt.disabled,Oi(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},gr.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var i=this.context,r=i.gl;this.nextStencilID+e.length>256&&this.clearStencil(),i.setColorMode(St.disabled),i.setDepthMode(Pt.disabled);var n=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=e;a<o.length;a+=1){var s=o[a],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;n.draw(i,r.TRIANGLES,Pt.disabled,new Ut({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),St.disabled,Tt.disabled,Oi(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},gr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ut({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},gr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ut({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},gr.prototype.stencilConfigForOverlap=function(t){var e,i=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),n=r[r.length-1].overscaledZ,a=r[0].overscaledZ-n+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+n]=new Ut({func:i.GEQUAL,mask:255},s+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=a,[o,r]}return[(e={},e[n]=Ut.disabled,e),r]},gr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new St([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},gr.prototype.depthModeForSublayer=function(t,e,i){if(!this.opaquePassEnabledForLayer())return Pt.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Pt(i||this.context.gl.LEQUAL,e,[r,r])},gr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},gr.prototype.render=function(e,i){var r=this;this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var n=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l,c,u={},h={},p={};for(var d in a){var f=a[d];u[d]=f.getVisibleCoordinates(),h[d]=u[d].slice().reverse(),p[d]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var b=0;b<n.length;b++)if(this.style._layers[n[b]].is3D()){this.opaquePassCutoff=b;break}this.renderPass="offscreen";for(var m=0,g=n;m<g.length;m+=1){var y=this.style._layers[g[m]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var v=h[y.source];("custom"===y.type||v.length)&&this.renderLayer(this,a[y.source],y,v)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[n[this.currentLayer]],x=a[_.source],w=u[_.source];this._renderTileClippingMasks(_,w),this.renderLayer(this,x,_,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){var V=this.style._layers[n[this.currentLayer]],C=a[V.source],P=("symbol"===V.type?p:h)[V.source];this._renderTileClippingMasks(V,u[V.source]),this.renderLayer(this,C,V,P)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(c&&c.id)&&(c=r.style.sourceCaches[t.source]),(!l||l.getSource().maxzoom<c.getSource().maxzoom)&&(l=c))})),l&&mr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;pr(t,t.transform.height-(e.top||0),3,sr),pr(t,e.bottom||0,3,lr),dr(t,e.left||0,3,cr),dr(t,t.transform.width-(e.right||0),3,ur);var i=t.transform.centerPoint;!function(t,e,i,r){fr(t,e-1,i-10,2,20,r),fr(t,e-10,i-1,20,2,r)}(t,i.x,t.transform.height-i.y,hr)}(this),this.context.setDefault()},gr.prototype.renderLayer=function(t,e,i,r){i.isHidden(this.transform.zoom)||("background"===i.type||"custom"===i.type||r.length)&&(this.id=i.id,this.gpuTimingStart(i),mr[i.type](t,e,i,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},gr.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,i=this.gpuTimers[t.id];i||(i=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),i.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,i.query)}},gr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},gr.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},gr.prototype.queryGpuTimers=function(t){var e={};for(var i in t){var r=t[i],n=this.context.extTimerQuery,a=n.getQueryObjectEXT(r.query,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(r.query),e[i]=a}return e},gr.prototype.translatePosMatrix=function(e,i,r,n,a){if(!r[0]&&!r[1])return e;var o=a?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var c=[a?r[0]:pe(i,r[0],this.transform.zoom),a?r[1]:pe(i,r[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,c),u},gr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},gr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},gr.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),i=this.imageManager.getPattern(t.to.toString());return!e||!i},gr.prototype.useProgram=function(t,e){this.cache=this.cache||{};var i=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new _i(this.context,yi[t],e,qi[t],this._showOverdrawInspector)),this.cache[i]},gr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},gr.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},gr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},gr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var yr=function(t,e){this.points=t,this.planes=e};yr.fromInvProjectionMatrix=function(e,i,r){var n=Math.pow(2,r),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(i){return t.transformMat4([],i,e)})).map((function(e){return t.scale$1([],e,1/e[3]/i*n)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var i=t.sub([],a[e[0]],a[e[1]]),r=t.sub([],a[e[2]],a[e[1]]),n=t.normalize([],t.cross([],i,r)),o=-t.dot(n,a[e[1]]);return n.concat(o)}));return new yr(a,o)};var vr=function(e,i){this.min=e,this.max=i,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};vr.prototype.quadrant=function(e){for(var i=[e%2==0,e<2],r=t.clone$2(this.min),n=t.clone$2(this.max),a=0;a<i.length;a++)r[a]=i[a]?this.min[a]:this.center[a],n[a]=i[a]?this.center[a]:this.max[a];return n[2]=this.max[2],new vr(r,n)},vr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},vr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},vr.prototype.intersects=function(e){for(var i=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,n=0;n<e.planes.length;n++){for(var a=e.planes[n],o=0,s=0;s<i.length;s++)o+=t.dot$1(a,i[s])>=0;if(0===o)return 0;o!==i.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var c=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=0;h<e.points.length;h++){var p=e.points[h][l]-this.min[l];c=Math.min(c,p),u=Math.max(u,p)}if(u<0||c>this.max[l]-this.min[l])return 0}return 1};var _r=function(t,e,i,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(i)||i<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=i,this.right=r};_r.prototype.interpolate=function(e,i,r){return null!=i.top&&null!=e.top&&(this.top=t.number(e.top,i.top,r)),null!=i.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,i.bottom,r)),null!=i.left&&null!=e.left&&(this.left=t.number(e.left,i.left,r)),null!=i.right&&null!=e.right&&(this.right=t.number(e.right,i.right,r)),this},_r.prototype.getCenter=function(e,i){var r=t.clamp((this.left+e-this.right)/2,0,e),n=t.clamp((this.top+i-this.bottom)/2,0,i);return new t.Point(r,n)},_r.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},_r.prototype.clone=function(){return new _r(this.top,this.bottom,this.left,this.right)},_r.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var xr=function(e,i,r,n,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=e||0,this._maxZoom=i||22,this._minPitch=null==r?0:r,this._maxPitch=null==n?60:n,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new _r,this._posMatrixCache={},this._alignedPosMatrixCache={}},wr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};xr.prototype.clone=function(){var t=new xr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},wr.minZoom.get=function(){return this._minZoom},wr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},wr.maxZoom.get=function(){return this._maxZoom},wr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},wr.minPitch.get=function(){return this._minPitch},wr.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},wr.maxPitch.get=function(){return this._maxPitch},wr.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},wr.renderWorldCopies.get=function(){return this._renderWorldCopies},wr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},wr.worldSize.get=function(){return this.tileSize*this.scale},wr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},wr.size.get=function(){return new t.Point(this.width,this.height)},wr.bearing.get=function(){return-this.angle/Math.PI*180},wr.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},wr.pitch.get=function(){return this._pitch/Math.PI*180},wr.pitch.set=function(e){var i=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},wr.fov.get=function(){return this._fov/Math.PI*180},wr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},wr.zoom.get=function(){return this._zoom},wr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},wr.center.get=function(){return this._center},wr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},wr.padding.get=function(){return this._edgeInsets.toJSON()},wr.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},wr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},xr.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},xr.prototype.interpolatePadding=function(t,e,i){this._unmodified=!1,this._edgeInsets.interpolate(t,e,i),this._constrain(),this._calcMatrices()},xr.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},xr.prototype.getVisibleUnwrappedCoordinates=function(e){var i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),n=this.pointCoordinate(new t.Point(this.width,0)),a=this.pointCoordinate(new t.Point(this.width,this.height)),o=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,n.x,a.x,o.x)),l=Math.floor(Math.max(r.x,n.x,a.x,o.x)),c=s-1;c<=l+1;c++)0!==c&&i.push(new t.UnwrappedTileID(c,e));return i},xr.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),r=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var n=t.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,i),o=[a*n.x,a*n.y,0],s=yr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i),l=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=i);var c=function(t){return{aabb:new vr([t*a,0,0],[(t+1)*a,a,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},u=[],h=[],p=i,d=e.reparseOverscaled?r:i;if(this._renderWorldCopies)for(var f=1;f<=3;f++)u.push(c(-f)),u.push(c(f));for(u.push(c(0));u.length>0;){var b=u.pop(),m=b.x,g=b.y,y=b.fullyVisible;if(!y){var v=b.aabb.intersects(s);if(0===v)continue;y=2===v}var _=b.aabb.distanceX(o),x=b.aabb.distanceY(o),w=Math.max(Math.abs(_),Math.abs(x));if(b.zoom===p||w>3+(1<<p-b.zoom)-2&&b.zoom>=l)h.push({tileID:new t.OverscaledTileID(b.zoom===p?d:b.zoom,b.wrap,b.zoom,m,g),distanceSq:t.sqrLen([o[0]-.5-m,o[1]-.5-g])});else for(var V=0;V<4;V++){var C=(m<<1)+V%2,P=(g<<1)+(V>>1);u.push({aabb:b.aabb.quadrant(V),zoom:b.zoom+1,x:C,y:P,wrap:b.wrap,fullyVisible:y})}}return h.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},xr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},wr.unmodified.get=function(){return this._unmodified},xr.prototype.zoomScale=function(t){return Math.pow(2,t)},xr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},xr.prototype.project=function(e){var i=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(i)*this.worldSize)},xr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},wr.point.get=function(){return this.project(this.center)},xr.prototype.setLocationAtPoint=function(e,i){var r=this.pointCoordinate(i),n=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(e),o=new t.MercatorCoordinate(a.x-(r.x-n.x),a.y-(r.y-n.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},xr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},xr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},xr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},xr.prototype.coordinateLocation=function(t){return t.toLngLat()},xr.prototype.pointCoordinate=function(e){var i=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(i,i,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var n=i[3],a=r[3],o=i[1]/n,s=r[1]/a,l=i[2]/n,c=r[2]/a,u=l===c?0:(0-l)/(c-l);return new t.MercatorCoordinate(t.number(i[0]/n,r[0]/a,u)/this.worldSize,t.number(o,s,u)/this.worldSize)},xr.prototype.coordinatePoint=function(e){var i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(i,i,this.pixelMatrix),new t.Point(i[0]/i[3],i[1]/i[3])},xr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},xr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},xr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},xr.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var r=e.key,n=i?this._alignedPosMatrixCache:this._posMatrixCache;if(n[r])return n[r];var a=e.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*o,a.y*o,0]),t.scale(l,l,[o/t.EXTENT,o/t.EXTENT,1]),t.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),n[r]=new Float32Array(l),n[r]},xr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},xr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,r,n,a=-90,o=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;a=t.mercatorYfromLat(h[1])*this.worldSize,e=(o=t.mercatorYfromLat(h[0])*this.worldSize)-a<c.y?c.y/(o-a):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,i=(l=t.mercatorXfromLng(p[1])*this.worldSize)-s<c.x?c.x/(l-s):0}var d=this.point,f=Math.max(i||0,e||0);if(f)return this.center=this.unproject(new t.Point(i?(l+s)/2:d.x,e?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var b=d.y,m=c.y/2;b-m<a&&(n=a+m),b+m>o&&(n=o-m)}if(this.lngRange){var g=d.x,y=c.x/2;g-y<s&&(r=s+y),g+y>l&&(r=l-y)}void 0===r&&void 0===n||(this.center=this.unproject(new t.Point(void 0!==r?r:d.x,void 0!==n?n:d.y))),this._unmodified=u,this._constraining=!1}},xr.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var i=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),n=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-i-r,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),c=this.height/50,u=new Float64Array(16);t.perspective(u,this._fov,this.width/this.height,c,l),u[8]=2*-e.x/this.width,u[9]=2*e.y/this.height,t.scale(u,u,[1,-1,1]),t.translate(u,u,[0,0,-this.cameraToCenterDistance]),t.rotateX(u,u,this._pitch),t.rotateZ(u,u,this.angle),t.translate(u,u,[-o,-s,0]),this.mercatorMatrix=t.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),t.scale(u,u,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u,this.invProjMatrix=t.invert([],this.projMatrix);var h=this.width%2/2,p=this.height%2/2,d=Math.cos(this.angle),f=Math.sin(this.angle),b=o-Math.round(o)+d*h+f*p,m=s-Math.round(s)+d*p+f*h,g=new Float64Array(u);if(t.translate(g,g,[b>.5?b-1:b,m>.5?m-1:m,0]),this.alignedProjMatrix=g,u=t.create(),t.scale(u,u,[this.width/2,-this.height/2,1]),t.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=t.create(),t.scale(u,u,[1,-1,1]),t.translate(u,u,[-1,-1,0]),t.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},xr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},xr.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},xr.prototype.getCameraQueryGeometry=function(e){var i=this.getCameraPoint();if(1===e.length)return[e[0],i];for(var r=i.x,n=i.y,a=i.x,o=i.y,s=0,l=e;s<l.length;s+=1){var c=l[s];r=Math.min(r,c.x),n=Math.min(n,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y)}return[new t.Point(r,n),new t.Point(a,n),new t.Point(a,o),new t.Point(r,o),new t.Point(r,n)]},Object.defineProperties(xr.prototype,wr);var Vr=function(e){var i,r,n,a;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(i=this._updateHashUnthrottled.bind(this),r=!1,n=null,a=function(){n=null,r&&(i(),n=setTimeout(a,300),r=!1)},function(){return r=!0,n||a(),n})};Vr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Vr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Vr.prototype.getHashString=function(e){var i=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,n),o=Math.round(i.lng*a)/a,s=Math.round(i.lat*a)/a,l=this._map.getBearing(),c=this._map.getPitch(),u="";if(u+=e?"/"+o+"/"+s+"/"+r:r+"/"+s+"/"+o,(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),this._hashName){var h=this._hashName,p=!1,d=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===h?(p=!0,e+"="+u):t})).filter((function(t){return t}));return p||d.push(h+"="+u),"#"+d.join("&")}return"#"+u},Vr.prototype._getCurrentHash=function(){var e,i=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===i._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},Vr.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Vr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var Cr={linearity:.3,easing:t.bezier(0,0,.3,1)},Pr=t.extend({deceleration:2500,maxSpeed:1400},Cr),Ur=t.extend({deceleration:20,maxSpeed:1400},Cr),Sr=t.extend({deceleration:1e3,maxSpeed:360},Cr),Tr=t.extend({deceleration:1e3,maxSpeed:90},Cr),kr=function(t){this._map=t,this.clear()};function Ir(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Ar(e,i,r){var n=r.maxSpeed,a=r.linearity,o=r.deceleration,s=t.clamp(e*a/(i/1e3),-n,n),l=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}kr.prototype.clear=function(){this._inertiaBuffer=[]},kr.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},kr.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,i=t.browser.now();e.length>0&&i-e[0].time>160;)e.shift()},kr.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var i={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,n=this._inertiaBuffer;r<n.length;r+=1){var a=n[r].settings;i.zoom+=a.zoomDelta||0,i.bearing+=a.bearingDelta||0,i.pitch+=a.pitchDelta||0,a.panDelta&&i.pan._add(a.panDelta),a.around&&(i.around=a.around),a.pinchAround&&(i.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(i.pan.mag()){var l=Ar(i.pan.mag(),o,t.extend({},Pr,e||{}));s.offset=i.pan.mult(l.amount/i.pan.mag()),s.center=this._map.transform.center,Ir(s,l)}if(i.zoom){var c=Ar(i.zoom,o,Ur);s.zoom=this._map.transform.zoom+c.amount,Ir(s,c)}if(i.bearing){var u=Ar(i.bearing,o,Sr);s.bearing=this._map.transform.bearing+t.clamp(u.amount,-179,179),Ir(s,u)}if(i.pitch){var h=Ar(i.pitch,o,Tr);s.pitch=this._map.transform.pitch+h.amount,Ir(s,h)}if(s.zoom||s.bearing){var p=void 0===i.pinchAround?i.around:i.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var Or=function(e){function r(r,n,a,o){void 0===o&&(o={});var s=i.mousePos(n.getCanvasContainer(),a),l=n.unproject(s);e.call(this,r,t.extend({point:s,lngLat:l,originalEvent:a},o)),this._defaultPrevented=!1,this.target=n}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var n={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,n),r}(t.Event),Dr=function(e){function r(r,n,a){var o="touchend"===r?a.changedTouches:a.touches,s=i.touchPos(n.getCanvasContainer(),o),l=s.map((function(t){return n.unproject(t)})),c=s.reduce((function(t,e,i,r){return t.add(e.div(r.length))}),new t.Point(0,0)),u=n.unproject(c);e.call(this,r,{points:s,point:c,lngLats:l,lngLat:u,originalEvent:a}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var n={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,n),r}(t.Event),Mr=function(t){function e(e,i,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Fr=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Fr.prototype.reset=function(){delete this._mousedownPos},Fr.prototype.wheel=function(t){return this._firePreventable(new Mr(t.type,this._map,t))},Fr.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Or(t.type,this._map,t))},Fr.prototype.mouseup=function(t){this._map.fire(new Or(t.type,this._map,t))},Fr.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Or(t.type,this._map,t))},Fr.prototype.dblclick=function(t){return this._firePreventable(new Or(t.type,this._map,t))},Fr.prototype.mouseover=function(t){this._map.fire(new Or(t.type,this._map,t))},Fr.prototype.mouseout=function(t){this._map.fire(new Or(t.type,this._map,t))},Fr.prototype.touchstart=function(t){return this._firePreventable(new Dr(t.type,this._map,t))},Fr.prototype.touchend=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype.touchcancel=function(t){this._map.fire(new Dr(t.type,this._map,t))},Fr.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Fr.prototype.isEnabled=function(){return!0},Fr.prototype.isActive=function(){return!1},Fr.prototype.enable=function(){},Fr.prototype.disable=function(){};var Er=function(t){this._map=t};Er.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Er.prototype.mousemove=function(t){this._map.fire(new Or(t.type,this._map,t))},Er.prototype.touchmove=function(t){this._map.fire(new Dr(t.type,this._map,t))},Er.prototype.mousedown=function(){this._delayContextMenu=!0},Er.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Or("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Er.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Or(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Er.prototype.isEnabled=function(){return!0},Er.prototype.isActive=function(){return!1},Er.prototype.enable=function(){},Er.prototype.disable=function(){};var Rr=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function Lr(t,e){for(var i={},r=0;r<t.length;r++)i[t[r].identifier]=e[r];return i}Rr.prototype.isEnabled=function(){return!!this._enabled},Rr.prototype.isActive=function(){return!!this._active},Rr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Rr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Rr.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(i.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},Rr.prototype.mousemoveWindow=function(t,e){if(this._active){var r=e;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=r,this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var a=Math.min(n.x,r.x),o=Math.max(n.x,r.x),s=Math.min(n.y,r.y),l=Math.max(n.y,r.y);i.setTransform(this._box,"translate("+a+"px,"+s+"px)"),this._box.style.width=o-a+"px",this._box.style.height=l-s+"px"}}},Rr.prototype.mouseupWindow=function(e,r){var n=this;if(this._active&&0===e.button){var a=this._startPos,o=r;if(this.reset(),i.suppressClick(),a.x!==o.x||a.y!==o.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(a,o,n._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},Rr.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},Rr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos},Rr.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var Hr=function(t){this.reset(),this.numTouches=t.numTouches};Hr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Hr.prototype.touchstart=function(e,i){(this.centroid||e.targetTouches.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),e.targetTouches.length===this.numTouches&&(this.centroid=function(e){for(var i=new t.Point(0,0),r=0,n=e;r<n.length;r+=1)i._add(n[r]);return i.div(e.length)}(i),this.touches=Lr(e.targetTouches,i)))},Hr.prototype.touchmove=function(t,e){if(!this.aborted&&this.centroid){var i=Lr(t.targetTouches,e);for(var r in this.touches){var n=i[r];(!n||n.dist(this.touches[r])>30)&&(this.aborted=!0)}}},Hr.prototype.touchend=function(t){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===t.targetTouches.length){var e=!this.aborted&&this.centroid;if(this.reset(),e)return e}};var jr=function(t){this.singleTap=new Hr(t),this.numTaps=t.numTaps,this.reset()};jr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jr.prototype.touchstart=function(t,e){this.singleTap.touchstart(t,e)},jr.prototype.touchmove=function(t,e){this.singleTap.touchmove(t,e)},jr.prototype.touchend=function(t){var e=this.singleTap.touchend(t);if(e){var i=t.timeStamp-this.lastTime<500,r=!this.lastTap||this.lastTap.dist(e)<30;if(i&&r||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=e,this.count===this.numTaps)return this.reset(),e}};var zr=function(){this._zoomIn=new jr({numTouches:1,numTaps:2}),this._zoomOut=new jr({numTouches:2,numTaps:1}),this.reset()};zr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},zr.prototype.touchstart=function(t,e){this._zoomIn.touchstart(t,e),this._zoomOut.touchstart(t,e)},zr.prototype.touchmove=function(t,e){this._zoomIn.touchmove(t,e),this._zoomOut.touchmove(t,e)},zr.prototype.touchend=function(t){var e=this,i=this._zoomIn.touchend(t),r=this._zoomOut.touchend(t);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return e.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):r?(this._active=!0,t.preventDefault(),setTimeout((function(){return e.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(r)},{originalEvent:t})}}):void 0},zr.prototype.touchcancel=function(){this.reset()},zr.prototype.enable=function(){this._enabled=!0},zr.prototype.disable=function(){this._enabled=!1,this.reset()},zr.prototype.isEnabled=function(){return this._enabled},zr.prototype.isActive=function(){return this._active};var Br=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};Br.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Br.prototype._correctButton=function(t,e){return!1},Br.prototype._move=function(t,e){return{}},Br.prototype.mousedown=function(t,e){if(!this._lastPoint){var r=i.mouseButton(t);this._correctButton(t,r)&&(this._lastPoint=e,this._eventButton=r)}},Br.prototype.mousemoveWindow=function(t,e){var i=this._lastPoint;if(i&&(t.preventDefault(),this._moved||!(e.dist(i)<this._clickTolerance)))return this._moved=!0,this._lastPoint=e,this._move(i,e)},Br.prototype.mouseupWindow=function(t){i.mouseButton(t)===this._eventButton&&(this._moved&&i.suppressClick(),this.reset())},Br.prototype.enable=function(){this._enabled=!0},Br.prototype.disable=function(){this._enabled=!1,this.reset()},Br.prototype.isEnabled=function(){return this._enabled},Br.prototype.isActive=function(){return this._active};var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,i){t.prototype.mousedown.call(this,e,i),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(Br),Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var i=.8*(e.x-t.x);if(i)return this._active=!0,{bearingDelta:i}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Br),Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var i=-.5*(e.y-t.y);if(i)return this._active=!0,{pitchDelta:i}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Br),Gr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Gr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Gr.prototype.touchstart=function(t,e){return this._calculateTransform(t,e)},Gr.prototype.touchmove=function(t,e){if(this._active)return t.preventDefault(),this._calculateTransform(t,e)},Gr.prototype.touchend=function(t,e){this._calculateTransform(t,e),this._active&&t.targetTouches.length<this._minTouches&&this.reset()},Gr.prototype.touchcancel=function(){this.reset()},Gr.prototype._calculateTransform=function(e,i){e.targetTouches.length>0&&(this._active=!0);var r=Lr(e.targetTouches,i),n=new t.Point(0,0),a=new t.Point(0,0),o=0;for(var s in r){var l=r[s],c=this._touches[s];c&&(n._add(l),a._add(l.sub(c)),o++,r[s]=l)}if(this._touches=r,!(o<this._minTouches)&&a.mag()){var u=a.div(o);if(this._sum._add(u),!(this._sum.mag()<this._clickTolerance))return{around:n.div(o),panDelta:u}}},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var Yr=function(){this.reset()};function qr(t,e,i){for(var r=0;r<t.targetTouches.length;r++)if(t.targetTouches[r].identifier===i)return e[r]}function Kr(t,e){return Math.log(t/e)/Math.LN2}Yr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yr.prototype._start=function(t){},Yr.prototype._move=function(t,e,i){return{}},Yr.prototype.touchstart=function(t,e){this._firstTwoTouches||t.targetTouches.length<2||(this._firstTwoTouches=[t.targetTouches[0].identifier,t.targetTouches[1].identifier],this._start([e[0],e[1]]))},Yr.prototype.touchmove=function(t,e){if(this._firstTwoTouches){t.preventDefault();var i=this._firstTwoTouches,r=i[1],n=qr(t,e,i[0]),a=qr(t,e,r);if(n&&a){var o=this._aroundCenter?null:n.add(a).div(2);return this._move([n,a],o,t)}}},Yr.prototype.touchend=function(t,e){if(this._firstTwoTouches){var r=this._firstTwoTouches,n=r[1],a=qr(t,e,r[0]),o=qr(t,e,n);a&&o||(this._active&&i.suppressClick(),this.reset())}},Yr.prototype.touchcancel=function(){this.reset()},Yr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Yr.prototype.disable=function(){this._enabled=!1,this.reset()},Yr.prototype.isEnabled=function(){return this._enabled},Yr.prototype.isActive=function(){return this._active};var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var i=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Kr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Kr(this._distance,i),pinchAround:e}},e}(Yr);function Zr(t,e){return 180*t.angleWith(e)/Math.PI}var Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var i=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Zr(this._vector,i),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,i=Zr(t,this._startVector);return Math.abs(i)<e},e}(Yr);function $r(t){return Math.abs(t.y)>Math.abs(t.x)}var tn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,$r(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,i){var r=t[0].sub(this._lastPoints[0]),n=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,n,i.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+n.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,i){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,n=e.mag()>=2;if(r||n){if(!r||!n)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;var a=t.y>0==e.y>0;return $r(t)&&$r(e)&&a}},e}(Yr),en={panStep:100,bearingStep:15,pitchStep:10},rn=function(){var t=en;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep};function nn(t){return t*(2-t)}rn.prototype.reset=function(){this._active=!1},rn.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=0,r=0,n=0,a=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:i=1;break;case 189:case 109:case 173:i=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),a=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),a=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?n=-1:(t.preventDefault(),o=1);break;default:return}return{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:nn,zoom:i?Math.round(l)+i*(t.shiftKey?2:1):l,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+n*e._pitchStep,offset:[-a*e._panStep,-o*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},rn.prototype.enable=function(){this._enabled=!0},rn.prototype.disable=function(){this._enabled=!1,this.reset()},rn.prototype.isEnabled=function(){return this._enabled},rn.prototype.isActive=function(){return this._active};var an=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};an.prototype.setZoomRate=function(t){this._defaultZoomRate=t},an.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},an.prototype.isEnabled=function(){return!!this._enabled},an.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},an.prototype.isZooming=function(){return!!this._zooming},an.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},an.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},an.prototype.wheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(n*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}},an.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},an.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=i.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},an.prototype.renderFrame=function(){return this._onScrollFrame()},an.prototype._onScrollFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var i=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,n=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==n&&(n=1/n);var a="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(a*n))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:i.zoom,l=this._startZoom,c=this._easing,u=!1;if("wheel"===this._type&&l&&c){var h=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=c(h);o=t.number(l,s,p),h<1?this._frameId||(this._frameId=!0):u=!0}else o=s,u=!0;return this._active=!0,u&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!u,zoomDelta:o-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},an.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var r=this._prevEase,n=(t.browser.now()-r.start)/r.duration,a=r.easing(n+.01)-r.easing(n),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);i=t.bezier(o,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:i},i},an.prototype.reset=function(){this._active=!1};var on=function(t,e){this._clickZoom=t,this._tapZoom=e};on.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},on.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},on.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},on.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var sn=function(){this.reset()};sn.prototype.reset=function(){this._active=!1},sn.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(i){i.easeTo({duration:300,zoom:i.getZoom()+(t.shiftKey?-1:1),around:i.unproject(e)},{originalEvent:t})}}},sn.prototype.enable=function(){this._enabled=!0},sn.prototype.disable=function(){this._enabled=!1,this.reset()},sn.prototype.isEnabled=function(){return this._enabled},sn.prototype.isActive=function(){return this._active};var ln=function(){this._tap=new jr({numTouches:1,numTaps:1}),this.reset()};ln.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ln.prototype.touchstart=function(t,e){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?t.targetTouches.length>0&&(this._swipePoint=e[0],this._swipeTouch=t.targetTouches[0].identifier):this._tap.touchstart(t,e))},ln.prototype.touchmove=function(t,e){if(this._tapTime){if(this._swipePoint){if(t.targetTouches[0].identifier!==this._swipeTouch)return;var i=e[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e)},ln.prototype.touchend=function(t){this._tapTime?this._swipePoint&&0===t.targetTouches.length&&this.reset():this._tap.touchend(t)&&(this._tapTime=t.timeStamp)},ln.prototype.touchcancel=function(){this.reset()},ln.prototype.enable=function(){this._enabled=!0},ln.prototype.disable=function(){this._enabled=!1,this.reset()},ln.prototype.isEnabled=function(){return this._enabled},ln.prototype.isActive=function(){return this._active};var cn=function(t,e,i){this._el=t,this._mousePan=e,this._touchPan=i};cn.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},cn.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},cn.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},cn.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var un=function(t,e,i){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=i};un.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},un.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},un.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},un.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hn=function(t,e,i,r){this._el=t,this._touchZoom=e,this._touchRotate=i,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};hn.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hn.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hn.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hn.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hn.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hn.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var pn=function(t){return t.zoom||t.drag||t.pitch||t.rotate},dn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function fn(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var bn=function(e,r){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new kr(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var n=this._el;this._listeners=[[n,"touchstart",{passive:!1}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[t.window,"blur",void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],l=s[0];i.addEventListener(l,s[1],l===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};bn.prototype.destroy=function(){for(var e=0,r=this._listeners;e<r.length;e+=1){var n=r[e],a=n[0];i.removeEventListener(a,n[1],a===t.window.document?this.handleWindowEvent:this.handleEvent,n[2])}},bn.prototype._addDefaultHandlers=function(t){var e=this._map,i=e.getCanvasContainer();this._add("mapEvent",new Fr(e,t));var r=e.boxZoom=new Rr(e,t);this._add("boxZoom",r);var n=new zr,a=new sn;e.doubleClickZoom=new on(a,n),this._add("tapZoom",n),this._add("clickZoom",a);var o=new ln;this._add("tapDragZoom",o);var s=e.touchPitch=new tn;this._add("touchPitch",s);var l=new Xr(t),c=new Wr(t);e.dragRotate=new un(t,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var u=new Nr(t),h=new Gr(t);e.dragPan=new cn(i,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);var p=new Qr,d=new Jr;e.touchZoomRotate=new hn(i,d,p,o),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var f=e.scrollZoom=new an(e,this);this._add("scrollZoom",f,["mousePan"]);var b=e.keyboard=new rn;this._add("keyboard",b),this._add("blockableMapEvent",new Er(e));for(var m=0,g=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<g.length;m+=1){var y=g[m];t.interactive&&t[y]&&e[y].enable(t[y])}},bn.prototype._add=function(t,e,i){this._handlers.push({handlerName:t,handler:e,allowed:i}),this._handlersById[t]=e},bn.prototype.stop=function(){if(!this._updatingCamera){for(var t=0,e=this._handlers;t<e.length;t+=1)e[t].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},bn.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},bn.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},bn.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},bn.prototype._blockedByActive=function(t,e,i){for(var r in t)if(r!==i&&(!e||e.indexOf(r)<0))return!0;return!1},bn.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},bn.prototype.handleEvent=function(t,e){if("blur"!==t.type){this._updatingCamera=!0;for(var r="renderFrame"===t.type?void 0:t,n={needsRenderFrame:!1},a={},o={},s=t?t.targetTouches?i.touchPos(this._el,t.targetTouches):i.mousePos(this._el,t):null,l=0,c=this._handlers;l<c.length;l+=1){var u=c[l],h=u.handlerName,p=u.handler,d=u.allowed;if(p.isEnabled()){var f=void 0;this._blockedByActive(o,d,h)?p.reset():p[e||t.type]&&(f=p[e||t.type](t,s),this.mergeHandlerResult(n,a,f,h,r),f&&f.needsRenderFrame&&this._triggerRenderFrame()),(f||p.isActive())&&(o[h]=p)}}var b={};for(var m in this._previousActiveHandlers)o[m]||(b[m]=r);this._previousActiveHandlers=o,(Object.keys(b).length||fn(n))&&(this._changes.push([n,a,b]),this._triggerRenderFrame()),(Object.keys(o).length||fn(n))&&this._map._stop(!0),this._updatingCamera=!1;var g=n.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],g(this._map))}else this.stop()},bn.prototype.mergeHandlerResult=function(e,i,r,n,a){if(r){t.extend(e,r);var o={handlerName:n,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(i.zoom=o),void 0!==r.panDelta&&(i.drag=o),void 0!==r.pitchDelta&&(i.pitch=o),void 0!==r.bearingDelta&&(i.rotate=o)}},bn.prototype._applyChanges=function(){for(var e={},i={},r={},n=0,a=this._changes;n<a.length;n+=1){var o=a[n],s=o[0],l=o[1],c=o[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(i,l),t.extend(r,c)}this._updateMapTransform(e,i,r),this._changes=[]},bn.prototype._updateMapTransform=function(t,e,i){var r=this._map,n=r.transform;if(!fn(t))return this._fireEvents(e,i);var a=t.panDelta,o=t.zoomDelta,s=t.bearingDelta,l=t.pitchDelta,c=t.around,u=t.pinchAround;void 0!==u&&(c=u),r._stop(!0),c=c||r.transform.centerPoint;var h=n.pointLocation(a?c.sub(a):c);s&&(n.bearing+=s),l&&(n.pitch+=l),o&&(n.zoom+=o),n.setLocationAtPoint(h,c),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,i)},bn.prototype._fireEvents=function(e,i){var r,n=this,a=pn(this._eventsInProgress),o=pn(e);for(var s in!a&&o&&this._fireEvent("movestart",o.originalEvent),e){var l=e[s].originalEvent,c=!this._eventsInProgress[s];this._eventsInProgress[s]=e[s],c&&this._fireEvent(s+"start",l)}for(var u in e.rotate&&(this._bearingChanged=!0),o&&this._fireEvent("move",o.originalEvent),e)this._fireEvent(u,e[u].originalEvent);for(var h in this._eventsInProgress){var p=this._eventsInProgress[h],d=p.handlerName,f=p.originalEvent;this._handlersById[d].isActive()||(delete this._eventsInProgress[h],this._fireEvent(h+"end",r=i[d]||f))}var b=pn(this._eventsInProgress);if((a||o)&&!b){this._updatingCamera=!0;var m=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),g=function(t){return 0!==t&&-n._bearingSnap<t&&t<n._bearingSnap};m?(g(m.bearing||this._map.getBearing())&&(m.bearing=0),this._map.easeTo(m,{originalEvent:r})):(this._map.fire(new t.Event("moveend",{originalEvent:r})),g(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},bn.prototype._fireEvent=function(e,i){this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},bn.prototype._triggerRenderFrame=function(){var t=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame((function(e){delete t._frameId,t.handleEvent(new dn("renderFrame",{timeStamp:e})),t._applyChanges()})))};var mn=function(e){function i(i,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),r)},i.prototype.panTo=function(e,i,r){return this.easeTo(t.extend({center:e},i),r)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,r){return this.easeTo(t.extend({zoom:e},i),r)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},i.prototype.rotateTo=function(e,i,r){return this.easeTo(t.extend({bearing:e},i),r)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.resetNorthPitch=function(e,i){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(e,i){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,i)},i.prototype._cameraForBoxAndBearing=function(e,i,r,n){var a={top:0,bottom:0,right:0,left:0};if("number"==typeof(n=t.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},n)).padding){var o=n.padding;n.padding={top:o,bottom:o,right:o,left:o}}n.padding=t.extend(a,n.padding);var s=this.transform,l=s.padding,c=s.project(t.LngLat.convert(e)),u=s.project(t.LngLat.convert(i)),h=c.rotate(-r*Math.PI/180),p=u.rotate(-r*Math.PI/180),d=new t.Point(Math.max(h.x,p.x),Math.max(h.y,p.y)),f=new t.Point(Math.min(h.x,p.x),Math.min(h.y,p.y)),b=d.sub(f),m=(s.width-(l.left+l.right+n.padding.left+n.padding.right))/b.x,g=(s.height-(l.top+l.bottom+n.padding.top+n.padding.bottom))/b.y;if(!(g<0||m<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(m,g)),n.maxZoom),v=t.Point.convert(n.offset),_=new t.Point(v.x+(n.padding.left-n.padding.right)/2,v.y+(n.padding.top-n.padding.bottom)/2).mult(s.scale/s.zoomScale(y));return{center:s.unproject(c.add(u).div(2).sub(_)),zoom:y,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)},i.prototype.fitScreenCoordinates=function(e,i,r,n,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(i)),r,n),n,a)},i.prototype._fitInternal=function(e,i,r){return e?(delete(i=t.extend(e,i)).padding,i.linear?this.easeTo(i,r):this.flyTo(i,r)):this},i.prototype.jumpTo=function(e,i){this.stop();var r=this.transform,n=!1,a=!1,o=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(n=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(a=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(o=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),n&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),a&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),o&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var n=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),l=this.getPadding(),c="zoom"in e?+e.zoom:a,u="bearing"in e?this._normalizeBearing(e.bearing,o):o,h="pitch"in e?+e.pitch:s,p="padding"in e?e.padding:n.padding,d=t.Point.convert(e.offset),f=n.centerPoint.add(d),b=n.pointLocation(f),m=t.LngLat.convert(e.center||b);this._normalizeCenter(m);var g,y,v=n.project(b),_=n.project(m).sub(v),x=n.zoomScale(c-a);e.around&&(g=t.LngLat.convert(e.around),y=n.locationPoint(g));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==a,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||h!==s,this._padding=!n.isPaddingEqual(p),this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,w),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(r._zooming&&(n.zoom=t.number(a,c,e)),r._rotating&&(n.bearing=t.number(o,u,e)),r._pitching&&(n.pitch=t.number(s,h,e)),r._padding&&(n.interpolatePadding(l,p,e),f=n.centerPoint.add(d)),g)n.setLocationAtPoint(g,y);else{var b=n.zoomScale(n.zoom-a),m=c>a?Math.min(2,x):Math.max(.5,x),w=Math.pow(m,1-e),V=n.unproject(v.add(_.mult(e*w)).mult(b));n.setLocationAtPoint(n.renderWorldCopies?V.wrap():V,f)}r._fireMoveEvents(i)}),(function(t){r._afterEase(i,t)}),e),this},i.prototype._prepareEase=function(e,i,r){void 0===r&&(r={}),this._moving=!0,i||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e,i){if(!this._easeId||!i||this._easeId!==i){delete this._easeId;var r=this._zooming,n=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),a&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},i.prototype.flyTo=function(e,i){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var n=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,i)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),c=this.getPadding(),u="zoom"in e?t.clamp(+e.zoom,a.minZoom,a.maxZoom):o,h="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:l,d="padding"in e?e.padding:a.padding,f=a.zoomScale(u-o),b=t.Point.convert(e.offset),m=a.centerPoint.add(b),g=a.pointLocation(m),y=t.LngLat.convert(e.center||g);this._normalizeCenter(y);var v=a.project(g),_=a.project(y).sub(v),x=e.curve,w=Math.max(a.width,a.height),V=w/f,C=_.mag();if("minZoom"in e){var P=t.clamp(Math.min(e.minZoom,o,u),a.minZoom,a.maxZoom),U=w/a.zoomScale(P-o);x=Math.sqrt(U/C*2)}var S=x*x;function T(t){var e=(V*V-w*w+(t?-1:1)*S*S*C*C)/(2*(t?V:w)*S*C);return Math.log(Math.sqrt(e*e+1)-e)}function k(t){return(Math.exp(t)-Math.exp(-t))/2}function I(t){return(Math.exp(t)+Math.exp(-t))/2}var A=T(0),O=function(t){return I(A)/I(A+x*t)},D=function(t){return w*((I(A)*(k(e=A+x*t)/I(e))-k(A))/S)/C;var e},M=(T(1)-A)/x;if(Math.abs(C)<1e-6||!isFinite(M)){if(Math.abs(w-V)<1e-6)return this.easeTo(e,i);var F=V<w?-1:1;M=Math.abs(Math.log(V/w))/x,D=function(){return 0},O=function(t){return Math.exp(F*x*t)}}return e.duration="duration"in e?+e.duration:1e3*M/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=p!==l,this._padding=!a.isPaddingEqual(d),this._prepareEase(i,!1),this._ease((function(e){var n=e*M,f=1/O(n);a.zoom=1===e?u:o+a.scaleZoom(f),r._rotating&&(a.bearing=t.number(s,h,e)),r._pitching&&(a.pitch=t.number(l,p,e)),r._padding&&(a.interpolatePadding(c,d,e),m=a.centerPoint.add(b));var g=1===e?y:a.unproject(v.add(_.mult(D(n))).mult(f));a.setLocationAtPoint(a.renderWorldCopies?g.wrap():g,m),r._fireMoveEvents(i)}),(function(){return r._afterEase(i)}),e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var i=this._onEaseEnd;delete this._onEaseEnd,i.call(this,e)}if(!t){var r=this.handlers;r&&r.stop()}return this},i.prototype._ease=function(e,i,r){!1===r.animate||0===r.duration?(e(1),i()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var r=Math.abs(e-i);return Math.abs(e-360-i)<r&&(e-=360),Math.abs(e+360-i)<r&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),gn=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};gn.prototype.getDefaultPosition=function(){return"bottom-right"},gn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=i.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},gn.prototype.onRemove=function(){i.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},gn.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=i.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<i.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},gn.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},gn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var r in i){var n=i[r];if(n.used){var a=n.getSource();a.attribution&&t.indexOf(a.attribution)<0&&t.push(a.attribution)}}t.sort((function(t,e){return t.length-e.length}));var o=(t=t.filter((function(e,i){for(var r=i+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,t.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},gn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var yn=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};yn.prototype.onAdd=function(t){this._map=t,this._container=i.create("div","mapboxgl-ctrl");var e=i.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},yn.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},yn.prototype.getDefaultPosition=function(){return"bottom-left"},yn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},yn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},yn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var vn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};vn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},vn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,r=e?this._queue.concat(e):this._queue;i<r.length;i+=1){var n=r[i];if(n.id===t)return void(n.cancelled=!0)}},vn.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var i=0,r=e;i<r.length;i+=1){var n=r[i];if(!n.cancelled&&(n.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},vn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var _n={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},xn=t.window.HTMLImageElement,wn=t.window.HTMLElement,Vn=t.window.ImageBitmap,Cn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Pn=function(r){function n(e){var i=this;if(null!=(e=t.extend({},Cn,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var n=new xr(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(r.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new vn,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},_n,e.locale),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof wn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return i._update(!1)})),this.on("moveend",(function(){return i._update(!1)})),this.on("zoom",(function(){return i._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new bn(this,e),this._hash=e.hash&&new Vr("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new gn({customAttribution:e.customAttribution})),this.addControl(new yn,e.logoPosition),this.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),this.on("data",(function(e){i._update("style"===e.dataType),i.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){i.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(n.__proto__=r),(n.prototype=Object.create(r&&r.prototype)).constructor=n;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return n.prototype._getMapId=function(){return this._mapId},n.prototype.addControl=function(e,i){if(void 0===i&&e.getDefaultPosition&&(i=e.getDefaultPosition()),void 0===i&&(i="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var n=this._controlPositions[i];return-1!==i.indexOf("bottom")?n.insertBefore(r,n.firstChild):n.appendChild(r),this},n.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this},n.prototype.resize=function(e){var i=this._containerDimensions(),r=i[0],n=i[1];this._resizeCanvas(r,n),this.transform.resize(r,n),this.painter.resize(r,n);var a=!this._moving;return a&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),a&&this.fire(new t.Event("moveend",e)),this},n.prototype.getBounds=function(){return this.transform.getBounds()},n.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},n.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},n.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},n.prototype.getMinPitch=function(){return this.transform.minPitch},n.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},n.prototype.getMaxPitch=function(){return this.transform.maxPitch},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},n.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},n.prototype.isMoving=function(){return this._moving||this.handlers.isActive()},n.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},n.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},n.prototype._createDelegatedListener=function(t,e,i){var r,n=this;if("mouseenter"===t||"mouseover"===t){var a=!1;return{layer:e,listener:i,delegates:{mousemove:function(r){var o=n.getLayer(e)?n.queryRenderedFeatures(r.point,{layers:[e]}):[];o.length?a||(a=!0,i.call(n,new Or(t,n,r.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"===t||"mouseout"===t){var o=!1;return{layer:e,listener:i,delegates:{mousemove:function(r){(n.getLayer(e)?n.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?o=!0:o&&(o=!1,i.call(n,new Or(t,n,r.originalEvent)))},mouseout:function(e){o&&(o=!1,i.call(n,new Or(t,n,e.originalEvent)))}}}}return{layer:e,listener:i,delegates:(r={},r[t]=function(t){var r=n.getLayer(e)?n.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,i.call(n,t),delete t.features)},r)}},n.prototype.on=function(t,e,i){if(void 0===i)return r.prototype.on.call(this,t,e);var n=this._createDelegatedListener(t,e,i);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(n),n.delegates)this.on(a,n.delegates[a]);return this},n.prototype.once=function(t,e,i){if(void 0===i)return r.prototype.once.call(this,t,e);var n=this._createDelegatedListener(t,e,i);for(var a in n.delegates)this.once(a,n.delegates[a]);return this},n.prototype.off=function(t,e,i){var n=this;return void 0===i?r.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(r){for(var a=r[t],o=0;o<a.length;o++){var s=a[o];if(s.layer===e&&s.listener===i){for(var l in s.delegates)n.off(l,s.delegates[l]);return a.splice(o,1),n}}}(this._delegatedListeners),this)},n.prototype.queryRenderedFeatures=function(e,i){if(!this.style)return[];var r;if(void 0!==i||void 0===e||e instanceof t.Point||Array.isArray(e)||(i=e,e=void 0),i=i||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var n=t.Point.convert(e[0]),a=t.Point.convert(e[1]);r=[n,new t.Point(a.x,n.y),a,new t.Point(n.x,a.y),n]}return this.style.queryRenderedFeatures(r,i,this.transform)},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,i){return!1!==(i=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(e,i))},n.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},n.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ne(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},n.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ne(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},n.prototype._diffStyle=function(e,i){var r=this;if("string"==typeof e){var n=this._requestManager.normalizeStyleURL(e),a=this._requestManager.transformRequest(n,t.ResourceType.Style);t.getJSON(a,(function(e,n){e?r.fire(new t.ErrorEvent(e)):n&&r._updateDiff(n,i)}))}else"object"==typeof e&&this._updateDiff(e,i)},n.prototype._updateDiff=function(e,i){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,i)}},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},n.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var r in i){var n=i[r];if("loaded"!==n.state&&"errored"!==n.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,i)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,i,r){void 0===r&&(r={});var n=r.pixelRatio;void 0===n&&(n=1);var a=r.sdf;void 0===a&&(a=!1);var o=r.stretchX,s=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),i instanceof xn||Vn&&i instanceof Vn){var c=t.browser.getImageData(i);this.style.addImage(e,{data:new t.RGBAImage({width:c.width,height:c.height},c.data),pixelRatio:n,stretchX:o,stretchY:s,content:l,sdf:a,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=i;this.style.addImage(e,{data:new t.RGBAImage({width:i.width,height:i.height},new Uint8Array(i.data)),pixelRatio:n,stretchX:o,stretchY:s,content:l,sdf:a,version:0,userImage:u}),u.onAdd&&u.onAdd(this,e)}},n.prototype.updateImage=function(e,i){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var n=i instanceof xn||Vn&&i instanceof Vn?t.browser.getImageData(i):i,a=n.width,o=n.height,s=n.data;return void 0===a||void 0===o?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==r.data.width||o!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(i instanceof xn||Vn&&i instanceof Vn)),void this.style.updateImage(e,r))},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,i){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),i)},n.prototype.listImages=function(){return this.style.listImages()},n.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)},n.prototype.setFilter=function(t,e,i){return void 0===i&&(i={}),this.style.setFilter(t,e,i),this._update(!0)},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,i,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,i,r),this._update(!0)},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,i,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,i,r),this._update(!0)},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},n.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},n.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},n.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=i.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=i.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=i.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var n=this._controlContainer=i.create("div","mapboxgl-control-container",t),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){a[t]=i.create("div","mapboxgl-ctrl-"+t,n)}))},n.prototype._resizeCanvas=function(e,i){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},n.prototype._setupPainter=function(){var i=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);r?(this.painter=new gr(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},n.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(e){var i,r=this,n=0,a=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(i=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),n=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=t.browser.now();this.style.zoomHistory.update(s,l);var c=new t.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=c.crossFadingFactor();1===u&&u===this._crossFadingFactor||(o=!0,this._crossFadingFactor=u),this.style.update(c)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=t.browser.now()-n;a.endQueryEXT(a.TIME_ELAPSED_EXT,i),setTimeout((function(){var e=a.getQueryObjectEXT(i,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(i),r.fire(new t.Event("gpu-timing-frame",{cpuTime:h,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(p);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new t.Event("idle"))),this}},n.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,i=this._controls;e<i.length;e+=1)i[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Un(this._canvasContainer),Un(this._controlContainer),Un(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},n.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render(t)})))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._setCacheLimits=function(e,i){t.setCacheLimits(e,i)},a.version.get=function(){return t.version},Object.defineProperties(n.prototype,a),n}(mn);function Un(t){t.parentNode&&t.parentNode.removeChild(t)}var Sn={showCompass:!0,showZoom:!0,visualizePitch:!1},Tn=function(e){var r=this;this.options=t.extend({},Sn,e),this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),i.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),i.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=i.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Tn.prototype._updateZoomButtons=function(){var t=this._map.getZoom();this._zoomInButton.disabled=t===this._map.getMaxZoom(),this._zoomOutButton.disabled=t===this._map.getMinZoom()},Tn.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Tn.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new kn(this._map,this._compass,this.options.visualizePitch)),this._container},Tn.prototype.onRemove=function(){i.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Tn.prototype._createButton=function(t,e){var r=i.create("button",t,this._container);return r.type="button",r.addEventListener("click",e),r},Tn.prototype._setButtonTitle=function(t,e){var i=this._map._getUIString("NavigationControl."+e);t.title=i,t.setAttribute("aria-label",i)};var kn=function(e,r,n){void 0===n&&(n=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Xr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,n&&(this.mousePitch=new Wr({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),i.addEventListener(r,"mousedown",this.mousedown),i.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),i.addEventListener(r,"touchmove",this.touchmove),i.addEventListener(r,"touchend",this.touchend),i.addEventListener(r,"touchcancel",this.reset)};function In(e,i,r){if(e=new t.LngLat(e.lng,e.lat),i){var n=new t.LngLat(e.lng-360,e.lat),a=new t.LngLat(e.lng+360,e.lat),o=r.locationPoint(e).distSqr(i);r.locationPoint(n).distSqr(i)<o?e=n:r.locationPoint(a).distSqr(i)<o&&(e=a)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}kn.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),i.disableDrag()},kn.prototype.move=function(t,e){var i=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&i.setBearing(i.getBearing()+r.bearingDelta),this.mousePitch){var n=this.mousePitch.mousemoveWindow(t,e);n&&n.pitchDelta&&i.setPitch(i.getPitch()+n.pitchDelta)}},kn.prototype.off=function(){var t=this.element;i.removeEventListener(t,"mousedown",this.mousedown),i.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),i.removeEventListener(t,"touchmove",this.touchmove),i.removeEventListener(t,"touchend",this.touchend),i.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},kn.prototype.offTemp=function(){i.enableDrag(),i.removeEventListener(t.window,"mousemove",this.mousemove),i.removeEventListener(t.window,"mouseup",this.mouseup)},kn.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),i.mousePos(this.element,e)),i.addEventListener(t.window,"mousemove",this.mousemove),i.addEventListener(t.window,"mouseup",this.mouseup)},kn.prototype.mousemove=function(t){this.move(t,i.mousePos(this.element,t))},kn.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},kn.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=i.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},kn.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=i.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},kn.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},kn.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var An={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function On(t,e,i){var r=t.classList;for(var n in An)r.remove("mapboxgl-"+i+"-anchor-"+n);r.add("mapboxgl-"+i+"-anchor-"+e)}var Dn,Mn=function(e){function r(r,n){var a=this;if(e.call(this),(r instanceof t.window.HTMLElement||n)&&(r=t.extend({element:r},n)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div"),this._element.setAttribute("aria-label","Map marker");var o=i.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");var l=i.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill-rule","nonzero");var c=i.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var u=0,h=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<h.length;u+=1){var p=h[u],d=i.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",p.rx),d.setAttributeNS(null,"ry",p.ry),c.appendChild(d)}var f=i.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var b=i.createNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(b);var m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=i.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=i.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var v=i.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=i.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var x=i.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(x),l.appendChild(c),l.appendChild(f),l.appendChild(m),l.appendChild(y),l.appendChild(v),o.appendChild(l),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),this._element.addEventListener("focus",(function(){var t=a._map.getContainer();t.scrollTop=0,t.scrollLeft=0})),On(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(t){var e=t.code,i=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==i&&13!==i||this.togglePopup()},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=In(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),i.setTransform(this._element,An[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+e)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(t.Evented),Fn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},En=0,Rn=!1,Ln=function(e){function r(i){e.call(this),this.options=t.extend({},Fn,i),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Dn?r(Dn):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(Dn="denied"!==t.state)})):r(Dn=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),i.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,En=0,Rn=!1},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),i=t.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},r.prototype._updateCamera=function(e){var i=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,n=this._map.getBearing(),a=t.extend({bearing:n},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(r),a,{geolocateSource:!0})},r.prototype._updateMarker=function(e){if(e){var i=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),i=this._map.unproject([1,t]),r=e.distanceTo(i),n=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=n+"px",this._circleElement.style.height=n+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Rn)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=i.create("button","mapboxgl-ctrl-geolocate",this._container),i.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Mn(this._dotElement),this._circleElement=i.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Mn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":En--,Rn=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++En>1?(e={maximumAge:6e5,timeout:0},Rn=!0):(e=this.options.positionOptions,Rn=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Hn={maxWidth:100,unit:"metric"},jn=function(e){this.options=t.extend({},Hn,e),t.bindAll(["_onMove","setUnit"],this)};function zn(t,e,i){var r=i&&i.maxWidth||100,n=t._container.clientHeight/2,a=t.unproject([0,n]),o=t.unproject([r,n]),s=a.distanceTo(o);if(i&&"imperial"===i.unit){var l=3.2808*s;l>5280?Bn(e,r,l/5280,t._getUIString("ScaleControl.Miles")):Bn(e,r,l,t._getUIString("ScaleControl.Feet"))}else i&&"nautical"===i.unit?Bn(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Bn(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):Bn(e,r,s,t._getUIString("ScaleControl.Meters"))}function Bn(t,e,i,r){var n,a,o,s=(n=i,(a=Math.pow(10,(""+Math.floor(n)).length-1))*(o=(o=n/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(o)));t.style.width=e*(s/i)+"px",t.innerHTML=s+"&nbsp;"+r}jn.prototype.getDefaultPosition=function(){return"bottom-left"},jn.prototype._onMove=function(){zn(this._map,this._container,this.options)},jn.prototype.onAdd=function(t){return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jn.prototype.onRemove=function(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jn.prototype.setUnit=function(t){this.options.unit=t,zn(this._map,this._container,this.options)};var Nn=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};Nn.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Nn.prototype.onRemove=function(){i.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Nn.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Nn.prototype._setupUI=function(){var e=this._fullscreenButton=i.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);i.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Nn.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Nn.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Nn.prototype._isFullscreen=function(){return this._fullscreen},Nn.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Nn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Xn={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Wn=function(e){function r(i){e.call(this),this.options=t.extend(Object.create(Xn),i),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var i,r=t.window.document.createDocumentFragment(),n=t.window.document.createElement("body");for(n.innerHTML=e;i=n.firstChild;)r.appendChild(i);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},r.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},r.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},r.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},r.prototype._createContent=function(){this._content&&i.remove(this._content),this._content=i.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=i.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(t){this._update(t.point)},r.prototype._onMouseMove=function(t){this._update(t.point)},r.prototype._onDrag=function(t){this._update(t.point)},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=i.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=i.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=In(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var n=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),a=this.options.anchor,o=function e(i){if(i){if("number"==typeof i){var r=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.Point(0,0),top:new t.Point(0,i),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-i),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(i,0),right:new t.Point(-i,0)}}if(i instanceof t.Point||Array.isArray(i)){var n=t.Point.convert(i);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.Point.convert(i.center||[0,0]),top:t.Point.convert(i.top||[0,0]),"top-left":t.Point.convert(i["top-left"]||[0,0]),"top-right":t.Point.convert(i["top-right"]||[0,0]),bottom:t.Point.convert(i.bottom||[0,0]),"bottom-left":t.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(i["bottom-right"]||[0,0]),left:t.Point.convert(i.left||[0,0]),right:t.Point.convert(i.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!a){var s,l=this._container.offsetWidth,c=this._container.offsetHeight;s=n.y+o.bottom.y<c?["top"]:n.y>this._map.transform.height-c?["bottom"]:[],n.x<l/2?s.push("left"):n.x>this._map.transform.width-l/2&&s.push("right"),a=0===s.length?"bottom":s.join("-")}var u=n.add(o[a]).round();i.setTransform(this._container,An[a]+" translate("+u.x+"px,"+u.y+"px)"),On(this._container,a,"popup")}},r.prototype._onClose=function(){this.remove()},r}(t.Evented),Gn={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Pn,NavigationControl:Tn,GeolocateControl:Ln,AttributionControl:gn,ScaleControl:jn,FullscreenControl:Nn,Popup:Wn,Marker:Mn,Style:Ne,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Lt().acquire(Mt)},clearPrewarmedResources:function(){var t=Et;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Mt),Et=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Ft.workerCount},set workerCount(t){Ft.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Gn})),i}()},gFMj:function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"indexOf",(function(){return ri})),i.d(r,"any",(function(){return ni})),i.d(r,"map",(function(){return ai})),i.d(r,"each",(function(){return oi})),i.d(r,"eachReverse",(function(){return si})),i.d(r,"eachContinue",(function(){return li})),i.d(r,"shiftLeft",(function(){return ci})),i.d(r,"last",(function(){return ui})),i.d(r,"first",(function(){return hi})),i.d(r,"insert",(function(){return pi})),i.d(r,"setIndex",(function(){return di})),i.d(r,"pushAll",(function(){return fi})),i.d(r,"remove",(function(){return bi})),i.d(r,"move",(function(){return mi})),i.d(r,"add",(function(){return gi})),i.d(r,"replace",(function(){return yi})),i.d(r,"toArray",(function(){return vi})),i.d(r,"has",(function(){return _i})),i.d(r,"copy",(function(){return xi})),i.d(r,"slice",(function(){return wi})),i.d(r,"insertIndex",(function(){return Vi})),i.d(r,"removeIndex",(function(){return Ci})),i.d(r,"getSortedIndex",(function(){return Pi})),i.d(r,"findIndex",(function(){return Ui})),i.d(r,"find",(function(){return Si})),i.d(r,"shuffle",(function(){return Ti})),i.d(r,"keepIf",(function(){return ki}));var n=i("Valr"),a=i("oW1M"),o=i("89/Q"),s=i("QJY3"),l=i("X2FZ"),c=i("R/Hu"),u=i("TYT/"),h=i("mrSG"),p=i("K9Ia"),d=i("pugT"),f=i("F/XL");function b(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.length?e.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var m,g=i("xMyE"),y=i("Gi3i"),v=i("VnD/"),_=i("67Y/"),x=i("t9fZ");function w(t){return null!=t&&""+t!="false"}function V(t){return t instanceof u.l?t.nativeElement:t}try{m="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(fg){m=!1}var C,P=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?Object(n.u)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!m)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(u.B,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(u.Zb(u.B,8))},t}(),U=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t}();function S(t){return function(){if(null==C&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return C=!0}}))}finally{C=C||!1}return C}()?t:!!t.capture}i("6blF");var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._origin="program",e}return Object(h.d)(e,t),e.prototype.setFocusOrigin=function(t){return this._origin=t,this},e.prototype.setActiveItem=function(e){t.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.focus(this._origin)},e}(function(){function t(t){var e=this;this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new p.a,this._typeaheadSubscription=d.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new p.a,this.change=new p.a,t instanceof u.D&&t.changes.subscribe((function(t){if(e._activeItem){var i=t.toArray().indexOf(e._activeItem);i>-1&&i!==e._activeItemIndex&&(e._activeItemIndex=i)}}))}return t.prototype.skipPredicate=function(t){return this._skipPredicateFn=t,this},t.prototype.withWrap=function(t){return void 0===t&&(t=!0),this._wrap=t,this},t.prototype.withVerticalOrientation=function(t){return void 0===t&&(t=!0),this._vertical=t,this},t.prototype.withHorizontalOrientation=function(t){return this._horizontal=t,this},t.prototype.withAllowedModifierKeys=function(t){return this._allowedModifierKeys=t,this},t.prototype.withTypeAhead=function(t){var e=this;if(void 0===t&&(t=200),this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(g.a)((function(t){return e._pressedLetters.push(t)})),Object(y.a)(t),Object(v.a)((function(){return e._pressedLetters.length>0})),Object(_.a)((function(){return e._pressedLetters.join("")}))).subscribe((function(t){for(var i=e._getItemsArray(),r=1;r<i.length+1;r++){var n=(e._activeItemIndex+r)%i.length,a=i[n];if(!e._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(n);break}}e._pressedLetters=[]})),this},t.prototype.setActiveItem=function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)},t.prototype.onKeydown=function(t){var e=this,i=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(i){return!t[i]||e._allowedModifierKeys.indexOf(i)>-1}));switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||b(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],t.preventDefault()},Object.defineProperty(t.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),t.prototype.isTyping=function(){return this._pressedLetters.length>0},t.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},t.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},t.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},t.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},t.prototype.updateActiveItem=function(t){var e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i},t.prototype._setActiveItemByDelta=function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)},t.prototype._setActiveInWrapMode=function(t){for(var e=this._getItemsArray(),i=1;i<=e.length;i++){var r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}},t.prototype._setActiveInDefaultMode=function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)},t.prototype._setActiveItemByIndex=function(t,e){var i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}},t.prototype._getItemsArray=function(){return this._items instanceof u.D?this._items.toArray():this._items},t}()),k=S({passive:!0,capture:!0}),I=function(){function t(t,e){var i=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),650)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))}}return t.prototype.monitor=function(t,e){var i=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return Object(f.a)(null);var r=V(t);if(this._elementInfo.has(r)){var n=this._elementInfo.get(r);return n.checkChildren=e,n.subject.asObservable()}var a={unlisten:function(){},checkChildren:e,subject:new p.a};this._elementInfo.set(r,a),this._incrementMonitoredElementCount();var o=function(t){return i._onFocus(t,r)},s=function(t){return i._onBlur(t,r)};return this._ngZone.runOutsideAngular((function(){r.addEventListener("focus",o,!0),r.addEventListener("blur",s,!0)})),a.unlisten=function(){r.removeEventListener("focus",o,!0),r.removeEventListener("blur",s,!0)},a.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=V(t),i=this._elementInfo.get(e);i&&(i.unlisten(),i.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e,i){var r=V(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(i)},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach((function(e,i){return t.stopMonitoring(i)}))},t.prototype._toggleClass=function(t,e,i){i?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var i=this._elementInfo.get(e);if(i&&(i.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}},t.prototype._onBlur=function(t,e){var i=this._elementInfo.get(e);!i||i.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(i.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run((function(){return t.next(e)}))},t.prototype._incrementMonitoredElementCount=function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,k),document.addEventListener("mousedown",t._documentMousedownListener,k),document.addEventListener("touchstart",t._documentTouchstartListener,k),window.addEventListener("focus",t._windowFocusListener)}))},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,k),document.removeEventListener("mousedown",this._documentMousedownListener,k),document.removeEventListener("touchstart",this._documentTouchstartListener,k),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(u.z),Object(u.Zb)(P))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(u.Zb(u.z),u.Zb(P))},t}(),A=function(){function t(t,e){this._platform=t,this._document=e}return t.prototype.getHighContrastMode=function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0},t.prototype._applyBodyHighContrastModeCssClasses=function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(P),Object(u.Zb)(n.d))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(u.Zb(P),u.Zb(n.d))},t}(),O=new u.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(u.V)(n.d)}}),D=function(){function t(t){if(this.value="ltr",this.change=new u.n,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(O,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(u.Zb(O,8))},t}(),M=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t}(),F=i("p0Sj"),E=i("ny24");function R(t,e){1&t&&u.lc(0)}var L=["*"],H=function(){function t(t){this._elementRef=t}return t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.l))},t.\u0275dir=u.Kb({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t}(),j=function(){function t(t){this.template=t}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.L))},t.\u0275dir=u.Kb({type:t,selectors:[["","cdkStepLabel",""]]}),t}(),z=0,B=new u.q("STEPPER_GLOBAL_OPTIONS"),N=function(){function t(t,e){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}return Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(t){this._editable=w(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optional",{get:function(){return this._optional},set:function(t){this._optional=w(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride},set:function(t){this._completedOverride=w(t)},enumerable:!0,configurable:!0}),t.prototype._getDefaultCompleted=function(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted},Object.defineProperty(t.prototype,"hasError",{get:function(){return null==this._customError?this._getDefaultError():this._customError},set:function(t){this._customError=w(t)},enumerable:!0,configurable:!0}),t.prototype._getDefaultError=function(){return this.stepControl&&this.stepControl.invalid&&this.interacted},t.prototype.select=function(){this._stepper.selected=this},t.prototype.reset=function(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()},t.prototype.ngOnChanges=function(){this._stepper._stateChanged()},t.\u0275fac=function(e){return new(e||t)(u.Pb(Object(u.U)((function(){return X}))),u.Pb(B,8))},t.\u0275cmp=u.Jb({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,i){var r;1&t&&u.Hb(i,j,!0),2&t&&u.vc(r=u.ec())&&(e.stepLabel=r.first)},viewQuery:function(t,e){var i;1&t&&u.Dc(u.L,!0),2&t&&u.vc(i=u.ec())&&(e.content=i.first)},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[u.Ab()],ngContentSelectors:L,decls:1,vars:0,template:function(t,e){1&t&&(u.mc(),u.Fc(0,R,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t}(),X=function(){function t(t,e,i,r){this._dir=t,this._changeDetectorRef=e,this._elementRef=i,this._destroyed=new p.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new u.n,this._orientation="horizontal",this._groupId=z++,this._document=r}return Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linear",{get:function(){return this._linear},set:function(t){this._linear=w(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){var e,i,r=(void 0===i&&(i=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(e=t)?Number(e):i);if(this.steps){if(r<0||r>this.steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=r&&!this._anyControlsInvalidOrPending(r)&&(r>=this._selectedIndex||this.steps.toArray()[r].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0},set:function(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this._keyManager=new T(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(f.a)()).pipe(Object(F.a)(this._layoutDirection()),Object(E.a)(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.pipe(Object(E.a)(this._destroyed)).subscribe((function(){t.selected||(t._selectedIndex=Math.max(t._selectedIndex-1,0))}))},t.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},t.prototype.next=function(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)},t.prototype.previous=function(){this.selectedIndex=Math.max(this._selectedIndex-1,0)},t.prototype.reset=function(){this._updateSelectedItemIndex(0),this.steps.forEach((function(t){return t.reset()})),this._stateChanged()},t.prototype._getStepLabelId=function(t){return"cdk-step-label-"+this._groupId+"-"+t},t.prototype._getStepContentId=function(t){return"cdk-step-content-"+this._groupId+"-"+t},t.prototype._stateChanged=function(){this._changeDetectorRef.markForCheck()},t.prototype._getAnimationDirection=function(t){var e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"},t.prototype._getIndicatorType=function(t,e){void 0===e&&(e="number");var i=this.steps.toArray()[t],r=this._isCurrentStep(t);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,r):this._getGuidelineLogic(i,r,e)},t.prototype._getDefaultIndicatorLogic=function(t,e){return t._showError&&t.hasError&&!e?"error":!t.completed||e?"number":t.editable?"edit":"done"},t.prototype._getGuidelineLogic=function(t,e,i){return void 0===i&&(i="number"),t._showError&&t.hasError&&!e?"error":t.completed&&!e?"done":t.completed&&e?i:t.editable&&e?"edit":i},t.prototype._isCurrentStep=function(t){return this._selectedIndex===t},t.prototype._getFocusIndex=function(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex},t.prototype._updateSelectedItemIndex=function(t){var e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()},t.prototype._onKeydown=function(t){var e=b(t),i=t.keyCode,r=this._keyManager;null==r.activeItemIndex||e||32!==i&&13!==i?36===i?(r.setFirstItemActive(),t.preventDefault()):35===i?(r.setLastItemActive(),t.preventDefault()):r.onKeydown(t):(this.selectedIndex=r.activeItemIndex,t.preventDefault())},t.prototype._anyControlsInvalidOrPending=function(t){var e=this.steps.toArray();return e[this._selectedIndex].interacted=!0,!!(this._linear&&t>=0)&&e.slice(0,t).some((function(t){var e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride}))},t.prototype._layoutDirection=function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},t.prototype._containsFocus=function(){if(!this._document||!this._elementRef)return!1;var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)},t.\u0275fac=function(e){return new(e||t)(u.Pb(D,8),u.Pb(u.h),u.Pb(u.l),u.Pb(n.d))},t.\u0275dir=u.Kb({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,i){var r;1&t&&(u.Hb(i,N,!0),u.Hb(i,H,!0)),2&t&&(u.vc(r=u.ec())&&(e._steps=r),u.vc(r=u.ec())&&(e._stepHeader=r))},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t}(),W=function(){function t(t){this._stepper=t,this.type="submit"}return t.prototype._handleClick=function(){this._stepper.next()},t.\u0275fac=function(e){return new(e||t)(u.Pb(X))},t.\u0275dir=u.Kb({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&u.dc("click",(function(t){return e._handleClick()})),2&t&&u.Yb("type",e.type)},inputs:{type:"type"}}),t}(),G=function(){function t(t){this._stepper=t,this.type="button"}return t.prototype._handleClick=function(){this._stepper.previous()},t.\u0275fac=function(e){return new(e||t)(u.Pb(X))},t.\u0275dir=u.Kb({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&u.dc("click",(function(t){return e._handleClick()})),2&t&&u.Yb("type",e.type)},inputs:{type:"type"}}),t}(),Y=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[M,n.c]]}),t}(),q=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)}}),t}(),K=new u.N("9.0.0"),J=i("E1rE"),Z=i("ED2X"),Q=new u.N("9.0.0"),$=new u.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),tt=function(){function t(t,e){this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return t.prototype._checksAreEnabled=function(){return Object(u.W)()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkCdkVersionMatch=function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Q.full!==K.full&&console.warn("The Angular Material version ("+Q.full+") does not match the Angular CDK version ("+K.full+").\nPlease ensure the versions of these two packages exactly match.")},t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)(u.Zb(A),u.Zb($,8))},imports:[[M],M]}),t}();function et(t,e){return function(t){function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var n=t.apply(this,Object(h.h)(i))||this;return n.color=e,n}return Object(h.d)(i,t),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(t){var i=t||e;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),i&&this._elementRef.nativeElement.classList.add("mat-"+i),this._color=i)},enumerable:!0,configurable:!0}),i}(t)}var it=function(){function t(){}return t.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},t.\u0275prov=Object(u.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)},t}(),rt=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}({}),nt=function(){function t(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=rt.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),at={enterDuration:450,exitDuration:400},ot=S({passive:!0}),st=function(){function t(t,e,i,r){var n=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),i=n._lastTouchStartEvent&&Date.now()<n._lastTouchStartEvent+800;n._target.rippleDisabled||e||i||(n._isPointerDown=!0,n.fadeInRipple(t.clientX,t.clientY,n._target.rippleConfig))},this._onTouchStart=function(t){if(!n._target.rippleDisabled){n._lastTouchStartEvent=Date.now(),n._isPointerDown=!0;for(var e=t.changedTouches,i=0;i<e.length;i++)n.fadeInRipple(e[i].clientX,e[i].clientY,n._target.rippleConfig)}},this._onPointerUp=function(){n._isPointerDown&&(n._isPointerDown=!1,n._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===rt.VISIBLE||t.config.terminateOnPointerUp&&t.state===rt.FADING_IN)&&t.fadeOut()})))},r.isBrowser&&(this._containerElement=V(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return t.prototype.fadeInRipple=function(t,e,i){var r=this;void 0===i&&(i={});var n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object(h.a)(Object(h.a)({},at),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);var o=i.radius||function(t,e,i){var r=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),n=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(r*r+n*n)}(t,e,n),s=t-n.left,l=e-n.top,c=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var p=new nt(this,u,i);return p.state=rt.FADING_IN,this._activeRipples.add(p),i.persistent||(this._mostRecentTransientRipple=p),this._runTimeoutOutsideZone((function(){var t=p===r._mostRecentTransientRipple;p.state=rt.VISIBLE,i.persistent||t&&r._isPointerDown||p.fadeOut()}),c),p},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var i=t.element,r=Object(h.a)(Object(h.a)({},at),t.config.animation);i.style.transitionDuration=r.exitDuration+"ms",i.style.opacity="0",t.state=rt.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=rt.HIDDEN,i.parentNode.removeChild(i)}),r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))},t.prototype.setupTriggerEvents=function(t){var e=this,i=V(t);i&&i!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){i.addEventListener(e,t,ot)}))})),this._triggerElement=i)},t.prototype._runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,i){t._triggerElement.removeEventListener(i,e,ot)}))},t}(),lt=new u.q("mat-ripple-global-options"),ct=function(){function t(t,e,i,r,n){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new st(this,e,t,i),"NoopAnimations"===n&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(h.a)(Object(h.a)({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,i){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object(h.a)(Object(h.a)({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object(h.a)(Object(h.a)({},this.rippleConfig),t))},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.l),u.Pb(u.z),u.Pb(P),u.Pb(lt,8),u.Pb(Z.a,8))},t.\u0275dir=u.Kb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&u.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t}(),ut=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[tt,U],tt]}),t}(),ht=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[n.c,ut,tt],tt]}),t}(),pt=i("9Z1F"),dt=i("2WpN"),ft=i("S1nX"),bt=i("cUzu"),mt=i("XlPw"),gt=i("VNr4"),yt=["*"];function vt(t){return Error('Unable to find icon with the name "'+t+'"')}function _t(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function xt(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \""+t+'".')}var wt=function(){return function(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}(),Vt=function(){function t(t,e,i,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return t.prototype.addSvgIcon=function(t,e,i){return this.addSvgIconInNamespace("",t,e,i)},t.prototype.addSvgIconLiteral=function(t,e,i){return this.addSvgIconLiteralInNamespace("",t,e,i)},t.prototype.addSvgIconInNamespace=function(t,e,i,r){return this._addSvgIconConfig(t,e,new wt(i,r))},t.prototype.addSvgIconLiteralInNamespace=function(t,e,i,r){var n=this._sanitizer.sanitize(u.I.HTML,i);if(!n)throw xt(i);var a=this._createSvgElementForSingleIcon(n,r);return this._addSvgIconConfig(t,e,new wt(a,r))},t.prototype.addSvgIconSet=function(t,e){return this.addSvgIconSetInNamespace("",t,e)},t.prototype.addSvgIconSetLiteral=function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)},t.prototype.addSvgIconSetInNamespace=function(t,e,i){return this._addSvgIconSetConfig(t,new wt(e,i))},t.prototype.addSvgIconSetLiteralInNamespace=function(t,e,i){var r=this._sanitizer.sanitize(u.I.HTML,e);if(!r)throw xt(e);var n=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new wt(n,i))},t.prototype.registerFontClassAlias=function(t,e){return void 0===e&&(e=t),this._fontCssClassesByAlias.set(t,e),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var e=this,i=this._sanitizer.sanitize(u.I.RESOURCE_URL,t);if(!i)throw _t(t);var r=this._cachedIconsByUrl.get(i);return r?Object(f.a)(Ct(r)):this._loadSvgIconFromConfig(new wt(t)).pipe(Object(g.a)((function(t){return e._cachedIconsByUrl.set(i,t)})),Object(_.a)((function(t){return Ct(t)})))},t.prototype.getNamedSvgIcon=function(t,e){void 0===e&&(e="");var i=Pt(e,t),r=this._svgIconConfigs.get(i);if(r)return this._getSvgFromConfig(r);var n=this._iconSetConfigs.get(e);return n?this._getSvgFromIconSetConfigs(t,n):Object(mt.a)(vt(i))},t.prototype.ngOnDestroy=function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()},t.prototype._getSvgFromConfig=function(t){return t.svgElement?Object(f.a)(Ct(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(g.a)((function(e){return t.svgElement=e})),Object(_.a)((function(t){return Ct(t)})))},t.prototype._getSvgFromIconSetConfigs=function(t,e){var i=this,r=this._extractIconWithNameFromAnySet(t,e);if(r)return Object(f.a)(r);var n=e.filter((function(t){return!t.svgElement})).map((function(t){return i._loadSvgIconSetFromConfig(t).pipe(Object(pt.a)((function(e){var r="Loading icon set URL: "+i._sanitizer.sanitize(u.I.RESOURCE_URL,t.url)+" failed: "+e.message;return i._errorHandler?i._errorHandler.handleError(new Error(r)):console.error(r),Object(f.a)(null)})))}));return Object(gt.a)(n).pipe(Object(_.a)((function(){var r=i._extractIconWithNameFromAnySet(t,e);if(!r)throw vt(t);return r})))},t.prototype._extractIconWithNameFromAnySet=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.svgElement){var n=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(n)return n}}return null},t.prototype._loadSvgIconFromConfig=function(t){var e=this;return this._fetchUrl(t.url).pipe(Object(_.a)((function(i){return e._createSvgElementForSingleIcon(i,t.options)})))},t.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return t.svgElement?Object(f.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(_.a)((function(i){return t.svgElement||(t.svgElement=e._svgElementFromString(i)),t.svgElement})))},t.prototype._createSvgElementForSingleIcon=function(t,e){var i=this._svgElementFromString(t);return this._setSvgAttributes(i,e),i},t.prototype._extractSvgIconFromSet=function(t,e,i){var r=t.querySelector('[id="'+e+'"]');if(!r)return null;var n=r.cloneNode(!0);if(n.removeAttribute("id"),"svg"===n.nodeName.toLowerCase())return this._setSvgAttributes(n,i);if("symbol"===n.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(n),i);var a=this._svgElementFromString("<svg></svg>");return a.appendChild(n),this._setSvgAttributes(a,i)},t.prototype._svgElementFromString=function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var i=e.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i},t.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),i=t.attributes,r=0;r<i.length;r++){var n=i[r],a=n.name;"id"!==a&&e.setAttribute(a,n.value)}for(r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e},t.prototype._setSvgAttributes=function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t},t.prototype._fetchUrl=function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'+t+'".');var i=this._sanitizer.sanitize(u.I.RESOURCE_URL,t);if(!i)throw _t(t);var r=this._inProgressUrlFetches.get(i);if(r)return r;var n=this._httpClient.get(i,{responseType:"text"}).pipe(Object(dt.a)((function(){return e._inProgressUrlFetches.delete(i)})),Object(ft.a)());return this._inProgressUrlFetches.set(i,n),n},t.prototype._addSvgIconConfig=function(t,e,i){return this._svgIconConfigs.set(Pt(t,e),i),this},t.prototype._addSvgIconSetConfig=function(t,e){var i=this._iconSetConfigs.get(t);return i?i.push(e):this._iconSetConfigs.set(t,[e]),this},t.\u0275prov=Object(u.Lb)({factory:function(){return new t(Object(u.Zb)(bt.b,8),Object(u.Zb)(J.c),Object(u.Zb)(n.d,8),Object(u.Zb)(u.m,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(u.Zb(bt.b,8),u.Zb(J.c),u.Zb(n.d,8),u.Zb(u.m,8))},t}();function Ct(t){return t.cloneNode(!0)}function Pt(t,e){return t+":"+e}var Ut=et(function(){return function(t){this._elementRef=t}}()),St=new u.q("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(u.V)(n.d),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),Tt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kt=Tt.map((function(t){return"["+t+"]"})).join(", "),It=/^url\(['"]?#(.*?)['"]?\)$/,At=function(t){function e(e,i,r,n,a){var o=t.call(this,e)||this;return o._iconRegistry=i,o._location=n,o._errorHandler=a,o._inline=!1,r||e.nativeElement.setAttribute("aria-hidden","true"),o}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"inline",{get:function(){return this._inline},set:function(t){this._inline=w(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSet",{get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),e.prototype._splitIconName=function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'+t+'"')}},e.prototype.ngOnChanges=function(t){var e=this,i=t.svgIcon;if(i)if(this.svgIcon){var r=Object(h.g)(this._splitIconName(this.svgIcon),2),n=r[0],a=r[1];this._iconRegistry.getNamedSvgIcon(a,n).pipe(Object(x.a)(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var i="Error retrieving icon "+n+":"+a+"! "+t.message;e._errorHandler?e._errorHandler.handleError(new Error(i)):console.error(i)}))}else i.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngAfterViewChecked=function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}},e.prototype.ngOnDestroy=function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()},e.prototype._usingFontIcon=function(){return!this.svgIcon},e.prototype._setSvgElement=function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),i=0;i<e.length;i++)e[i].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(t)},e.prototype._clearSvgElement=function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var i=t.childNodes[e];1===i.nodeType&&"svg"!==i.nodeName.toLowerCase()||t.removeChild(i)}},e.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},e.prototype._cleanupFontValue=function(t){return"string"==typeof t?t.trim().split(" ")[0]:t},e.prototype._prependPathToReferences=function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,i){e.forEach((function(e){i.setAttribute(e.name,"url('"+t+"#"+e.value+"')")}))}))},e.prototype._cacheChildrenWithExternalReferences=function(t){for(var e=t.querySelectorAll(kt),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(t){Tt.forEach((function(r){var n=e[t],a=n.getAttribute(r),o=a?a.match(It):null;if(o){var s=i.get(n);s||i.set(n,s=[]),s.push({name:r,value:o[1]})}}))},n=0;n<e.length;n++)r(n)},e.\u0275fac=function(t){return new(t||e)(u.Pb(u.l),u.Pb(Vt),u.ac("aria-hidden"),u.Pb(St,8),u.Pb(u.m,8))},e.\u0275cmp=u.Jb({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&u.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[u.zb,u.Ab()],ngContentSelectors:yt,decls:1,vars:0,template:function(t,e){1&t&&(u.mc(),u.lc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e}(Ut),Ot=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[tt],tt]}),t}(),Dt=i("ad02"),Mt=i("2WDa");function Ft(t,e){if(1&t&&u.Rb(0,9),2&t){var i=u.hc();u.nc("ngTemplateOutlet",i.iconOverrides[i.state])("ngTemplateOutletContext",i._getIconContext())}}function Et(t,e){if(1&t&&(u.Vb(0,"span"),u.Hc(1),u.Ub()),2&t){var i=u.hc(2);u.Cb(1),u.Ic(i._getDefaultTextForState(i.state))}}function Rt(t,e){if(1&t&&(u.Vb(0,"mat-icon"),u.Hc(1),u.Ub()),2&t){var i=u.hc(2);u.Cb(1),u.Ic(i._getDefaultTextForState(i.state))}}function Lt(t,e){if(1&t&&(u.Tb(0,10),u.Fc(1,Et,2,1,"span",11),u.Fc(2,Rt,2,1,"mat-icon",12),u.Sb()),2&t){var i=u.hc();u.nc("ngSwitch",i.state),u.Cb(1),u.nc("ngSwitchCase","number")}}function Ht(t,e){if(1&t&&u.Rb(0,13),2&t){var i=u.hc();u.nc("ngTemplateOutlet",i._templateLabel().template)}}function jt(t,e){if(1&t&&(u.Vb(0,"div",14),u.Hc(1),u.Ub()),2&t){var i=u.hc();u.Cb(1),u.Ic(i.label)}}function zt(t,e){if(1&t&&(u.Vb(0,"div",15),u.Hc(1),u.Ub()),2&t){var i=u.hc();u.Cb(1),u.Ic(i._intl.optionalLabel)}}function Bt(t,e){if(1&t&&(u.Vb(0,"div",16),u.Hc(1),u.Ub()),2&t){var i=u.hc();u.Cb(1),u.Ic(i.errorMessage)}}function Nt(t,e){1&t&&u.lc(0)}var Xt=["*"];function Wt(t,e){1&t&&u.Qb(0,"div",6)}function Gt(t,e){if(1&t){var i=u.Wb();u.Tb(0),u.Vb(1,"mat-step-header",4),u.dc("click",(function(t){return e.$implicit.select()}))("keydown",(function(t){return u.yc(i),u.hc()._onKeydown(t)})),u.Ub(),u.Fc(2,Wt,1,0,"div",5),u.Sb()}if(2&t){var r=e.$implicit,n=e.index,a=e.last,o=u.hc();u.Cb(1),u.nc("tabIndex",o._getFocusIndex()===n?0:-1)("id",o._getStepLabelId(n))("index",n)("state",o._getIndicatorType(n,r.state))("label",r.stepLabel||r.label)("selected",o.selectedIndex===n)("active",r.completed||o.selectedIndex===n||!o.linear)("optional",r.optional)("errorMessage",r.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple),u.Db("aria-posinset",n+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(n))("aria-selected",o.selectedIndex==n)("aria-label",r.ariaLabel||null)("aria-labelledby",!r.ariaLabel&&r.ariaLabelledby?r.ariaLabelledby:null),u.Cb(1),u.nc("ngIf",!a)}}function Yt(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",7),u.dc("@stepTransition.done",(function(t){return u.yc(i),u.hc()._animationDone.next(t)})),u.Rb(1,8),u.Ub()}if(2&t){var r=e.$implicit,n=e.index,a=u.hc();u.nc("@stepTransition",a._getAnimationDirection(n))("id",a._getStepContentId(n)),u.Db("tabindex",a.selectedIndex===n?0:null)("aria-labelledby",a._getStepLabelId(n))("aria-expanded",a.selectedIndex===n),u.Cb(1),u.nc("ngTemplateOutlet",r.content)}}var qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(h.d)(e,t),e.\u0275fac=function(t){return i(t||e)},e.\u0275dir=u.Kb({type:e,selectors:[["","matStepLabel",""]],features:[u.zb]});var i=u.Xb(e);return e}(j),Kt=function(){function t(){this.changes=new p.a,this.optionalLabel="Optional"}return t.\u0275prov=Object(u.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)},t}(),Jt={provide:Kt,deps:[[new u.A,new u.J,Kt]],useFactory:function(t){return t||new Kt}},Zt=function(t){function e(e,i,r,n){var a=t.call(this,r)||this;return a._intl=e,a._focusMonitor=i,i.monitor(r,!0),a._intlSubscription=e.changes.subscribe((function(){return n.markForCheck()})),a}return Object(h.d)(e,t),e.prototype.ngOnDestroy=function(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype.focus=function(){this._focusMonitor.focusVia(this._elementRef,"program")},e.prototype._stringLabel=function(){return this.label instanceof qt?null:this.label},e.prototype._templateLabel=function(){return this.label instanceof qt?this.label:null},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._getIconContext=function(){return{index:this.index,active:this.active,optional:this.optional}},e.prototype._getDefaultTextForState=function(t){return"number"==t?""+(this.index+1):"edit"==t?"create":"error"==t?"warning":t},e.\u0275fac=function(t){return new(t||e)(u.Pb(Kt),u.Pb(I),u.Pb(u.l),u.Pb(u.h))},e.\u0275cmp=u.Jb({type:e,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[u.zb],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],[3,"ngTemplateOutlet",4,"ngIf"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(u.Qb(0,"div",0),u.Vb(1,"div"),u.Vb(2,"div",1),u.Fc(3,Ft,1,2,"ng-container",2),u.Fc(4,Lt,3,2,"ng-container",3),u.Ub(),u.Ub(),u.Vb(5,"div",4),u.Fc(6,Ht,1,1,"ng-container",5),u.Fc(7,jt,2,1,"div",6),u.Fc(8,zt,2,1,"div",7),u.Fc(9,Bt,2,1,"div",8),u.Ub()),2&t&&(u.nc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),u.Cb(1),u.Fb("mat-step-icon-state-",e.state," mat-step-icon"),u.Gb("mat-step-icon-selected",e.selected),u.Cb(1),u.nc("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),u.Cb(1),u.nc("ngSwitchCase",!0),u.Cb(2),u.Gb("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),u.Cb(1),u.nc("ngIf",e._templateLabel()),u.Cb(1),u.nc("ngIf",e._stringLabel()),u.Cb(1),u.nc("ngIf",e.optional&&"error"!=e.state),u.Cb(1),u.nc("ngIf","error"==e.state))},directives:[ct,n.n,n.o,n.p,n.l,n.q,At],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e}(H),Qt={horizontalStepTransition:Object(Mt.k)("stepTransition",[Object(Mt.h)("previous",Object(Mt.i)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(Mt.h)("current",Object(Mt.i)({transform:"none",visibility:"visible"})),Object(Mt.h)("next",Object(Mt.i)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(Mt.j)("* => *",Object(Mt.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Object(Mt.k)("stepTransition",[Object(Mt.h)("previous",Object(Mt.i)({height:"0px",visibility:"hidden"})),Object(Mt.h)("next",Object(Mt.i)({height:"0px",visibility:"hidden"})),Object(Mt.h)("current",Object(Mt.i)({height:"*",visibility:"visible"})),Object(Mt.j)("* <=> current",Object(Mt.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])},$t=function(){function t(t){this.templateRef=t}return t.\u0275fac=function(e){return new(e||t)(u.Pb(u.L))},t.\u0275dir=u.Kb({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t}(),te=function(t){function e(e,i,r){var n=t.call(this,e,r)||this;return n._errorStateMatcher=i,n}return Object(h.d)(e,t),e.prototype.isErrorState=function(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)},e.\u0275fac=function(t){return new(t||e)(u.Pb(Object(u.U)((function(){return ee}))),u.Pb(it,4),u.Pb(B,8))},e.\u0275cmp=u.Jb({type:e,selectors:[["mat-step"]],contentQueries:function(t,e,i){var r;1&t&&u.Hb(i,qt,!0),2&t&&u.vc(r=u.ec())&&(e.stepLabel=r.first)},exportAs:["matStep"],features:[u.Bb([{provide:it,useExisting:e},{provide:N,useExisting:e}]),u.zb],ngContentSelectors:Xt,decls:1,vars:0,template:function(t,e){1&t&&(u.mc(),u.Fc(0,Nt,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),e}(N),ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animationDone=new u.n,e._iconOverrides={},e._animationDone=new p.a,e}Object(h.d)(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this._icons.forEach((function(e){return t._iconOverrides[e.name]=e.templateRef})),this._steps.changes.pipe(Object(E.a)(this._destroyed)).subscribe((function(){t._stateChanged()})),this._animationDone.pipe(Object(Dt.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})),Object(E.a)(this._destroyed)).subscribe((function(e){"current"===e.toState&&t.animationDone.emit()}))},e.\u0275fac=function(t){return i(t||e)},e.\u0275dir=u.Kb({type:e,selectors:[["","matStepper",""]],contentQueries:function(t,e,i){var r;1&t&&(u.Hb(i,te,!0),u.Hb(i,$t,!0)),2&t&&(u.vc(r=u.ec())&&(e._steps=r),u.vc(r=u.ec())&&(e._icons=r))},viewQuery:function(t,e){var i;1&t&&u.Mc(Zt,!0),2&t&&u.vc(i=u.ec())&&(e._stepHeader=i)},inputs:{disableRipple:"disableRipple"},outputs:{animationDone:"animationDone"},features:[u.Bb([{provide:X,useExisting:e}]),u.zb]});var i=u.Xb(e);return e}(X),ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelPosition="end",e}Object(h.d)(e,t),e.\u0275fac=function(t){return i(t||e)},e.\u0275cmp=u.Jb({type:e,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(t,e){2&t&&u.Gb("mat-stepper-label-position-end","end"==e.labelPosition)("mat-stepper-label-position-bottom","bottom"==e.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[u.Bb([{provide:ee,useExisting:e},{provide:X,useExisting:e}]),u.zb],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Fc(1,Gt,3,18,"ng-container",1),u.Ub(),u.Vb(2,"div",2),u.Fc(3,Yt,2,6,"div",3),u.Ub()),2&t&&(u.Cb(1),u.nc("ngForOf",e.steps),u.Cb(2),u.nc("ngForOf",e.steps))},directives:[n.k,Zt,n.l,n.q],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[Qt.horizontalStepTransition]},changeDetection:0});var i=u.Xb(e);return e}(ee),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(h.d)(e,t),e.\u0275fac=function(t){return i(t||e)},e.\u0275dir=u.Kb({type:e,selectors:[["button","matStepperNext",""]],hostVars:1,hostBindings:function(t,e){2&t&&u.Yb("type",e.type)},inputs:{type:"type"},features:[u.zb]});var i=u.Xb(e);return e}(W),ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(h.d)(e,t),e.\u0275fac=function(t){return i(t||e)},e.\u0275dir=u.Kb({type:e,selectors:[["button","matStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){2&t&&u.Yb("type",e.type)},inputs:{type:"type"},features:[u.zb]});var i=u.Xb(e);return e}(G),ae=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},providers:[Jt,it],imports:[[tt,n.c,q,ht,Y,Ot,ut],tt]}),t}(),oe=i("AytR"),se=i("4ZJM"),le=i("DUip"),ce=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._value+"%"},t}();function ue(t){return new ce(t)}function he(t){return Number(t)!==t}function pe(t){return{}.toString.call(t)}function de(t){if("string"==typeof t)return t;if("number"==typeof t)return""+t;throw new Error("Expected a string or number but got "+pe(t))}function fe(t){return!!t}function be(t){if(ge(t)&&!we(t)){var e=Number(t);return he(e)&&xe(t)&&""!=t?be(t.replace(/[^0-9.\-]+/g,"")):e}return t}function me(t){if(ge(t)&&!xe(t)){if(we(t))return de(t);if(Ve(t))return t.toString()}return t}function ge(t){return null!=t}function ye(t){if(ge(t))return t;throw new Error("Value doesn't exist")}function ve(t,e){return ge(t)?t:e}function _e(t){return"[object Date]"===pe(t)}function xe(t){return"string"==typeof t}function we(t){return"number"==typeof t&&Number(t)==t}function Ve(t){return"object"==typeof t&&null!=t}function Ce(t){return Array.isArray(t)}var Pe=Math.PI,Ue=Pe/2,Se=Pe/180,Te=180/Pe;function ke(t,e,i){return ge(t)?Oe(t=be(t),e,i):t}function Ie(t,e,i){if(!we(e)||e<=0){var r=Math.round(t);return i&&r-t==.5&&r--,r}var n=Math.pow(10,e);return Math.round(t*n)/n}function Ae(t,e){if(!we(e)||e<=0)return Math.ceil(t);var i=Math.pow(10,e);return Math.ceil(t*i)/i}function Oe(t,e,i){if(we(e)){if(we(i)&&i<e){var r=i;i=e,e=r}t<e&&(t=e)}return we(i)&&t>i&&(t=i),t}function De(t){return Ie(Math.sin(Se*t),10)}function Me(t){return Ie(Math.tan(Se*t),10)}function Fe(t){return Ie(Math.cos(Se*t),10)}function Ee(t,e){return we(t)?we(e)&&e>t?e:t:we(e)?e:null}function Re(t,e){return we(t)?we(e)&&e<t?e:t:we(e)?e:null}function Le(t,e){var i=ye(t.start),r=ye(e.start),n=ye(t.end),a=ye(e.end);return Math.max(i,r)<=Math.min(n,a)}function He(t){var e=ye(t.start);return{start:1-ye(t.end),end:1-e}}function je(t,e){return t?(e||(e={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(t.x-e.x),2)+Math.pow(Math.abs(t.y-e.y),2))):0}function ze(t,e,i,r,n){if(!t)return 0;e||(e={x:0,y:0});var a=0,o=t;if(n>0)for(var s=0;s<=n;s++){var l=qe(t,e,i,r,s/n);a+=je(o,l),o=l}return a}function Be(t,e,i,r){var n=je(e,r),a=je(t,i);return Math.abs(a/n)}function Ne(t,e,i){return we(i)||(i=.5),{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function Xe(t,e){e||(e={x:2*t.x,y:2*t.y});var i=Math.atan2(e.y-t.y,e.x-t.x)*Te;return i<0&&(i+=360),Qe(i)}function We(t){if(t){var e=t.length;if(0!==e){for(var i,r=void 0,n=void 0,a=void 0,o=0;o<e;o++){var s=t[o];(!we(n)||s.x>n)&&(n=s.x),(!we(r)||s.x<r)&&(r=s.x),(!we(i)||s.y<i)&&(i=s.y),(!we(a)||s.y>a)&&(a=s.y)}return{x:r,y:i,width:n-r,height:a-i}}}return{x:0,y:0,width:0,height:0}}function Ge(t){var e=t.length;if(0!==e){for(var i=void 0,r=void 0,n=void 0,a=void 0,o=0;o<e;o++){var s=t[o];i=Re(s.x,i),r=Re(s.y,r),n=Ee(s.x+s.width,n),a=Ee(s.y+s.height,a)}return{x:i,y:r,width:n-i,height:a-r}}}function Ye(t,e,i,r){return{x:(1-r)*(1-r)*t.x+2*(1-r)*r*i.x+r*r*e.x,y:(1-r)*(1-r)*t.y+2*(1-r)*r*i.y+r*r*e.y}}function qe(t,e,i,r,n){var a={x:0,y:0},o=1-n,s=o*o,l=s*o;return a.x=t.x*l+3*i.x*s*n+3*r.x*o*n*n+e.x*n*n*n,a.y=t.y*l+3*i.y*s*n+3*r.y*o*n*n+e.y*n*n*n,a}function Ke(t,e,i,r,n,a){return n=Ze(n),a=Ze(a),{x:(e.x/n-t.x+i.x)*n,y:(e.y/a-t.y+i.y)*a}}function Je(t,e,i,r,n,a){return n=Ze(n),a=Ze(a),{x:(e.x+i.x/n-r.x)*n,y:(e.y+i.y/a-r.y)*a}}function Ze(t){return 1-t+1e-5}function Qe(t){return 360==t?360:t%360}function $e(t,e,i){if(e>i){var r=e;e=i,i=r}t=Qe(t);var n=(e-Qe(e))/360;return t<e&&(t+=360*(n+1)),t>i&&(t-360>e?t-=360:t=t<e+(i-e)/2+180?i:e),t<e&&(t=t>e+(i-e)/2-180?e:i),t}function ti(t,e,i){var r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=-Number.MAX_VALUE,s=[];we(i)||(i=1),s.push(ei(i,t)),s.push(ei(i,e));for(var l=Math.min(90*Math.floor(t/90),90*Math.floor(e/90)),c=Math.max(90*Math.ceil(t/90),90*Math.ceil(e/90)),u=l;u<=c;u+=90)u>=t&&u<=e&&s.push(ei(i,u));for(var h=0;h<s.length;h++){var p=s[h];p.x<r&&(r=p.x),p.y<n&&(n=p.y),p.x>a&&(a=p.x),p.y>o&&(o=p.y)}return{x:r,y:n,width:a-r,height:o-n}}function ei(t,e){return{x:t*Fe(e),y:t*De(e)}}function ii(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>e.y&&t.y<e.y+e.height}function ri(t,e){for(var i=t.length,r=0;r<i;++r)if(t[r]===e)return r;return-1}function ni(t,e){for(var i=t.length,r=0;r<i;++r)if(e(t[r]))return!0;return!1}function ai(t,e){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=e(t[n],n);return r}function oi(t,e){for(var i=t.length,r=0;r<i;++r)e(t[r],r)}function si(t,e){for(var i=t.length;i--;)e(t[i],i)}function li(t,e){for(var i=t.length,r=0;r<i&&e(t[r],r);++r);}function ci(t,e){for(var i=t.length,r=e;r<i;++r)t[r-e]=t[r];t.length=i-e}function ui(t){var e=t.length;return e?t[e-1]:void 0}function hi(t){return t[0]}function pi(t,e,i){i=Oe(i,0,t.length),t.splice(i,0,e)}function di(t,e,i){bi(t,e),pi(t,e,i)}function fi(t,e){for(var i=e.length,r=0;r<i;++r)t.push(e[r])}function bi(t,e){var i=!1,r=t.indexOf(e);if(-1!==r){i=!0,t.splice(r,1);for(var n=t.length;r<n;)t[r]===e?(t.splice(r,1),--n):++r}return i}function mi(t,e,i){var r=ri(t,e);-1!==r&&Ci(t,r),null==i?t.push(e):Vi(t,i,e)}function gi(t,e,i){we(i)?0===i?t.unshift(e):t.splice(i,0,e):t.push(e)}function yi(t,e,i){var r=t.indexOf(e);-1!==r&&t.splice(r,1),we(i)?t.splice(i,0,e):t.push(e)}function vi(t){return Array.isArray(t)?t:[t]}function _i(t,e){return-1!==ri(t,e)}function xi(t){for(var e=t.length,i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}function wi(t,e,i){void 0===i&&(i=t.length);for(var r=new Array(i-e),n=e;n<i;++n)r[n-e]=t[n];return r}function Vi(t,e,i){t.splice(e,0,i)}function Ci(t,e){t.splice(e,1)}function Pi(t,e,i){for(var r=0,n=t.length,a=!1;r<n;){var o=r+n>>1,s=e(i,t[o]);s<0?n=o:0===s?(a=!0,r=o+1):r=o+1}return{found:a,index:a?r-1:r}}function Ui(t,e){for(var i=t.length,r=0;r<i;++r)if(e(t[r],r))return r;return-1}function Si(t,e){var i=Ui(t,e);if(-1!==i)return t[i]}function Ti(t){for(var e,i,r=t.length;0!==r;)i=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[i],t[i]=e}function ki(t,e){for(var i=t.length,r=0;r<i;)e(t[r])?++r:(t.splice(r,1),--i)}var Ii=function(){function t(t){this._disposed=!1,this._dispose=t}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},t}(),Ai=function(t){function e(e){return t.call(this,(function(){oi(e,(function(t){t.dispose()}))}))||this}return Object(h.d)(e,t),e}(Ii),Oi=function(t){function e(){var e=t.call(this,(function(){ge(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)}))||this;return e}return Object(h.d)(e,t),e.prototype.get=function(){return this._value},e.prototype.set=function(t,e){ge(this._disposer)&&this._disposer.dispose(),this._disposer=e,this._value=t},e.prototype.reset=function(){this.set(void 0,void 0)},e}(Ii),Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._counter=0,e}return Object(h.d)(e,t),e.prototype.increment=function(){var t=this;return++this._counter,new Ii((function(){--t._counter,0===t._counter&&t.dispose()}))},e}(Ii),Mi=!1,Fi=[],Ei=[],Ri=[],Li=[],Hi="function"==typeof requestAnimationFrame?function(t){requestAnimationFrame(t)}:function(t){setTimeout(t,1e3/60)};function ji(){for(var t=Date.now(),e=Fi.length,i=0;i<e;++i)Fi[i](t);for(ci(Fi,e),i=0;i<Ei.length;++i)Ei[i](t);for(Ei.length=0,i=0;i<Ri.length;++i)Ri[i](t);Ri.length=0,0===Fi.length&&0===Ei.length?Mi=!1:Hi(ji)}function zi(){Mi||(Mi=!0,Hi(ji))}function Bi(t){Ri.push(t),zi()}var Ni=function(){function t(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{oi(t,(function(t){t.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}},t.prototype.hasListeners=function(){return 0!==this._listeners.length},t.prototype.hasListenersByType=function(t){return ni(this._listeners,(function(e){return(null===e.type||e.type===t)&&!e.killed}))},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.enableType=function(t){delete this._disabled[t]},t.prototype.disableType=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},t.prototype._removeListener=function(t){if(0===this._iterating){var e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},t.prototype._removeExistingListener=function(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(n){n.once!==t||n.type!==e||null!=i&&n.callback!==i||n.context!==r||n.disposer.dispose()}))},t.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&null==this._disabled[t]},t.prototype.has=function(t,e,i){return-1!==Ui(this._listeners,(function(r){return!0!==r.once&&r.type===t&&(null==e||r.callback===e)&&r.context===i}))},t.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return we(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},t.prototype._eachListener=function(t){var e=this;++this._iterating;try{oi(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(oi(this._killed,(function(t){e._removeListener(t)})),this._killed.length=0)}},t.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==t||i.dispatch(t,e)}))},t.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==t||Li.push((function(){i.killed||i.dispatch(t,e)}))}))},t.prototype._on=function(t,e,i,r,n,a){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);var s={type:e,callback:i,context:r,shouldClone:n,dispatch:a,killed:!1,once:t,disposer:new Ii((function(){s.killed=!0,o._removeListener(s)}))};return this._listeners.push(s),s},t.prototype.onAll=function(t,e,i){return void 0===i&&(i=!0),this._on(!1,null,t,e,i,(function(i,r){return t.call(e,i,r)})).disposer},t.prototype.on=function(t,e,i,r){return void 0===r&&(r=!0),this._on(!1,t,e,i,r,(function(t,r){return e.call(i,r)})).disposer},t.prototype.once=function(t,e,i,r){void 0===r&&(r=!0);var n=this._on(!0,t,e,i,r,(function(t,r){n.disposer.dispose(),e.call(i,r)}));return n.disposer},t.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},t.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");oi(t._listeners,(function(t){!t.killed&&t.shouldClone&&(null===t.type?e.onAll(t.callback,t.context):t.once?e.once(t.type,t.callback,t.context):e.on(t.type,t.callback,t.context))}))},t}(),Xi=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return Object(h.d)(e,t),e.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");oi(t._listeners,(function(i){i.context!==t.target&&!i.killed&&i.shouldClone&&(null===i.type?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))}))},e}(Ni);function Wi(t){var e=[];for(var i in t)Gi(t,i)&&e.push(i);return e}function Gi(t,e){return{}.hasOwnProperty.call(t,e)}function Yi(t,e){for(var i in t)if(Gi(t,i)&&!e(i,t[i]))break}function qi(t,e){Yi(t,(function(t,i){return e(t,i),!0}))}function Ki(t,e,i){oi(function(t,e){return Wi(t).sort(e)}(t,i),(function(i){e(i,t[i])}))}function Ji(t,e){return Object.assign({},t,e)}function Zi(t,e,i){oi(i,(function(i){ge(t[i])&&(e[i]=t[i])}))}function Qi(t,e){Zi(t,e,Wi(t))}function $i(t){return function(e){for(var i=t.length,r=0;r<i&&e(t[r]);++r);}}function tr(t){var e=[];return t((function(t){return e.push(t),!0})),e}function er(t,e){t(e)}function ir(t,e){t((function(t){return e(t),!0}))}function rr(t,e){return $i(tr(t).sort(e))}function nr(t,e){return function(i){return t((function(t){return i(e(t))}))}}function ar(t){return function(e){var i=0;t((function(t){return e([i++,t])}))}}function or(t,e){var i=!1;return t((function(t){return!e(t)||(i=!0,!1)})),i}var sr=function(){function t(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return t.prototype.reset=function(){this._listCopy=tr(this.list.iterator())},t.prototype.clear=function(){this._listCopy.length=0},t.prototype.getFirst=function(){return this.returnItem(0)},t.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},t.prototype.find=function(t){var e=Ui(this._listCopy,t);if(-1!==e){var i=this._listCopy[e];return bi(this._listCopy,i),i}return this.getLast()},t.prototype.removeItem=function(t){return bi(this._listCopy,t)},t.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return bi(this._listCopy,e),e}if(this.createNewItems)return this._create()},t.prototype.iterator=function(){return $i(this._listCopy)},t}();function lr(t,e){return t===e?0:t<e?-1:1}function cr(t,e){return new Array(e+1).join(t)}var ur=function(t){function e(e){var i=e.events.on("removed",(function(t){t.oldValue.dispose()}),void 0,!1);return t.call(this,(function(){i.dispose(),ir(e.iterator(),(function(t){t[1].dispose()}))}))||this}return Object(h.d)(e,t),e}(Ii),hr=function(){function t(){this.events=new Ni,this._dictionary={}}return t.prototype.hasKey=function(t){return Gi(this._dictionary,t)},t.prototype.getKey=function(t){return this._dictionary[t]},t.prototype.insertKey=function(t,e){if(Gi(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},t.prototype.setKey=function(t,e){if(Gi(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},t.prototype.updateKey=function(t,e){if(!Gi(this._dictionary,t))throw new Error("Key "+t+" doesn't exist in dictionary");var i=this._dictionary[t],r=e(i);i!==r&&(this._dictionary[t]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))},t.prototype.removeKey=function(t){if(Gi(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},t.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},t.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&qi(this._dictionary,(function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})})),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},t.prototype.copyFrom=function(t){var e=this;ir(t.iterator(),(function(t){e.setKey(t[0],t[1])}))},t.prototype.iterator=function(){return t=this._dictionary,function(e){for(var i in t)if(Gi(t,i)&&!e([i,t[i]]))break};var t},t.prototype[Symbol.iterator]=function(){var t,e,i,r;return Object(h.e)(this,(function(n){switch(n.label){case 0:for(e in t=[],this._dictionary)t.push(e);i=0,n.label=1;case 1:return i<t.length?Gi(this._dictionary,r=t[i])?[4,[r,this._dictionary[r]]]:[3,3]:[3,4];case 2:n.sent(),n.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){ir(this.iterator(),(function(e){var i=Object(h.g)(e,2);return t(i[0],i[1])}))},t.prototype.sortedIterator=function(){return rr(this.iterator(),(function(t,e){return lr(t[0],e[0])}))},t}(),pr=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;ir(t.iterator(),(function(t){e.setKey(t[0],t[1].clone())}))},e.prototype.create=function(t){var e=this;return this.insertKeyIfEmpty(t,(function(){return e.template.clone()}))},e}(hr),dr=new(function(){function t(){this._storage=new hr,this.ttl=1e3}return t.prototype.set=function(t,e,i,r){var n=this._storage.insertKeyIfEmpty(t,(function(){return new hr})),a={touched:(new Date).getTime(),ttl:we(r)?r:this.ttl,value:i};n.setKey(e,a)},t.prototype.get=function(t,e,i){if(void 0===i&&(i=void 0),this._storage.hasKey(t)){var r=this._storage.getKey(t);if(r.hasKey(e)){var n=r.getKey(e);return n.ttl&&n.touched+n.ttl<(new Date).getTime()&&(n.expired=!0),n.expired?(r.removeKey(e),i):n.value}return i}return i},t.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},t}()),fr=new(function(){function t(){this.events=new Ni,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[]}return t.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new hr),this._map},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,e,i){dr.set(this.uid,t,e,i)},t.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),dr.get(this.uid,t,e)},t.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},t.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},t.prototype.getPlaceholder=function(t){return ge(this._placeholders[t])?this._placeholders[t]:(this._placeholders[t]="__amcharts_"+t+"_"+function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<8;r++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}()+"__",this._placeholders[t])},t.prototype.addToInvalidComponents=function(t){mi(t.baseId?this.invalidDatas[t.baseId]:this.invalidDatas.noBase,t)},t.prototype.removeFromInvalidComponents=function(t){t.baseId&&bi(this.invalidDatas[t.baseId],t),bi(this.invalidDatas.noBase,t)},t.prototype.addToInvalidSprites=function(t){gi(t.baseId?this.invalidSprites[t.baseId]:this.invalidSprites.noBase,t)},t.prototype.removeFromInvalidSprites=function(t){t.baseId&&bi(this.invalidSprites[t.baseId],t),bi(this.invalidSprites.noBase,t)},t.prototype.addToInvalidPositions=function(t){gi(t.baseId?this.invalidPositions[t.baseId]:this.invalidPositions.noBase,t)},t.prototype.removeFromInvalidPositions=function(t){t.baseId&&bi(this.invalidPositions[t.baseId],t),bi(this.invalidPositions.noBase,t)},t.prototype.addToInvalidLayouts=function(t){gi(t.baseId?this.invalidLayouts[t.baseId]:this.invalidLayouts.noBase,t)},t.prototype.removeFromInvalidLayouts=function(t){t.baseId&&bi(this.invalidLayouts[t.baseId],t),bi(this.invalidLayouts.noBase,t)},t}());function br(t,e){var i=fr.registeredClasses[e];return null!=i&&t instanceof i}var mr=function(){function t(t,e,i){this._array=t,this._start=e,this._end=i}return t.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end)for(var i=t._start;i<t._end&&e(t._array[i]);++i);else for(i=t._start-1;i>=t._end&&e(t._array[i]);--i);}},t.prototype.backwards=function(){return new t(this._array,this._end,this._start)},t.prototype.range=function(e,i){if(e<=i){if(this._start===this._end)return this;if(this._start<this._end){var r=i-e;return e=Math.max(this._start+e,this._start),i=Math.min(e+r,this._end),new t(this._array,e,i)}return r=i-e,e=Math.max(this._start-e,this._end),i=Math.max(e-r,this._end),new t(this._array,e,i)}throw new Error("Start index must be lower than end index")},t}(),gr=(function(t){function e(e,i,r){var n=t.call(this,[e.events.on("inserted",(function(t){var i=t.newValue,r=n._getKey(i),a=0;er(e.iterator(),(function(t){return t!==i&&(n._getKey(t)===r&&++a,!0)})),n._insert(i,r,a)}),void 0,!1),e.events.on("removed",(function(t){n._remove(t.oldValue)}),void 0,!1)])||this;return n._keys=[],n._groups={},n._getKey=i,n._sort=r,ir(e.iterator(),(function(t){n._insert(t,i(t))})),n}Object(h.d)(e,t),e.prototype._insert=function(t,e,i){if(null==this._groups[e]){this._groups[e]=[];var r=Pi(this._keys,this._sort,e),n=r.index;if(r.found)throw new Error("Key already exists: "+e);Vi(this._keys,n,e)}null==i?this._groups[e].push(t):Vi(this._groups[e],i,t)},e.prototype._remove=function(t){var e=this._getKey(t),i=this._groups[e];if(null!=i&&(bi(i,t),0===i.length)){delete this._groups[e];var r=Pi(this._keys,this._sort,e),n=r.index;if(!r.found)throw new Error("Key doesn't exist: "+e);Ci(this._keys,n)}},e.prototype.iterator=function(){var t,e=this;return t=nr($i(this._keys),(function(t){return $i(e._groups[t])})),function(e){var i=!0,r=function(t){return i=e(t)};t((function(t){return t(r),i}))}}}(Ai),function(t){function e(e,i){void 0===i&&(i=!0);var r=this;if(i){var n=e.events.on("removed",(function(t){t.oldValue.dispose()}),void 0,!1);r=t.call(this,(function(){n.dispose(),ir(e.iterator(),(function(t){t.dispose()}))}))||this}else r=t.call(this,(function(){ir(e.iterator(),(function(t){t.dispose()}))}))||this;return r}return Object(h.d)(e,t),e}(Ii));function yr(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}var vr=function(){function t(t){void 0===t&&(t=[]),this.events=new Ni,this._values=t}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){return-1!==this._values.indexOf(t)},t.prototype.removeValue=function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e},t.prototype.indexOf=function(t){return ri(this._values,t)},Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},t.prototype.getIndex=function(t){return this._values[t]},t.prototype.setIndex=function(t,e){yr(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},t.prototype.insertIndex=function(t,e){yr(t,this._values.length+1),Vi(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},t.prototype._sortQuicksort=function(t,e,i){if(t<e){var r=this._sortPartition(t,e,i);this._sortQuicksort(t,r,i),this._sortQuicksort(r+1,e,i)}},t.prototype._sortPartition=function(t,e,i){for(var r=this._values,n=r[t],a=t-1,o=e+1;;){do{++a}while(i(r[a],n)<0);do{--o}while(i(r[o],n)>0);if(a>=o)return o;this.swap(a,o)}},t.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},t.prototype.swap=function(t,e){var i=this._values.length;if(yr(t,i),yr(e,i),t!==e){var r=this._values[t],n=this._values[e];this._values[t]=n,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:r,newValue:n}),this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:r})}},t.prototype.removeIndex=function(t){yr(t,this._values.length);var e=this._values[t];return Ci(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},t.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(-1!==i){var r=this._values[i];Ci(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:r})}null==e?(e=this._values.length,this._values.push(t)):Vi(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),-1===i&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},t.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},t.prototype.unshift=function(t){this.insertIndex(0,t)},t.prototype.pushAll=function(t){var e=this;oi(t,(function(t){e.push(t)}))},t.prototype.copyFrom=function(t){this.pushAll(t._values)},t.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},t.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},t.prototype.setAll=function(t){var e=this,i=xi(this._values);this._values.length=0,oi(t,(function(t){e._values.push(t)})),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&oi(i,(function(t){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:t})})),this.events.isEnabled("inserted")&&oi(this._values,(function(t){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:t})}))},t.prototype.clear=function(){this.setAll([])},t.prototype.iterator=function(){return $i(this._values)},t.prototype[Symbol.iterator]=function(){var t,e;return Object(h.e)(this,(function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){oi(this._values,t)},t.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new mr(this._values,t,e)}throw new Error("Start index must be lower than end index")},t.prototype.backwards=function(){return new mr(this._values,this._values.length,0)},t}(),_r=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;ir(t.iterator(),(function(t){e.push(t.clone())}))},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.push(e),e},e.prototype.clone=function(){for(var t=new e(this.template),i=this.values,r=i.length,n=0;n<r;++n)t.push(i[n].clone());return t},e}(vr),xr=function(){function t(t){this._values=[],this.events=new Ni,null!=t&&this.setAll(t)}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return ri(this._values,t)},t.prototype.contains=function(t){return-1!==this.indexOf(t)},t.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(t.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),t.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},t.prototype.remove=function(t){var e=this.indexOf(t);if(-1!==e){var i=this._values[e];Ci(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},t.prototype.setAll=function(t){var e=this;si(this._values,(function(t,i){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:i,oldValue:t})})),oi(t,(function(t){e.insert(t)}))},t.prototype.clear=function(){this.setAll([])},t.prototype.slice=function(e,i){var r=new t;return r._values=this._values.slice(e,i),r},t.prototype.findClosestIndex=function(t,e,i){void 0===i&&(i="any");var r,n,a=-1,o=0;return er(this.iterator(),(function(s){var l=e(s);if("any"===i){if(l===t)return a=o,!1;var c=Math.abs(t-l);(!ge(n)||n>c)&&(a=o,r=l,n=c)}else"left"===i&&l<t?(!ge(r)||r<l)&&(a=o,r=l):"right"===i&&l>=t&&(!ge(r)||r>=l)&&(a=o,r=l);return++o,!0})),-1===a&&("left"===i?a=0:"right"===i&&(a=this.length-1)),a},t.prototype.iterator=function(){return $i(this._values)},t.prototype[Symbol.iterator]=function(){var t,e;return Object(h.e)(this,(function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}}))},t.prototype.each=function(t){oi(this._values,t)},t}(),wr=function(t){function e(e){var i=t.call(this)||this;return i._ordering=e,i}return Object(h.d)(e,t),e.prototype._insert=function(t){var e=Pi(this._values,this._ordering,t).index;return Vi(this._values,e,t),e},e.prototype.indexOf=function(t){var e=Pi(this._values,this._ordering,t);return e.found?e.index:-1},e.prototype.update=function(t){var e=ri(this._values,t);if(-1!==e){var i=this._values.length-1;(0===e||this._ordering(this._values[e-1],t)<0)&&(e===i||this._ordering(t,this._values[e+1])<0)||(Ci(this._values,e),this._insert(t))}},e}(xr),Vr=function(t){function e(e){var i=t.call(this)||this;return i.template=e,i}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;ir(t.iterator(),(function(t){e.insert(t.clone())}))},e.prototype.slice=function(t,i){var r=new e(this.template);return r._values=this._values.slice(t,i),r},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.insert(e),e},e}(xr),Cr=function(t){function e(e,i){var r=t.call(this,i)||this;return r.template=e,r}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(t){t.isTemplate=!0,this._template=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(t){var e=this;ir(t.iterator(),(function(t){e.insert(t.clone())}))},e.prototype.create=function(t){var e=null!=t?new t:this.template.clone();return this.insert(e),e},e}(wr);function Pr(t,e){return t===e?0:t<e?-1:1}function Ur(t){switch(t){case 0:return 0;case-1:return 1;case 1:return-1}}function Sr(t,e){return 0===t?e:t}var Tr=new(function(){function t(){this._callbackId=0,this._callbacks=new wr((function(t,e){return Sr(Pr(t.priority,e.priority),Pr(t.id,e.id))}))}return t.prototype.addAll=function(t,e,i,r,n){void 0===r&&(r=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:r,scope:n,type:t})},t.prototype.isEnabled=function(t,e){return ni(this._callbacks.values,(function(i){return i.key===e&&t instanceof i.type}))},t.prototype.applyAll=function(t,e,i){var r=this._callbacks.values,n=r.length;if(0==n)return i;for(var a=0;a<n;++a){var o=r[a];o.key===e&&t instanceof o.type&&(i=o.callback.call(o.scope,i,t,e))}return i},t}()),kr=function(){function t(t){this._callbackId=0,this._callbacks=new wr((function(t,e){return Sr(Pr(t.priority,e.priority),Pr(t.id,e.id))})),this._disabled={},this.object=t,this.events=this._callbacks.events}return t.prototype.add=function(t,e,i,r){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:r})},t.prototype.has=function(t,e,i,r){return void 0===i&&(i=0),or(this._callbacks.iterator(),(function(n){return n.key===t&&n.callback===e&&n.priority===i&&n.scope===r}))},t.prototype.remove=function(t,e){var i=this;oi(tr(this._callbacks.iterator()),(function(r){r.key!==t||we(e)&&e!==r.priority||i._callbacks.remove(r)}))},t.prototype.enableKey=function(t){delete this._disabled[t]},t.prototype.disableKey=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},t.prototype._hasListenersByType=function(t){return ni(this._callbacks.values,(function(e){return e.key===t}))},t.prototype.isEnabled=function(t){return null==this._disabled[t]&&(this._hasListenersByType(t)||Tr.isEnabled(this.object,t))},t.prototype._shouldDispatch=function(t){var e=this._disabled[t];return!we(e)||(e<=1?delete this._disabled[t]:--this._disabled[t],!1)},t.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,r=i.length;if(r>0)for(var n=0;n<r;++n){var a=i[n];a.key===t&&(e=a.callback.call(a.scope,e,this.object,t))}return Tr.applyAll(this.object,t,e)}return e},t.prototype.keys=function(){return tr(nr(this._callbacks.iterator(),(function(t){return t.key})))},t.prototype.copyFrom=function(t){var e=this;ir(t._callbacks.iterator(),(function(t){e.add(t.key,t.callback,t.priority,t.scope)}))},t.prototype.clear=function(){this._callbacks.clear()},t}(),Ir={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Ar(t){return 1==t.length?"0"+t:""+t}function Or(t,e,i){return i=Oe(i,0,1),t?e?{r:t.r+Math.round((e.r-t.r)*i),g:t.g+Math.round((e.g-t.g)*i),b:t.b+Math.round((e.b-t.b)*i),a:(t.a||1)+Math.round(((e.a||1)-(t.a||1))*i)}:t:e||t}function Dr(t,e){return Math.round((e>0?255-t:t)*e)}function Mr(t){var e,i,r,n=t.h,a=t.s,o=t.l;if(0==a)e=i=r=o;else{var s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},l=o<.5?o*(1+a):o+a-o*a,c=2*o-l;e=s(c,l,n+1/3),i=s(c,l,n),r=s(c,l,n-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*r)}}function Fr(t){var e=t.r/255,i=t.g/255,r=t.b/255,n=Math.max(e,i,r),a=Math.min(e,i,r),o=0,s=0,l=(n+a)/2;if(n===a)o=s=0;else{var c=n-a;switch(s=l>.5?c/(2-n-a):c/(n+a),n){case e:o=(i-r)/c+(i<r?6:0);break;case i:o=(r-e)/c+2;break;case r:o=(e-i)/c+4}o/=6}return{h:o,s:s,l:l}}var Er=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){return this._value?"#"+Ar((t=this._value).r.toString(16))+Ar(t.g.toString(16))+Ar(t.b.toString(16)):"none";var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgba",{get:function(){return this._value?ge((t=this._value).a)&&1!==t.a?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":"rgb("+t.r+","+t.g+","+t.b+")":"none";var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new t({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new t({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},t.prototype.lighten=function(e){return new t(function(t,e){return t?{r:Math.max(0,Math.min(255,t.r+Dr(t.r,e))),g:Math.max(0,Math.min(255,t.g+Dr(t.g,e))),b:Math.max(0,Math.min(255,t.b+Dr(t.b,e))),a:t.a}:t}(this.rgb,e))},t.prototype.brighten=function(e){return new t(function(t,e){if(t){var i=Dr(Math.min(Math.max(t.r,t.g,t.b),230),e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}return t}(this.rgb,e))},t.prototype.saturate=function(e){return new t(function(t,e){if(null==t||1==e)return t;var i=Fr(t);return i.s=e,Mr(i)}(this.rgb,e))},Object.defineProperty(t.prototype,"alternative",{get:function(){if(null!=this.rgb)return(299*(t=this.rgb).r+587*t.g+114*t.b)/1e3>=128?this.darkColor:this.lightColor;throw new Error("Color does not exist");var t},enumerable:!0,configurable:!0}),t}();function Rr(t,e){if(!ge(t))return new Er(void 0);if("string"==typeof t){var i="_color_"+t+"_"+(e||"1"),r=fr.getCache(i);if(r)return new Er({r:r.r,g:r.g,b:r.b,a:r.a});var n=function(t,e){var i;return Ir[t]?i=Ir[t]:"#"===t.charAt(0)?i=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}(t):t.match(/^rgba?\(/)&&(i=function(t){var e=(t=t.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(!(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3]),a:parseFloat(e[4])}}(t)),i||(i={r:0,g:0,b:0,a:1}),ge(e)&&(i.a=e),i}(t,e);return fr.setCache(i,n),new Er(n)}return t instanceof Er?(ge(e)&&(t.alpha=e),t):new Er(t)}function Lr(t){return ge(t)&&!function(t){return t instanceof Er}(t)?function(t){return Rr(t)}(t):t}var Hr=function(){function t(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return t.prototype.debug=function(){},Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid||(this._uid=fr.getUniqueId(),fr.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new hr),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new hr),this._delayedMap},enumerable:!0,configurable:!0}),t.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]),i.getKey(e).push({property:t,target:this})},t.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each((function(e,i){if(t.map.hasKey(e)){var r=t.map.getKey(e);oi(i,(function(t){t.target[t.property]=r})),t.delayedMap.removeKey(e)}}))},t.prototype.applyTheme=function(){var t=this;if(fr){var e=this.getCurrentThemes();e&&oi(e,(function(e,i){e(t)}))}},Object.defineProperty(t.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),t.prototype.getCurrentThemes=function(){return this.themes||fr.themes},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;0!==t.length;)t.shift().dispose();this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var e=this._uid;null!=e&&fr.map.removeKey(e)}},t.prototype.addDisposer=function(t){this._disposers.push(t)},t.prototype.removeDispose=function(t){if(!this._disposed){var e=ri(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},t.prototype.clone=function(t){t||(t="clone-"+fr.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(t.prototype,"clones",{get:function(){return this._clones||(this._clones=new vr),this._clones},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,e,i){dr.set(this.uid,t,e,i)},t.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),dr.get(this.uid,t,e)},t.prototype.clearCache=function(){dr.clear(this.uid)},t.prototype.setTimeout=function(t,e){var i=this,r=setTimeout((function(){i.removeDispose(n),t()}),e),n=new Ii((function(){clearTimeout(r)}));return this._disposers.push(n),n},t.prototype.setInterval=function(t,e){var i=this,r=setInterval((function(){i.removeDispose(n),t()}),e),n=new Ii((function(){clearTimeout(r)}));return this._disposers.push(n),n},Object.defineProperty(t.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e){var r=this;if(Ki(e,(function(e,n){var a,o=n;if("callback"==e&&"function"==typeof n&&n.call(r),i.hasProperty(e))if(!Ve(o)||!ge(o.type)||Ve(r[e])&&ge(r[e].className)&&!o.forceCreate&&r[e].className==o.type||i.asIs(e)?a=r[e]:(a=i.createClassInstance(o.type))?r[e]=a:a=r[e],a instanceof kr)i.processAdapters(a,o);else if(a instanceof Ni)i.processEvents(a,o);else if("locale"==e&&xe(o))window["am4lang_"+o]&&(r[e]=window["am4lang_"+o]);else if("parent"==e&&xe(o)){var s=i.map.getKey(o);s?r[e]=s:i.addDelayedMap("parent",o)}else if(i.asIs(e))r[e]=o;else if(i.asFunction(e)&&xe(o)){if(!ge(fr.registeredClasses[o]))throw Error("Invalid easing function: "+o);r[e]=fr.registeredClasses[o]}else if(o instanceof t)r[e]=o;else if(a instanceof t)a.config=o;else if(a instanceof _r||a instanceof Vr||a instanceof Cr){if(Ce(o))a instanceof _r?i.processListTemplate(o,a):i.processOrderedTemplate(o,a);else if(Ve(o))if(o instanceof t)a.template=o;else{var l;l=ge(o.template)?o.template:o,a.template instanceof t?a.template.config=l:qi(l,(function(e,r){var n=a.template[e];n instanceof kr?i.processAdapters(n,r):n instanceof Ni?i.processEvents(n,r):n instanceof pr?i.processDictionaryTemplate(n,r):a.template[e]instanceof t?a.template[e].config=r:Ve(r)&&ge(r.type)?(n=i.createClassInstance(r.type))?(n instanceof t&&(n.config=r),a.template[e]=n):a.template[e]=r:n instanceof vr?i.processList(r,n):a.template[e]=i.maybeColorOrPercent(r)})),ge(o.values)&&(a instanceof _r?i.processListTemplate(o.values,a):i.processOrderedTemplate(o.values,a))}}else a instanceof vr?"children"==e?i.processList(o,a,i):i.processList(o,a):a instanceof pr?i.processDictionaryTemplate(a,o):a instanceof hr?i.processDictionary(a,o):a instanceof Er||a instanceof ce?r[e]=i.maybeColorOrPercent(o):Ve(a)&&Ve(o)?Qi(o,a):(o=i.maybeColorOrPercent(o),r[e]=o);else i.isReserved(e)||(r[e]=o)}),this.configOrder),this.processingErrors.length){var n=this.processingErrors.join("\n");throw this._processingErrors=[],Error(n)}}},t.prototype.maybeColorOrPercent=function(t){if(xe(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return ue(be(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return Rr(t)}return t},t.prototype.processAdapters=function(t,e){var i=this;Ce(e)?oi(e,(function(e,r){t.add(e.key,e.callback,e.priority||0,i)})):Ve(e)&&qi(e,(function(e,i){t.has(e,i)||t.add(e,i)}))},t.prototype.processEvents=function(t,e){var i=this;Ve(e)?qi(e,(function(e,i){t.has(e,i)||t.on(e,i)})):Ce(e)&&oi(e,(function(e,r){t.on(e.type,e.callback,i)}))},t.prototype.processDictionaryTemplate=function(e,i){Ve(i)&&qi(i,(function(i,r){var n;(n="template"==i?e.template:e.hasKey(i)?e.getKey(i):e.create(i))instanceof t?n.config=r:Ve(n)&&Ve(r)?Qi(r,n):n.setKey(i,r)}))},t.prototype.processDictionary=function(t,e){Ve(e)&&qi(e,(function(e,i){t.setKey(e,i)}))},t.prototype.processListTemplate=function(e,i){var r=this;for(oi(e,(function(e,n){var a,o=r.getConfigEntryType(e);if(i.hasIndex(n)&&!e.forceCreate)a=i.getIndex(n);else{if(e instanceof t)return void i.push(e);a=o?i.create(o):i.create()}e===a||Ve(e)&&(a instanceof t?a.config=e:Ve(a)&&Ve(e)?Qi(e,a):i.setIndex(i.indexOf(a),e))}));e.length>i.length;)i.pop()},t.prototype.processOrderedTemplate=function(e,i){var r=this;oi(e,(function(e,n){var a,o=r.getConfigEntryType(e);a=o?i.create(o):i.create(),Ve(e)&&(a instanceof t?a.config=e:Ve(a)&&Ve(e)?Qi(e,a):i.insert(e))}))},t.prototype.processList=function(e,i,r){var n=this;Ce(e)||(e=[e]);var a=i.length;for(oi(e,(function(e,o){if(Ve(e)){var s=void 0;if(o<a&&!e.forceCreate)s=i.getIndex(o);else{if(e instanceof t)return void i.push(e);s=n.createEntryInstance(e),r?s.parent=r:i.push(s)}s instanceof t?s.config=e:Ve(s)&&Ve(e)&&Qi(e,s)}else i.hasIndex(o)?i.setIndex(o,e):i.push(e)}));e.length>i.length;)i.pop()},t.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:0},t.prototype.asIs=function(t){return-1!=ri(["locale"],t)},t.prototype.asFunction=function(t){return!1},t.prototype.createClassInstance=function(t){if(ge(fr.registeredClasses[t]))return new fr.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},t.prototype.createEntryInstance=function(t){var e;return ge(t.type)&&(e=this.createClassInstance(t.type)),e||t},t.prototype.getConfigEntryType=function(t){if(ge(t.type)){if(ge(fr.registeredClasses[t.type]))return fr.registeredClasses[t.type];throw Error('Invalid type: "'+t.type+'".')}},t.prototype.hasProperty=function(t){return t in this},t.prototype.isReserved=function(t){return-1!==["type","forceCreate"].indexOf(t)},Object.defineProperty(t.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),t}(),jr=function(t){function e(){var e=t.call(this)||this;return e.className="BaseObjectEvents",e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Ni,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),e.prototype.dispatch=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},e.prototype.dispatchImmediately=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},e}(Hr);function zr(t,e){return qi(t,(function(t,i){ge(i)&&(e[t]=i)})),e}function Br(t){return/^[^#]*/.exec(t)[0]}function Nr(){var t="#";if(/apple/i.test(navigator.vendor)){var e=document.baseURI;if(e){e=Br(e);var i=Br(location.href);e!==i&&(t=i+t)}}return t}function Xr(t){return ge(t)&&""!==t.toString()}function Wr(t,e){return we(t)?t:null!=t&&we(t.value)&&we(e)?e*t.value:0}function Gr(t,e,i){var r;return we(t)?(r=t)<0&&(r=i?e+r:e-r):null!=t&&we(t.value)&&(r=e*t.value),r}function Yr(t){var e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}function qr(t){return JSON.stringify(t)}function Kr(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Jr(t,e,i,r){if(t.length<=e)return[t];var n=[];if(i)for(var a=-1,o=t.replace(/([,;:!?\\\/\.]+[\s]+|[\s])/g,"__\xa7\xa7\xa7__$1__\xa7\xa7\xa7__").split("__\xa7\xa7\xa7__"),s=0;s<o.length;s++){var l=o[s],c=l.length;if(0!==c){var u;if(c>e){if(r&&(l=tn(l)),u=l.match(new RegExp(".{1,"+e+"}","g"))){if(r)for(var h=0;h<u.length;h++)u[h]=tn(u[h]);n=n.concat(u)}}else-1===a&&(n.push(""),a=0),n[a].length+c+1>e&&""!==n[a]&&(n.push(""),a++),n[a]+=l;a=n.length-1}}else if(u=t.match(new RegExp(".{1,"+e+"}","g"))){if(r)for(h=0;h<u.length;h++)u[h]=tn(u[h]);n=u}return 1==n.length&&i&&n[0].length>e&&(n=[]),n}function Zr(t,e,i,r,n){return t.length<=e?t:((e-=i.length)<1&&(e=1),(Jr(t,e,r,n)[0]||"")+i)}function Qr(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function $r(t){return t.replace(/[\s\uFEFF\xA0]+$/g,"")}function tn(t){return t.split("").reverse().join("")}function en(t,e,i){return void 0===e&&(e=0),void 0===i&&(i="0"),"string"!=typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function rn(t){return t.replace(/\/(date|number|duration)$/i,"")}function nn(t){return t?t.replace(/<[^>]*>/g,""):t}function an(t){return t?nn(t.replace(/[\n\r]+/g,". ")):t}function on(t){if(_e(t))return new Date(t);if(we(t))return new Date(t);var e=Number(t);return we(e)?new Date(e):new Date(t)}function sn(t){if(_e(t))return t.getTime();if(we(t))return t;if(xe(t)){var e=Number(t);return we(e)?e:void 0}}function ln(t,e){void 0===e&&(e=!1);var i=new Date(t.getFullYear(),0,0),r=t.getTime()-i.getTime()+60*(i.getTimezoneOffset()-t.getTimezoneOffset())*1e3;return Math.floor(r/864e5)}function cn(t,e){void 0===e&&(e=!1);var i=ln(t,e)-1,r=Math.floor((i-(t.getDay()||7)+10)/7);return 0===r?r=53:53===r&&(r=1),r}function un(t,e){void 0===e&&(e=!1);var i=cn(new Date(t.getFullYear(),t.getMonth(),1),e),r=cn(t,e);return 1==r&&(r=53),r-i+1}function hn(t,e){return t>12?t-=12:0===t&&(t=12),ge(e)?t+(e-1):t}function pn(t,e,i,r){if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),r)return e?"Coordinated Universal Time":"UTC";var n=t.toLocaleString("UTC"),a=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(n.length);return!1===i&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function dn(t,e,i){return t>i?i:t<e?e:t}function fn(t,e,i){var r=i-e;return t>i?t=e+(t-r*Math.floor(t/r)):t<e&&(t=e+(t-r*Math.floor(t/r))),t}function bn(t,e){var i=t.x,r=t.y,n=[];if(e){for(;ge(e.parent);)n.push(e),e=e.parent;n.reverse();for(var a=0;a<n.length;a++){var o=n[a],s=o.rotation,l=i-o.pixelX-o.ex,c=r-o.pixelY-o.ey;o.dx&&(i-=o.dx),o.dy&&(r-=o.dy);var u=o.scale;o.group&&(u=o.group.scale),i=(Fe(-s)*l-De(-s)*c)/u-o.pixelPaddingLeft,r=(Fe(-s)*c+De(-s)*l)/u-o.pixelPaddingTop}}return{x:i,y:r}}function mn(t,e){var i=t.x,r=t.y;if(e)for(;ge(e.parent);){var n=e.rotation;r+=e.pixelPaddingTop+e.ey;var a=e.scale;e.group&&(a=e.group.scale);var o=e.pixelX+((i+=e.pixelPaddingLeft+e.ex)*Fe(n)-r*De(n))*a,s=e.pixelY+(i*De(n)+r*Fe(n))*a;e.dx&&(o+=e.dx),e.dy&&(s+=e.dy),i=o,r=s,e=e.parent}return{x:i,y:r}}function gn(t,e,i){return bn(mn(t,e),i)}function yn(t,e){var i=mn(t,e),r=mn({x:t.x+t.width,y:t.y+t.height},e);return{x:i.x,y:i.y,width:r.x-i.x,height:r.y-i.y}}function vn(t,e,i){try{var r=e.getBoundingClientRect();return we(i)||(i=1),{x:(t.x-r.left)/i,y:(t.y-r.top)/i}}catch(n){return t}}function _n(t,e){try{var i=e.getBoundingClientRect();return{x:t.x+i.left,y:t.y+i.top}}catch(r){return t}}function xn(t,e){return e&&e.htmlContainer?bn(vn(t,ye(e.htmlContainer),e.svgContainer.cssScale),e):t}function wn(t,e){return e&&e.htmlContainer?_n(mn(t,e),ye(e.htmlContainer)):t}var Vn=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function Cn(t){var e=Vn.exec(t);return{protocol:e&&e[1]||"",separator:e&&e[2]||"",authority:e&&e[3]||"",domain:e&&e[4]||"",port:e&&e[5]||"",path:e&&e[6]||"",query:e&&e[7]||"",hash:e&&e[8]||""}}function Pn(t){return t.protocol+t.separator+t.authority+t.domain+t.port+t.path+t.query+t.hash}function Un(t){return""===t.protocol&&""===t.separator&&""===t.authority&&""===t.domain&&""===t.port}function Sn(t,e){var i=Cn(t),r=Cn(e);if(Un(i))throw new Error("Left URL is not absolute");if(Un(r)){if(""!==r.path)if("/"===r.path[0])i.path=r.path;else{var n=i.path.split(/\//),a=r.path.split(/\//);if(0===n.length?0!==a.length&&n.push(""):n.length>1&&n.pop(),fi(n,a),i.path=n.join("/"),""!==i.path&&"/"!==i.path[0])throw new Error("URL path must start with /")}return i.query=r.query,i.hash=r.hash,Pn(i)}return Pn(r)}function Tn(){return!!window.MSInputMethodContext&&!!document.documentMode}function kn(t){return+t}function In(t,e){return Math.pow(t,e)}function An(t,e){return 1-Math.pow(1-t,e)}function On(t,e){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}function Dn(t){return An(t,3)}function Mn(t){return Math.sin(t*Ue)}function Fn(t){return t*t*t}function En(t){return--t*t*t+1}function Rn(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+.75:t<10/11?7.5625*(t-=9/11)*t+.9375:7.5625*(t-=21/22)*t+63/64}fr.registeredClasses["ease.linear"]=kn,fr.registeredClasses["ease.quadIn"]=function(t){return t*t},fr.registeredClasses["ease.quadOut"]=function(t){return t*(2-t)},fr.registeredClasses["ease.quadInOut"]=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2},fr.registeredClasses["ease.polyIn"]=In,fr.registeredClasses["ease.polyOut"]=An,fr.registeredClasses["ease.polyInOut"]=On,fr.registeredClasses["ease.polyIn3"]=function(t){return In(t,3)},fr.registeredClasses["ease.polyOut3"]=Dn,fr.registeredClasses["ease.polyInOut3"]=function(t){return On(t,3)},fr.registeredClasses["ease.expIn"]=function(t){return Math.pow(2,10*t-10)},fr.registeredClasses["ease.expOut"]=function(t){return 1-Math.pow(2,-10*t)},fr.registeredClasses["ease.expInOut"]=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2},fr.registeredClasses["ease.sinIn"]=function(t){return 1-Math.cos(t*Ue)},fr.registeredClasses["ease.sinOut"]=Mn,fr.registeredClasses["ease.sinInOut"]=function(t){return(1-Math.cos(Pe*t))/2},fr.registeredClasses["ease.cubicIn"]=Fn,fr.registeredClasses["ease.cubicOut"]=En,fr.registeredClasses["ease.cubicInOut"]=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},fr.registeredClasses["ease.circleIn"]=function(t){return 1-Math.sqrt(1-t*t)},fr.registeredClasses["ease.circleOut"]=function(t){return Math.sqrt(1- --t*t)},fr.registeredClasses["ease.circleInOut"]=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2},fr.registeredClasses["ease.bounceIn"]=function(t){return 1-Rn(1-t)},fr.registeredClasses["ease.bounceOut"]=Rn,fr.registeredClasses["ease.bounceInOut"]=function(t){return((t*=2)<=1?1-Rn(1-t):Rn(t-1)+1)/2};var Ln=.3/(2*Math.PI),Hn=Math.asin(1)*Ln;fr.registeredClasses["ease.elasticIn"]=function(t){return 1*Math.pow(2,10*--t)*Math.sin((Hn-t)/Ln)},fr.registeredClasses["ease.elasticOut"]=function(t){return 1-1*Math.pow(2,-10*(t=+t))*Math.sin((t+Hn)/Ln)},fr.registeredClasses["ease.elasticInOut"]=function(t){return((t=2*t-1)<0?1*Math.pow(2,10*t)*Math.sin((Hn-t)/Ln):2-1*Math.pow(2,-10*t)*Math.sin((Hn+t)/Ln))/2};var jn=function(t){function e(){var e=t.call(this)||this;return e.transitionDuration=0,e.transitionEasing=En,e.properties={},e.propertyFields={},e.filters=new vr,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new gr(e.filters)),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){var t=this;return this._adapterO||(this._adapterO=new kr(this),this._adapterO.events.on("inserted",(function(e){t[e.newValue.key]=t[e.newValue.key]}),void 0,!1),this._adapterO.events.on("removed",(function(e){t[e.newValue.key]=t[e.newValue.key]}),void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.getPropertyValue=function(t){var e=this.properties[t],i=this.sprite;if(i){var r=this.propertyFields[t];if(ge(r)&&(i.dataItem&&(e=i.dataItem.dataContext[r]),null==e&&(e="__unset")),ge(e))this._adapterO&&(e=this._adapterO.apply(t,e));else{var n=i.getPropertyValue(t);(e=this._adapterO?this._adapterO.apply(t,n):n)==n&&(e=void 0)}}return e},e.prototype.copyFrom=function(t){t&&t!=this&&(this.transitionDuration=t.transitionDuration,this.transitionEasing=t.transitionEasing,zr(t.properties,this.properties),zr(t.propertyFields,this.propertyFields),this.filters.copyFrom(t.filters),t._adapterO&&this.adapter.copyFrom(t._adapterO))},Object.defineProperty(e.prototype,"allValues",{get:function(){var t=this,e={};return qi(this.properties,(function(i,r){e[i]=t.getPropertyValue(i)})),this._adapterO&&qi(this._adapterO.keys(),(function(i,r){var n=t.getPropertyValue(r);e[r]=n})),qi(this.propertyFields,(function(i){var r=t.getPropertyValue(i);e[i]=r})),e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.properties={},this.filters.clear()},e.prototype.processConfig=function(e){ge(e)&&ge(e.properties)&&qi(e.properties,(function(t,i){xe(i)&&(i.match(/^[0-9.\-]+\%$/)?e.properties[t]=ue(be(i)):i.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[t]=Lr(i)))})),t.prototype.processConfig.call(this,e)},e.prototype.asFunction=function(e){return"transitionEasing"==e||t.prototype.asIs.call(this,e)},e}(Hr);fr.registeredClasses.SpriteState=jn;var zn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._interactionEvents=new hr,e}return Object(h.d)(e,t),e.prototype._dispatchSpriteEvent=function(t){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(t.type)){var e=Ji(t,{target:this.target});this.target.events.dispatchImmediately(e.type,e)}},e.prototype._dispatchSpritePointEvent=function(t){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(t.type)){var e=Ji(t,{target:this.target,spritePoint:xn(t.point,this.target),svgPoint:this.target.getSvgPoint(t.point)});this.target.events.dispatchImmediately(e.type,e)}},e.prototype._addInteractionObjectEvent=function(t,e,i,r){var n=this,a=r+"-"+t;return this._interactionEvents.insertKeyIfEmpty(a,(function(){var o=n.target.interactions.events.on(t,e,i,r);return new Di((function(){n._interactionEvents.removeKey(a),o.dispose()}))})).increment()},e.prototype._on=function(e,i,r,n,a,o){var s=t.prototype._on.call(this,e,i,r,n,a,o),l=[s.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":l.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,a));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":l.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,a))}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0}return s.disposer=new Ai(l),s},e}(Xi),Bn=function(){function t(){}return t.opacity=1,t.strokeOpacity=1,t.strokeWidth=1,t.fillOpacity=1,t.fill=Rr("#000000"),t.stroke=Rr("#000000"),t.focusable=void 0,t.tabindex=0,t}(),Nn={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,licenses:[],suppressErrors:!1,animationsEnabled:!0,nonce:""};function Xn(t,e,i){return e+(i-e)*t}function Wn(t,e,i){return new ce(Xn(t,e.percent,i.percent))}function Gn(t,e,i){var r=new Er(Or(e.rgb,i.rgb,t));return e.alpha!=i.alpha&&(r.alpha=e.alpha+(i.alpha-e.alpha)*t),r}function Yn(t,e){return e+t.charAt(0).toUpperCase()+t.substr(1)}var qn,Kn=function(){function t(t){this._disposer=new Ii((function(){for(;0!==t.length;)t[0].dispose()}))}return t.prototype.isDisposed=function(){return this._disposer.isDisposed()},t.prototype.dispose=function(){this._disposer.dispose()},t}(),Jn=function(t){function e(e,i,r,n){var a=t.call(this)||this;return a.duration=0,a.easing=kn,a.progress=0,a._loop=0,a._pause=!1,a._delayTimeout=null,a._time=0,a._isFinished=!1,a.className="Animation",!1===Nn.animationsEnabled&&(r=0),a.object=e,a.animationOptions=vi(i),a.duration=r,n&&(a.easing=n),a.applyTheme(),a}return Object(h.d)(e,t),e.prototype.debug=function(){},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.pause()},e.prototype.delay=function(t){var e=this;if(t>0){this.pause(),mi(this.object.animations,this);var i=setTimeout((function(){e._delayTimeout=null,e.start()}),t);this._delayTimeout=new Ii((function(){clearTimeout(i)}))}return this},e.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,mi(vo.animations,this),mi(this.object.animations,this),vo.requestFrame()},e.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var t=this.animationOptions.length-1;t>=0;t--){var e=this.animationOptions[t];if(ge(e.from)||(e.childObject?e.from=e.childObject[e.property]:(e.from=this.object[e.property],ge(e.from)||(e.from=Bn[e.property]))),e.from==e.to)bi(this.animationOptions,e);else if(!ge(e.from)||!(e.from instanceof ce)&&e.to instanceof ce||e.from instanceof ce&&!(e.to instanceof ce))this.staticOptions.push(e),bi(this.animationOptions,e);else if(we(e.to))if(e.updateMethod=Xn,e.from instanceof ce){var i=this.object[Yn(e.property,"pixel")];isNaN(i)?(this.staticOptions.push(e),bi(this.animationOptions,e)):e.from=i}else isNaN(e.from)&&(this.staticOptions.push(e),bi(this.animationOptions,e));else e.to instanceof Er?e.from?e.updateMethod=Gn:(this.staticOptions.push(e),bi(this.animationOptions,e)):e.to instanceof ce?(e.updateMethod=Wn,isNaN(e.from)||(i=this.object[Yn(e.property,"relative")],isNaN(i)||(e.from=ue(100*i)))):(this.staticOptions.push(e),bi(this.animationOptions,e))}return this.applyStaticOptions(),this.events.isEnabled("animationstarted")&&this.events.dispatchImmediately("animationstarted",{type:"animationstarted",target:this,progress:this.progress}),this.update(),0===this.duration&&this.end(),this},e.prototype.loop=function(t){return we(t)||(t=1/0),this._loop=t,this},e.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),bi(vo.animations,this),bi(this.object.animations,this),this},e.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},e.prototype.end=function(){return 0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")&&this.events.dispatchImmediately("animationended",{type:"animationended",target:this,progress:this.progress}),this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},e.prototype.kill=function(){this.pause(),this._isFinished=!0},e.prototype.isFinished=function(){return this._isFinished},e.prototype.applyStaticOptions=function(){var t=this;oi(this.staticOptions,(function(e){e.childObject?e.childObject[e.property]=1==t.progress?e.to:e.from:t.object[e.property]=1==t.progress?e.to:e.from}))},e.prototype.stop=function(t){return this.pause(),t||this.events.isEnabled("animationstopped")&&this.events.dispatchImmediately("animationstopped",{type:"animationstopped",target:this,progress:this.progress}),this},e.prototype.setProgress=function(t){var e=this;this._time=this.duration*t,oi(this.animationOptions,(function(i){if(i.updateMethod&&ge(i.from)){var r=i.updateMethod(t,i.from,i.to);i.childObject?i.childObject[i.property]=r:e.object[i.property]=r}})),this.progress=t,this.events.isEnabled("animationprogress")&&this.events.dispatchImmediately("animationprogress",{type:"animationprogress",target:this,progress:this.progress}),vo.requestFrame()},e.prototype.update=function(){if(!this._pause){var t=void 0;this._time=Oe(Date.now()-this._startTime,0,this.duration);var e=this._time/this.duration;t=this.easing(e),(0==this.duration||!we(t)||e>=1)&&(t=1),this.setProgress(t),1==Ie(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(e.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),e.prototype.stopSameAnimations=function(){var t=this;oi(xi(this.object.animations),(function(e){if(e!==t&&!e.delayed){var i=[];oi(t.animationOptions,(function(t){oi(e.animationOptions,(function(r){t.property==r.property&&t.childObject==r.childObject&&(i.push(r),0==e.animationOptions.length&&e.kill())}))})),oi(i,(function(t){bi(e.animationOptions,t)}))}}))},e.prototype.asFunction=function(e){return"easing"==e||t.prototype.asIs.call(this,e)},e}(jr),Zn="http://www.w3.org/2000/svg",Qn="http://www.w3.org/2000/xmlns/",$n="http://www.w3.org/1999/xlink";function ta(t,e,i,r){return t.addEventListener(e,i,r||!1),new Ii((function(){t.removeEventListener(e,i,r||!1)}))}function ea(t,e){if(t)if(t.classList)t.classList.add(e);else{var i=t.getAttribute("class");t.setAttribute("class",i?i.split(" ").filter((function(t){return t!==e})).join(" ")+" "+e:e)}}function ia(t,e){if(t)if(t.classList)t.classList.remove(e);else{var i=t.getAttribute("class");i&&t.setAttribute("class",i.split(" ").filter((function(t){return t!==e})).join(" "))}}function ra(t,e,i){t.style[e]=i}function na(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function aa(){var t=document.createElement("input");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}function oa(t,e){for(var i=e;;){if(t===i)return!0;if(null==i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}function sa(t){for(var e=t;;){if(null==e.parentNode)return null!=e.host?e:null;e=e.parentNode}}function la(t){for(var e=t.ownerDocument,i=t;;){if(null==i.parentNode)return i===e||null!=i.host?i:null;i=i.parentNode}}var ca=function(t){function e(e,i,r){var n=this,a=function(t){return null==t?(ge(qn)||((e=document.createElement("style")).type="text/css",""!=Nn.nonce&&e.setAttribute("nonce",Nn.nonce),document.head.appendChild(e),qn=e.sheet),qn):((e=document.createElement("style")).type="text/css",""!=Nn.nonce&&e.setAttribute("nonce",Nn.nonce),t.appendChild(e),e.sheet);var e}(e);return(n=t.call(this,(function(){var t=ri(a.cssRules,n._rule);if(-1===t)throw new Error("Could not dispose StyleRule");a.deleteRule(t)}))||this)._rule=function(t,e){var i=t.cssRules.length;return t.insertRule(e+"{}",i),t.cssRules[i]}(a,i),qi(r,(function(t,e){n.setStyle(t,e)})),n}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(t){this._rule.selectorText=t},enumerable:!0,configurable:!0}),e.prototype._setVendorPrefixName=function(t,e){var i=this._rule.style;i.setProperty("-webkit-"+t,e,""),i.setProperty("-moz-"+t,e,""),i.setProperty("-ms-"+t,e,""),i.setProperty("-o-"+t,e,""),i.setProperty(t,e,"")},e.prototype.setStyle=function(t,e){"transition"===t?this._setVendorPrefixName(t,e):this._rule.style.setProperty(t,e,"")},e}(Ii),ua=0;function ha(t){var e=na(t,"font-family");if(e)return e;var i=t.parentElement||t.parentNode;return i?ha(i):void 0}function pa(t){var e=na(t,"font-size");if(e)return e;var i=t.parentElement||t.parentNode;return i?pa(i):void 0}function da(t,e){var i=t.getBoundingClientRect(),r=Ce(e)?e:e?[e]:[];if(r.length){for(var n=0;n<r.length;n++){var a=r[n];if(!da(a))return!1;var o=a.getBoundingClientRect();if(i.top>=0&&i.left>=0&&i.top<=o.top+o.height&&i.left<=o.left+o.width)return!0}return!1}return i.top>=0&&i.left>=0&&i.top<=(window.innerHeight||document.documentElement.clientHeight)&&i.left<=(window.innerWidth||document.documentElement.clientWidth)}!function(t){function e(e,i,r){var n=this,a=ge(r)?r:"__style_"+ ++ua+"__";return(n=t.call(this,e,"."+a,i)||this)._className=a,n}Object(h.d)(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t,this.selector="."+t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._className}}(ca);var fa=function(){function t(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof t?document.createElementNS(Zn,t):t}return t.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(t.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),t.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(1!=this._scale&&(t+=(t?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},t.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch(i){}return t},t.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;this._x==e&&this._y==i||(this._x=e,this._y=i,this.transform())}},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),t.prototype.removeAttr=function(t){this.node.removeAttribute(t)},t.prototype.attr=function(t){var e=this;return qi(t,(function(t,i){ge(i)?e.node.setAttribute(t,i):e.node.removeAttribute(t)})),this},t.prototype.getAttr=function(t){return this.node.getAttribute(t)},t.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},t.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},t.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},t.prototype.getStyle=function(t){return this.node.style[t]},t.prototype.addStyle=function(t){var e=this;return qi(t,(function(t,i){ge(i)?e.node.style[t]=i:e.removeStyle(t)})),this},t.prototype.addClass=function(t){ea(this.node,t)},t.prototype.removeClass=function(t){ia(this.node,t)},t.prototype.setClass=function(t){this.node.setAttribute("class",t)},t.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.removeNode()},t}(),ba=function(t){function e(e){return t.call(this,e)||this}return Object(h.d)(e,t),e.prototype.add=function(t){t&&this.node.appendChild(t.node)},e.prototype.addToBack=function(t){if(t){var e=this.node.childNodes[0];e?e!=t.node&&this.node.insertBefore(t.node,e):this.node.appendChild(t.node)}},e.prototype.removeElement=function(t){if(t)try{t.node&&t.node.parentNode==this.node&&this.node.removeChild(t.node)}catch(e){}},e.prototype.hasChild=function(t){for(var e=0;e<this.node.childNodes.length;e++)if(this.node.childNodes[e]==t.node)return!0;return!1},Object.defineProperty(e.prototype,"content",{get:function(){return this.node.innerHTML},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),e.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var t=this.node.firstChild;t&&t.parentNode&&t.parentNode.removeChild(t)}},e}(fa),ma=function(t){function e(){var e=t.call(this)||this;return e._purposes={stroke:Rr("#e5e5e5"),fill:Rr("#f3f3f3"),primaryButton:Rr("#6794dc"),primaryButtonHover:Rr("#6771dc"),primaryButtonDown:Rr("#68dc75"),primaryButtonActive:Rr("#68dc75"),primaryButtonText:Rr("#FFFFFF"),primaryButtonStroke:Rr("#FFFFFF"),secondaryButton:Rr("#d9d9d9"),secondaryButtonHover:Rr("#d9d9d9").brighten(-.25),secondaryButtonDown:Rr("#d9d9d9").brighten(-.35),secondaryButtonActive:Rr("#d9d9d9").brighten(.35),secondaryButtonText:Rr("#000000"),secondaryButtonStroke:Rr("#FFFFFF"),grid:Rr("#000000"),background:Rr("#ffffff"),alternativeBackground:Rr("#000000"),text:Rr("#000000"),alternativeText:Rr("#FFFFFF"),disabledBackground:Rr("#999999"),positive:Rr("#67dc75"),negative:Rr("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.debug=function(){},e.prototype.getFor=function(t){return this._purposes[t]},e.prototype.setFor=function(t,e){this._purposes[t]=e},e}(Hr);fr.registeredClasses.InterfaceColorSet=ma;var ga=new hr,ya=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._domEvents={},e}return Object(h.d)(e,t),e.prototype._addDOMEvent=function(t,e,i,r){var n=this;if(!this._domEvents[t]){var a=function(t){i.call(r,e,t)};this.target.element.addEventListener(t,a,!1),this._domEvents[t]=new Di((function(){delete n._domEvents[t],n.target.element.removeEventListener(t,a,!1)}))}return this._domEvents[t].increment()},e.prototype._dispatchKeyboardEvent=function(t,e){this.target.events.isEnabled(t)&&this.target.events.dispatchImmediately(t,{type:t,target:this.target,event:e})},e.prototype._on=function(e,i,r,n,a,o){var s=t.prototype._on.call(this,e,i,r,n,a,o),l=[s.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this))}return s.disposer=new Ai(l),s},e}(Xi),va=function(t){function e(e){var i=t.call(this)||this;return i._eventDispatcher=new ya(i),i.eventDisposers=new hr,i.replacedStyles=new hr,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new hr,i.inertias=new hr,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new ur(i.inertias)),i._disposers.push(new ur(i.eventDisposers)),i.applyTheme(),i}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHover",{get:function(){return this._isHover},set:function(t){this.isHover!=t&&(this._isHover=t,t?Da().overObjects.moveValue(this):(this.isRealHover=!1,Da().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(t){this.isHoverByTouch!=t&&(this._isHoverByTouch=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new vr),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return this._isDown},set:function(t){this.isDown!=t&&(this._isDown=t,t?Da().downObjects.moveValue(this):Da().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new vr),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(t){this.isFocused!=t&&(this._isFocused=t,Da().focusedObject=t?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(t){this._isTouchProtected!=t&&(this._isTouchProtected=t,t?Da().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&Da().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickable",{get:function(){return this._clickable},set:function(t){this._clickable!==t&&(this._clickable=t,Da().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(t){this._contextMenuDisabled!==t&&(this._contextMenuDisabled=t,Da().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverable",{get:function(){return this._hoverable},set:function(t){this._hoverable!==t&&(this._hoverable=t,Da().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackable",{get:function(){return this._trackable},set:function(t){this._trackable!==t&&(this._trackable=t,Da().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable!==t&&(this._draggable=t,Da().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeable",{get:function(){return this._swipeable},set:function(t){this._swipeable!==t&&(this._swipeable=t,Da().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this._resizable},set:function(t){this._resizable!==t&&(this._resizable=t,Da().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wheelable",{get:function(){return this._wheelable},set:function(t){this._wheelable!==t&&(this._wheelable=t,Da().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inert",{get:function(){return this._inert},set:function(t){this._inert!==t&&(this._inert=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this._focusable},set:function(t){this._focusable!==t&&(this._focusable=t,this._focusable&&-1==this.tabindex&&(this._tabindex=1),Da().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return ve(this._tabindex,-1)},set:function(t){this._tabindex!==t&&(this._tabindex=t,t>-1&&(this.focusable=!0),Da().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this._element=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(t){this._originalPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalScale",{get:function(){return ve(this._originalScale,1)},set:function(t){this._originalScale!==t&&(this._originalScale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalAngle",{get:function(){return ve(this._originalAngle,0)},set:function(t){this._originalAngle!==t&&(this._originalAngle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(t){this._inertiaOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(t){this._hitOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(t){this._hoverOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(t){this._swipeOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(t){this._keyboardOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(t){this._mouseOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(t){this._cursorOptions=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,Da().applyCursorOverStyle(this)},e.prototype.setEventDisposer=function(t,e,i){var r=this.eventDisposers.getKey(t);e?null==r&&this.eventDisposers.setKey(t,i()):null!=r&&(r.dispose(),this.eventDisposers.removeKey(t))},e.prototype.dispose=function(){t.prototype.dispose.call(this);var e=Da();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},e}(jr),_a=function(){function t(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=(new Date).getTime(),Da().processDragStart(t),vo.animations.push(this),this.update()}return t.prototype.update=function(){var t=this.interaction,e=Da().getKeyboardOption(t,"speed"),i=Da().getKeyboardOption(t,"accelleration"),r=Da().getKeyboardOption(t,"accellerationDelay"),n={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var a=(new Date).getTime()-this._startedOn,o=a-r;if(i>0&&o>0){var s=a/r;a=r,n.x+=this.directionX*(e*i*s*o),n.y+=this.directionY*(e*i*s*o)}n.x+=this.directionX*(e*a),n.y+=this.directionY*(e*a),Da().handleTransformMove(t,n,{x:0,y:0},this.keyboardEvent,!0,!1)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(Da().processDragStop(this.interaction),bi(vo.animations,this))},t}(),xa=function(t){function e(e,i,r,n){var a=t.call(this)||this;return a.animations=[],a.className="Inertia",a.interaction=e,a.type=i,a.point=r,a.startPoint=n,a._disposers.push(new Kn(a.animations)),a}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.point.x},set:function(t){we(t)&&(this.point.x=t,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.point.y},set:function(t){we(t)&&(this.point.y=t,this.handleMove())},enumerable:!0,configurable:!0}),e.prototype.handleMove=function(){this.interaction.events.isEnabled("drag")&&this.interaction.events.dispatchImmediately("drag",{type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1})},e.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&Da().processDragStop(this.interaction),this.dispose()},e}(Hr),wa=new(function(){function t(){}return t.prototype.getEventKey=function(t){var e;switch(t.keyCode||t.which){case 38:e="up";break;case 40:e="down";break;case 37:e="left";break;case 39:e="right";break;case 13:e="enter";break;case 27:e="esc";break;case 36:e="home";break;case 35:e="end";break;case 9:e="tab";break;case 17:e="ctrl";break;case 18:e="alt";break;case 16:e="shift";break;case 32:e="space";break;case 36:e="home";break;case 35:e="end";break;case 33:e="pgup";break;case 34:e="pgdn";break;case 45:e="ins";break;case 46:e="del";break;case 107:e="plus";break;case 109:e="minus";break;default:e="other"}return e},t.prototype.isKey=function(t,e){var i=this.getEventKey(t);return xe(e)&&(e=[e]),-1!==e.indexOf(i)},t.prototype.shiftKey=function(t){return t.shiftKey},t.prototype.ctrlKey=function(t){return t.ctrlKey},t.prototype.altKey=function(t){return t.altKey},t.prototype.metaKey=function(t){return t.metaKey},t}()),Va={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function Ca(t){switch(t){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Pa(t,e){return ge(e)||(e=1),Va[t]*e}function Ua(){return(new Date).getTime()}function Sa(t){return new Date(t.getTime())}function Ta(t,e,i,r){t=new Date(t.getTime()),e=new Date(e.getTime());var n=0,a=0;r||"millisecond"==i||(n=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-n),a=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-a));var o=!1;switch(i){case"year":t.getUTCFullYear()!=e.getUTCFullYear()&&(o=!0);break;case"month":t.getUTCFullYear()!=e.getUTCFullYear()?o=!0:t.getUTCMonth()!=e.getUTCMonth()&&(o=!0);break;case"day":t.getUTCMonth()!=e.getUTCMonth()?o=!0:t.getUTCDate()!=e.getUTCDate()&&(o=!0);break;case"hour":t.getUTCHours()!=e.getUTCHours()&&(o=!0);break;case"minute":t.getUTCMinutes()!=e.getUTCMinutes()&&(o=!0);break;case"second":t.getUTCSeconds()!=e.getUTCSeconds()&&(o=!0);break;case"millisecond":t.getTime()!=e.getTime()&&(o=!0)}if(o)return!0;var s=Ca(i);return!!s&&(t.setUTCMinutes(t.getUTCMinutes()+n),e.setUTCMinutes(e.getUTCMinutes()+a),Ta(t,e,s,r))}function ka(t,e,i,r){var n=0;switch(r||"millisecond"==e||(n=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-n)),e){case"day":var a=t.getUTCDate();t.setUTCDate(a+i);break;case"second":var o=t.getUTCSeconds();t.setUTCSeconds(o+i);break;case"millisecond":var s=t.getUTCMilliseconds();t.setUTCMilliseconds(s+i);break;case"hour":var l=t.getUTCHours();t.setUTCHours(l+i);break;case"minute":var c=t.getUTCMinutes();t.setUTCMinutes(c+i);break;case"year":var u=t.getUTCFullYear();t.setUTCFullYear(u+i);break;case"month":var h=t.getUTCMonth();t.setUTCMonth(h+i);break;case"week":var p=t.getUTCDate();t.setUTCDate(p+7*i)}if(!r&&"millisecond"!=e&&(t.setUTCMinutes(t.getUTCMinutes()+n),"day"==e||"week"==e||"month"==e||"year"==e)){var d=t.getTimezoneOffset();if(d!=n){var f=d-n;t.setUTCMinutes(t.getUTCMinutes()+f),t.getTimezoneOffset()!=d&&t.setUTCMinutes(t.getUTCMinutes()-f)}}return t}function Ia(t,e,i,r,n,a){we(i)||(i=1);var o=0;switch(n||"millisecond"==e||(o=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-o)),e){case"day":var s=t.getUTCDate();if(i>1){if(a){a=Ia(a,"day",1);var l=t.getTime()-a.getTime(),c=Math.floor(l/Pa("day")/i),u=Pa("day",c*i);t.setTime(a.getTime()+u-o*Pa("minute"))}}else t.setUTCDate(s);t.setUTCHours(0,0,0,0);break;case"second":var h=t.getUTCSeconds();i>1&&(h=Math.floor(h/i)*i),t.setUTCSeconds(h,0);break;case"millisecond":if(1==i)return t;var p=t.getUTCMilliseconds();p=Math.floor(p/i)*i,t.setUTCMilliseconds(p);break;case"hour":var d=t.getUTCHours();i>1&&(d=Math.floor(d/i)*i),t.setUTCHours(d,0,0,0);break;case"minute":var f=t.getUTCMinutes();p=t.getUTCMilliseconds(),i>1&&(f=Math.floor(f/i)*i),t.setUTCMinutes(f,0,0);break;case"month":var b=t.getUTCMonth();i>1&&(b=Math.floor(b/i)*i),t.setUTCMonth(b,1),t.setUTCHours(0,0,0,0);break;case"year":var m=t.getUTCFullYear();i>1&&(m=Math.floor(m/i)*i),t.setUTCFullYear(m,0,1),t.setUTCHours(0,0,0,0);break;case"week":var g=t.getUTCDate(),y=t.getUTCDay();we(r)||(r=1),t.setUTCDate(g=y>=r?g-y+r:g-(7+y)+r),t.setUTCHours(0,0,0,0)}if(!n&&"millisecond"!=e&&(t.setUTCMinutes(t.getUTCMinutes()+o),"day"==e||"week"==e||"month"==e||"year"==e)){var v=t.getTimezoneOffset();if(v!=o){var _=v-o;t.setUTCMinutes(t.getUTCMinutes()+_)}}return t}var Aa=function(t){function e(){var i=t.call(this)||this;return i._globalEventsAdded=!1,i._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},i._usePointerEventsOnly=!1,i._useTouchEventsOnly=!1,i._addHoverEvents=!0,i._passiveSupported=!1,i._delayedEvents={out:[]},i.overObjects=new vr,i.downObjects=new vr,i.trackedObjects=new vr,i.transformedObjects=new vr,i.pointers=new hr,i.inertiaOptions=new hr,i.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},i.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},i.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},i.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},i.mouseOptions={sensitivity:1},i.className="Interaction",i.body=i.getInteraction(document.body),i._disposers.push(i.body),window.hasOwnProperty("PointerEvent")?(i._pointerEvents.pointerdown="pointerdown",i._pointerEvents.pointerup="pointerup",i._pointerEvents.pointermove="pointermove",i._pointerEvents.pointercancel="pointercancel",i._pointerEvents.pointerover="pointerover",i._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(i._pointerEvents.pointerdown="MSPointerDown",i._pointerEvents.pointerup="MSPointerUp",i._pointerEvents.pointermove="MSPointerMove",i._pointerEvents.pointercancel="MSPointerUp",i._pointerEvents.pointerover="MSPointerOver",i._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(i._addHoverEvents=!1,i._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)?i._usePointerEventsOnly=!0:i.fullFF()?i._usePointerEventsOnly=!0:i._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?i._pointerEvents.wheel="wheel":ge(document.onmousewheel)&&(i._pointerEvents.wheel="mousewheel"),i.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:Dn}),i.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:Dn}),i._passiveSupported=e.passiveSupported,i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},e.prototype.debug=function(){},e.prototype.addGlobalEvents=function(){var t=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(ta(document,this._pointerEvents.pointerdown,(function(e){t.handleGlobalPointerDown(e)}))),this._disposers.push(ta(document,this._pointerEvents.pointermove,(function(e){t.handleGlobalPointerMove(e)}))),this._disposers.push(ta(document,this._pointerEvents.pointerup,(function(e){t.handleGlobalPointerUp(e)}))),this._disposers.push(ta(document,this._pointerEvents.pointercancel,(function(e){t.handleGlobalPointerUp(e,!0)}))),this._disposers.push(ta(document,"mouseenter",(function(e){ge(e.relatedTarget)||0!=e.buttons&&0!=e.which||t.handleDocumentLeave(e)})))),this._usePointerEventsOnly||(this._disposers.push(ta(document,"touchstart",(function(e){t.handleGlobalTouchStart(e)}))),this._disposers.push(ta(document,"touchmove",(function(e){t.handleGlobalTouchMove(e)}))),this._disposers.push(ta(document,"touchend",(function(e){t.handleGlobalTouchEnd(e)})))),this._disposers.push(ta(document,"keydown",(function(e){t.handleGlobalKeyDown(e)}))),this._disposers.push(ta(document,"keyup",(function(e){t.handleGlobalKeyUp(e)}))),this._globalEventsAdded=!0)},e.prototype.processClickable=function(t){this.processTouchable(t)},e.prototype.processContextMenu=function(t){t.contextMenuDisabled?t.eventDisposers.hasKey("contextMenuDisabled")||t.eventDisposers.setKey("contextMenuDisabled",ta(t.element,"contextmenu",(function(t){t.preventDefault()}))):t.eventDisposers.hasKey("contextMenuDisabled")&&t.eventDisposers.getKey("contextMenuDisabled").dispose()},e.prototype.processHoverable=function(t){var e=this;if(t.hoverable||t.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(t),!t.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&t.eventDisposers.setKey("hoverable",new Ai([ta(t.element,this._pointerEvents.pointerout,(function(i){return e.handlePointerOut(t,i)})),ta(t.element,this._pointerEvents.pointerover,(function(i){return e.handlePointerOver(t,i)}))]));else{var i=t.eventDisposers.getKey("hoverable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("hoverable"))}this.processTouchable(t)},e.prototype.processMovable=function(t){(t.draggable||t.swipeable||t.trackable||t.resizable)&&(this.isGlobalElement(t)||t.isTouchProtected||this.prepElement(t),this.applyCursorOverStyle(t)),this.processTouchable(t)},e.prototype.processTrackable=function(t){this.processHoverable(t),this.processMovable(t),t.trackable?this.trackedObjects.moveValue(t):this.trackedObjects.removeValue(t)},e.prototype.processDraggable=function(t){this.processMovable(t)},e.prototype.processSwipeable=function(t){this.processMovable(t)},e.prototype.processResizable=function(t){this.processMovable(t)},e.prototype.processWheelable=function(t){var e=this;if(t.wheelable)t.eventDisposers.hasKey("wheelable")||t.eventDisposers.setKey("wheelable",new Ai([ta(t.element,this._pointerEvents.wheel,(function(i){return e.handleMouseWheel(t,i)}),!!this._passiveSupported&&{passive:!1}),t.events.on("out",(function(i){t.wheelable&&e.unlockWheel()})),t.events.on("over",(function(i){t.wheelable&&e.lockWheel()}))]));else{var i=t.eventDisposers.getKey("wheelable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("wheelable"))}},e.prototype.processFocusable=function(t){var e=this;if(!0===t.focusable&&t.tabindex>-1&&!this._useTouchEventsOnly)t.eventDisposers.hasKey("focusable")||t.eventDisposers.setKey("focusable",new Ai([ta(t.element,"focus",(function(i){return e.handleFocus(t,i)})),ta(t.element,"blur",(function(i){return e.handleBlur(t,i)})),ta(t.element,this._pointerEvents.pointerdown,(function(i){return e.handleFocusBlur(t,i)})),ta(t.element,"touchstart",(function(i){return e.handleFocusBlur(t,i)}),!!this._passiveSupported&&{passive:!1})]));else{var i=t.eventDisposers.getKey("focusable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("focusable"))}},e.prototype.processTouchable=function(t){var e=this;if(t.clickable||t.hoverable||t.trackable||t.draggable||t.swipeable||t.resizable)this.addGlobalEvents(),t.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||t.eventDisposers.setKey("touchable",ta(t.element,"touchstart",(function(i){return e.handleTouchDown(t,i)}),!!this._passiveSupported&&{passive:!1})):t.eventDisposers.setKey("touchable",ta(t.element,this._pointerEvents.pointerdown,(function(i){return e.handlePointerDown(t,i)}))):t.eventDisposers.setKey("touchable",new Ai([ta(t.element,this._pointerEvents.pointerdown,(function(i){return e.handlePointerDown(t,i)})),ta(t.element,"touchstart",(function(i){return e.handleTouchDown(t,i)}),!!this._passiveSupported&&{passive:!1})])));else{var i=t.eventDisposers.getKey("touchable");null!=i&&(i.dispose(),t.eventDisposers.removeKey("touchable"))}},e.prototype.handleFocus=function(t,e){t.focusable?(t.isFocused=!0,t.events.isEnabled("focus")&&!vo.isPaused&&t.events.dispatchImmediately("focus",{type:"focus",target:t,event:e})):e.preventDefault()},e.prototype.handleFocusBlur=function(t,e){!1!==t.focusable&&this.getHitOption(t,"noFocus")&&t.events.once("focus",(function(){t.events.disableType("blur"),aa(),t.sprite&&t.sprite.handleBlur(),t.events.enableType("blur")}))},e.prototype.handleBlur=function(t,e){t.focusable?(t.isFocused=!1,t.events.isEnabled("blur")&&!vo.isPaused&&t.events.dispatchImmediately("blur",{type:"blur",target:t,event:e})):e.preventDefault()},e.prototype.handleGlobalKeyDown=function(t){if(this.focusedObject)if(wa.isKey(t,"esc"))aa();else if(this.focusedObject.draggable&&wa.isKey(t,["up","down","left","right"])){t.preventDefault();var e=this.focusedObject;if(e.eventDisposers.hasKey("interactionKeyboardObject"))return;var i=new _a(e,t);switch(e.eventDisposers.setKey("interactionKeyboardObject",i),wa.getEventKey(t)){case"up":i.directionY=-1;break;case"down":i.directionY=1;break;case"left":i.directionX=-1;break;case"right":i.directionX=1}}},e.prototype.handleGlobalKeyUp=function(t){if(this.focusedObject){var e=this.focusedObject.eventDisposers.getKey("interactionKeyboardObject");null!=e&&(t.preventDefault(),e.dispose(),this.focusedObject.eventDisposers.removeKey("interactionKeyboardObject"))}},e.prototype.handleGlobalPointerMove=function(t){var e=this.getPointer(t);e.point=this.getPointerPoint(t),this.events.isEnabled("track")&&!vo.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:t,pointer:e,touch:e.touch}),this.addBreadCrumb(e,e.point),this.handleGlobalMove(e,t)},e.prototype.handleGlobalPointerDown=function(t){this.processDelayed();var e=this.getPointer(t);this.events.isEnabled("down")&&!vo.isPaused&&this.events.dispatchImmediately("down",{type:"down",target:this,event:t,pointer:e,touch:e.touch})},e.prototype.preventTouchAction=function(t){t.defaultPrevented||t.preventDefault()},e.prototype.handleGlobalPointerUp=function(t,e){void 0===e&&(e=!1);var i=this.getPointer(t);this.events.isEnabled("up")&&!vo.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:t,pointer:i,touch:i.touch}),this.handleGlobalUp(i,t,e)},e.prototype.handleGlobalTouchMove=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);i.point=this.getPointerPoint(t.changedTouches[e]),this.events.isEnabled("track")&&!vo.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:t,pointer:i,touch:i.touch}),this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,t)}},e.prototype.handleGlobalTouchStart=function(t){this.processDelayed();for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);this._usePointerEventsOnly||!this.events.isEnabled("down")||vo.isPaused||this.events.dispatchImmediately("down",{type:"down",target:this,event:t,pointer:i,touch:i.touch})}},e.prototype.handleGlobalTouchEnd=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=this.getPointer(t.changedTouches[e]);this.events.isEnabled("up")&&!vo.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:t,pointer:i,touch:i.touch}),this.handleGlobalUp(i,t)}},e.prototype.handlePointerDown=function(t,e){var i=this.getPointer(e);(i.touch||1==e.which||3==e.which)&&(i.button=e.which,this.resetPointer(i,e),this.handleDown(t,i,e))},e.prototype.handlePointerOver=function(t,e){var i=this.getPointer(e);this.handleOver(t,i,e)},e.prototype.handlePointerOut=function(t,e){var i=this.getPointer(e);this.handleOut(t,i,e)},e.prototype.handleMouseWheel=function(t,e){var i=this.getPointer(e);i.point=this.getPointerPoint(e);var r,n,a=1;if(1==e.deltaMode&&(a=50),a*=this.getMouseOption(t,"sensitivity"),!(e instanceof WheelEvent))throw new Error("Invalid event type");r=Math.round(-1*e.wheelDeltaX||e.deltaX)*a,n=Math.round(-1*e.wheelDeltaY||e.deltaY)*a,this.handleWheel(t,i,r,n,e)},e.prototype.handleTouchDown=function(t,e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);this.maybePreventDefault(t,e,r),this.resetPointer(r,e.changedTouches[i]),this.handleDown(t,r,e)}},e.prototype.handleHit=function(t,e,i){var r=Ua();if(t.lastHit&&t.lastHit>=r-this.getHitOption(t,"doubleHitTime")){if(r-t.lastHit<100)return;t.lastHit=void 0,t.lastHitPointer=void 0,t.events.isEnabled("doublehit")&&!vo.isPaused&&t.events.dispatchImmediately("doublehit",{type:"doublehit",target:t,point:e.point,event:i,touch:e.touch})}else t.lastHit=r,t.lastHitPointer=e,3===e.button?t.events.isEnabled("rightclick")&&!vo.isPaused&&t.events.dispatchImmediately("rightclick",{type:"rightclick",target:t,event:i}):t.events.isEnabled("hit")&&!vo.isPaused&&t.events.dispatchImmediately("hit",{type:"hit",target:t,event:i,point:e.point,touch:e.touch})},e.prototype.handleOver=function(t,e,i,r){void 0===r&&(r=!1),t.hoverable&&(this.processDelayed(),t.overPointers.moveValue(e),t.isRealHover||(t.isHover=!0,t.isRealHover=!0,this.overObjects.moveValue(t),this.handleTrack(this.body,e,i,!0),t.events.isEnabled("over")&&!vo.isPaused&&t.events.dispatchImmediately("over",{type:"over",target:t,event:i,pointer:e,touch:e.touch})))},e.prototype.handleOut=function(t,e,i,r,n){var a=this;if(void 0===r&&(r=!1),void 0===n&&(n=!1),t.hoverable&&(t.overPointers.removeValue(e),t.isHover&&(!t.hasDelayedOut||n))){if(r&&t.overPointers.length)return;if(e.touch&&!n&&!this.old(e)){var o=this.getHoverOption(t,"touchOutBehavior");if("leave"==o)return this._delayedEvents.out.push({type:"out",io:t,pointer:e,event:i,keepUntil:Ua()+500}),void(t.hasDelayedOut=!0);if("delay"==o&&this.getHoverOption(t,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:t,pointer:e,event:i,keepUntil:Ua()+500,timeout:this.setTimeout((function(){a.handleOut(t,e,i,!0)}),this.getHoverOption(t,"touchOutDelay"))})}t.isHover=!1,this.overObjects.removeValue(t),t.events.isEnabled("out")&&!vo.isPaused&&t.events.dispatchImmediately("out",{type:"out",target:t,event:i,pointer:e,touch:e.touch}),t.overPointers.clear(),t.hasDelayedOut=!1}},e.prototype.processDelayed=function(){for(var t;t=this._delayedEvents.out.pop();)t.timeout&&t.timeout.dispose(),this.handleOut(t.io,t.pointer,t.event,!1,!0)},e.prototype.handleDown=function(t,e,i){this.maybePreventDefault(t,i,e),t.inert&&this.stopInertia(t),this.handleOver(t,e,i,!0),t.downPointers.moveValue(e),this.applyCursorDownStyle(t,e),t.isDown||(!1!==t.focusable&&this.getHitOption(t,"noFocus")&&this.focusedObject&&aa(),t.isDown=!0,this.downObjects.moveValue(t),t.draggable&&this.processDragStart(t,e,i),t.resizable&&this.processResizeStart(t,e,i)),t.events.isEnabled("down")&&!vo.isPaused&&t.events.dispatchImmediately("down",{type:"down",target:t,event:i,pointer:e,touch:e.touch})},e.prototype.handleGlobalUp=function(t,e,i){var r=this;void 0===i&&(i=!1);var n=this.downObjects.values.slice();n.sort((function(t,e){if(t&&e){var i=t.element.compareDocumentPosition(e.element);return i&Node.DOCUMENT_POSITION_CONTAINED_BY?1:i&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0})),oi(n,(function(n){n&&n.downPointers.contains(t)&&r.handleUp(n,t,e,i)}))},e.prototype.handleDocumentLeave=function(t){var e=this;ir(this.downObjects.backwards().iterator(),(function(i){i.downPointers.each((function(r){e.handleUp(i,r,t)}))}))},e.prototype.handleUp=function(t,e,i,r){void 0===r&&(r=!1),this.restoreCursorDownStyle(t,e),t.downPointers.removeValue(e),(e.touch||this._useTouchEventsOnly)&&this.handleOut(t,e,i,!0),t.isDown&&(0==t.downPointers.length&&(t.isDown=!1,this.downObjects.removeValue(t)),t.events.isEnabled("up")&&!vo.isPaused&&t.events.dispatchImmediately("up",{type:"up",target:t,event:i,pointer:e,touch:e.touch}),r||(t.swipeable&&this.swiped(t,e)?this.handleSwipe(t,e,i):(t.clickable&&!this.moved(e,this.getHitOption(t,"hitTolerance"))&&this.handleHit(t,e,i),t.inert&&this.moved(e,this.getHitOption(t,"hitTolerance"))?this.handleInertia(t,e):t.draggable&&this.processDragStop(t,e,i),t.resizable&&this.processResizeStop(t,e,i))))},e.prototype.maybePreventDefault=function(t,e,i){!ge(e)||!(t.draggable||t.swipeable||t.trackable||t.resizable)||this.isGlobalElement(t)||!1===e.cancelable||t.isTouchProtected&&i&&i.touch||e.preventDefault()},e.prototype.handleGlobalMove=function(t,e){var i,r=this;if(!t.touch){var n="function"==typeof(i=t.lastEvent).composedPath?i.composedPath()[0]:i.target;ir(this.overObjects.backwards().iterator(),(function(i){if(i&&i.overPointers.contains(t)&&i.hoverable){var a=!1;i.element&&t.lastEvent&&oa(i.element,n)||(a=!0),a&&r.handleOut(i,t,e,!0)}}))}ir(this.transformedObjects.backwards().iterator(),(function(i){!i.downPointers.contains(t)||i.swipeable&&r.swiping(i,t)||!i.draggable&&!i.resizable||r.handleTransform(i,e)})),ir(this.trackedObjects.backwards().iterator(),(function(i){i.overPointers.contains(t)||r.handleTrack(i,t,e)}))},e.prototype.handleTrack=function(t,e,i,r){void 0===r&&(r=!1),(r||this.moved(e,0))&&t.events.isEnabled("track")&&!vo.isPaused&&t.events.dispatchImmediately("track",{type:"track",target:t,event:i,point:e.point,pointer:e,touch:e.touch})},e.prototype.handleSwipe=function(t,e,i){t.events.isEnabled("swipe")&&!vo.isPaused&&t.events.dispatchImmediately("swipe",{type:"swipe",target:t,event:i,touch:e.touch}),e.startPoint.x<e.point.x?t.events.isEnabled("swiperight")&&!vo.isPaused&&t.events.dispatchImmediately("swiperight",{type:"swiperight",target:t,event:i,touch:e.touch}):t.events.isEnabled("swipeleft")&&!vo.isPaused&&t.events.dispatchImmediately("swipeleft",{type:"swipeleft",target:t,event:i,touch:e.touch})},e.prototype.handleWheel=function(t,e,i,r,n){var a={x:i,y:r};t.events.isEnabled("wheel")&&!vo.isPaused&&t.events.dispatchImmediately("wheel",{type:"wheel",target:t,event:n,point:e.point,shift:a}),i<0?t.events.isEnabled("wheelleft")&&!vo.isPaused&&t.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:t,event:n,point:e.point,shift:a}):i>0?t.events.isEnabled("swiperight")&&!vo.isPaused&&t.events.dispatchImmediately("wheelright",{type:"wheelright",target:t,event:n,point:e.point,shift:a}):r<0?t.events.isEnabled("wheelup")&&!vo.isPaused&&t.events.dispatchImmediately("wheelup",{type:"wheelup",target:t,event:n,point:e.point,shift:a}):r>0&&t.events.isEnabled("wheeldown")&&!vo.isPaused&&t.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:t,event:n,point:e.point,shift:a})},e.prototype.handleInertia=function(t,e){t.draggable&&0===t.downPointers.length&&this.handleMoveInertia(t,e),t.resizable&&t.downPointers.length>1&&this.handleResizeInertia(t,e)},e.prototype.handleMoveInertia=function(t,e){var i=new xa(t,"move",{x:e.point.x,y:e.point.y},{x:e.startPoint.x,y:e.startPoint.y}),r=this.getTrailPoint(e,Ua()-this.getInertiaOption(t,"move","time"));if(void 0!==r){var n=this.getInertiaOption(t,"move","factor"),a=new Jn(i,[{to:e.point.x+(e.point.x-r.point.x)*n,property:"x"},{to:e.point.y+(e.point.y-r.point.y)*n,property:"y"}],this.getInertiaOption(t,"move","duration"),this.getInertiaOption(t,"move","easing")).start();this._disposers.push(a.events.on("animationended",(function(t){i.done()}))),t.inertias.setKey("move",i)}else this.processDragStop(t,e,e.lastUpEvent)},e.prototype.handleResizeInertia=function(t,e){},e.prototype.handleTransform=function(t,e){var i,r,n,a=t.downPointers.getIndex(0),o=null,s=null;a&&(o=a.point,s=a.startPoint),n=r={x:t.originalPosition.x,y:t.originalPosition.y};for(var l=!0,c=1;c<t.downPointers.length;c++){var u=t.downPointers.getIndex(c);if(s.x!=u.startPoint.x&&s.y!=u.startPoint.y){l=!1,r=(i=u).point,n=i.startPoint;break}}var h=a&&this.moved(a,0);if(t.draggable&&a&&a.dragStartEvents&&a.dragStartEvents.length&&h&&t.events.isEnabled("dragstart")&&!vo.isPaused&&t.events.dispatchImmediately("dragstart",a.dragStartEvents.shift()),l&&t.draggable)this.handleTransformMove(t,o,s,e,h,a.touch);else{var p=i&&this.moved(i,0);t.draggable&&t.resizable?(this.handleTransformMove(t,o,s,e,h&&p,a.touch),this.handleTransformResize(t,o,s,r,n,e,h&&p,a.touch)):(t.draggable&&this.handleTransformMove(t,o,s,e,h,a.touch),!t.resizable||l&&!e.ctrlKey||this.handleTransformResize(t,o,s,r,n,e,h&&p,a.touch))}},e.prototype.handleTransformMove=function(t,e,i,r,n,a){n&&(!t.events.isEnabled("drag")||vo.isPaused||t.isTouchProtected&&a||t.events.dispatchImmediately("drag",{type:"drag",target:t,event:r,shift:{x:e.x-i.x,y:e.y-i.y},startPoint:i,point:e,touch:a}))},e.prototype.handleTransformResize=function(t,e,i,r,n,a,o,s){if(t.events.isEnabled("resize")&&!vo.isPaused&&(!t.isTouchProtected||!s)){var l={type:"resize",target:t,event:a,scale:Be(e,i,r,n),startPoint1:i,point1:e,startPoint2:n,point2:r,touch:s};t.events.dispatchImmediately("resize",l)}},e.prototype.processDragStart=function(t,e,i){this.transformedObjects.moveValue(t);var r={type:"dragstart",target:t,event:i,touch:!!e&&e.touch};e&&(e.dragTarget=t),e&&e.dragStartEvents?e.dragStartEvents.push(r):vo.isPaused||t.dispatchImmediately("dragstart",r)},e.prototype.processDragStop=function(t,e,i){e||(e=this.getDragPointer(t)),e&&(e.dragTarget=void 0),this.transformedObjects.removeValue(t),(!e||this.moved(e,0))&&t.events.isEnabled("dragstop")&&!vo.isPaused&&t.events.dispatchImmediately("dragstop",{type:"dragstop",target:t,touch:!!e&&e.touch})},e.prototype.processResizeStart=function(t,e,i){this.transformedObjects.moveValue(t)},e.prototype.processResizeStop=function(t,e,i){this.transformedObjects.removeValue(t)},e.prototype.dragStart=function(t,e){e||(e=this.getDragPointer(t)),e&&this.handleDown(t,e,e.lastDownEvent)},e.prototype.dragStop=function(t,e,i){e||(e=this.getDragPointer(t)),e&&!i&&this.handleGlobalUp(e,e.lastUpEvent,i)},e.prototype.getDragPointer=function(t){return t?t.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},e.prototype.getPointerId=function(t){return(ge(t.identifier)?""+t.identifier:ge(t.pointerId)?""+t.pointerId:"m").replace("-","")},e.prototype.getPointerPoint=function(t){return{x:t.clientX,y:t.clientY}},e.prototype.getPointer=function(t){var e,i=this.getPointerId(t),r=this.getPointerPoint(t);return this.pointers.hasKey(i)?(e=this.pointers.getKey(i)).touch=this.isPointerTouch(t):(e={id:i,touch:this.isPointerTouch(t),startPoint:r,startTime:Ua(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(e,r),this.pointers.setKey(i,e)),e.lastEvent=t,this.lastPointer=e,e},e.prototype.isPointerTouch=function(t){if("undefined"!=typeof Touch&&t instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&t instanceof PointerEvent&&ge(t.pointerType))switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(ge(t.type)&&t.type.match(/^mouse/))return!1;return!0},e.prototype.resetPointer=function(t,e){var i=this.getPointerPoint(e);t.startTime=Ua(),t.startPoint={x:i.x,y:i.y},t.point={x:i.x,y:i.y},t.track=[],t.swipeCanceled=!1},e.prototype.addBreadCrumb=function(t,e){t.track.push({timestamp:Ua(),point:e})},e.prototype.lockDocument=function(){this.prepElement(this.body)},e.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},e.prototype.lockElement=function(t){this.prepElement(t)},e.prototype.unlockElement=function(t){this.restoreAllStyles(t)},e.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},e.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},e.prototype.isLocalElement=function(t,e,i){var r=this.getCache("local_pointer_"+t.id);if(ge(r))return r;var n=la(e)||document;if(n.elementFromPoint){var a=n.elementFromPoint(t.point.x,t.point.y),o=a&&oa(e,a);return this.setCache("local_pointer_"+t.id+"_"+i,o,100),o}return!1},e.prototype.wheelLockEvent=function(t){return t.preventDefault(),!1},e.prototype.prepElement=function(t){var e=t.element;if(e){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],r=0;r<i.length;r++)i[r]in e.style&&this.setTemporaryStyle(t,i[r],"none");this.setTemporaryStyle(t,"tapHighlightColor","rgba(0, 0, 0, 0)")}},e.prototype.unprepElement=function(t){var e=t.element;if(e){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],r=0;r<i.length;r++)i[r]in e.style&&this.restoreStyle(t,i[r]);this.restoreStyle(t,"tapHighlightColor")}},e.prototype.getHitOption=function(t,e){var i=t.hitOptions[e];return void 0===i&&(i=this.hitOptions[e]),i},e.prototype.getHoverOption=function(t,e){var i=t.hoverOptions[e];return void 0===i&&(i=this.hoverOptions[e]),i},e.prototype.getSwipeOption=function(t,e){var i=t.swipeOptions[e];return void 0===i&&(i=this.swipeOptions[e]),i},e.prototype.getKeyboardOption=function(t,e){var i=t.keyboardOptions[e];return void 0===i&&(i=this.keyboardOptions[e]),i},e.prototype.getMouseOption=function(t,e){var i=t.mouseOptions[e];return void 0===i&&(i=this.mouseOptions[e]),i},e.prototype.getInertiaOption=function(t,e,i){var r=t.inertiaOptions.getKey(e);return r&&ge(r[i])?r[i]:this.inertiaOptions.getKey(e)[i]},e.prototype.stopInertia=function(t){for(var e,i=["move","resize"],r=0;r<i.length;r++)if(t.inertias.hasKey(e=i[r])){var n=t.inertias.getKey(e);if(n){n.dispose();continue}}},e.prototype.swiping=function(t,e){var i=Ua();return!(e.swipeCanceled||!t.swipeable)&&Math.abs(e.startPoint.y-e.point.y)<this.getSwipeOption(t,"verticalThreshold")&&e.startTime>i-this.getSwipeOption(t,"time")},e.prototype.swiped=function(t,e){var i=Ua();return!e.swipeCanceled&&Math.abs(e.startPoint.x-e.point.x)>this.getSwipeOption(t,"horizontalThreshold")&&Math.abs(e.startPoint.y-e.point.y)<this.getSwipeOption(t,"verticalThreshold")&&e.startTime>i-this.getSwipeOption(t,"time")},e.prototype.applyCursorOverStyle=function(t){var e=t.cursorOptions;if(ge(e.overStyle))for(var i=0;i<e.overStyle.length;i++)ra(t.element,e.overStyle[i].property,e.overStyle[i].value)},e.prototype.applyCursorDownStyle=function(t,e){if(!e.touch){var i=t.cursorOptions.downStyle;if(t.downPointers.contains(e)&&ge(i))for(var r=0;r<i.length;r++)this.setTemporaryStyle(this.body,i[r].property,i[r].value),this.setTemporaryStyle(t,i[r].property,i[r].value)}},e.prototype.restoreCursorDownStyle=function(t,e){if(!e.touch){var i=t.cursorOptions.downStyle;if(t.downPointers.contains(e)&&ge(i))for(var r=0;r<i.length;r++)this.restoreStyle(this.body,i[r].property),this.restoreStyle(t,i[r].property)}},e.prototype.setGlobalStyle=function(t){for(var e=Da().body,i=Ce(t)?t:[t],r=0;r<i.length;r++)this.setTemporaryStyle(e,i[r].property,i[r].value)},e.prototype.restoreGlobalStyle=function(t){for(var e=Da().body,i=Ce(t)?t:[t],r=0;r<i.length;r++)this.restoreStyle(e,i[r].property)},e.prototype.isGlobalElement=function(t){return document.body===t.element},e.prototype.moved=function(t,e,i){void 0===i&&(i=300);var r=this.getShift(t);return Math.abs(r.x)>e||Math.abs(r.y)>e},e.prototype.old=function(t,e){return void 0===e&&(e=300),Ua()-t.startTime>e},e.prototype.getShift=function(t){return{x:t.startPoint.x-t.point.x,y:t.startPoint.y-t.point.y}},e.prototype.getTrailPoint=function(t,e){for(var i,r=0;r<t.track.length;r++)if(t.track[r].timestamp>=e){i=t.track[r];break}return i},e.prototype.pointerExists=function(t,e){var i=!1;return t.each((function(t){t!=e&&(i=t.point.x==e.point.x&&t.point.y==e.point.y)})),i},e.prototype.getInteraction=function(t){return new va(t)},e.prototype.setTemporaryStyle=function(t,e,i){var r=t.element;ge(r.style[e])&&!t.replacedStyles.hasKey(e)&&t.replacedStyles.setKey(e,r.style[e]),ra(r,e,i)},e.prototype.restoreStyle=function(t,e){t.replacedStyles.hasKey(e)?(t.element.style[e]=t.replacedStyles.getKey(e),t.replacedStyles.removeKey(e)):delete t.element.style[e]},e.prototype.restoreAllStyles=function(t){ir(t.replacedStyles.iterator(),(function(e){var i=e[0];t.element.style[i]=e[1],t.replacedStyles.removeKey(i)}))},e.prototype.dispose=function(){this.isDisposed()||(t.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},e.prototype.log=function(t,e,i){if(e.changedTouches)for(var r=0;r<e.changedTouches.length;r++)this.logTouch(t,e.type,e.changedTouches[r]);else{var n,a="";if(e.pointerType)switch(e.pointerType){case 2:a="touch";break;case 4:a="mouse";break;default:a=e.pointerType}else a="undefined"!=typeof TouchEvent&&e instanceof TouchEvent?"touch":e.type.match(/^mouse/)?"mouse":"???";n=ge(e.identifier)?e.identifier:ge(e.pointerId)?e.pointerId:"???",i?console.log(t+" ("+i.uid+")  "+e.type+"  "+a+"  "+n):console.log(t+"  "+e.type+"  "+a+"  "+n)}},e.prototype.areTransformed=function(t){var e=this.transformedObjects.length;if(t)for(var i=Ce(t)?t:[t],r=0;r<i.length;r++)this.transformedObjects.contains(i[r])&&e--;return e>0},e.prototype.logTouch=function(t,e,i){console.log(t+"  "+e+"  touch  "+i.identifier)},Object.defineProperty(e,"passiveSupported",{get:function(){var t=this;if(null==this._passiveSupported)try{var e=Object.defineProperty({},"passive",{get:function(){t._passiveSupported=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(i){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),e}(jr),Oa=null;function Da(){return null==Oa&&(Oa=new Aa),Oa}var Ma=function(t){function e(){var e=t.call(this)||this;return e.adapter=new kr(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return Object(h.d)(e,t),e.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},e.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},e.prototype.dispose=function(){this.close(),t.prototype.dispose.call(this)},e.prototype.positionElement=function(t){var e=this;void 0===t&&(t=!0),this._elements.wrapper&&setTimeout((function(){if(e._elements.wrapper){if(t||!e._sized){e._elements.wrapper.style.opacity="0.01",e._elements.wrapper.style.left="0",e._elements.wrapper.style.top="0",e._elements.wrapper.style.margin="0 0 0 0",e._elements.wrapper.style.width="",e._elements.wrapper.style.height="";var i=e._elements.wrapper.getBoundingClientRect();e._elements.wrapper.style.width=i.width+"px",e._elements.wrapper.style.height=i.height+"px",e._sized=!0}if(e.dynamicResize)for(var r=e._elements.wrapper.getElementsByTagName("img"),n=0;n<r.length;n++){var a=r[n];if(!a.complete){a.addEventListener("load",(function(){e.positionElement(!0)}));break}}setTimeout((function(){if(e._elements.wrapper){var i;switch(!t&&e._sized||!e._bbox?(i=e._elements.wrapper.getBoundingClientRect(),e._elements.wrapper.style.opacity=""):i=e._bbox,e.align){case"left":e._elements.wrapper.style.left="0",e._elements.wrapper.style.right="auto",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x);break;case"center":e._elements.wrapper.style.left="50%",e._elements.wrapper.style.right="auto",e._elements.wrapper.style.marginLeft=e.toStyle(Math.round(-i.width/2)+(e._shift.x+e._tempShift.x));break;case"right":e._elements.wrapper.style.left="auto",e._elements.wrapper.style.right="0",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x);break;default:e._elements.wrapper.style.left=e.toStyle(e.left)||"auto",e._elements.wrapper.style.right=e.toStyle(e.right)||"auto",e._elements.wrapper.style.marginLeft=e.toStyle(e._shift.x+e._tempShift.x)}switch(e.verticalAlign){case"top":e._elements.wrapper.style.top="0",e._elements.wrapper.style.bottom="auto",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y);break;case"middle":e._elements.wrapper.style.top="50%",e._elements.wrapper.style.bottom="auto",e._elements.wrapper.style.marginTop=e.toStyle(Math.round(-i.height/2)+(e._shift.y+e._tempShift.y));break;case"bottom":e._elements.wrapper.style.top="auto",e._elements.wrapper.style.bottom="0",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y);break;default:e._elements.wrapper.style.top=e.toStyle(e.top)||"auto",e._elements.wrapper.style.bottom=e.toStyle(e.bottom)||"auto",e._elements.wrapper.style.marginTop=e.toStyle(e._shift.y+e._tempShift.y)}}}),1)}}),1)},e.prototype.setupDragging=function(){var t=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",(function(e){t._tempShift.x=e.shift.x,t._tempShift.y=e.shift.y,t.positionElement(!1)})),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",(function(e){t._shift.x+=t._tempShift.x,t._shift.y+=t._tempShift.y,t._tempShift.x=0,t._tempShift.y=0,t.positionElement(!1)}))):this._IOs.header&&(Da().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},e.prototype.toStyle=function(t){return ge(t)?we(t)?t+"px":t.toString():null},Object.defineProperty(e.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(t){this._classPrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(t){this._content!=t&&(this._content=t,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=t,this.positionElement())},enumerable:!0,configurable:!0}),e.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},e.prototype.createContentElement=function(){if(!this._elements.wrapper){var t=this.getClassNames(),e=document.createElement("div");e.className=t.contentClass,e.style.opacity="0.01";var i=document.createElement("a");i.className=t.closeClass;var r=document.createElement("div");r.className=t.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=t.titleClass,this.title||(n.style.display="none");var a=document.createElement("div");a.className=t.insideClass,a.innerHTML=this.content,this._IOs.wrapper=Da().getInteraction(e),this._IOs.header=Da().getInteraction(r),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=Da().getInteraction(i),this._disposers.push(this._IOs.close),i.style.visibility="hidden",e.setAttribute("role","dialog"),r.appendChild(i),r.appendChild(n),e.appendChild(r),e.appendChild(a),this.container.appendChild(e),this._elements.wrapper=e,this._elements.header=r,this._elements.content=a,this._elements.title=n,this._elements.close=i,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(t){this._title!=t&&(this._title=t,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=t,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(t){this._readerTitle!=t&&(this._readerTitle=t,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(t){t!==this._closable&&(this._closable=t,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(t){t!=this._fitTo&&(this._fitTo=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(t){this._defaultStyles!=t&&(this._defaultStyles=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(t){this._showCurtain!=t&&(this._showCurtain=t,this._elements.curtain&&(this._elements.curtain.style.display=t?"block":"none"))},enumerable:!0,configurable:!0}),e.prototype.createCurtainElement=function(){var t=this.getClassNames(),e=document.createElement("div");e.className=t.curtainClass,this.container.appendChild(e),this._IOs.curtain=Da().getInteraction(e),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),e.style.display=this.showCurtain?"block":"none",this._elements.curtain=e},Object.defineProperty(e.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(t){this._draggable!=t&&(this._draggable=t,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(t){this._dynamicResize!=t&&(this._dynamicResize=t,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(t){this._align!=t&&(this._align=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(t){this.left!=t&&(this._left=t,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(t){this.right!=t&&(this._right=t,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(t){this.top!=t&&(this._top=t,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(t){this.bottom!=t&&(this._bottom=t,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function(t,e){e||(e="ampopup");var i=new ma,r=i.getFor("text"),n=i.getFor("background");n.alpha=.8;var a=i.getFor("alternativeBackground");return a.alpha=.05,ga.insertKeyIfEmpty(e,(function(){var i=new Ai([new ca(t,"."+e,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new ca(t,"."+e+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":n.hex,opacity:"0.5"}),new ca(t,"."+e+"-header",{display:"block",width:"100%","min-height":"1.8em",background:a.rgba}),new ca(t,"."+e+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new ca(t,"."+e+"-content",{background:n.hex,"background-color":n.rgba,color:r.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new ca(t,"."+e+"-inside",{padding:"1em"}),new ca(t,"."+e+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Di((function(){ga.removeKey(e),i.dispose()}))})).increment()}(sa(this.container),this.classPrefix)),qi(this._elements,(function(t,e){e.style.display=""})),this._cssLoaded=!0)},e.prototype.applyEvents=function(){var t=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var e=[Da().body.events.on("keyup",(function(e){wa.isKey(e.event,"esc")&&t.closable&&t.close()})),this._IOs.close.events.on("hit",(function(e){t.close()}))];e.push(this._IOs.curtain.events.on("hit",(function(e){t.showCurtain&&t.closable&&t.close()}))),this._disposers.push(new Ai(e))}else this._IOs.close.element.style.visibility="hidden"},e.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},e.prototype.releasePointers=function(){ge(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},e.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},e}(jr),Fa=function(t){function e(){var e=t.call(this)||this;return e.adapter=new kr(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return Object(h.d)(e,t),e}(Ma),Ea=function(){function t(){var t=this;this._targets=[],this._observer=new ResizeObserver((function(e){oi(e,(function(e){oi(t._targets,(function(t){t.target===e.target&&t.callback()}))}))}))}return t.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},t.prototype.removeTarget=function(t){this._observer.unobserve(t),ki(this._targets,(function(e){return e.target!==t}))},t}(),Ra=function(){function t(){this._targets=[]}return t.prototype.addTarget=function(e,i){var r=this;if(0===this._targets.length){var n=null,a=function(){var e=Date.now();(null===n||e>n+t.delay)&&(n=e,oi(r._targets,(function(t){var e=t.target.getBoundingClientRect();e.width===t.size.width&&e.height===t.size.height||(t.size=e,t.callback())}))),r._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var o=e.getBoundingClientRect();this._targets.push({target:e,callback:i,size:o})},t.prototype.removeTarget=function(t){ki(this._targets,(function(e){return e.target!==t})),0===this._targets.length&&cancelAnimationFrame(this._timer)},t.delay=200,t}(),La=null,Ha=function(){function t(t,e){this._disposed=!1,this._sensor=(null===La&&(La="undefined"!=typeof ResizeObserver?new Ea:new Ra),La),this._element=t,this._sensor.addTarget(t,e)}return t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},t.prototype.reset=function(){console.warn("resizeSensor.reset() is no longer needed and can be removed")},t}(),ja=[],za=function(){function t(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this.htmlElement=t,e||(this.resizeSensor=new Ha(t,(function(){i.autoResize&&i.measure()})),this._disposers.push(this.resizeSensor)),ja.push(this);var r=document.createElement("div"),n=r.style;n.width="100%",n.height="100%",n.position="relative",t.appendChild(r),this.SVGContainer=r}return t.prototype.measure=function(){var t,e,i,r,n,a=(t=this.htmlElement,e=getComputedStyle(t),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),r=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t.clientWidth-i-r),o=function(t){var e=getComputedStyle(t),i=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return t.clientHeight-i-r}(this.htmlElement),s=this.container;s&&(this.width==a&&this.height==o||(this.width=a,this.height=o,a>0&&(s.maxWidth=a),o>0&&(s.maxHeight=o),n=this.SVGContainer,Ei.push((function(){try{var t=n.getBoundingClientRect(),e=t.left-Math.round(t.left),i=t.top-Math.round(t.top);0!==e&&Bi((function(){n.style.left=e+"px"})),0!==i&&Bi((function(){n.style.top=i+"px"}))}catch(r){}})),zi()),s.maxWidth||(s.maxWidth=0),s.maxHeight||(s.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||bi(ja,this),oi(this._disposers,(function(t){t.dispose()}))},Object.defineProperty(t.prototype,"hideOverflow",{set:function(t){this.SVGContainer.style.overflow=t?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return ge(this._modal)||(this._modal=new Fa,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),t.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},t.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(t.prototype,"popups",{get:function(){if(!ge(this._popups)){var t=new Ma;t.container=this.SVGContainer,this._popups=new _r(t),this._disposers.push(new gr(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,ge(e)&&(i.title=e),i.open(),i},t.prototype.closeAllPopups=function(){this.popups.each((function(t){t.close()}))},Object.defineProperty(t.prototype,"readerAlertElement",{get:function(){if(!ge(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),t.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},t.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&"none"!==i){var r=i.split("(")[1].split(")")[0].split(","),n=Number(r[0]),a=Number(r[1]),o=Math.sqrt(n*n+a*a);isNaN(o)||(this.cssScale*=o)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},t}(),Ba=function(){function t(t,e){this.container=t,this.id=e;var i=document.createElementNS(Zn,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(Qn,"xmlns",Zn),i.setAttributeNS(Qn,"xmlns:xlink",$n),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(Zn,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return t.prototype.add=function(t){return new fa(t)},t.prototype.addGroup=function(t){return new ba(t)},t.prototype.append=function(t){t&&this.svg.appendChild(t.node)},t.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},t.prototype.foreignObject=function(){return new fa("foreignObject")},t.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},t}(),Na=null;function Xa(){if(null===Na){var t=document.createElement("div");t.hidden=!0,document.body.appendChild(t);var e=new za(t,!0);Na=new Ba(e.SVGContainer,"ghost")}return Na}var Wa=function(t){function e(){var e=t.call(this)||this;e._elements=new vr,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new ma;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+fr.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new gr(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){var t=this,e=this.element;if(e){e.removeChildNodes();var i=this.paper.add("rect");i.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":this.backgroundOpacity}),e.add(i),e.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),ir(this._elements.iterator(),(function(e){e.rotation=t.rotation,e.rotationX=t.properties.rotationX,e.rotationY=t.properties.rotationY,t.element.add(e)}))}},e.prototype.animate=function(t,e,i){return new Jn(this,t,e,i).start()},e.prototype.addElement=function(t){this._elements.push(t),this._disposers.push(t)},e.prototype.removeElement=function(t){this._elements.removeValue(t),this.removeDispose(t)},Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(t){this.properties.fillOpacity=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.properties.fill},set:function(t){this.properties.fill=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(t){this.properties.backgroundFill=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(t){this.properties.backgroundOpacity=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(t){this.properties.stroke=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(t){this.properties.strokeOpacity=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(t){this.properties.strokeWidth=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(t){this.properties.shapeRendering=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(t){this.properties.rotation=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(t){this.properties.patternUnits=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.properties.width},set:function(t){this.properties.width=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.properties.height},set:function(t){this.properties.height=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.properties.x},set:function(t){this.properties.x=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.properties.y},set:function(t){this.properties.y=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:Xa()},set:function(t){this._paper!=t&&(this._paper=t,this.draw(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),qi(e.properties,(function(t,e){i[t]=e}))},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Kn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(t){this.properties.strokeDashArray=t,this.draw()},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(e&&ge(e.elements)&&Ce(e.elements))for(var i=0,r=e.elements.length;i<r;i++){var n=e.elements[i];if(ge(n.type)){var a=this.createEntryInstance(n);a instanceof Hr&&(a.config=n),this.addElement(ge(n.typeProperty)?a[n.typeProperty]:a.element)}}t.prototype.processConfig.call(this,e)},e}(Hr);fr.registeredClasses.Pattern=Wa;var Ga=function(t){function e(){var e=t.call(this)||this;return e._stops=new vr,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+fr.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){var t=this,e=(this._rotation+90)*Se,i=Math.round(50+50*Math.sin(e+Math.PI))+"%",r=Math.round(50+50*Math.cos(e))+"%",n=Math.round(50+50*Math.sin(e))+"%",a=Math.round(50+50*Math.cos(e+Math.PI))+"%",o=this.element;o.removeChildNodes(),o.attr({x1:i,x2:n,y1:r,y2:a}),ir(ar(this._stops.iterator()),(function(e){var i=e[0],r=e[1],n=r.offset;we(n)||(n=i/(t._stops.length-1));var a=t.paper.add("stop");ge(r.color)&&a.attr({"stop-color":r.color.toString()}),we(r.opacity)&&a.attr({"stop-opacity":r.opacity}),we(n)&&a.attr({offset:n}),o.add(a)}))},e.prototype.clear=function(){this._stops.clear()},e.prototype.addColor=function(t,e,i){this._stops.push({color:t,opacity:e,offset:i})},Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:Xa()},set:function(t){this._paper!=t&&(this._paper=t,this.validate(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this.validate()},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(e.prototype,"gradientUnits",{set:function(t){this.element.attr({gradientUnits:t})},enumerable:!0,configurable:!0}),e}(Hr);fr.registeredClasses.LinearGradient=Ga;var Ya=function(t){function e(){var e=t.call(this)||this;return e._stops=new vr,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+fr.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){var t,e=this,i=this.element;we(this.cx)&&((t=this.cx)instanceof ce&&(t=t.percent+"%"),i.attr({cx:t})),we(this.cy)&&((t=this.cy)instanceof ce&&(t=t.percent+"%"),i.attr({cy:t})),this.fx&&((t=this.fx)instanceof ce&&(t=t.percent+"%"),i.attr({fx:t})),this.fy&&((t=this.fy)instanceof ce&&(t=t.percent+"%"),i.attr({fy:t})),i.removeChildNodes(),ir(ar(this._stops.iterator()),(function(t){var r=t[0],n=t[1],a=n.offset;we(a)||(a=r/(e._stops.length-1));var o=e.paper.add("stop");ge(n.color)&&o.attr({"stop-color":n.color.toString()}),we(n.opacity)&&o.attr({"stop-opacity":n.opacity}),we(a)&&o.attr({offset:a}),i.add(o)}))},e.prototype.addColor=function(t,e,i){this._stops.push({color:t,opacity:e,offset:i}),this.draw()},Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:Xa()},set:function(t){this._paper!=t&&(this._paper=t,this.draw(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cx",{get:function(){return this._cx},set:function(t){this._cx=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this._cy},set:function(t){this._cy=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fx",{get:function(){return this._fx},set:function(t){this._fx=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fy",{get:function(){return this._fy},set:function(t){this._fy=t,this.draw()},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._stops.clear()},e}(Hr);fr.registeredClasses.RadialGradient=Ya;var qa,Ka=function(){function t(){}return t.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],t.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],t.pointer=[{property:"cursor",value:"pointer"}],t.default=[{property:"cursor",value:"default"}],t.horizontalResize=[{property:"cursor",value:"ew-resize"}],t.verticalResize=[{property:"cursor",value:"ns-resize"}],t.notAllowed=[{property:"cursor",value:"not-allowed"}],t.text=[{property:"cursor",value:"text"}],t}(),Ja={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){var e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd"}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},Za=function(t){function e(){var e=t.call(this)||this;return e.adapter=new kr(e),e._locale=Ja,e._defaultLocale=Ja,e.className="Language",ge(Nn.defaultLocale)&&(e.locale=Nn.defaultLocale),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.getLocale=function(t){return null==t&&(t=this._locale),this.adapter.apply("locale",{locale:t}).locale},e.prototype.translate=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];e=this.getLocale(e);var n=t,a=this.getTranslations(e),o=a[t];if(null===o)o="";else if(ge(o))o&&(n=o);else if(e!==this._defaultLocale)return this.translate.apply(this,Object(h.h)([t,this._defaultLocale],i));if(i.length)for(var s=i.length,l=0;l<s;++l)n=n.split("%"+(l+1)).join(i[l]);return this.adapter.apply("translate",{translation:n,locale:e}).translation},e.prototype.translateAny=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return this.translate(t,e)},e.prototype.translateEmpty=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this.translate.apply(this,Object(h.h)([t,e],i));return n==t?"":n},e.prototype.translateFunc=function(t,e){e=this.getLocale(e);var i=this.getTranslations(e)[t];return null!=i?i:e!==this._defaultLocale?this.translateFunc(t,this._defaultLocale):function(){return""}},e.prototype.translateAll=function(t,e){var i=this;return this.isDefault()?t:ai(t,(function(t){return i.translate(t,e)}))},e.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale!=t&&(this._locale=t,this.events.isEnabled("localechanged")&&this.events.dispatchImmediately("localechanged",{type:"localechanged",locale:t,target:this}))},enumerable:!0,configurable:!0}),e.prototype.getTranslations=function(t){return this.adapter.apply("translations",{translations:t,locale:t}).translations},e}(jr),Qa=function(t){function e(){var e=t.call(this)||this;return e.adapter=new kr(e),e.className="TextFormatter",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.debug=function(){},e.prototype.format=function(t,e){ge(e)||(e="svg");var i="",r=(t=this.escape(t)).match(/\[([^\]]*?)\]/gm);if(!r)return this.wrap(t,"",e);for(var n=t.split(/\[[^\[\]]*\]/),a=0,o=n.length;a<o;a++){var s=n[a];if(""!==s){s=this.adapter.apply("chunk",s);var l="";a>0&&(l=r[a-1].replace("[","").replace("]","")),i+=this.wrap(s,l,e)}}return i=this.unescape(i),this.cleanUp(i)},e.prototype.escape=function(t){return t.replace(/\[\[/g,fr.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+fr.getPlaceholder("2")).replace(/\]\]/g,fr.getPlaceholder("2")).replace(/\{\{/g,fr.getPlaceholder("3")).replace(/\}\}/g,fr.getPlaceholder("4")).replace(/\'\'/g,fr.getPlaceholder("5"))},e.prototype.unescape=function(t){return t.replace(new RegExp(fr.getPlaceholder("1"),"g"),"[[").replace(new RegExp(fr.getPlaceholder("2"),"g"),"]]").replace(new RegExp(fr.getPlaceholder("3"),"g"),"{{").replace(new RegExp(fr.getPlaceholder("4"),"g"),"}}").replace(new RegExp(fr.getPlaceholder("5"),"g"),"'")},e.prototype.cleanUp=function(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},e.prototype.wrap=function(t,e,i){switch(""!==e&&"/"!==e||(e=""),i){case"html":return this.wrapHtml(t,this.translateStyleShortcuts(e));default:return this.wrapSvg(t,this.translateStyleShortcuts(e))}},e.prototype.wrapSvg=function(t,e){return""===e?"<tspan>"+t+"</tspan>":"<tspan style='"+e+"'>"+t+"</tspan>"},e.prototype.getSvgElement=function(t,e){var i=new fa("tspan");return i.textContent=t,e&&i.node.setAttribute("style",e),i},e.prototype.wrapHtml=function(t,e){return""===e?"<span>"+t+"</span>":"<span style='"+this.styleSvgToHtml(e)+"'>"+t+"</span>"},e.prototype.getHtmlElement=function(t,e){var i=document.createElement("span");return i.innerHTML=t,e&&i.setAttribute("style",e),i},e.prototype.styleSvgToHtml=function(t){return t.replace(/fill:/,"color:")},e.prototype.translateStyleShortcuts=function(t){if(""==t||"[ ]"==t)return"";var e=fr.getCache("translateStyleShortcuts_"+t);if(e)return e;var i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(var r=0;r<i.length;r++)t=t.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var n=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!n)return t;for(r=0;r<n.length;r++)n[r]=n[r].match(/^bold$/i)?"font-weight:"+n[r]:"/"==n[r]?"":n[r].match(/:/)?n[r].replace(/\+/g," "):"fill:"+n[r];var a=n.join(";");return fr.setCache("translateStyleShortcuts_"+t,a),a},e.prototype.chunk=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=[];t=this.escape(t);for(var n=e?t.split("'"):[t],a=0;a<n.length;a++){var o=n[a];if(""!==o)if(a%2==0)for(var s=(o=(o=o.replace(/\]\[/g,"]__\xa7\xa7\xa7__[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),l=0;l<s.length;l++)"__\xa7\xa7\xa7__"!==(c=this.cleanUp(this.unescape(s[l])))&&""!==c&&r.push(l%2==0?{type:"value",text:this.adapter.apply("chunk",c)}:{type:i?"value":"format",text:"["+c+"]"});else for(s=o.split(/[\[\]]+/),l=0;l<s.length;l++){var c;""!==(c=this.cleanUp(this.unescape(s[l])))&&(l%2==0?r.push({type:"text",text:c}):this.isImage(c)?r.push({type:"image",text:"["+c+"]"}):r.push({type:"format",text:"["+c+"]"}))}}return r},e.prototype.isImage=function(t){return!!t.match(/img[ ]?:/)},e}(Hr);function $a(){return null==qa&&(qa=new Qa),qa}fr.registeredClasses.TextFormatter=Qa;var to=function(t){function e(){var e=t.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e.className="NumberFormatter",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this._language=this.sprite?this.sprite.language:new Za),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),e.prototype.format=function(t,e,i){var r;(void 0===e||xe(e)&&"number"===e.toLowerCase())&&(e=this._numberFormat);var n=Number(t);if(e instanceof Object)try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,e).format(n):new Intl.NumberFormat(void 0,e).format(n)}catch(s){return"Invalid"}else{e=rn(e);var a=this.parseFormat(e,this.language),o=void 0;o=n>this._negativeBase?a.positive:n<this._negativeBase?a.negative:a.zero,ge(i)&&!o.mod&&((o=JSON.parse(JSON.stringify(o))).decimals.active=0==n?0:i),r=o.template.split("__\xa7\xa7\xa7__").join(this.applyFormat(n,o))}return r},e.prototype.parseFormat=function(t,e){var i=this,r=this.getCache(t);if(ge(r))return r;var n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:e.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:e.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},a=(t=t.replace("||","__\xa7\xa7\xa7\xa7__")).split("|");return n.positive.source=a[0],void 0===a[2]?n.zero=n.positive:n.zero.source=a[2],void 0===a[1]?n.negative=n.positive:n.negative.source=a[1],qi(n,(function(t,e){if(!e.parsed)if(void 0===i.getCache(e.source)){var r=e.source;"number"===r.toLowerCase()&&(r=xe(i._numberFormat)?i._numberFormat:"#,###.#####");for(var a=$a().chunk(r,!0),o=0;o<a.length;o++){var s=a[o];if(s.text=s.text.replace("__\xa7\xa7\xa7\xa7__","|"),"value"===s.type){var l=s.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES\u2030!]?/);if(l)if(null===l||""===l[0])e.template+=s.text;else{var c=l[0].match(/[abesABES%\u2030!]{2}|[abesABES%\u2030]{1}$/);c&&(e.mod=c[0].toLowerCase(),e.modSpacing=!!l[0].match(/[ ]{1}[abesABES%\u2030!]{1}$/));var u=l[0].split(".");if(""===u[0]);else{e.thousands.active=(u[0].match(/0/g)||[]).length,e.thousands.passive=(u[0].match(/\#/g)||[]).length+e.thousands.active;var h=u[0].split(",");1===h.length||(e.thousands.interval=ye(h.pop()).length,0===e.thousands.interval&&(e.thousands.interval=-1))}void 0===u[1]||(e.decimals.active=(u[1].match(/0/g)||[]).length,e.decimals.passive=(u[1].match(/\#/g)||[]).length+e.decimals.active),e.template+=s.text.split(l[0]).join("__\xa7\xa7\xa7__")}}else e.template+=s.text}i.setCache(e.source,e),e.parsed=!0}else n[t]=i.getCache(e.source)})),this.setCache(t,n),n},e.prototype.applyFormat=function(t,e){var i=t<0;t=Math.abs(t);var r,n="",a="",o=e.mod?e.mod.split(""):[];if(-1!==o.indexOf("b")){var s=this.applyPrefix(t,this.bytePrefixes,-1!==o.indexOf("!"));t=s[0],n=s[1],a=s[2],e.modSpacing&&(a=" "+a)}else if(-1!==o.indexOf("a")){var l=this.applyPrefix(t,t<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==o.indexOf("!"));t=l[0],n=l[1],a=l[2],e.modSpacing&&(a=" "+a)}else if(-1!==o.indexOf("%")){var c=Re(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(c)),a="%"}else-1!==o.indexOf("\u2030")&&(c=Re(t.toString().length+3,21),t*=1e3,t=parseFloat(t.toPrecision(c)),a="\u2030");if(-1!==o.indexOf("e"))r=e.decimals.passive>=0?t.toExponential(e.decimals.passive).split("e"):t.toExponential().split("e"),t=Number(r[0]),a="e"+r[1],e.modSpacing&&(a=" "+a);else if(0===e.decimals.passive)t=Math.round(t);else if(e.decimals.passive>0){var u=Math.pow(10,e.decimals.passive);t=Math.round(t*u)/u}var h="",p=function(t){if(he(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t==-1/0)return"-0";var e=t<0;t=Math.abs(t);var i,r=ye(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t)),n=r[1],a=r[2]||"";if(null==r[3])i=""===a?n:n+"."+a;else{var o,s=+r[3];i=t<1?"0."+cr("0",o=s-1)+n+a:0==(o=s-a.length)?n+a:o<0?n+a.slice(0,o)+"."+a.slice(o):n+a+cr("0",o)}return e?"-"+i:i}(t).split("."),d=p[0];if(d.length<e.thousands.active&&(d=Array(e.thousands.active-d.length+1).join("0")+d),e.thousands.interval>0){for(var f=[],b=d.split("").reverse().join(""),m=0,g=d.length;m<=g;m+=e.thousands.interval){var y=b.substr(m,e.thousands.interval).split("").reverse().join("");""!==y&&f.unshift(y)}d=f.join(e.thousands.separator)}h+=d,1===p.length&&p.push("");var v=p[1];return v.length<e.decimals.active&&(v+=Array(e.decimals.active-v.length+1).join("0")),""!==v&&(h+=e.decimals.separator+v),""===h&&(h="0"),0!==t&&i&&-1===o.indexOf("s")&&(h="-"+h),n&&(h=n+h),a&&(h+=a),h},e.prototype.applyPrefix=function(t,e,i){void 0===i&&(i=!1);for(var r=t,n="",a="",o=!1,s=1,l=0,c=e.length;l<c;l++)e[l].number<=t&&(0===e[l].number?r=0:(r=t/e[l].number,s=e[l].number),n=e[l].prefix,a=e[l].suffix,o=!0);return!o&&i&&e.length&&0!=t&&(r=t/e[0].number,n=e[0].prefix,a=e[0].suffix,o=!0),o&&(r=parseFloat(r.toPrecision(Re(s.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,n,a]},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(t){this._intlLocales=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(t){this._negativeBase=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bigNumberPrefixes",{get:function(){return ge(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(t){this._bigNumberPrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smallNumberPrefixes",{get:function(){return ge(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(t){this._smallNumberPrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(t){this._smallNumberThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bytePrefixes",{get:function(){return ge(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(t){this._bytePrefixes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e.prototype.escape=function(t){return t.replace("||","__\xa7\xa7\xa7\xa7__")},e.prototype.unescape=function(t){return t.replace("__\xa7\xa7\xa7\xa7__","|")},e}(Hr);fr.registeredClasses.NumberFormatter=to;var eo=function(t){function e(){var e=t.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),e.prototype.format=function(t,e){var i,r;if(this.language||(this.language=this.sprite?this.sprite.language:new Za),void 0!==e&&""!==e||(e=this._dateFormat),r=xe(t)?this.parse(t):on(t),e instanceof Object)try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,e).format(r):new Intl.DateTimeFormat(void 0,e).format(r)}catch(a){return"Invalid"}else{e=rn(e);var n=this.parseFormat(e);if(ge(this.timezoneOffset)&&r.setMinutes(r.getMinutes()+r.getTimezoneOffset()-this.timezoneOffset),!we(r.getTime()))return this.language.translate("Invalid date");i=this.applyFormat(r,n,this.language),this.capitalize&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase()))}return i},e.prototype.parseFormat=function(t){var e=this.getCache(t);if(ge(e))return e;for(var i={template:"",parts:[]},r=$a().chunk(t,!0),n=0;n<r.length;n++){var a=r[n];if("value"===a.type){a.text.match(/^date$/i)&&xe(this._dateFormat)&&(a.text=this._dateFormat);var o=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(var s=0;s<o.length;s++)i.parts.push(o[s]),a.text=a.text.replace(o[s],"__\xa7\xa7\xa7__")}i.template+=a.text}return this.setCache(t,i),i},e.prototype.applyFormat=function(t,e,i){var r,n,a,o,s,l,c,u,h=e.template,p=t.getTimezoneOffset(),d=t.getTime();this.utc?(r=t.getUTCFullYear(),n=t.getUTCMonth(),a=t.getUTCDay(),o=t.getUTCDate(),s=t.getUTCHours(),l=t.getUTCMinutes(),c=t.getUTCSeconds(),u=t.getUTCMilliseconds()):(r=t.getFullYear(),n=t.getMonth(),a=t.getDay(),o=t.getDate(),s=t.getHours(),l=t.getMinutes(),c=t.getSeconds(),u=t.getMilliseconds());for(var f=0,b=e.parts.length;f<b;f++){var m="";switch(e.parts[f]){case"G":m=i.translate(r<0?"_era_bc":"_era_ad");break;case"yyyy":m=Math.abs(r).toString(),r<0&&(m+=i.translate("_era_bc"));break;case"yyy":case"yy":case"y":m=Math.abs(r).toString().substr(-e.parts[f].length),r<0&&(m+=i.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var g=r;1==cn(t)&&a>1&&g--,m="YYYY"==e.parts[f]?Math.abs(g).toString():Math.abs(g).toString().substr(-e.parts[f].length),g<0&&(m+=i.translate("_era_bc"));break;case"u":break;case"MMMMM":m=i.translate(this.months[n]).substr(0,1);break;case"MMMM":m=i.translate(this.months[n]);break;case"MMM":m=i.translate(this.monthsShort[n]);break;case"MM":m=en(n+1,2,"0");break;case"M":m=(n+1).toString();break;case"ww":m=en(cn(t,this.utc),2,"0");break;case"w":m=cn(t,this.utc).toString();break;case"W":m=un(t,this.utc).toString();break;case"dd":m=en(o,2,"0");break;case"d":m=o.toString();break;case"DD":case"DDD":m=en(ln(t,this.utc).toString(),e.parts[f].length,"0");break;case"D":m=ln(t,this.utc).toString();break;case"F":case"g":break;case"t":m=i.translateFunc("_dateOrd").call(this,o);break;case"E":m=(a||7).toString();break;case"EE":m=en((a||7).toString(),2,"0");break;case"EEE":case"eee":m=i.translate(this.weekdaysShort[a]);break;case"EEEE":case"eeee":m=i.translate(this.weekdays[a]);break;case"EEEEE":case"eeeee":m=i.translate(this.weekdays[a]).substr(0,1);break;case"e":case"ee":m=(a-this.firstDayOfWeek+1).toString(),"ee"==e.parts[f]&&(m=en(m,2,"0"));break;case"a":m=i.translate(s>=12?"PM":"AM");break;case"aa":m=i.translate(s>=12?"P.M.":"A.M.");break;case"aaa":m=i.translate(s>=12?"P":"A");break;case"h":m=hn(s).toString();break;case"hh":m=en(hn(s),2,"0");break;case"H":m=s.toString();break;case"HH":m=en(s,2,"0");break;case"K":m=hn(s,0).toString();break;case"KK":m=en(hn(s,0),2,"0");break;case"k":m=(s+1).toString();break;case"kk":m=en(s+1,2,"0");break;case"m":m=l.toString();break;case"mm":m=en(l,2,"0");break;case"s":m=c.toString();break;case"ss":m=en(c,2,"0");break;case"S":case"SS":case"SSS":m=Math.round(u/1e3*Math.pow(10,e.parts[f].length)).toString();break;case"x":m=d.toString();break;case"n":case"nn":case"nnn":m=en(u,e.parts[f].length,"0");break;case"z":m=pn(t,!1,!1,this.utc);break;case"zz":m=pn(t,!0,!1,this.utc);break;case"zzz":m=pn(t,!1,!0,this.utc);break;case"zzzz":m=pn(t,!0,!0,this.utc);break;case"Z":case"ZZ":var y=Math.abs(p)/60,v=Math.floor(y),_=60*y-60*v;this.utc&&(v=0,_=0),"Z"==e.parts[f]?(m="GMT",m+=p>0?"-":"+",m+=en(v,2)+":"+en(_,2)):(m=p>0?"-":"+",m+=en(v,2)+en(_,2));break;case"i":m=t.toISOString();break;case"I":m=t.toUTCString()}h=h.replace("__\xa7\xa7\xa7__",m)}return h},e.prototype.parse=function(t,e){if(ge(e)||(e=this.inputDateFormat),t instanceof Date)return t;if("number"==typeof t)return new Date(t);var i;"string"!=typeof t&&(t=t.toString()),this.language||(this.language=this.sprite?this.sprite.language:new Za);var r="";e=(e=rn(e)).substr(0,t.length);for(var n=this.parseFormat(e),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},s=0,l=0,c=0;c<n.parts.length;c++){switch(l=c+s+1,n.parts[c]){case"yyyy":case"YYYY":r+="([0-9]{4})",a.year=l;break;case"yyy":case"YYY":r+="([0-9]{3})",a.year3=l;break;case"yy":case"YY":r+="([0-9]{2})",a.year2=l;break;case"y":case"Y":r+="([0-9]{1})",a.year1=l;break;case"MMMM":r+="("+this.getStringList(this.months).join("|")+")",a.monthLong=l;break;case"MMM":r+="("+this.getStringList(this.monthsShort).join("|")+")",a.monthShort=l;break;case"MM":case"M":r+="([0-9]{2}|[0-9]{1})",a.month=l;break;case"ww":case"w":r+="([0-9]{2}|[0-9]{1})",a.week=l;break;case"dd":case"d":r+="([0-9]{2}|[0-9]{1})",a.day=l;break;case"DDD":case"DD":case"D":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=l;break;case"dddd":r+="("+this.getStringList(this.weekdays).join("|")+")",a.weekdayLong=l;break;case"ddd":r+="("+this.getStringList(this.weekdaysShort).join("|")+")",a.weekdayShort=l;break;case"aaa":case"aa":case"a":r+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=l;break;case"hh":case"h":r+="([0-9]{2}|[0-9]{1})",a.hour12Base1=l;break;case"HH":case"H":r+="([0-9]{2}|[0-9]{1})",a.hourBase0=l;break;case"KK":case"K":r+="([0-9]{2}|[0-9]{1})",a.hour12Base0=l;break;case"kk":case"k":r+="([0-9]{2}|[0-9]{1})",a.hourBase1=l;break;case"mm":case"m":r+="([0-9]{2}|[0-9]{1})",a.minute=l;break;case"ss":case"s":r+="([0-9]{2}|[0-9]{1})",a.second=l;break;case"SSS":case"SS":case"S":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l,a.millisecondDigits=n.parts[c].length;break;case"nnn":case"nn":case"n":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l;break;case"x":r+="([0-9]{1,})",a.timestamp=l;break;case"Z":r+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=l;break;case"ZZ":r+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=l;break;case"i":r+="([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})[0-9]*([Zz]?)",a.iso=l,s+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":s--}r+="[^0-9]*"}var u=new RegExp(r),h=t.match(u);if(h){if(a.year>-1&&(o.year=parseInt(h[a.year])),a.year3>-1){var p=parseInt(h[a.year3]);o.year=p+=1e3}if(a.year2>-1&&(p=parseInt(h[a.year2]),o.year=p+=p>50?1e3:2e3),a.year1>-1&&(p=parseInt(h[a.year1]),p=10*Math.floor((new Date).getFullYear()/10)+p,o.year=p),a.monthLong>-1&&(o.month=this.resolveMonth(h[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(h[a.monthShort])),a.month>-1&&(o.month=parseInt(h[a.month])-1),a.week>-1&&-1===a.day&&(o.month=0,o.day=function(t,e,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var n=new Date(e,0,4,0,0,0,0);return r&&n.setUTCFullYear(e),7*t+i-((n.getDay()||7)+3)}(parseInt(h[a.week]),o.year,1,this.utc)),a.day>-1&&(o.day=parseInt(h[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(h[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(h[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(h[a.hourBase1])-1),a.hour12Base0>-1&&(11==(p=parseInt(h[a.hour12Base0]))&&(p=0),a.am>-1&&!this.isAm(h[a.am])&&(p+=12),o.hour=p),a.hour12Base1>-1&&(12==(p=parseInt(h[a.hour12Base1]))&&(p=0),a.am>-1&&!this.isAm(h[a.am])&&(p+=12),o.hour=p),a.minute>-1&&(o.minute=parseInt(h[a.minute])),a.second>-1&&(o.second=parseInt(h[a.second])),a.millisecond>-1&&(p=parseInt(h[a.millisecond]),2==a.millisecondDigits?p*=10:1==a.millisecondDigits&&(p*=100),o.millisecond=p),a.timestamp>-1&&(o.timestamp=parseInt(h[a.timestamp])),a.zone>-1){var d=ye(h[a.zone].replace(/:/,"").match(/([+\-]?)([0-9]{2})([0-9]{2})/)),f=d[1],b=d[3],m=60*parseInt(d[2])+parseInt(b);"+"==f&&(m*=-1);var g=(new Date).getTimezoneOffset();o.offset=m-g}a.iso>-1&&("Z"!=h[a.iso+7]&&"z"!=h[a.iso+7]||(o.utc=!0),o.year=be(h[a.iso+0]),o.month=be(h[a.iso+1])-1,o.day=be(h[a.iso+2]),o.hour=be(h[a.iso+3]),o.minute=be(h[a.iso+4]),o.second=be(h[a.iso+5]),o.millisecond=be(h[a.iso+6])),i=o.utc?new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):new Date(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)}else i=new Date(t);return i},e.prototype.resolveMonth=function(t){var e=this.months.indexOf(t);return e>-1?e:this.language&&!this.language.isDefault()&&(e=this.language.translateAll(this.months).indexOf(t))>-1?e:0},e.prototype.resolveShortMonth=function(t){var e=this.monthsShort.indexOf(t);return e>-1?e:(e=this.months.indexOf(t))>-1?e:this.language&&!this.language.isDefault()&&(e=this.language.translateAll(this.monthsShort).indexOf(t))>-1?e:0},e.prototype.isAm=function(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},e.prototype.getStringList=function(t){for(var e=[],i=0;i<t.length;i++)e.push(Kr(this.language?this.language.translate(t[i]):t[i]));return e},Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(t){this._dateFormat=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(t){this._inputDateFormat=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(t){this._intlLocales=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"utc",{get:function(){return this._utc},set:function(t){this._utc=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(t){this._timezoneOffset!=t&&(this._timezoneOffset=t,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(t){this._firstDayOfWeek=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e}(Hr);fr.registeredClasses.DateFormatter=eo;var io=function(t){function e(){var e=t.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.format=function(t,e,i){this.language||(this.language=this.sprite?this.sprite.language:new Za);var r=i||this._baseUnit;void 0!==e&&""!==e||(e=ge(this.durationFormat)?this.durationFormat:this.getFormat(be(t),null,r)),e=rn(e);var n,a=this.parseFormat(e,r),o=Number(t),s=this.applyFormat(o,n=o>this._negativeBase?a.positive:o<this._negativeBase?a.negative:a.zero);return""!==n.color&&("svg"===this._outputFormat?s="<tspan fill='"+n.color+"'>"+s+"</tspan>":"html"===this._outputFormat&&(s="<span style='color: "+n.color+";'>"+s+"</span>")),s},e.prototype.parseFormat=function(t,e){var i=this,r=this.getCache(t);if(ge(r))return r;var n=e||this._baseUnit,a={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}},o=(t=t.replace("||","__\xa7\xa7\xa7\xa7__")).split("|");return a.positive.source=o[0],void 0===o[2]?a.zero=a.positive:a.zero.source=o[2],void 0===o[1]?a.negative=a.positive:a.negative.source=o[1],qi(a,(function(t,e){if(!e.parsed)if(void 0===i.getCache(e.source)){var r,n=e.source;(r=e.source.match(/^\[([^\]]*)\]/))&&r.length&&""!==r[0]&&(n=e.source.substr(r[0].length),e.color=r[1]);for(var o=$a().chunk(n,!0),s=0;s<o.length;s++){var l=o[s];if(l.text=l.text.replace("__\xa7\xa7\xa7\xa7__","|"),"value"===l.type){l.text.match(/[yYMdDwhHKkmsSn]+a/)&&(e.absolute=!0,l.text=l.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var c=l.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(c)for(var u=0;u<c.length;u++)ge(c[u])||(c[u]=i._unitAliases[c[u]]),e.parts.push(c[u]),l.text=l.text.replace(c[u],"__\xa7\xa7\xa7__")}e.template+=l.text}i.setCache(e.source,e),e.parsed=!0}else a[t]=i.getCache(e.source)})),this.setCache(t,a),a},e.prototype.applyFormat=function(t,e){var i=!e.absolute&&t<this._negativeBase;t=Math.abs(t);for(var r=this.toTimeStamp(t,e.baseUnit),n=e.template,a=0,o=e.parts.length;a<o;a++){var s=e.parts[a],l=this.toTimeUnit(s.substr(0,1)),c=s.length,u=Math.floor(r/this._unitValues[l]);n=n.replace("__\xa7\xa7\xa7__",en(u,c,"0")),r-=u*this._unitValues[l]}return i&&(n="-"+n),n},e.prototype.toTimeStamp=function(t,e){return t*this._unitValues[e]},e.prototype.toTimeUnit=function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(e.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e.prototype.getFormat=function(t,e,i){if(ge(this.durationFormat))return this.durationFormat;if(i||(i=this.baseUnit),ge(e)&&t!=e){t=Math.abs(t),e=Math.abs(e);var r=this.getValueUnit(Ee(t,e),i);return this.durationFormats[i][r]}var n=this.getValueUnit(t,i);return this.durationFormats[i][n]},e.prototype.getValueUnit=function(t,e){var i;e||(e=this.baseUnit);var r=this.getMilliseconds(t,e);return Yi(this._unitValues,(function(t,n){if(t==e||i){if(r/n<=1)return i||(i=t),!1;i=t}return!0})),i},e.prototype.getMilliseconds=function(t,e){return e||(e=this.baseUnit),t*this._unitValues[e]},Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(t){this._durationFormat!=t&&(this._durationFormat=t,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(t){this._durationFormats=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),e}(Hr);fr.registeredClasses.DurationFormatter=io;var ro,no=new hr,ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._validateDisposer=null,e}return Object(h.d)(e,t),e.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=fr.events.on("exitframe",this.validate,this))},e.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},e.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),t.prototype.dispose.call(this)},e}(jr),oo=function(t){function e(){var e=t.call(this)||this;return e.adapter=new kr(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new Oi,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){this.draw(),t.prototype.validate.call(this)},e.prototype.draw=function(){var t=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),ye(this._container).appendChild(this._element);for(var e=this.adapter.apply("items",{items:this._items}).items,i=e.length,r=0;r<i;r++)this.drawBranch(this._element,e[r],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(Da().body.events.on("down",(function(e){e.pointer.touch||(t._ignoreNextClose=!1),t.close()}))),this._disposers.push(Da().body.events.on("keyup",(function(e){var i=wa.getEventKey(e.event);switch(i){case"esc":t.close();break;case"up":case"down":case"left":case"right":t.moveSelection(i)}}))),this.defaultStyles&&this.loadDefaultCSS()},e.prototype.drawBranch=function(t,e,i){var r=this;if(!0!==(e=this.adapter.apply("branch",{branch:e,level:i}).branch).unsupported){e.ascendants||(e.ascendants=new vr);var n,a=e.type,o=this.createItemElement(i,a);e.icon?((n=this.createIconElement(i,a)).src=e.icon,e.label&&(n.title=e.label)):e.svg?(n=this.createSvgElement(i,a,e.svg),e.label&&(n.title=e.label)):(n=this.createLabelElement(i,a)).innerHTML=e.label?this.language.translate(e.label):"";var s=this.getReaderLabel(e,n.innerHTML);n.setAttribute("aria-label",s),o.appendChild(n),e.interactions=Da().getInteraction(n),e.element=o,this.typeClickable(a)&&(e.interactions.events.on("hit",(function(t){r.events.isEnabled("hit")&&r.events.dispatchImmediately("hit",{type:"hit",event:t.event,target:r,branch:e})})),e.interactions.events.on("keyup",(function(t){wa.isKey(t.event,"enter")&&r.events.isEnabled("enter")&&r.events.dispatchImmediately("enter",{type:"enter",event:t.event,target:r,branch:e})})));var l=this.getSubMenu(e);null!=l&&(e.interactions.events.on("keyup",(function(t){wa.isKey(t.event,"enter")&&(r.selectBranch(l[0]),r.setFocus(l[0]))})),e.interactions.events.on("hit",(function(t){r.selectBranch(e)}))),e.interactions.events.on("over",(function(t){t.pointer.touch&&(r._ignoreNextClose=!0),r.selectBranch(e),r.events.isEnabled("over")&&r.events.dispatchImmediately("over",{type:"over",event:t.event,target:r,branch:e})})),e.interactions.events.on("out",(function(t){t.pointer.touch||r.delayUnselectBranch(e),r.events.isEnabled("out")&&r.events.dispatchImmediately("out",{type:"out",event:t.event,target:r,branch:e})})),e.interactions.events.on("focus",(function(t){r.selectBranch(e)})),e.interactions.events.on("blur",(function(t){r.delayUnselectBranch(e)}));var c=i+1;if(e.menu){for(var u=this.createMenuElement(c),h=e.menu.length,p=0;p<h;p++){var d=new vr;e.menu[p].ascendants=d,e.ascendants.length&&d.copyFrom(e.ascendants),d.push(e),this.drawBranch(u,e.menu[p],c)}if(""==u.innerHTML)return;o.appendChild(u)}e.hidden&&this.hideBranch(e),e.id&&o.setAttribute("id",e.id),e.color&&(o.style.backgroundColor=e.color.hex),t.appendChild(o)}},e.prototype.createMenuElement=function(t){var e=document.createElement(this.menuTag);return e.className=this.getMenuItemClass(t),0===t&&e.setAttribute("role","menu"),e},e.prototype.getMenuItemClass=function(t){var e=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+t;return 0===t&&(e+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:e,level:t}).className},e.prototype.createItemElement=function(t,e){var i=document.createElement(this.itemTag);return i.className=this.adapter.apply("itemClass",{className:this.classPrefix+"-item "+this.classPrefix+"-item-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank"),level:t,type:e}).className,i.setAttribute("role","menuitem"),i},e.prototype.createLabelElement=function(t,e){var i=document.createElement(this.labelTag),r=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(r+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:r,level:t,type:e}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},e.prototype.createIconElement=function(t,e){var i=document.createElement(this.iconTag),r=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(r+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:r,level:t,type:e}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},e.prototype.createSvgElement=function(t,e,i){var r=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement,n=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+t+" "+this.classPrefix+"-item-"+(e||"blank");return this.typeClickable(e)&&(n+=" "+this.classPrefix+"-clickable"),r.setAttribute("class",this.adapter.apply("labelClass",{className:n,level:t,type:e}).className),r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},e.prototype.dispose=function(){this._disposed||(t.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},e.prototype.typeClickable=function(t){return ge(t)},e.prototype.hasSubMenu=function(t){return!(!t.menu||!t.menu.length)},e.prototype.getSubMenu=function(t){if(t.menu&&t.menu.length)return t.menu},e.prototype.getReaderLabel=function(t,e){return e=nn(e),this.hasSubMenu(t)?e+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==t.type?e=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(t.type)&&(e=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,e)),this.adapter.apply("rederLabel",{label:e,branch:t}).label},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{set:function(t){this._menuTag=t,this._itemTag="ul"==t?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(t){this._align=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(t){this._verticalAlign=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(t){this._classPrefix=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(t){this._defaultStyles!=t&&(this._defaultStyles=t,t&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.loadDefaultCSS=function(){var t,e,i;this._disposers.push((t=sa(this.container),e=this.classPrefix||"amexport",i=new ma,no.insertKeyIfEmpty(e,(function(){var r=new Ai([new ca(t,"."+e+"-menu *",{"box-sizing":"border-box"}),new ca(t,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new ca(t,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new ca(t,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new ca(t,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new ca(t,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new ca(t,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new ca(t,"div:hover ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new ca(t,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new ca(t,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new ca(t,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":i.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:i.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new ca(t,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new ca(t,"."+e+"-item:hover, ."+e+"-item.active",{background:i.getFor("secondaryButtonHover").hex,color:i.getFor("secondaryButtonText").hex}),new ca(t,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new ca(t,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new ca(t,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new ca(t,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new ca(t,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new ca(t,"."+e+"-item > ."+e+"-menu",{display:"none"}),new ca(t,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new ca(t,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new ca(t,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new ca(t,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new ca(t,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new ca(t,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new ca(t,"."+e+"-clickable",{cursor:"pointer"})]);return new Di((function(){no.removeKey(e),r.dispose()}))})).increment())),this._element&&(this._element.style.display="")},Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(t){this._tabindex=t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var t=this,e=this._language.get();return null==e&&(e=new Za,this._language.set(e,e.events.on("localechanged",(function(e){t.invalidate()})))),e},set:function(t){var e=this;this._language.set(t,t.events.on("localechanged",(function(t){e.invalidate()}))),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.close=function(){var t=this;if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout((function(){t._element.style.pointerEvents="auto"}),100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var e=this._element.getElementsByClassName("active"),i=e.length-1;i>=0;i--)e[i]&&ia(e[i],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},e.prototype.selectBranch=function(t){var e=this;t.closeTimeout&&(this.removeDispose(t.closeTimeout),t.closeTimeout=void 0),ea(t.interactions.element.parentElement,"active"),this._currentSelection&&this._currentSelection!==t&&this._currentSelection.ascendants&&ir(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var i=!0,r=function(t){return i=e(t)},n=t.length,a=0;a<n&&(t[a](r),i);++a);}}($i([this._currentSelection]),this._currentSelection.ascendants.iterator()),(function(i){t.ascendants.contains(i)||t===i||e.unselectBranch(i,!0)})),ir(t.ascendants.iterator(),(function(t){t.closeTimeout&&(e.removeDispose(t.closeTimeout),t.closeTimeout=void 0),ea(t.interactions.element.parentElement,"active")})),this._currentSelection=t,this.events.isEnabled("branchselected")&&this.events.dispatchImmediately("branchselected",{type:"branchselected",target:this,branch:t})},e.prototype.unselectBranch=function(t,e){ia(t.interactions.element.parentElement,"active"),this._currentSelection==t&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected")&&this.events.dispatchImmediately("branchunselected",{type:"branchunselected",target:this,branch:t})},e.prototype.delayUnselectBranch=function(t,e){var i=this;t.closeTimeout&&(this.removeDispose(t.closeTimeout),t.closeTimeout=void 0),t.closeTimeout=this.setTimeout((function(){i.unselectBranch(t,e)}),this.closeDelay),!0!==e&&t.ascendants&&ir(t.ascendants.iterator(),(function(t){i.delayUnselectBranch(t,!0)}))},e.prototype.moveSelection=function(t){if(this._currentSelection){var e;if("up"==t)e=this.getPrevSibling(this._currentSelection);else if("down"==t)e=this.getNextSibling(this._currentSelection);else if("left"==t&&"right"==this.align||"right"==t&&"left"==this.align){var i=this.getSubMenu(this._currentSelection);null!=i&&(e=i[0])}else("right"==t&&"right"==this.align||"left"==t&&"left"==this.align)&&(e=this.getParentItem(this._currentSelection));e&&e!==this._currentSelection&&(this.selectBranch(e),this.setFocus(e),this._currentSelection=e)}},e.prototype.getSiblings=function(t){var e=this.getParentItem(t);return e&&e.menu?e.menu:[]},e.prototype.getParentItem=function(t){return t.ascendants&&t.ascendants.length?t.ascendants.getIndex(t.ascendants.length-1):void 0},e.prototype.getNextSibling=function(t){var e=this.getSiblings(t);if(e.length>1){var i=e.indexOf(t)+1;return e[i=e.length==i?0:i].unsupported?this.getNextSibling(e[i]):e[i]}return t},e.prototype.getPrevSibling=function(t){var e=this.getSiblings(t);if(e.length>1){var i=e.indexOf(t)-1;return e[i=-1==i?e.length-1:i].unsupported?this.getPrevSibling(e[i]):e[i]}return t},e.prototype.setFocus=function(t){if(t.interactions)try{t.interactions.element.focus()}catch(e){}},e.prototype.setBlur=function(t){if(t.interactions)try{t.interactions.element.blur()}catch(e){}},e.prototype.hideBranch=function(t){t.element.style.display="none"},e.prototype.showBranch=function(t){t.element.style.display=""},e}(ao);function so(t,e,i){return new Promise((function(r,n){var a=ge(i)&&"blob"==i.responseType,o=new XMLHttpRequest;if(o.onload=function(){if(200===o.status){var t;if(a)return void(s=t=o.response,new Promise((function(t,e){var i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(t){e(t)},i.readAsText(s)}))).then((function(i){var n={xhr:o,error:!1,response:i,blob:t,type:o.getResponseHeader("Content-Type"),target:e};r(n)}));var i={xhr:o,error:!1,response:o.responseText||o.response,blob:t,type:o.getResponseHeader("Content-Type"),target:e};r(i)}else n({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:e});var s},o.onerror=function(){n({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:e})},o.open("GET",t,!0),i&&i.withCredentials&&(o.withCredentials=!0),ge(i)){if(ge(i.requestHeaders))for(var s=0;s<i.requestHeaders.length;s++){var l=i.requestHeaders[s];o.setRequestHeader(l.key,l.value)}ge(i.responseType)&&(o.responseType=i.responseType)}o.send()}))}var lo=/src: ([^;]+);/;function co(t){return Object(h.b)(this,void 0,void 0,(function(){var e;return Object(h.e)(this,(function(i){switch(i.label){case 0:e=t.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,e.cssRules];case 2:return i.sent(),[4,new Promise((function(i,r){t.addEventListener("load",(function(){i(e.cssRules)}),!0),t.addEventListener("error",(function(t){r(t)}),!0),setTimeout((function(){r(new Error("Timeout while waiting for <style> to load"))}),1e4)}))];case 3:return[2,i.sent()];case 4:return[2]}}))}))}function uo(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o;return Object(h.e)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,so(e)];case 1:return r=s.sent(),[3,3];case 2:return n=s.sent(),console.error("Failed to load stylesheet",e,n),[2];case 3:(a=t.createElement("style")).textContent=r.response,t.head.appendChild(a),s.label=4;case 4:return s.trys.push([4,,7,8]),[4,co(a)];case 5:return o=s.sent(),[4,ho(t,e,o,i)];case 6:return s.sent(),[3,8];case 7:return t.head.removeChild(a),[7];case 8:return[2]}}))}))}function ho(t,e,i,r){return Object(h.b)(this,void 0,void 0,(function(){var n,a,o,s,l;return Object(h.e)(this,(function(c){switch(c.label){case 0:for(n=[],a=i.length,o=0;o<a;o++)(s=i[o]).type===CSSRule.IMPORT_RULE?(l=s.href)&&(l=Sn(e,l),n.push(uo(t,l,r))):r(e,s);return n.length?[4,Promise.all(n)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}}))}))}function po(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i;return Object(h.e)(this,(function(r){switch(r.label){case 0:(e=document.createElement("iframe")).src="about:blank",e.setAttribute("title",""),document.head.appendChild(e),r.label=1;case 1:return r.trys.push([1,,3,4]),i=e.contentDocument,[4,Promise.all(ai(document.styleSheets,(function(e){var r=e.href;return null==r?ho(i,location.href,e.cssRules,t):(r=Sn(location.href,r),uo(i,r,t))})))];case 2:return r.sent(),[3,4];case 3:return document.head.removeChild(e),[7];case 4:return[2]}}))}))}var fo=function(t){function e(e){var i=t.call(this)||this;return i.adapter=new kr(i),i._formatOptions=new hr,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new vr,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",(function(t){var e=i._formatOptions.getKey(t.type);return t.options=t.options?Ji(e,t.options):e,t})),i.applyTheme(),i.dispatchImmediately("inited"),i}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;this._menu&&this.removeDispose(this._menu),this._menu=t,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(t){return t.branch.unsupported=!e.typeSupported(t.branch.type),t})),this._menu.events.on("hit",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("enter",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("over",(function(t){e._disablePointers()})),this._menu.events.on("out",(function(t){setTimeout((function(){e._releasePointers()}),10)})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(t){return t.classPrefix=Nn.classNamePrefix+t.classPrefix,t})),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),e.prototype.typeSupported=function(t){var e=!0,i=this.getFormatOptions(t);return ge(i)&&i.disabled?e=!1:"pdf"===t||("xlsx"===t?e=!!this._hasData():("print"!=t||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(t)||this._hasData())||(e=!1)),this.adapter.apply("supported",{supported:e,type:t}).supported},e.prototype._hasData=function(){return this.data&&this.data.length},e.prototype._getFunction=function(t){switch(t){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},e.prototype.export=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n=this;return Object(h.e)(this,(function(a){switch(a.label){case 0:return"custom"==t?(this.handleCustom(e),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&this.events.dispatchImmediately("exportstarted",{type:"exportstarted",target:this,format:t,options:e}),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){n.events.isEnabled("exporttimedout")&&n.events.dispatchImmediately("exporttimedout",{type:"exporttimedout",target:n,format:t,options:e}),n.showTimeout()}),this.timeoutDelay)),this.hideNonExportableSprites(),i=this._getFunction(t),e=this.adapter.apply("options",{options:e,type:t}).options,[4,(i=this.adapter.apply("exportFunction",{func:i,type:t,options:e}).func).call(this,t,e)]);case 1:return r=a.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),r?(this.events.isEnabled("exportfinished")&&this.events.dispatchImmediately("exportfinished",{type:"exportfinished",target:this,format:t,options:e}),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===t?[2,this.print(r,e,this.adapter.apply("title",{title:this.title,options:e}).title)]:"pdfdata"==t?[2,this.download(r,this.filePrefix+".pdf")]:[2,this.download(r,this.filePrefix+"."+t)]):(this.events.isEnabled("error")&&this.events.dispatchImmediately("error",{type:"error",target:this,format:t,options:e}),[2,!1])}}))}))},e.prototype.unsupported=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.e)(this,(function(t){return[2,""]}))}))},e.prototype.handleCustom=function(t){ge(t)&&ge(t.callback)&&t.callback.call(t.callbackTarget||this,t)},e.prototype.getPrint=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.e)(this,(function(t){return[2,this.getImage("png",e)]}))}))},e.prototype.getFontFamilies=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,i,r,n=this;return Object(h.e)(this,(function(a){switch(a.label){case 0:return t=this.getDOMURL(),e=[],i=[],[4,po((function(r,a){if(a.type===CSSRule.FONT_FACE_RULE){var o=a.cssText,s=lo.exec(o);if(null!==s){var l=s[1].split(/ *, */).map((function(i){return Object(h.b)(n,void 0,void 0,(function(){var n,a,o,s,l,c;return Object(h.e)(this,(function(u){switch(u.label){case 0:return null!==(n=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(i))?[3,1]:[2,i];case 1:a=n[2],o=Sn(r,n[1]),u.label=2;case 2:return u.trys.push([2,7,,8]),[4,so(o,void 0,{responseType:"blob"})];case 3:return s=u.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(l=t.createObjectURL(s.blob),e.push(l),[3,6]);case 4:return[4,(h=s.blob,new Promise((function(t,e){var i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(t){e(t)},i.readAsDataURL(h)})))];case 5:l=u.sent(),u.label=6;case 6:return[2,'url("'+l+'")'+a];case 7:return c=u.sent(),console.error("Failed to load font",o,c),[2,null];case 8:return[2]}var h}))}))}));i.push(Promise.all(l).then((function(t){return 0===(t=t.filter((function(t){return null!=t}))).length?"":o.replace(lo,"src: "+t.join(", ")+";")})))}}}))];case 1:return a.sent(),[4,Promise.all(i)];case 2:return r=a.sent(),[2,{blobs:e,cssText:r.filter((function(t){return!!t})).join("\n")}]}}))}))},e.prototype.getImage=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o,s;return Object(h.e)(this,(function(l){switch(l.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),ge(e)||(e=this.getFormatOptions(t)),[4,this.awaitValidSprites()];case 1:return l.sent(),[4,this.simplifiedImageExport()];case 2:if(!l.sent())return[3,10];l.label=3;case 3:return l.trys.push([3,7,,9]),[4,this.getCanvas(e)];case 4:return n=l.sent(),!1===i?[3,6]:[4,this.addExtras(n,e)];case 5:n=l.sent(),l.label=6;case 6:return a=n.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(n),r||this.restoreNonExportableSprites(),[2,a];case 7:return o=l.sent(),console.error(o.message+"\n"+o.stack),console.warn("Simple export failed, falling back to advanced export"),[4,this.getImageAdvanced(t,e,i)];case 8:return s=l.sent(),r||this.restoreNonExportableSprites(),[2,s];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(t,e,i)];case 11:return s=l.sent(),r||this.restoreNonExportableSprites(),[2,s];case 12:return[2]}}))}))},e.prototype.addExtras=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o,s,l,c,u,p,d,f,b,m,g,y=this;return Object(h.e)(this,(function(v){switch(v.label){case 0:return this.extraSprites.length?(r=0,n=0,a=t.width,o=t.height,s=0,l=0,[4,Promise.all(ai(this.extraSprites,(function(t){return Object(h.b)(y,void 0,void 0,(function(){var c,u,p,d;return Object(h.e)(this,(function(h){switch(h.label){case 0:return(c=t instanceof mo?{sprite:t,position:"bottom"}:t).position=c.position||"bottom",c.marginTop=c.marginTop||0,c.marginRight=c.marginRight||0,c.marginBottom=c.marginBottom||0,c.marginLeft=c.marginLeft||0,i?[4,c.sprite.exporting.getCanvasAdvanced(e)]:[3,2];case 1:return u=h.sent(),[3,4];case 2:return[4,c.sprite.exporting.getCanvas(e)];case 3:u=h.sent(),h.label=4;case 4:return p=u.width+c.marginLeft+c.marginRight,d=u.height+c.marginTop+c.marginBottom,"top"==c.position?(a=c.crop?o:Ee(a,p),n+=d):"right"==c.position?(o=c.crop?o:Ee(o,d),s+=p):"left"==c.position?(o=c.crop?o:Ee(o,d),r+=p):"bottom"===c.position&&(a=c.crop?o:Ee(a,p),l+=d),[2,{canvas:u,position:c.position,left:c.marginLeft,top:c.marginTop,width:p,height:d}]}}))}))})))]):[3,2];case 1:return c=v.sent(),(u=this.getDisposableCanvas()).width=r+a+s,u.height=n+o+l,p=u.getContext("2d"),(d=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(p.fillStyle=d.toString(),p.fillRect(0,0,u.width,u.height)),m=(f=r)+a,g=(b=n)+o,oi(c,(function(t){"top"==t.position?p.drawImage(t.canvas,r+t.left,(b-=t.height)+t.top):"right"==t.position?(p.drawImage(t.canvas,m+t.left,n+t.top),m+=t.width):"left"==t.position?p.drawImage(t.canvas,(f-=t.width)+t.left,n+t.top):"bottom"===t.position&&(p.drawImage(t.canvas,r+t.left,g+t.top),g+=t.height),y.disposeCanvas(t.canvas)})),p.drawImage(t,r,n),[2,u];case 2:return[2,t]}}))}))},e.prototype.getCanvas=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i,r,n,a,o,s,l,c,u,p,d,f,b,m,g;return Object(h.e)(this,(function(h){switch(h.label){case 0:ge(t)||(t={}),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),i=this.getDOMURL(),r=null,n=null,h.label=1;case 1:return h.trys.push([1,,4,5]),o=this.sprite.pixelWidth,s=this.sprite.pixelHeight,l=ha(this.sprite.dom),c=pa(this.sprite.dom),a=this.getDisposableCanvas(),u=this.getPixelRatio(t),a.style.width=o+"px",a.style.height=s+"px",a.width=o*u,a.height=s*u,p=a.getContext("2d"),1!=u&&p.setTransform(u,0,0,u,0,0),e&&(p.fillStyle=e.toString(),p.fillRect(0,0,o,s)),d=[],this.useWebFonts&&d.push(this.getFontFamilies().then((function(t){return n=t.blobs,t.cssText}))),d.push(this.imagesToDataURI(this.sprite.dom,t)),d.push(this.prepForeignObjects(this.sprite.dom,t)),[4,Promise.all(d)];case 2:return f=h.sent(),b=this.normalizeSVG("<style>"+f[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,o,s,l,c),m=new Blob([b],{type:"image/svg+xml"}),r=i.createObjectURL(m),[4,this.loadNewImage(r,o,s,"anonymous")];case 3:return g=h.sent(),p.drawImage(g,0,0),[3,5];case 4:return null!==r&&i.revokeObjectURL(r),null!==n&&oi(n,(function(t){i.revokeObjectURL(t)})),this.restoreRemovedObjects(),[7];case 5:return[2,a]}}))}))},e.prototype.getCanvasAdvanced=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,i,r,n,a,o,s,l,c,u;return Object(h.e)(this,(function(h){switch(h.label){case 0:return ge(t)||(t={}),[4,this.imagesToDataURI(this.sprite.dom,t)];case 1:return h.sent(),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return i=h.sent(),r=this.sprite.pixelWidth,n=this.sprite.pixelHeight,a=ha(this.sprite.dom),o=pa(this.sprite.dom),s=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,r,n,a,o,e),l=this.getDisposableCanvas(),c=this.getPixelRatio(t),l.style.width=r*c+"px",l.style.height=n*c+"px",l.width=r*c,l.height=n*c,u={useCORS:!0},1!=c&&(u.ignoreDimensions=!0,u.scaleWidth=r*c,u.scaleHeight=n*c),[4,i.fromString(l.getContext("2d"),s,u).render()];case 3:return h.sent(),[2,l]}}))}))},e.prototype.getImageAdvanced=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a;return Object(h.e)(this,(function(o){switch(o.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),ge(e)||(e=this.getFormatOptions(t)),[4,this.getCanvasAdvanced(e)];case 1:return n=o.sent(),!1===i?[3,3]:[4,this.addExtras(n,e,!0)];case 2:n=o.sent(),o.label=3;case 3:return a=n.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(n),r||this.restoreNonExportableSprites(),[2,a]}}))}))},e.prototype.getDisposableCanvas=function(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",document.body.appendChild(t),t},e.prototype.disposeCanvas=function(t){document.body.removeChild(t)},e.prototype.getPixelRatio=function(t){return(this.useRetina&&window.devicePixelRatio||1)*(t&&t.scale?t.scale:1)},e.prototype.imagesToDataURI=function(t,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o,s,l;return Object(h.e)(this,(function(c){switch(c.label){case 0:if(!(r=t.querySelectorAll("image")).length)return[3,2];for(n=[],a=r.length,o=0;o<a;o++)(l=(s=r[o]).getAttributeNS(e.XLINK,"href"))&&(-1!==l.indexOf("data:image")||(-1!==l.indexOf(".svg")?n.push(this.svgToDataURI(s,i)):n.push(this.imageToDataURI(s,i))));return[4,Promise.all(n)];case 1:return c.sent(),[2];case 2:return[2]}}))}))},e.prototype.prepForeignObjects=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var e,i,r;return Object(h.e)(this,(function(n){if((e=t.querySelectorAll("foreignObject")).length)for(i=e.length,r=0;r<i;r++)this.temporarilyRemoveObject(e[r]);return[2]}))}))},e.prototype.imageToDataURI=function(t,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a;return Object(h.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.loadNewImage(t.getAttributeNS(e.XLINK,"href"),null,null,"anonymous")];case 1:r=o.sent(),(n=document.createElement("canvas")).width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0);try{return a=n.toDataURL(),t.setAttribute("href",a),[2,a]}catch(s){return!1!==i.keepTainted&&this.temporarilyRemoveObject(t),[2,void 0]}return[3,3];case 2:return o.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 3:return[2]}}))}))},e.prototype.svgToDataURI=function(t,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o;return Object(h.e)(this,(function(s){switch(s.label){case 0:r=t.getAttributeNS(e.XLINK,"href"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,so(r)];case 2:return n=s.sent(),a=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+a+","+btoa(n.response),options:i}).data,t.setAttributeNS(e.XLINK,"href",o),[2,o];case 3:return s.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 4:return[2]}}))}))},e.prototype.temporarilyRemoveObject=function(t,e){var i=t.parentElement||t.parentNode;e||(e=this.sprite.paper.add("g").node),i.insertBefore(e,t),i.removeChild(t),this._removedObjects.push({element:t,placeholder:e})},e.prototype.restoreRemovedObjects=function(){for(var t;t=this._removedObjects.pop();)(t.placeholder.parentElement||t.placeholder.parentNode).insertBefore(t.element,t.placeholder)},e.prototype.simplifiedImageExport=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,i,r,n,a,o;return Object(h.e)(this,(function(s){switch(s.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(t=fr.getCache("simplifiedImageExport"))||!0===t)return[2,t];s.label=1;case 1:s.trys.push([1,6,,7]),(e=document.createElement("canvas")).width=1,e.height=1,i=e.getContext("2d"),r=this.getDOMURL(),n=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),a=r.createObjectURL(n),o=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.loadNewImage(a,1,1)];case 3:return o=s.sent(),[3,5];case 4:return s.sent(),[2,!1];case 5:i.drawImage(o,0,0),r.revokeObjectURL(a);try{return fr.setCache("simplifiedImageExport",!0),[2,!0]}catch(l){return fr.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return s.sent(),fr.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}}))}))},e.prototype.loadNewImage=function(t,e,i,r){return new Promise((function(n,a){var o;function s(){if(r){var e=o.src;o.onerror=function(){a(new Error('Loading image "'+t+'" failed'))},o.removeAttribute("crossorigin"),o.src="",o.src=e}else a(new Error('Loading image "'+t+'" failed'))}o=e&&i?new Image(e,i):new Image,r&&o.setAttribute("crossOrigin",r),o.onload=function(){n(o)},o.onabort=s,o.onerror=s,o.src=t}))},e.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},e.prototype.getSVG=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c;return Object(h.e)(this,(function(u){switch(u.label){case 0:return(i=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),[4,this.awaitValidSprites()];case 1:return u.sent(),r=this.sprite.pixelWidth,n=this.sprite.pixelHeight,a=ha(this.sprite.dom),o=pa(this.sprite.dom),s=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,r,n,a,o),l=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:e}).charset,c=this.adapter.apply("getSVG",{data:"data:"+this.getContentType(t)+";"+l+","+encodeURIComponent(s),options:e}).data,i||this.restoreNonExportableSprites(),[2,c]}}))}))},e.prototype.normalizeSVG=function(t,e,i,r,n,a,o){var s="";i&&(s+='width="'+i+'px" '),r&&(s+='height="'+r+'px" ');var l="";n&&(l+="font-family: "+n.replace(/"/g,"")+";"),a&&(l+="font-size: "+a+";");var c=[],u=t.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(u)for(var h=0;h<u.length;h++)t=t.replace(u[h],"__\xa7\xa7\xa7__"),c.push(u[h]);t.match(/<svg/)?""!==s&&(t=(t=(t=t.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+s)):t='<?xml version="1.0" encoding="utf-8"?><svg '+s+' style="'+l+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+t+"</svg>",o&&(t=t.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+o.rgba+'"/>')),/MSIE |Trident\//.test(navigator.userAgent)&&(t=t.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var p=new RegExp("url\\("+Kr(Nr()),"g");if(t=t.replace(p,"url(#"),c.length)for(h=0;h<c.length;h++)t=t.replace("__\xa7\xa7\xa7__",c[h]);return this.adapter.apply("normalizeSVG",{data:t,options:e}).data},e.prototype.serializeElement=function(t){return(new XMLSerializer).serializeToString(t)},e.prototype.getPDF=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){function i(t){var e={};e.normal=t.normal.path,f[t.normal.path]=t.normal.bytes,t.bold?(e.bold=t.bold.path,f[t.bold.path]=t.bold.bytes):e.bold=t.normal.path,t.italics?(e.italics=t.italics.path,f[t.italics.path]=t.italics.bytes):e.italics=t.normal.path,t.bolditalics?(e.bolditalics=t.bolditalics.path,f[t.bolditalics.path]=t.bolditalics.bytes):e.bolditalics=t.normal.path,d[t.name]=e}var r,n,a,o,s,l,c,u,p,d,f;return Object(h.e)(this,(function(h){switch(h.label){case 0:return[4,this.getImage(e.imageFormat||"png",e)];case 1:return r=h.sent(),[4,this.pdfmake];case 2:return n=h.sent(),a=[30,30,30,30],o={pageSize:e.pageSize||"A4",pageOrientation:e.pageOrientation||"portrait",pageMargins:e.pageMargins||a,defaultStyle:{font:e.font?e.font.name:void 0},content:[]},s=this.adapter.apply("title",{title:this.title,options:e}).title,l=0,s&&(o.content.push({text:s,fontSize:e.fontSize,bold:!0,margin:[0,0,0,15]}),l+=50),e.addURL&&(o.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:e.fontSize,margin:[0,0,0,15]}),l+=50),"pdfdata"!=t&&o.content.push({image:r,alignment:e.align||"left",fit:this.getPageSizeFit(o.pageSize,o.pageMargins,l)}),"pdfdata"==t||e.addData?(u=(c=o.content).push,p={},[4,this.getPDFData("pdf",e)]):[3,4];case 3:u.apply(c,[(p.table=h.sent(),p)]),h.label=4;case 4:return o=this.adapter.apply("pdfmakeDocument",{doc:o,options:e}).doc,d=null,f=null,e.font&&(d={},f={},i(e.font),e.extraFonts&&oi(e.extraFonts,i)),[4,new Promise((function(t,e){n.createPdf(o,null,d,f).getDataUrl((function(e){t(e)}))}))];case 5:return[2,h.sent()]}}))}))},e.prototype.getPDFData=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var t,i,r,n,a,o,s=this;return Object(h.e)(this,(function(l){if(t={body:[]},i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,r=this.data,e.pivot)n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,Ki(i,(function(i,n){var a=[];e.addColumnNames&&a.push(n);for(var o=r.length,l=0;l<o;l++)a.push(s.convertToSpecialFormat(i,r[l][i],e,!0));t.body.push(s.getPDFDataRow(a,e,void 0,!0))}),(function(t,e){var i=n.indexOf(t),r=n.indexOf(e);return i>r?1:i<r?-1:0}));else for(e.addColumnNames&&(t.body.push(this.getPDFDataRow(i,e,void 0,!0)),t.headerRows=1),a=r.length,o=0;o<a;o++)t.body.push(this.getPDFDataRow(r[o],e,i));return[2,this.adapter.apply("pdfmakeTable",{table:t,options:e}).table]}))}))},e.prototype.getPDFDataRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return Ki(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),l=r?s:n.convertToSpecialFormat(i,s,e);a.push(l=""+l)}),(function(t,e){var i=o.indexOf(t),r=o.indexOf(e);return i>r?1:i<r?-1:0})),a},e.prototype.getPageSizeFit=function(t,e,i){void 0===i&&(i=0);var r=[0,0,0,0];"number"==typeof e?r=[e,e,e,e]:2==e.length?r=[e[0],e[1],e[0],e[1]]:4==e.length&&(r=e);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return n[0]-=r[0]+r[2],n[1]-=r[1]+r[3]+i,n},e.prototype.getExcel=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c,u,p=this;return Object(h.e)(this,(function(h){switch(h.label){case 0:return[4,this.xlsx];case 1:if(i=h.sent(),r=this.adapter.apply("xlsxWorkbookOptions",{options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,n=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{name:this.title||this.language.translate("Data")}).name),a={SheetNames:[n],Sheets:{}},o=[],s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,e.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,Ki(s,(function(t,i){var r=[];e.addColumnNames&&r.push(i);for(var n=p.data.length,a=0;a<n;a++)r.push(p.convertToSpecialFormat(t,p.data[a][t],e,!0));o.push(p.getExcelRow(r,e,void 0,!0))}),(function(t,e){var i=l.indexOf(t),r=l.indexOf(e);return i>r?1:i<r?-1:0}));else for(e.addColumnNames&&o.push(this.getExcelRow(s,e,void 0,!0)),c=this.data.length,u=0;u<c;u++)o.push(this.getExcelRow(this.data[u],e,s));return a.Sheets[n]=i.utils.aoa_to_sheet(o),[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(t)+";base64,"+i.write(a,r),options:e}).data]}}))}))},e.prototype.normalizeExcelSheetName=function(t){return Zr(t=t.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},e.prototype.getExcelRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return Ki(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),l=r?s:n.convertToSpecialFormat(i,s,e,!0);a.push(l)}),(function(t,e){var i=o.indexOf(t),r=o.indexOf(e);return i>r?1:i<r?-1:0})),a},e.prototype.getCSV=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c,u,p=this;return Object(h.e)(this,(function(h){if(i="",r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,n="",a=this.data,e.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,Ki(r,(function(t,r){var o=[];e.addColumnNames&&o.push(r);for(var s=a.length,l=0;l<s;l++)o.push(p.convertToSpecialFormat(t,a[l][t],e,!0));i+=n+p.getCSVRow(o,e,void 0,!0),n="\n"}),(function(t,e){var i=o.indexOf(t),r=o.indexOf(e);return i>r?-1:i<r?1:0}));else{for(s=a.length,l=0;l<s;l++)c=this.getCSVRow(a[l],e,r),e.reverse?i=c+n+i:i+=n+c,n="\n";e.addColumnNames&&(i=this.getCSVRow(r,e,void 0,!0)+n+i)}return u=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getCSV",{data:"data:"+this.getContentType(t)+";"+u+","+encodeURIComponent(i),options:e}).data]}))}))},e.prototype.getCSVRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=e.separator||",",o=[];i||(i=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return Ki(i,(function(i,s){var l=n.convertEmptyValue(i,t[i],e),c=r?l:n.convertToSpecialFormat(i,l,e);c=(c=""+c).replace(/"/g,'""'),(e.forceQuotes||c.search(new RegExp('"|\n|'+a,"g"))>=0)&&(c='"'+c+'"'),o.push(c)}),(function(t,e){var i=s.indexOf(t),r=s.indexOf(e);return i>r?1:i<r?-1:0})),o.join(a)},e.prototype.getHTML=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c=this;return Object(h.e)(this,(function(u){if(i="<table>",e.tableClass&&(i='<table class="'+e.tableClass+'">'),r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,n=this.data,e.pivot)a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,Ki(r,(function(t,r){var a=[];e.addColumnNames&&a.push(r);for(var o=n.length,s=0;s<o;s++)a.push(c.convertToSpecialFormat(t,n[s][t],e,!0));i+="\n"+c.getHTMLRow(a,e,void 0,!0)}),(function(t,e){var i=a.indexOf(t),r=a.indexOf(e);return i>r?-1:i<r?1:0}));else for(e.addColumnNames&&(i+="\n"+this.getHTMLRow(r,e,void 0,!0,!0)),o=n.length,s=0;s<o;s++)i+="\n"+this.getHTMLRow(n[s],e,r);return i+="</table>",l=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getHTML",{data:"data:"+this.getContentType(t)+";"+l+","+encodeURIComponent(i),options:e}).data]}))}))},e.prototype.getHTMLRow=function(t,e,i,r,n){var a=this;void 0===r&&(r=!1),void 0===n&&(n=!1);var o="\t<tr>";e.rowClass&&(o='\t<tr class="'+e.rowClass+'">'),i||(i=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,l=n?"th":"td",c=!0;return Ki(i,(function(i,n){var s=a.convertEmptyValue(i,t[i],e),u=r?s:a.convertToSpecialFormat(i,s,e);u=(u=""+u).replace(/[\u00A0-\u9999<>\&]/gim,(function(t){return"&#"+t.charCodeAt(0)+";"}));var h=l;e.pivot&&c&&(h="th"),o+=e.cellClass?"\n\t\t<"+h+' class="'+e.cellClass+'">'+u+"</"+h+">":"\n\t\t<"+h+">"+u+"</"+h+">",c=!1}),(function(t,e){var i=s.indexOf(t),r=s.indexOf(e);return i>r?1:i<r?-1:0})),o+="\n\t</tr>"},e.prototype.getJSON=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c,u=this;return Object(h.e)(this,(function(h){if(r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,this._dynamicDataFields)i=this.data;else for(i=[],a=function(t,a){var o=n[a];if("object"==typeof o){var s={};qi(o,(function(t,i){ge(r[t])&&(s[r[t]]=u.convertToSpecialFormat(t,i,e))})),i.push(s)}},o=(n=this.data).length,s=0;s<o;s++)a(0,s);return l=JSON.stringify(i,(function(t,i){return"object"==typeof i&&qi(i,(function(t,r){i[t]=u.convertToSpecialFormat(t,r,e)})),i}),e.indent),c=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getJSON",{data:"data:"+this.getContentType(t)+";"+c+","+encodeURIComponent(l),options:e}).data]}))}))},e.prototype.convertToSpecialFormat=function(t,e,i,r){if("number"==typeof e)if(this.isDateField(t))e=new Date(e);else{if(this.isDurationField(t))return this.durationFormatter.format(e,this.durationFormat);if(this.isNumberField(t)&&this.numberFormat)return this.numberFormatter.format(e,this.numberFormat)}return e instanceof Date?i.useTimestamps?e=e.getTime():i.useLocale?r||(e=e.toLocaleString()):e=this.dateFormatter.format(e,this.dateFormat):xe(e)&&this.isDateField(t)&&this.dateFormat&&(e=this.dateFormatter.format(this.dateFormatter.parse(e),this.dateFormat)),e},e.prototype.convertEmptyValue=function(t,e,i){return ge(e)?e:i.emptyAs},e.prototype.download=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,c,u,p,d,f,b,m,g;return Object(h.e)(this,(function(h){if(this.msBlobDownloadSupport()){if(f=t.split(";"),b=f.shift().replace(/data:/,""),t=decodeURIComponent(f.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(b))return i=new Blob([t],{type:b}),window.navigator.msSaveBlob(i,e),[2,!0];try{n=atob(t),t=n}catch(y){return[2,!1]}for(s=new Array(t.length),l=0;l<t.length;++l)c=t.charCodeAt(l),s[l]=c;u=new Blob([new Uint8Array(s)],{type:b}),window.navigator.msSaveBlob(u,e)}else if(this.blobDownloadSupport()){if((r=document.createElement("a")).download=e,document.body.appendChild(r),f=t.split(";"),b=f.shift().replace(/data:/,""),t=decodeURIComponent(f.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(b))return a=new Blob([t],{type:b}),o=window.URL.createObjectURL(a),r.href=o,r.download=e,r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(o)}),100),[2,!0];try{n=atob(t),t=n}catch(y){return[2,!1]}for(s=new Array(t.length),l=0;l<t.length;++l)c=t.charCodeAt(l),s[l]=c;u=new Blob([new Uint8Array(s)],{type:b}),p=window.URL.createObjectURL(u),r.href=p,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){window.URL.revokeObjectURL(p)}),100)}else this.linkDownloadSupport()?((d=document.createElement("a")).download=e,d.href=t,document.body.appendChild(d),d.click(),document.body.removeChild(d)):this.legacyIE()?4===(f=t.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==f[2]?f[1].match(/^image\//)&&this.showModal('<img src="'+t+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(b=void 0,e.match(/\.svg$/)?b="image/svg+xml":(b="text/plain",e+=".txt"),(m=document.createElement("iframe")).width="1px",m.height="1px",m.style.display="none",document.body.appendChild(m),(g=m.contentDocument).open(b,"replace"),g.write(decodeURIComponent(f[3])),g.close(),g.execCommand("SaveAs",!0,e),document.body.removeChild(m))):window.location.href=t;return[2,!0]}))}))},e.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},e.prototype.linkDownloadSupport=function(){var t=fr.getCache("linkDownloadSupport");if(!1===t||!0===t)return t;var e=void 0!==document.createElement("a").download;return fr.setCache("linkDownloadSupport",e),e},e.prototype.blobDownloadSupport=function(){return ge(window.Blob)},e.prototype.msBlobDownloadSupport=function(){return ge(window.navigator.msSaveOrOpenBlob)},e.prototype.legacyIE=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==t.getElementsByTagName("i").length},e.prototype.print=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.e)(this,(function(r){return"css"==e.printMethod?[2,this.printViaCSS(t,e,i)]:[2,this.printViaIframe(t,e,i)]}))}))},e.prototype.printViaCSS=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n,a,o;return Object(h.e)(this,(function(s){return r=document.documentElement.scrollTop||document.body.scrollTop,n=new ca(sa(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),i&&document&&document.title&&(a=document.title,document.title=i),(o=new Image).src=t,o.style.maxWidth="100%",o.style.display="block",o.style.position="relative",o.style.visibility="visible",o.style.opacity="1",o.style.clipPath="none",document.body.appendChild(o),this.setTimeout((function(){window.print()}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(o),n.dispose(),a&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=r}),e.delay||500),[2,!0]}))}))},e.prototype.printViaIframe=function(t,e,i){return Object(h.b)(this,void 0,void 0,(function(){var r,n;return Object(h.e)(this,(function(a){return(r=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(r),r.contentWindow.document.open(),r.contentWindow.document.close(),(n=new Image).src=t,n.style.maxWidth="100%",i&&(r.contentWindow.document.title=i),r.contentWindow.document.body.appendChild(n),r.load=function(){r.contentWindow.document.body.appendChild(n)},this.setTimeout((function(){try{r.contentWindow.document.execCommand("print",!1,null)||r.contentWindow.print()}catch(t){r.contentWindow.print()}}),e.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(r)}),e.delay+50||100),[2,!0]}))}))},e.prototype.findBackgroundColor=function(t){var e=1,i=na(t,"background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(e=0),0==e){var r=t.parentElement;return r?this.findBackgroundColor(r):Rr("#fff")}return Rr(i,e)},Object.defineProperty(e.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(t){this._container=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(t){this._sprite=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(t){this._extraSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(t){this._validateSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(t){this._dataFields=t,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),e.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0)},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new eo,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(t){this._dateFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new vr),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(t){this._dateFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new to,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(t){this._numberFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new vr),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(t){this._numberFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new io,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(t){this._durationFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(t){this._durationFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new vr),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(t){this._durationFields=t},enumerable:!0,configurable:!0}),e.prototype.generateDataFields=function(){var t=this;this._dataFields={},this.data.length&&oi(this.data,(function(e){qi(e,(function(e,i){ge(t._dataFields[e])||(t._dataFields[e]=t.adapter.apply("dataFieldName",{name:e,field:e}).name)}))}))},e.prototype.isDateField=function(t){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(t),field:t}).isDateField},e.prototype.isNumberField=function(t){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(t),field:t}).isNumberField},e.prototype.isDurationField=function(t){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(t),field:t}).isDurationField},e.prototype.getContentType=function(t){var e="";switch(t){case"png":case"gif":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"svg":e="image/svg+xml";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:e,type:t}).contentType},Object.defineProperty(e.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(t){this._filePrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(t){this._backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),e.prototype.showPreloader=function(){var t=this.preloader;t&&(t.progress=.5,t.label.text="...")},e.prototype.hidePreloader=function(){var t=this.preloader;t&&(t.progress=1)},Object.defineProperty(e.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),e.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},e.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this._language=new Za),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=new Fa,this._modal.adapter.add("classPrefix",(function(t){return Nn.classNamePrefix+t}))),this._modal},enumerable:!0,configurable:!0}),e.prototype.showModal=function(t,e){this.hideModal(),this.hidePreloader();var i=this.modal;i.container=this.sprite.svgContainer.SVGContainer,i.content=t,i.readerTitle=e,i.open()},e.prototype.hideModal=function(){this._modal&&this.modal.close()},e.prototype._canvg=function(){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.e)(this,(function(e){switch(e.label){case 0:return[4,i.e(9).then(i.bind(null,"iJDN"))];case 1:return null!=(t=e.sent()).default?[2,t.default]:[2,t]}}))}))},Object.defineProperty(e.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfmake",{get:function(){return null==ro&&(ro=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,r,n;return Object(h.e)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([i.e(11).then(i.t.bind(null,"5JmO",7)),i.e(11).then(i.bind(null,"b0eU"))])];case 1:return t=a.sent(),e=t[0],r=t[1],(n=window).pdfMake=n.pdfMake||{},n.pdfMake.vfs=r.default,e.vfs=r.default,[2,e]}}))}))}()),ro},enumerable:!0,configurable:!0}),e.prototype._xlsx=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.e)(this,(function(t){switch(t.label){case 0:return[4,i.e(15).then(i.t.bind(null,"EUZL",7))];case 1:return[2,t.sent()]}}))}))},Object.defineProperty(e.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),e.prototype.setFormatOptions=function(t,e){this._formatOptions.setKey(t,e)},e.prototype.getFormatOptions=function(t){return this._formatOptions.getKey(t)},Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),e.prototype._disablePointers=function(){ge(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},e.prototype._releasePointers=function(){ge(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},e.prototype.hideNonExportableSprites=function(){var t=this;if(!this._objectsAlreadyHidden){var e=this.sprite.svgContainer;e&&oi(e.nonExportableSprites,(function(e){e.isHidden||e.isHiding||!e.visible||t._hiddenObjects.push(e),e.hide(0)})),this._objectsAlreadyHidden=!0}},e.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(oi(this._hiddenObjects,(function(t){t.show(0)})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},e.prototype.awaitValidSprites=function(){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.e)(this,(function(e){switch(e.label){case 0:return t=[],this.validateSprites.length&&oi(this.validateSprites,(function(e,i){e.invalid&&t.push(new Promise((function(t,i){e.events.once("validated",(function(e){t()}))})))})),t.length?[4,Promise.all(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.processConfig=function(e){fr.registeredClasses.ExportMenu=oo,e&&ge(e.menu)&&!ge(e.menu.type)&&(e.menu.type="ExportMenu"),t.prototype.processConfig.call(this,e)},e.XLINK="http://www.w3.org/1999/xlink",e}(ao),bo=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],mo=function(t){function e(){var e=t.call(this)||this;return e.properties={},e._eventDispatcher=new zn(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new Oi,e._positionPrecision=3,e._language=new Oi,e._exporting=new Oi,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new Ii((function(){qi(e._bindings,(function(t,e){e.dispose()}))}))),e.setPropertyValue("interactionsEnabled",!0),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new kr(this)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),Nn.autoSetClassName&&this.setClassName()},e.prototype.getCurrentThemes=function(){var t=this._themes;if(t)return t;var e=this._parent;return e?e.getCurrentThemes():fr.themes},e.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},e.prototype.invalidate=function(){this.disabled||this._isTemplate||this.invalid||(this.invalid=!0,fr.addToInvalidSprites(this),vo.requestFrame())},e.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,fr.removeFromInvalidSprites(this),this.afterDraw()},e.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,fr.addToInvalidPositions(this),vo.requestFrame())},e.prototype.validatePosition=function(){var t=this.pixelX,e=this.pixelY,i=this.dx,r=this.dy,n=t+i,a=e+r;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var o=this.measure(),s=this.group.transformString;this.group.moveTo({x:n,y:a}),this.group.rotation=this.rotation,this.group.scale=this.nonScaling?this.scale/this.globalScale:this.scale,(s!=this.group.transformString||o)&&(null==s?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),t+i==n&&e+r==a&&(fr.removeFromInvalidPositions(this),this.positionInvalid=!1);var l=this._maskRectangle;l&&this._clipElement.moveTo({x:l.x-t,y:l.y-e})},e.prototype.beforeDraw=function(){},e.prototype.draw=function(){},e.prototype.afterDraw=function(){var t,e;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var i=Object(h.i)(this._adapterO.keys()),r=i.next();!r.done;r=i.next()){var n=r.value;switch(n){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[n]=this[n]}}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},e.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},e.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},e.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},e.prototype.updateFilterScale=function(){var t=this;ir(this.filters.iterator(),(function(e){e.scale=t.globalScale}))},e.prototype.removeFromInvalids=function(){fr.removeFromInvalidSprites(this),fr.removeFromInvalidPositions(this)},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each((function(t){i.filters.push(t.clone())})),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,zr(e.propertyFields,this.propertyFields),zr(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone())},e.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(t.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--)this._clones.getIndex(e).dispose();this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var i=this.stroke;!i||i instanceof Er||!i.dispose||this.clonedFrom&&this.clonedFrom.stroke==i||i.dispose();var r=this.fill;if(!r||r instanceof Er||!r.dispose||this.clonedFrom&&this.clonedFrom.fill==r||r.dispose(),ge(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var n=this._filters.getIndex(0);n.dispose(),this._filters.removeValue(n)}this._alwaysShowDisposers=void 0}},Object.defineProperty(e.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(t){t=fe(t),this._isTemplate!=t&&(this._isTemplate=t,this instanceof yo&&ir(this.children.iterator(),(function(e){e.isTemplate=t})),t?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSystemTooltip",{get:function(){return ge(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(t){t=fe(t),this._showSystemTooltip!=t&&(this._showSystemTooltip=t,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(t){this._topParent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!this._isTemplate){var e=this._parent;e!=t&&(e&&e.children.removeValue(this),this._parent=t,t?(this.topParent=t.topParent,t.isTemplate&&(this.isTemplate=!0),this.baseId=t.baseId,t.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=t.tooltipContainer),this._dataItem||(this.dataItem=t.dataItem),this.handleAlwaysShowTooltip(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),e.prototype.handleAlwaysShow=function(){this.showTooltip()},e.prototype.handleAlwaysShowTooltip=function(){var t=this,e=this._alwaysShowDisposers;if(e&&oi(e,(function(t){t.dispose()})),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=t;){var i=t.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(i),this._alwaysShowDisposers.push(i),t=t.parent}},Object.defineProperty(e.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(t){this._virtualParent=t},enumerable:!0,configurable:!0}),e.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var t=this.fill;t&&t.element&&this.paper.appendDef(t.element);var e=this.stroke;if(e&&e.element&&this.paper.appendDef(e.element),this.fillModifier&&this.fill instanceof Er){var i=this.fillModifier.modify(this.fill);i&&i.element&&this.paper.appendDef(i.element)}if(this.strokeModifier&&this.stroke instanceof Er){var r=this.strokeModifier.modify(this.stroke);r&&r.element&&this.paper.appendDef(r.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(e.prototype,"map",{get:function(){var t=this.topParent;return t?t.map:(this._map||(this._map=new hr),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delayedMap",{get:function(){var t=this.topParent;return t?t.delayedMap:(this._delayedMap||(this._delayedMap=new hr),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){if(this._id!=t){if(this._id=t,this.map.hasKey(t))throw Error("Duplicate id ("+t+") used on multiple objects.");this.map.setKey(t,this),Nn.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){if(this._paper)return this._paper;var t=this._parent;return t?t.paper:Xa()},set:function(t){this.setPaper(t)},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(t){return this._paper!=t&&(this._paper=t,this.appendDefs(),!0)},Object.defineProperty(e.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var t=this._parent;return t?t.htmlContainer:void 0},set:function(t){this._htmlContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters||(this._filters=new vr,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new gr(this._filters))),this._filters},enumerable:!0,configurable:!0}),e.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},e.prototype.setSVGAttribute=function(t){this.group.attr(t)},e.prototype.removeSVGAttribute=function(t){this.group.removeAttr(t)},e.prototype.setClassName=function(){var t=this.className,e=Nn.classNamePrefix;this.element&&this.element.addClass(e+t),this.group.addClass(e+t+"-group"),ge(this.id)&&this.group.addClass(e+this.id),this.userClassName&&this.group.addClass(this.userClassName)},e.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},e.prototype.updateClipPath=function(){var t=this._clipElement;t&&t.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},e.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var t=fr.getUniqueId();this._clipPath.attr({id:t}),this.group.attr({"clip-path":'url("'+Nr()+t+'")'})}},e.prototype.applyMask=function(){var t=this.mask;if(this._clipPath&&t)if(t instanceof yo){this._clipElement.attr({width:Ee(0,t.pixelWidth),height:Ee(0,t.pixelHeight)});var e=gn({x:t.pixelX,y:t.pixelY},t.parent,this);this._clipPath.x=e.x,this._clipPath.y=e.y}else t.element&&t.element!=this._clipElement&&(this._clipElement=t.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=t.scale,this._clipPath.x=t.pixelX,this._clipPath.y=t.pixelY,this._clipPath.rotation=t.rotation},e.prototype.applyFilters=function(){var t=this;if(this._filters&&this._filters.length>0){var e=100,i=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var r="filter-"+this.uid;this.filterElement.attr({id:r}),ir(this.filters.iterator(),(function(r){r.sprite=t,r.paper=t.paper,t.filterElement.attr({filterUnits:r.filterUnits}),r.appendPrimitives(t.filterElement),r.width>e&&(e=r.width),r.height>i&&(i=r.height),r.scale=t.globalScale})),this.filterElement.attr({width:e+"%",height:i+"%",x:-(e-100)/2+"%",y:-(i-100)/2+"%"}),this.group.attr({filter:'url("'+Nr()+r+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},e.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},e.prototype.setElement=function(t){this.element=t,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this.removeElement(),this._element=t,this.group.add(t),t.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),Nn.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(t){this._svgContainer=t},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var t=this.element.getBBox();this._bbox={x:t.x,y:t.y,width:t.width,height:t.height}}},e.prototype.updateCenter=function(){if(this.element){var t=this.element.transformString,e=this.bbox,i=0,r=0,n=e.x,a=e.y,o=e.width,s=e.height,l=this.pixelPaddingLeft,c=this.pixelPaddingRight,u=this.pixelPaddingTop,h=this.pixelPaddingBottom,p=Ee(o+l+c,this.pixelWidth),d=Ee(s+u+h,this.pixelHeight),f=e.x,b=e.x+p,m=e.y,g=e.y+d,y=this.verticalCenter;switch(this.horizontalCenter){case"none":i=n+l;break;case"left":i=l;break;case"middle":i=l-(o+c+l)/2;break;case"right":i=-c-o}switch(y){case"none":r=a+u;break;case"top":r=u;break;case"middle":r=u-(s+h+u)/2;break;case"bottom":r=-h-s}this._measuredHeight=d,this._measuredWidth=p;var v=Ie(i-n,this._positionPrecision,!0),_=Ie(r-a,this._positionPrecision,!0);this.ex=v-l,this.ey=_-u,this.maxLeft=f+v-l,this.maxRight=b+v-l,this.maxTop=m+_-u,this.maxBottom=g+_-u,this.pixelPerfect&&(v-=.5,_-=.5),this.element.moveTo({x:v,y:_}),t!=this.element.transformString&&this.dispatchImmediately("transformed")}},e.prototype.measure=function(){this.updateCenter();var t=this._measuredWidth,e=this._measuredHeight,i=this.maxLeft,r=this.maxRight,n=this.maxTop,a=this.maxBottom;this._measuredWidthSelf=t,this._measuredHeightSelf=e;var o=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var s=this.paper.svg,l=s.createSVGMatrix(),c=this.rotation;l.a=Fe(c)*this.scale,l.c=-De(c)*this.scale,l.e=0,l.b=De(c)*this.scale,l.d=Fe(c)*this.scale,l.f=0;var u=s.createSVGPoint();u.x=i,u.y=n;var h=s.createSVGPoint();h.x=r,h.y=n;var p=s.createSVGPoint();p.x=r,p.y=a;var d=s.createSVGPoint();d.x=i,d.y=a;var f=u.matrixTransform(l),b=h.matrixTransform(l),m=p.matrixTransform(l),g=d.matrixTransform(l);i=Math.min(f.x,b.x,m.x,g.x),r=Math.max(f.x,b.x,m.x,g.x),n=Math.min(f.y,b.y,m.y,g.y),t=r-i,e=(a=Math.max(f.y,b.y,m.y,g.y))-n,this.maxLeft=Ie(i,o,!0),this.maxRight=Ie(r,o,!0),this.maxTop=Ie(n,o,!0),this.maxBottom=Ie(a,o,!0)}return this._measuredWidth=Ie(t,o,!0),this._measuredHeight=Ie(e,o,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(ge(this.tooltipText)||ge(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},e.prototype.insertBefore=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i),e.sortChildren())}return this},e.prototype.insertAfter=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i+1),e.sortChildren())}return this},e.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},e.prototype.getRelativeX=function(t){return t instanceof ce?t.value:this._parent?t/this._parent.innerWidth:0},e.prototype.getRelativeY=function(t){return t instanceof ce?t.value:this._parent?t/this._parent.innerHeight:0},e.prototype.getPixelX=function(t){var e=0;return we(t)?e=t:t instanceof ce&&this._parent&&(e=Ie(this._parent.innerWidth*t.value,this._positionPrecision,!0)),e},e.prototype.getPixelY=function(t){var e=0;return we(t)?e=t:t instanceof ce&&this._parent&&(e=Ie(this._parent.innerHeight*t.value,this._positionPrecision,!0)),e},e.prototype.moveTo=function(t,e,i,r){this.isDragged&&!r||(t&&(we(t.x)&&this.setPropertyValue("x",Ie(t.x,this._positionPrecision,!0)),we(t.y)&&this.setPropertyValue("y",Ie(t.y,this._positionPrecision,!0))),we(e)&&(this.rotation=e),we(i)&&(this.scale=i),this.invalidatePosition())},Object.defineProperty(e.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(t){var e=this;this._mask.get()!==t&&(t?(this.createClipPath(),t instanceof yo?this._clipElement=this.paper.add("rect"):(t.isMeasured=!1,t.element&&(this._clipElement=t.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(t,new Ai([t.events.on("maxsizechanged",(function(){e.inited&&e.applyMask()}),void 0,!1),t.events.on("validated",this.applyMask,this,!1),t.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(t){t?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:t.width,height:t.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(t){(t=fe(t))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=t&&(this._isMeasured=t,this.invalidatePosition())},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){this.invalid&&this.validate(),t.invalid&&t.validate();var e=this.pixelX,i=this.pixelY,r=t.pixelX,n=t.pixelY;return!(r>e+this.measuredWidth||r+t.measuredWidth<e||n>i+this.measuredHeight||n+t.measuredHeight<i)},Object.defineProperty(e.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},Object.defineProperty(e.prototype,"states",{get:function(){if(!this._states){var t=new jn;this._states=new pr(t),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new ur(this._states)),this._disposers.push(t)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var t=this.states.create("hidden");t.properties.opacity=0,t.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultState",{get:function(){return this.states.getKey("default")||(this.states.create("default").properties.opacity=1),this.states.getKey("default")},enumerable:!0,configurable:!0}),e.prototype.processState=function(t){var e=t.newValue;if(e.sprite=this,e.name=t.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(ge(this.tooltipHTML)||ge(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(ge(this.tooltipHTML)||ge(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var i=this.clones.values,r=i.length,n=0;n<r;++n){var a=i[n];a.isDisposed()||a.states.setKey(e.name,e)}},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Kn(this._animations))),this._animations},enumerable:!0,configurable:!0}),e.prototype.getSvgPoint=function(t){try{var e=this.htmlContainer.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}catch(i){return t}},e.prototype.animate=function(t,e,i){return new Jn(this,t,e,i).start()},e.prototype.setState=function(t,e,i){var r;if(t instanceof jn)this.states.setKey(t.name,t),r=t;else if(!(r=this.states.getKey(t)))return;if("hover"==r.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==r.name?this.isHiding=!0:this.visible||this.setVisibility(r.properties.visible||this.defaultState.properties.visible),"active"==r.name&&(this.isActive=!0),we(e)||(e=r.transitionDuration),ge(i)||(i=r.transitionEasing),this.transitTo(r,e,i)},e.prototype.applyCurrentState=function(t){var e=this.setState(this.defaultState,t);return this.isHover&&(e=this.setState("hover",t)),this.isDown&&this.interactions.downPointers.length&&(e=this.setState("down",t)),this.isFocused=this.isFocused,this.isActive&&(e=this.setState("active",t),this.isHover&&this.states.hasKey("hoverActive")&&(e=this.setState("hoverActive",t))),e},e.prototype.transitTo=function(t,e,i){var r,n=this,a=[];if(qi(t.allValues,(function(t,e){var i=n[t];e!=i&&null==n.defaultState.properties[t]&&(n.defaultState.properties[t]=i),"__unset"!=e&&a.push({from:i,to:e,property:t})})),a.length>0&&((r=this.animate(a,e,i))&&!r.isFinished()?this._disposers.push(r.events.on("animationended",(function(){n.dispatchImmediately("transitionended")}))):this.dispatchImmediately("transitionended")),t.filters.length>0){var o=[];ir(t.filters.iterator(),(function(t){var r=t.clone();o.push(r);var a=[];ir(n.filters.iterator(),(function(t){t.className==r.className&&(or(n.defaultState.filters.iterator(),(function(t){return t.className===r.className}))||n.defaultState.filters.push(t),qi(r.properties,(function(e,i){var r=t.properties[e];r!=i&&a.push({property:e,from:r,to:i})})))})),r.animate(a,e,i)})),this.filters.clear(),this.filters.pushAll(o)}return r},e.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(e.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(t){(t=fe(t))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=t,t?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(t){t=fe(t),this.isInteractive()&&this.isDown!=t&&(this.interactions.isDown=t,t?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(t){t=fe(t),this.focusable&&this.isFocused!=t&&this.isInteractive()&&(this.interactions.isFocused=t,!0===t?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this.setActive(t)},enumerable:!0,configurable:!0}),e.prototype.setActive=function(t){t=fe(t),this._isActive!==t&&(this._isActive=t,t&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(e.prototype,"disabled",{get:function(){var t=this.getPropertyValue("disabled");return ge(t)?t:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(t){this.setDisabled(t)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(t){if(t=fe(t),this.getPropertyValue("disabled")!=t){if(this.setPropertyValue("disabled",t,!0),t)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var e=this._parent.element;e.hasChild(this.group)||e.add(this.group)}this instanceof yo?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),vo.requestFrame(),!0}return!1},Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(t){this._internalDisabled!=t&&(this._internalDisabled=t,this._updateDisabled=!0,this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new to,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(t){this._numberFormatter=t,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new eo,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(t){this._dateFormatter=t,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new io,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(t){this._durationFormatter=t,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var t=this._language.get();return t||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(t=new Za,this.language=t,t))},set:function(t){var e=this;this._language.get()!==t&&this._language.set(t,t.events.on("localechanged",(function(t){if(e._numberFormatter&&(e._numberFormatter.language=e.language),e._dateFormatter&&(e._dateFormatter.language=e.language),e._durationFormatter&&(e._durationFormatter.language=e.language),e._exporting.get()){var i=e._exporting.get();i.numberFormatter.language=e.language,i.dateFormatter.language=e.language,i.durationFormatter.language=e.language,i.language=e.language}e instanceof yo&&e.deepInvalidate()})))},enumerable:!0,configurable:!0}),e.prototype.populateString=function(t,e){if(ge(t)){t=de(t);var i=(t=$a().escape(t)).match(/\{([^}]+)\}/g),r=void 0;if(i)for(r=0;r<i.length;r++){var n=i[r].replace(/\{([^}]+)\}/,"$1"),a=this.getTagValue(n,"",e);ge(a)||(a=""),t=t.split(i[r]).join(a)}t=$a().unescape(t)}else t="";return this._adapterO?this._adapterO.apply("populateString",t):t},e.prototype.getTagValue=function(t,e,i){var r;ge(i)||(i=this.dataItem);for(var n,a=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(n=o.exec(t));)if(n[3])a.push({prop:n[3]});else{var s=[];if(""!=Qr(n[2]))for(var l=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,c=void 0;null!==(c=l.exec(n[2]));)s.push(c[1]||c[2]||c[3]);a.push({method:n[1],params:s})}if(i){ge(r=this.getTagValueFromObject(a,i.values))&&!Ve(r)||(r=this.getTagValueFromObject(a,i));var u=i.dataContext;!ge(r)&&u&&!ge(r=this.getTagValueFromObject(a,i.dataContext))&&u.dataContext&&(r=this.getTagValueFromObject(a,u.dataContext)),!ge(r)&&i.component&&i.component.dataItem!==i&&(r=i.component.getTagValue(t,e))}return ge(r)||(r=this.getTagValueFromObject(a,this.populateStringFrom||this)),!ge(r)&&this._parent&&(r=this._parent.getTagValue(t,e)),r},e.prototype.getTagValueFromObject=function(t,e,i){for(var r=e,n=!1,a=0,o=t.length;a<o;a++){var s=t[a];if(s.prop){if(!ge(r=r[s.prop]))return}else switch(s.method){case"formatNumber":var l=sn(r);ge(l)&&(r=this.numberFormatter.format(l,i||s.params[0]||void 0),n=!0);break;case"formatDate":var c=void 0;if(!_e(c=xe(r)?this.dateFormatter.parse(r):on(r))||he(c.getTime()))return;ge(c)&&(r=this.dateFormatter.format(c,i||s.params[0]||void 0),n=!0);break;case"formatDuration":var u=sn(r);ge(u)&&(r=this.durationFormatter.format(u,i||s.params[0]||void 0,s.params[1]||void 0),n=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[s.method]&&r[s.method].apply(this,s.params)}}if(!n){var h=[{method:"",params:i}];if(ge(i)){var p=function(t){if(void 0===t)return"string";var e=(t=(t=(t=t.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return e?e[1]:"number"===t?"number":"date"===t?"date":"duration"===t?"duration":t.match(/[#0]/)?"number":t.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(i);"number"===p?h[0].method="formatNumber":"date"===p?h[0].method="formatDate":"duration"===p&&(h[0].method="formatDuration")}else we(r)?(h[0].method="formatNumber",h[0].params=""):_e(r)&&(h[0].method="formatDate",h[0].params="");h[0].method&&(r=this.getTagValueFromObject(h,r))}return r},Object.defineProperty(e.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(t){this.setDataItem(t)},enumerable:!0,configurable:!0}),e.prototype.setDataItem=function(t){var e=this;if(this._dataItem!=t){if(this._dataItem=t,t){if(this.configField){var i=t.dataContext;i&&(this.config=i[this.configField],!this.config&&i.dataContext&&(this.config=i.dataContext[this.configField]))}var r=t.dataContext;if(r){var n=r.dataContext;qi(this.propertyFields,(function(t,i){if(ge(r[i]))e[t]=r[i];else if(n){var a=n[i];ge(a)&&(e[t]=a)}}))}}this.invalidate()}},e.prototype.getPropertyValue=function(t){var e=this.properties[t];return this._isTemplate||this._adapterO&&(e=this._adapterO.apply(t,e)),e},e.prototype.setColorProperty=function(t,e,i){var r=this.properties[t];return!(e instanceof Er&&r instanceof Er&&e.toString()==r.toString())&&this.setPropertyValue(t,e,i)},e.prototype.setPercentProperty=function(t,e,i,r,n,a){if(we(e=function(t){return!ge(t)||we(t)||function(t){return t instanceof ce}(t)?t:xe(t)&&-1!=t.indexOf("%")?ue(be(t)):be(t)}(e)))return e=Ie(e,n,a),this.setPropertyValue(t,e,i,r);var o=this.properties[t];return!(e instanceof ce&&o instanceof ce&&e.value==o.value)&&this.setPropertyValue(t,e,i,r)},e.prototype.setPropertyValue=function(t,e,i,r){if(this.properties[t]!==e&&!this.isDisposed()){if(this.properties[t]=e,this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:t}),i&&this.invalidate(),r&&this.invalidatePosition(),this.applyOnClones)for(var n=this.clones.values,a=n.length,o=0;o<a;++o){var s=n[o];s.isDisposed()||(s[t]=e)}return!0}return!1},e.prototype.bind=function(t,e,i,r){var n=this;void 0===i&&(i=t),ge(this._bindings[t])&&this._bindings[t].dispose(),this[t]=e[i],this._bindings[t]=e.events.on("propertychanged",(function(a){if(a.property===i){var o=e[i];r&&(o=r(o)),n[t]=o}}))},e.prototype.observe=function(t,e,i,r){var n=this;return new Ai(ai(vi(t),(function(t){return n.events.on("propertychanged",(function(r){r.property===t&&e.call(i,r)}),i,r)})))},e.prototype.applyAccessibility=function(){var t=this.readerTitle,e=this.readerDescription,i=this.role,r=this.readerHidden,n=this.readerChecked,a=this.readerControls,o=this.readerLive,s=this.readerOrientation,l=this.readerValueNow,c=this.readerValueText,u=[],h=[],p=this.readerLabelledBy;p&&u.push(p);var d=this.readerDescribedBy;if(d&&h.push(d),!this.showSystemTooltip&&t&&(e=e?t+" -- "+e:t,t=void 0),!t||e||this.showSystemTooltip){if(t){var f=this.titleElement,b=this.uid+"-title";f.node.textContent!=t&&(f.node.textContent=t,f.attr({id:b})),u.push(b)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);var m=this.uid+"-description";if(e){var g=this.descriptionElement;g.node.textContent!=e&&(g.node.textContent=e,g.attr({id:m})),h.push(m)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0,bi(h,m))}else this.setSVGAttribute({"aria-label":t}),this.removeSVGAttribute("aria-description"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);u.length?this.setSVGAttribute({"aria-labelledby":u.join(" ")}):this.removeSVGAttribute("aria-labelledby"),h.length?this.setSVGAttribute({"aria-describedby":h.join(" ")}):this.removeSVGAttribute("aria-describedby"),i?this.setSVGAttribute({role:i}):this.removeSVGAttribute("role"),r?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),n?this.setSVGAttribute({"aria-checked":"true"}):!1===n?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),a?this.setSVGAttribute({"aria-controls":a}):this.removeSVGAttribute("aria-controls"),o?this.setSVGAttribute({"aria-live":o}):this.removeSVGAttribute("aria-live"),s?this.setSVGAttribute({"aria-orientation":s}):this.removeSVGAttribute("aria-orientation"),l?this.setSVGAttribute({"aria-valuenow":l}):this.removeSVGAttribute("aria-valuenow"),c?this.setSVGAttribute({"aria-valuetext":c}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return ge(t)&&this.dataItem?this.populateString(t):t},set:function(t){t=me(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescription",{get:function(){return this.getPropertyValue("readerDescription")},set:function(t){t=me(t),this.setPropertyValue("readerDescription",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(t){t=me(t),this.setPropertyValue("role",t)&&(this.applyAccessibility(),"slider"==t&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(t){t=fe(t),this.setPropertyValue("readerHidden",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(t){t=fe(t),this.setPropertyValue("readerChecked",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(t){t=me(t),this.setPropertyValue("readerControls",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(t){t=me(t),this.setPropertyValue("readerLive",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(t){t=me(t),this.setPropertyValue("readerLabelledBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(t){t=me(t),this.setPropertyValue("readerDescribedBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(t){t=me(t),this.setPropertyValue("readerOrientation",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(t){t=me(t),this.setPropertyValue("readerValueNow",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(t){t=me(t),this.setPropertyValue("readerValueText",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactions",{get:function(){if(!this._interaction){var t=Da().getInteraction(this.dom);this._interaction=t,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),e.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(e.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("focusable",t)&&(t||this.isInteractive())&&(this.interactions.focusable=t,t?(this.setSVGAttribute({focusable:t}),this._tabindex||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",t,(function(){return new Ai([e.events.on("blur",e.handleBlur,e,!1),e.events.on("focus",e.handleFocus,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleFocus=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},e.prototype.handleBlur=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(e.prototype,"focusFilter",{get:function(){return this._focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(t){this._focusFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(t){t!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){var t=this._tabindex;return null!=t?t:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(t){t=be(t),this.setPropertyValue("tabindex",t)&&we(t)&&(this.interactions.tabindex=t,this.setSVGAttribute({tabindex:t}),this._tabindex=t,this.focusable=t>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("draggable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=t,this.interactions.setEventDisposer("sprite-draggable",t,(function(){return new Ai([e.events.on("down",e.handleDown,e,!1),e.events.on("dragstart",e.handleDragStart,e,!1),e.events.on("drag",e.handleDragMove,e,!1),e.events.on("dragstop",e.handleDragStop,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleDragStart=function(t){this.interactions.isTouchProtected&&t.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},e.prototype.dragStart=function(t){this._isDragged=!0,Da().dragStart(this.interactions,t)},e.prototype.handleDragStop=function(t){this.interactions.isTouchProtected&&t.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},e.prototype.dragStop=function(t,e){this._isDragged=!1,Da().dragStop(this.interactions,t,e)},e.prototype.handleDragMove=function(t){if(!this.interactions.isTouchProtected||!t.touch){var e=this.interactions.originalPosition;if(e&&this._isDragged){var i=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:e.x+t.shift.x/i,y:e.y+t.shift.y/i},void 0,void 0,!0)}this.dispatchImmediately("dragged",t)}},Object.defineProperty(e.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(t){t=fe(t),this.setPropertyValue("inert",t)&&(t||this.isInteractive())&&(this.interactions.inert=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("hoverable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=t,this.interactions.setEventDisposer("sprite-hoverable",t,(function(){return new Ai([e.events.on("over",e.handleOver,e,!1),e.events.on("out",e.handleOut,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleOver=function(t){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var e=void 0;t&&t.pointer&&(e=vn(t.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(e)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},e.prototype.handleOut=function(t){var e=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout((function(){e.tooltip.isHover||(e.tooltip.targetSprite==e&&e.hideTooltip(),e._outTimeout=e.setTimeout(e.handleOutReal.bind(e),e.rollOutDelay))}),10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},e.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(e.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),e.prototype.handleDown=function(t){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},e.prototype.handleUp=function(t){var e=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(t.pointer.point),this._disposers.push(fr.events.once("exitframe",(function(){e.showTooltip()}))),this._disposers.push(Da().body.events.once("down",(function(t){e.hideTooltip()}))))},Object.defineProperty(e.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("clickable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=t,this.interactions.setEventDisposer("sprite-clickable",t,(function(){return new Ai([e.events.on("down",e.handleDown,e,!1),e.events.on("up",e.handleUp,e,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("togglable",t)&&(t||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",t,(function(){return e.events.on("hit",e.handleToggle,e,!1)}))},enumerable:!0,configurable:!0}),e.prototype.handleToggle=function(t){this.isActive=!this.isActive},Object.defineProperty(e.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(t){t=fe(t),this.setPropertyValue("contextMenuDisabled",t)&&(this.interactions.contextMenuDisabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(t){this.setPropertyValue("url",t)&&(this._urlDisposer&&this._urlDisposer.dispose(),Xr(t)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=Ka.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(t){this.setBaseId(t)},enumerable:!0,configurable:!0}),e.prototype.setBaseId=function(t){t!=this._baseId&&(this.invalid&&(this.invalid=!1,fr.removeFromInvalidSprites(this),this.invalidate()),this._baseId=t)},Object.defineProperty(e.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(t){this.setPropertyValue("urlTarget",t)},enumerable:!0,configurable:!0}),e.prototype.urlHandler=function(t){if(Xr(this.url)){var e=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=e:window.open(e,this.urlTarget)}},Object.defineProperty(e.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(t){t=fe(t),this.setPropertyValue("swipeable",t)&&(this.applyCursorStyle(),(t||this.isInteractive())&&(this.interactions.swipeable=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(t){t=fe(t),this.setPropertyValue("trackable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(t){this.setPropertyValue("wheelable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(t){var e=this;t=fe(t),this.setPropertyValue("resizable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=t,this.interactions.setEventDisposer("sprite-resizable",t,(function(){return new Ai([e.events.on("down",e.handleDown,e,!1),e.events.on("resize",e.handleResize,e,!1)])})))},enumerable:!0,configurable:!0}),e.prototype.handleResize=function(t){if((!this.interactions.isTouchProtected||!t.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*t.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var e=Ne(vn(t.point1,this.htmlContainer,this.svgContainer.cssScale),vn(t.point2,this.htmlContainer,this.svgContainer.cssScale)),i=xn(t.startPoint1,this._parent),r=xn(t.startPoint2,this._parent),n=this.interactions.originalPosition,a=this.interactions.originalScale;if(n){var o=Ne({x:(i.x-n.x)/a,y:(i.y-n.y)/a},{x:(r.x-n.x)/a,y:(r.y-n.y)/a}),s=bn(e,this._parent);this.moveTo({x:s.x-o.x*this.scale,y:s.y-o.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(e.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorOverStyle",{set:function(t){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=t,Da().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorDownStyle",{set:function(t){this.cursorOptions.downStyle=t},enumerable:!0,configurable:!0}),e.prototype.applyCursorStyle=function(){},Object.defineProperty(e.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(t){if(t=fe(t),this.setPropertyValue("interactionsEnabled",t)){var e=null;t?this.group.node.style.pointerEvents="":e="none",this.group.node.style.pointerEvents=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exporting",{get:function(){return this.getExporting()},set:function(t){this._exporting.set(t,t)},enumerable:!0,configurable:!0}),e.prototype.getExporting=function(){var t=this._exporting.get();return t||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((t=new fo(this.svgContainer.SVGContainer)).sprite=this,t.language=this.language,t.numberFormatter=this.numberFormatter,t.dateFormatter=this.dateFormatter,t.durationFormatter=this.durationFormatter,this._exporting.set(t,t),t))},Object.defineProperty(e.prototype,"exportable",{get:function(){return this._exportable},set:function(t){var e=this.svgContainer;this._exportable=t,e&&(t?bi(e.nonExportableSprites,this):-1==ri(e.nonExportableSprites,this)&&e.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),e.prototype.modalPrefix=function(t){return Nn.classNamePrefix+t},Object.defineProperty(e.prototype,"modal",{get:function(){var t=this.svgContainer;if(t){var e=t.modal;return e.adapter.has("classPrefix",this.modalPrefix)||e.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openModal=function(t,e){var i=this.svgContainer;if(i)return i.openModal(t,e)},e.prototype.closeModal=function(){var t=this.svgContainer;t&&t.closeModal()},Object.defineProperty(e.prototype,"popups",{get:function(){var t=this.svgContainer;if(t){var e=t.popups;return e.template.sprite=this,e.template.adapter.has("classPrefix",this.modalPrefix)||e.template.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(t,e){var i=this.svgContainer;if(i)return i.openPopup(t,e)},e.prototype.closeAllPopups=function(){var t=this.svgContainer;t&&t.closeAllPopups()},Object.defineProperty(e.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(t){this.isDragged||this.setPercentProperty("x",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelX",{get:function(){var t=Oe(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("minX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("maxX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(t){this.isDragged||this.setPercentProperty("y",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelY",{get:function(){var t=Oe(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("minY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("maxY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("dx",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(t){we(t)&&(t=Ie(t,this._positionPrecision,!0),this.setPropertyValue("dy",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(t){we(t=be(t))||(t=0),this.setPropertyValue("rotation",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(t){t=me(t),this.setPropertyValue("align",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(t){t=me(t),this.setPropertyValue("valign",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(t){t=me(t),this.setPropertyValue("horizontalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(t){t=me(t),this.setPropertyValue("verticalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){var t=this.getPropertyValue("maxWidth");if(!we(t)&&this._parent){var e=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(e=e-this.pixelMarginLeft-this.pixelMarginRight),e}return t},set:function(t){this.setMaxWidth(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxWidth=function(t){var e=this.maxWidth,i=this.maxHeight;this.setPropertyValue("maxWidth",t)&&(we(this.relativeWidth)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i}))},Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.getPropertyValue("maxHeight");if(!we(t)&&this._parent){var e=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(e=e-this.pixelMarginTop-this.pixelMarginBottom),e}return t},set:function(t){this.setMaxHeight(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxHeight=function(t){var e=this.maxWidth,i=this.maxHeight;this.setPropertyValue("maxHeight",t)&&(we(this.relativeHeight)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i}))},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(t){this.setPercentProperty("width",t,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,t instanceof ce?(this.percentWidth=t.percent,we(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(t),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(t){this.setPercentProperty("height",t,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,t instanceof ce?(this.percentHeight=t.percent,we(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(t),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){var t;t=we(this.percentWidth)?this.maxWidth:we(this._pixelWidth)?this._pixelWidth:0;var e=this.minWidth;null!=e&&t<e&&(t=e);var i=Ie(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){var t;t=we(this.percentHeight)?this.maxHeight:we(this._pixelHeight)?this._pixelHeight:0;var e=this.minHeight;null!=e&&t<e&&(t=e);var i=Ie(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeWidth",{get:function(){var t=this._relativeWidth;if(we(t))return this._adapterO?this._adapterO.apply("relativeWidth",t):t},set:function(t){this._relativeWidth!=t&&(this._relativeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){var t=this._relativeHeight;if(we(t))return this._adapterO?this._adapterO.apply("relativeHeight",t):t},set:function(t){this._relativeHeight!=t&&(this._relativeHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerWidth",{get:function(){var t=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerHeight",{get:function(){var t=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerWidth",{get:function(){var t=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerHeight",{get:function(){var t=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"globalScale",{get:function(){var t=this.scale;return this._parent&&(t*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(t){(t=be(t))<0&&(t=0),t!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",t,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),e.prototype.margin=function(t,e,i,r){return this.marginTop=t,this.marginRight=e,this.marginBottom=i,this.marginLeft=r,this},Object.defineProperty(e.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(t){this.setPercentProperty("marginLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(t){this.setPercentProperty("marginRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(t){this.setPercentProperty("marginTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(t){this.setPercentProperty("marginBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginRight",{get:function(){var t=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginRight",{get:function(){var t=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginLeft",{get:function(){var t=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginLeft",{get:function(){var t=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginTop",{get:function(){var t=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginTop",{get:function(){var t=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginBottom",{get:function(){var t=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginBottom",{get:function(){var t=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",t):t},enumerable:!0,configurable:!0}),e.prototype.padding=function(t,e,i,r){return this.paddingTop=t,this.paddingRight=e,this.paddingBottom=i,this.paddingLeft=r,this},Object.defineProperty(e.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(t){this.setPercentProperty("paddingLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(t){this.setPercentProperty("paddingRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(t){this.setPercentProperty("paddingTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(t){this.setPercentProperty("paddingBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPath(t)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this._adapterO&&(t=this._adapterO.apply("path",t)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),ge(t)?this.element.attr({d:t}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(e.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(t){this.setPropertyValue("fillModifier",t)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(t){this.setPropertyValue("strokeModifier",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(t){t=ke(t,0,1),this.setPropertyValue("fillOpacity",t)&&this.setSVGAttribute({"fill-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(t){this.setFill(t)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(t){if(Ve(t)||(t=Lr(t)),this.setColorProperty("fill",t)||this.fillModifier)if(t instanceof Er&&this.fillModifier&&(t=this.fillModifier.modify(t)),this.realFill=t,t instanceof Er)this.setSVGAttribute({fill:t.toString()});else if(ge(t)){if(t instanceof Wa||t instanceof Ga||t instanceof Ya){var e=t;e.paper=this.paper,this.setSVGAttribute({fill:'url("'+Nr()+e.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(e.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(t){t=ke(t,0,1),this.setPropertyValue("opacity",t)&&this.setSVGAttribute({opacity:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(t){this.setStroke(t)},enumerable:!0,configurable:!0}),e.prototype.setStroke=function(t){if(Ve(t)||(t=Lr(t)),this.setColorProperty("stroke",t)||this.strokeModifier)if(t instanceof Er&&this.strokeModifier&&(t=this.strokeModifier.modify(t)),this.realStroke=t,t instanceof Er)"none"==t.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:t.toString()});else if(ge(t)){if(t instanceof Wa||t instanceof Ga||t instanceof Ya){var e=t;e.paper=this.paper,this.setSVGAttribute({stroke:'url("'+Nr()+e.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(t){t=ke(t,0,1),this.setPropertyValue("strokeOpacity",t)&&this.setSVGAttribute({"stroke-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(t){t=fe(t),this.setPropertyValue("nonScalingStroke",t)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(t){t=fe(t),this.setPropertyValue("nonScaling",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(t){t=be(t),this.setPropertyValue("strokeWidth",t,!0),this.nonScalingStroke&&(we(t)||(t=1),t/=this.globalScale),this.setSVGAttribute({"stroke-width":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(t){t=me(t),this.setPropertyValue("strokeDasharray",t)&&this.setSVGAttribute({"stroke-dasharray":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(t){t=be(t),this.setPropertyValue("strokeDashoffset",t)&&this.setSVGAttribute({"stroke-dashoffset":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(t){this.setPropertyValue("strokeLinecap",t)&&this.setSVGAttribute({"stroke-linecap":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(t){this.setPropertyValue("strokeLinejoin",t)&&this.setSVGAttribute({"stroke-linejoin":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(t){t=me(t),this.setPropertyValue("shapeRendering",t)&&this.setSVGAttribute({"shape-rendering":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(t){t=fe(t),this._positionPrecision=t?0:3,this.setPropertyValue("pixelPerfect",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return ge(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(t){t=fe(t),this.isBaseSprite&&(this.topParent.rtl=t),this._rtl=t},enumerable:!0,configurable:!0}),e.prototype.show=function(t){return this.showReal(t)},e.prototype.showReal=function(t){var e=this;if(!this.preventShow){var i,r=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=r.opacity&&this.opacity<r.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),we(t)||(t=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(i=this.applyCurrentState(t))&&!i.isFinished()?(this._showHideDisposer=i.events.on("animationended",(function(){e.isShowing=!1})),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var n=this.defaultState.properties.visible;ge(n)||(n=!0),this.visible=n,this.readerHidden=!1,this.dispatchImmediately("shown")}return i}},e.prototype.hide=function(t){return this.hideReal(t)},e.prototype.hideReal=function(t){var e,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var r=this.hiddenState;r?(e=this.setState(r,t,void 0))&&!e.isFinished()?(this._hideAnimation=e,this._showHideDisposer=e.events.on("animationended",(function(){i.isHiding=!1,i._isHidden=!0}),this),this._disposers.push(this._showHideDisposer),this._disposers.push(e)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return we(t)||(t=this.hiddenState.transitionDuration),e},Object.defineProperty(e.prototype,"visible",{get:function(){return this.getVisibility()},set:function(t){t=fe(t),this.setVisibility(t)},enumerable:!0,configurable:!0}),e.prototype.getVisibility=function(){var t=this.getPropertyValue("visible");return ge(t)||(t=!0),t},e.prototype.setVisibility=function(t){this.setPropertyValue("visible",t)&&(t?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged")&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:t}))},Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(t){t=be(t),this.setPropertyValue("zIndex",t)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),e.prototype.toFront=function(){var t=this._parent;t&&t.children.indexOf(this)!=t.children.length-1&&(t.children.moveValue(this,t.children.length-1),this.dispatch("zIndexChanged"))},e.prototype.toBack=function(){var t=this._parent;t&&0!=t.children.indexOf(this)&&(t.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(e.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(t){this.setPropertyValue("userClassName",t)&&(!t&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(t){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=t,t&&(t.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipDataItem",{get:function(){return this._tooltipDataItem||this.dataItem},set:function(t){this._tooltipDataItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(t){this._tooltipColorSource=t},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(t){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!t&&"pointer"==this.tooltipPosition&&this.isHover&&(t=vn(Da().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var e=this;null!=e;){if(!e.visible||e.disabled||e.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));e=e.parent}if(ge(this.tooltipText)||ge(this.tooltipHTML)){var i=this.tooltip,r=this.tooltipDataItem;if(i){i.targetSprite=this;var n=this,a=this.tooltipColorSource;if((i.getStrokeFromObject||i.getFillFromObject)&&a&&(a.isTemplate?r&&li(r.sprites,(function(t){return t.clonedFrom!=a||(n=t,!1)})):n=a),i.getStrokeFromObject){for(var o=this.stroke,s=n;null!=s.parent&&(null==(o=s.stroke)&&(s=s.parent),null==o););o instanceof Er?i.background.animate({property:"stroke",to:o},i.animationDuration):i.background.stroke=o}if(i.dataItem=r,i.label.populateStringFrom=this,i.getFillFromObject){var l=this.fill;for(s=n;null!=s.parent;)if(null==(l=s.fill)||l instanceof Er&&null==l.rgb)s=s.parent;else if(null!=l)break;null==l&&(l=Rr("#000000")),l instanceof Er&&i.visible?i.background.animate({property:"fill",to:l},i.animationDuration):i.background.fill=l,i.autoTextColor&&l instanceof Er&&(i.label.fill=l.alternative)}var c="";if(this.tooltipHTML&&(i.html=this.tooltipHTML,c=this.tooltipHTML),this.tooltipText&&(i.text=this.tooltipText,c=this.tooltipText),this.updateTooltipPosition(t)){if(i.readerDescribedBy=this.uidAttr(),i.label.invalid&&i.label.validate(),null!=c&&""!=c&&""!=i.label.currentText){i&&!i.parent&&(i.parent=this.tooltipContainer);var u=i.defaultState.transitionDuration;return u<=0&&(u=1),i.show(u),i.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},e.prototype.updateTooltipPosition=function(t){var e=this;if("pointer"!=this.tooltipPosition){var i=mn({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(i)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=Da().body.events.on("track",(function(t){return e.pointTooltipTo(vn(t.point,e.svgContainer.SVGContainer,e.svgContainer.cssScale),!0)})),t)return this.pointTooltipTo(t,!0)},e.prototype.pointTooltipTo=function(t,e){var i=this.tooltip;if(i&&this.topParent){if(i.showInViewport)return i.pointTo(t,e),!0;if(ii(t,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return i.pointTo(t,e),!0}return!1},e.prototype.hideTooltip=function(t){if("always"!=this.showTooltipOn){var e=this.tooltip;e&&(e.targetSprite==this&&(e.targetSprite=void 0),e.hide(t),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(e.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(t){t=me(t),this.hoverable=!0,this.setPropertyValue("tooltipHTML",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(t){(t=me(t))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(t){this._tooltipContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(t){this.setPercentProperty("tooltipX",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(t){(t=fe(t))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(t){this.setPropertyValue("showTooltipOn",t)&&("hit"==t&&(this.clickable=!0),this.tooltip&&("always"==t?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(t){this.setPropertyValue("tooltipPosition",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(t){this.setPercentProperty("tooltipY",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t,e=this.getPropertyValue("tooltipX");return ge(e)||(e=ue(50)),we(e)&&(t=e),e instanceof ce&&(t=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),we(t)||(t=0),t},e.prototype.getTooltipY=function(){var t,e=this.getPropertyValue("tooltipY");return ge(e)||(e=ue(50)),we(e)&&(t=e),e instanceof ce&&(t=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),we(t)||(t=0),t},e.prototype.raiseCriticalError=function(t,e){this.svgContainer&&(this.modal.content=this._adapterO?this._adapterO.apply("criticalError",t).message:t.message,e?this.modal.closable=!0:this.disabled=!0,Nn.suppressErrors||this.modal.open()),Nn.verbose&&console.log(t)},e.prototype.processConfig=function(e){e&&(ge(e.tooltipColorSource)&&xe(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),ge(e.cursorOverStyle)&&xe(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),ge(e.cursorDowntyle)&&xe(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),ge(e.cursorOptions)&&(ge(e.cursorOptions.overStyle)&&xe(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),ge(e.cursorOptions.downStyle)&&xe(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),t.prototype.processConfig.call(this,e),this.processDelayedMap()},e.prototype.getCursorStyle=function(t){switch(t){case"grab":return Ka.grab;case"grabbing":return Ka.grabbing;case"pointer":return Ka.pointer;case"horizontalResize":return Ka.horizontalResize;case"verticalResize":return Ka.verticalResize;default:return Ka.default}},e.prototype.configOrder=function(e,i){return e==i?0:"tooltipColorSource"==e?1:"tooltipColorSource"==i?-1:t.prototype.configOrder.call(this,e,i)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(t){t=fe(t),this.setShowOnInit(t)},enumerable:!0,configurable:!0}),e.prototype.setShowOnInit=function(t){this.setPropertyValue("showOnInit",t)&&(this.isTemplate||(!t||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Ai([fr.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},e.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},e.prototype.appear=function(){var t=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var e=this.show();e&&!e.isFinished()?this.addDisposer(e.events.on("animationended",(function(){t.appeared=!0,t.dispatch("appeared")}))):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(e.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(t){t=fe(t),this.setPropertyValue("hidden",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plugins",{get:function(){var t=this;return this._plugins||(this._plugins=new vr,this._disposers.push(this._plugins.events.on("inserted",(function(e){e.newValue.target=t,e.newValue.init()}))),this._disposers.push(new gr(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),e.prototype._systemUpdate=function(t){this.validate()},e.prototype._systemCheckIfValidate=function(){return!0},e.prototype._systemValidatePositions=function(){this.validatePosition()},e.prototype._systemValidateLayouts=function(){},e}(jr);fr.registeredClasses.Sprite=mo;var go=function(t){function e(){var e=t.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=Ie(this.innerWidth,e),r=Ie(this.innerHeight,e);this.element.attr({width:i,height:r})},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Rectangle=go;var yo=function(t){function e(){var e=t.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new hr,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new ur(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.handleChildAdded=function(t){this.processChild(t.newValue)},e.prototype.processChild=function(t){try{this._childrenDisposers.insertKey(t.uid,new Ai([t.events.on("transformed",this.handleChildTransform,this),t.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(e){}this.element&&this.element.add(t.group),t.parent=this,t.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:t}),this.invalidate()},e.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},e.prototype.handleChildRemoved=function(t){var e=t.oldValue;this._childrenDisposers.removeKey(e.uid),this.element&&this.element.removeElement(e.group),e.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:e})},e.prototype.handleChildTransform=function(t){t.target.isMeasured&&this.invalidateLayout()},e.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,fr.addToInvalidLayouts(this),vo.requestFrame())},e.prototype.invalidate=function(){t.prototype.invalidate.call(this),this.invalidateLayout()},e.prototype.deepInvalidate=function(){t.prototype.invalidate.call(this),oi(this._childrenByLayout,(function(t){t instanceof e?t.deepInvalidate():t.invalidate()})),this.invalidateLayout()},Object.defineProperty(e.prototype,"children",{get:function(){return this._children||(this._children=new vr),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),e.prototype.removeElement=function(){},e.prototype.sortChildren=function(){var t=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var e=[],i=[];ir(this.children.iterator(),(function(r){"horizontal"==t.layout||"grid"==t.layout?we(r.percentWidth)?i.push(r):e.push(r):"vertical"==t.layout&&we(r.percentHeight)?i.push(r):e.push(r)})),this._childrenByLayout=e.concat(i)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},e.prototype.calculateRelativeSize=function(){var t=this,e=0,i=0;oi(this._childrenByLayout,(function(t){t.isMeasured&&(we(t.percentWidth)&&(e+=t.percentWidth),we(t.percentHeight)&&(i+=t.percentHeight))})),oi(this._childrenByLayout,(function(r){r.isMeasured&&("horizontal"==t.layout&&(we(r.percentWidth)&&(r.relativeWidth=r.percentWidth/e),we(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100)),"vertical"==t.layout&&(we(r.percentHeight)&&(r.relativeHeight=r.percentHeight/i),we(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100)),"grid"==t.layout&&(we(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100),we(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100))),"absolute"!=t.layout&&r.isMeasured||(we(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100),we(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100))}))},e.prototype.addChildren=function(){if(this.element){var t=xi(this.children.values),e=t.map((function(t,e){return{idx:e,data:t}}));e.sort((function(t,e){var i=t.data.zIndex||0,r=e.data.zIndex||0;return i<r?-1:i>r?1:t.idx-e.idx})),t=e.map((function(t){return t.data}));var i=this.element,r=!0;if(i.node&&i.node.childNodes)for(var n=0,a=i.node.childNodes.length;n<a;n++)if(i.node.childNodes[n]!=t[n].group.node){r=!1;break}r||(oi(t,(function(t){t.group&&i.add(t.group)})),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},e.prototype.createChild=function(t){var e=new t;return e.parent=this,e},e.prototype.removeChildren=function(){for(;this.children.length>0;){var t=this.children.getIndex(0);t.parent=void 0,this.children.removeValue(t)}},e.prototype.disposeChildren=function(){for(;this.children.length>0;){var t=this.children.getIndex(0);t.dispose(),this.children.removeValue(t)}},Object.defineProperty(e.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(t){this._background&&this.background!=t&&this.removeDispose(this._background),t&&(this._background=t,this._disposers.push(t),this.processBackground())},enumerable:!0,configurable:!0}),e.prototype.handleGlobalScale=function(){t.prototype.handleGlobalScale.call(this),this.children.each((function(t){t.handleGlobalScale()}))},e.prototype.createBackground=function(){return new go},e.prototype.processBackground=function(){var t=this._background;t&&(t.isMeasured=!1,this._background.fill=(new ma).getFor("background"),t.parent=this,t.isMeasured=!1,this.children.removeValue(t),this._disposers.push(t),this.group.addToBack(this._background.group))},e.prototype.validateLayout=function(){var t=this;fr.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var e=0,i=0,r=!0;this.children&&(this.sortChildren(),oi(this._childrenByLayout,(function(n){var a,o;if(we(n.relativeWidth)?(a=Ie(t._availableWidth*n.relativeWidth,2),"horizontal"==t.layout&&(a-=n.pixelMarginRight+n.pixelMarginLeft)):"horizontal"==t.layout&&n.invalid&&n.validate(),we(n.relativeHeight)?(o=Ie(t._availableHeight*n.relativeHeight,2),"vertical"==t.layout&&(o-=n.pixelMarginTop+n.pixelMarginBottom)):"vertical"==t.layout&&n.invalid&&n.validate(),0==n.invalid){if(we(n.relativeWidth)&&(n.maxWidth=a),we(n.relativeHeight)&&(n.maxHeight=o),n.isMeasured){"horizontal"==t.layout&&(we(n.percentWidth)||n.measuredWidth>0&&(t._availableWidth-=n.measuredWidth+n.pixelMarginLeft+n.pixelMarginRight)),"vertical"==t.layout&&(we(n.percentHeight)||n.measuredHeight>0&&(t._availableHeight-=n.measuredHeight+n.pixelMarginTop+n.pixelMarginBottom));var s=n.measuredWidth,l=n.measuredHeight;"none"!=n.align&&(s+=n.pixelMarginLeft+n.pixelMarginRight),"none"!=n.valign&&(l+=n.pixelMarginTop+n.pixelMarginBottom),e=Math.max(e,s),i=Math.max(i,l)}}else n.isMeasured&&(we(n.relativeWidth)&&n.maxWidth!=a&&(n.maxWidth=a,r=!1),we(n.relativeHeight)&&n.maxHeight!=o&&(n.maxHeight=o,r=!1))}))),this._absoluteWidth=e,this._absoluteHeight=i,r&&this.arrange()},e.prototype.arrange=function(){var t,e,i,r,n,a,o,s,l,c,u,h=this,p=this.children,d=0,f=0,b=Ee(this.innerWidth,this._absoluteWidth),m=Ee(this.innerHeight,this._absoluteHeight),g=this.pixelPaddingLeft,y=this.pixelPaddingRight,v=this.pixelPaddingTop,_=this.pixelPaddingBottom,x=0,w=0,V=0,C=0,P=[],U=[],S=this.maxWidth,T=this.maxHeight,k=this.minWidth,I=this.minHeight,A=xi(p.values);if(this.reverseOrder&&A.reverse(),"grid"==this.layout){a=S,n=1;for(var O=0,D=A.length;O<D;O++)if((F=A[O]).isMeasured&&!F.disabled&&!F.__disabled){var M=F.measuredWidth;M<a&&(a=M),M>n&&(n=M)}a=Oe(a,1,S),n=Oe(n,1,S),o=this.fixedWidthGrid?S/n:S/a,o=Ee(1,Math.floor(o)),o=Re(this.maxColumns,o),P=this.getColumnWidth(A,o,n)}for(O=0,D=A.length;O<D;O++){var F;if(!(F=A[O]).isMeasured||F.disabled||F.__disabled)F.validatePosition();else{var E=void 0,R=void 0,L=F.pixelMarginLeft,H=F.pixelMarginRight,j=F.pixelMarginTop,z=F.pixelMarginBottom,B=F.measuredWidth,N=F.measuredHeight,X=void 0,W=void 0,G=void 0,Y=void 0;switch(this.layout){case"none":break;case"absolute":switch(F.align){case"left":E=L-F.maxLeft;break;case"center":E=(b-B)/2-F.maxLeft;break;case"right":E=b-H-F.maxRight;break;default:F.x instanceof ce||(E=F.pixelX)}switch(F.valign){case"top":R=j-F.maxTop;break;case"middle":R=(m-N)/2-F.maxTop;break;case"bottom":R=m-z-F.maxBottom;break;default:F.y instanceof ce||(R=F.pixelY)}break;case"vertical":switch(F.align){case"left":E=L-F.maxLeft;break;case"center":E=(b-B)/2-F.maxLeft;break;case"right":E=b-H-F.maxRight;break;default:E=F.pixelX}w=(R=w+j-F.maxTop)+F.maxBottom+z;break;case"horizontal":switch(F.valign){case"top":R=j-F.maxTop;break;case"middle":R=(m-N)/2-F.maxTop;break;case"bottom":R=m-z-F.maxBottom;break;default:R=F.pixelY}x=(E=x+L-F.maxLeft)+F.maxRight+H;break;case"grid":switch(E=x+L-F.maxLeft,F.valign){case"top":R=w+j-F.maxTop;break;case"middle":R=w+(m-N)/2-F.maxTop;break;case"bottom":R=w+m-z-F.maxBottom;break;default:R=w-F.maxTop}x+=P[C],U[V]=Ee(U[V],N);var q=P[++C];if(we(q)||(q=n),x>Re(this.innerWidth,S)-q+1&&C<o){o=C,x=0,w=0,V=0,C=0,P=this.getColumnWidth(A,o,n),U=[],O=-1;continue}C>=o&&(C=0,w+=U[V],V++,x=0)}"none"!==this.layout&&(F.moveTo({x:E,y:R}),X=E+F.maxLeft-L,G=R+F.maxTop-j,Y=R+F.maxBottom+z,((W=E+F.maxRight+H)>e||!we(e))&&(e=W),(X<t||!we(t))&&(t=X),(G<i||!we(i))&&(i=G),(Y>r||!we(r))&&(r=Y),(W>l||!we(l))&&(l=W),(X<s||!we(s))&&(s=X),(G<c||!we(c))&&(c=G),(Y>u||!we(u))&&(u=u))}}if("none"==this.layout){var K=this.bbox;t=K.x,e=K.x+K.width,i=K.y,r=K.y+K.height}we(t)||(t=0,s=0),we(e)||(l=e=this._availableWidth),we(i)||(i=0,c=0),we(r)||(u=r=this._availableHeight),we(c)||(c=0),we(u)||(u=c),we(s)||(s=0),we(l)||(l=s),d=e-t,f=r-i,we(this.relativeWidth)&&(t=0,e=d=S-g-y),we(this.relativeHeight)&&(i=0,r=f=T-v-_),we(this._pixelWidth)&&(t=0,d=this._pixelWidth-g-y),we(k)&&d<k&&(t=0,d=this.minWidth-g-y),we(this._pixelHeight)&&(i=0,f=this._pixelHeight-v-_),we(I)&&f<I&&(i=0,f=I-v-_);var J=l-s,Z=u-c;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&p.length>0){var Q,$,tt=d,et=f;tt<J&&(tt=J),et<Z&&(et=Z),"center"==this.contentAlign&&(Q=(tt-J)/2),"right"==this.contentAlign&&(Q=tt-J),"middle"==this.contentValign&&($=(et-Z)/2),"bottom"==this.contentValign&&($=et-Z),we(Q)&&ir(p.iterator(),(function(t){var e=t.maxLeft,i=Q;"horizontal"==h.layout&&(t.x=t.pixelX+i),"grid"==h.layout&&(t.x=t.pixelX+i),"vertical"==h.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e)),"absolute"==h.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e))})),we($)&&ir(p.iterator(),(function(t){var e=t.maxTop,i=$;"horizontal"==h.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e)),"grid"==h.layout&&(t.y=(i+=t.pixelMarginTop)-e),"vertical"==h.layout&&(t.y=t.pixelY+i),"absolute"==h.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e))}))}var it=this.bbox;d=Ee(d,k),f=Ee(f,I),this.contentWidth=d,this.contentHeight=f,d=Re(d,S),f=Re(f,T),this._bbox={x:t,y:i,width:d,height:f};var rt=this.maxLeft,nt=this.maxTop,at=this.maxBottom,ot=this.maxRight;if(this.measure(),(rt!=this.maxLeft||ot!=this.maxRight||nt!=this.maxTop||at!=this.maxBottom)&&this.events.isEnabled("transformed")){var st={type:"transformed",target:this};it&&(st.dummyData=it.width+" "+d+"  "+it.height+" "+f),this.events.dispatchImmediately("transformed",st)}this.dispatchImmediately("layoutvalidated")},e.prototype.updateCenter=function(){t.prototype.updateCenter.call(this),this.updateBackground()},e.prototype.updateBackground=function(){var t=this._background;t&&(t.x=this.maxLeft,t.y=this.maxTop,t.width=this.maxRight-this.maxLeft,t.height=this.maxBottom-this.maxTop)},e.prototype.getColumnWidth=function(t,e,i){var r=this,n=[],a=0;return oi(t,(function(t){!t.isMeasured||t.disabled||t.__disabled||(n[a]=r.fixedWidthGrid?i:Ee(n[a],t.measuredWidth+t.pixelMarginRight+t.pixelMarginLeft),++a==e&&(a=0))})),n},Object.defineProperty(e.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(t){this.setPropertyValue("layout",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(t){this.setPropertyValue("contentValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(t){this.setPropertyValue("contentAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(t){this.setPropertyValue("fixedWidthGrid",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(t){this.setPropertyValue("maxColumns",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(t){this.setPropertyValue("reverseOrder",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(t){this.setPropertyValue("setStateOnChildren",t,!0)},enumerable:!0,configurable:!0}),e.prototype.fitsToBounds=function(t){var e=t.x,i=t.y;return e>=-.5&&e<=this.pixelWidth+.5&&i>=-.5&&i<=this.pixelHeight+.5},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),ir(e.children.iterator(),(function(t){t.shouldClone&&(t.clone().parent=i)}))},Object.defineProperty(e.prototype,"preloader",{get:function(){return this._preloader||(this.parent?this.parent.preloader:void 0)},set:function(t){this._preloader&&this.removeDispose(this._preloader),this._preloader=t,t&&(t.parent=this.tooltipContainer,this._disposers.push(t))},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(e){var i=this,r=t.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each((function(t){t.setPaper(e),t.topParent=i.topParent}))),r},e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),fr.removeFromInvalidLayouts(this)},e.prototype.setDataItem=function(e){this._dataItem!=e&&(ir(this.children.iterator(),(function(t){t.dataItem=e})),this._background&&(this._background.dataItem=e)),t.prototype.setDataItem.call(this,e)},e.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(t){this.setPropertyValue("fontFamily",t,!0)&&(this.setSVGAttribute({"font-family":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(t){this.setPropertyValue("fontSize",t,!0)&&(this.setSVGAttribute({"font-size":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),e.prototype.invalidateLabels=function(){this.children.each((function(t){t.hardInvalidate?(t.hardInvalidate(),t.events.once("validated",t.handleValidate,t,!1)):t instanceof e&&t.invalidateLabels()}))},Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(t){this.setPropertyValue("fontWeight",t),this.setSVGAttribute({"font-weight":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(t){this.setPropertyValue("textDecoration",t),this.setSVGAttribute({"text-decoration":t})},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),t.prototype.dispose.call(this)},e.prototype.setState=function(e,i,r){var n=e;return e instanceof jn&&(n=e.name),this.setStateOnChildren&&ir(this.children.iterator(),(function(t){t.setState(n,i,r),"active"!=n&&(t.isActive=!1)})),this._background&&this._background.setState(n),this.setStateOnSprites.length&&oi(this.setStateOnSprites,(function(t){t.setState(n,i,r)})),t.prototype.setState.call(this,e,i,r)},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},e.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;er(this.children.iterator(),(function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)})),li(this._shouldBeReady,(function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)})),i?t.prototype.dispatchReady.call(this):fr.events.once("exitframe",(function(){e.dispatchReady(),vo.requestFrame()}),void 0,!1)}},e.prototype._systemUpdate=function(e){this.children.each((function(t){t.invalid&&(t._systemCheckIfValidate()?t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid?e.push(t):t.validate():e.push(t))})),t.prototype._systemUpdate.call(this,e)},e.prototype._systemValidatePositions=function(){this.children.each((function(t){t.positionInvalid&&t.validatePosition()})),t.prototype._systemValidatePositions.call(this)},e.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(e.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(t){this._tapToActivate!=t&&this.setTapToActivate(t)},enumerable:!0,configurable:!0}),e.prototype.setTapToActivate=function(t){var e=this;this._tapToActivate=t,this.interactions.isTouchProtected=t,t&&this.interactions.setEventDisposer("container-tapToActivate",t,(function(){return new Ai([e.events.on("hit",e.handleTapToActivate,e,!1),e.events.on("down",e.initTapTimeout,e,!1),e.events.on("track",e.initTapTimeout,e,!1),Da().body.events.on("down",(function(t){Da().isLocalElement(t.pointer,e.paper.svg,e.uid)||e.handleTapToActivateDeactivation()}),e,!1)])})),Da()},e.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},e.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},e.prototype.initTapTimeout=function(){var t=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout((function(){t.handleTapToActivateDeactivation()}),this.tapTimeout))},e.prototype.hasLicense=function(){if(Nn.commercialLicense)return!0;for(var t=0;t<Nn.licenses.length;t++)if(Nn.licenses[t].match(/^CH.{5,}/i))return!0;return!1},e}(mo);fr.registeredClasses.Container=yo;var vo=new(function(){function t(){this._isPaused=!1,this.animations=[],this.uid=fr.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return t.prototype.reportTime=function(t,e){e&&(this.time=Date.now())},t.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();for(var i in fr.dispatchImmediately("enterframe"),fr.invalidDatas)if(Gi(fr.invalidDatas,i)){for(var r=fr.invalidDatas[i];r.length>0;){var n=(a=r[0]).dataProvider;if(a.isDisposed())bi(r,a);else if(n&&n.dataInvalid)try{if(n.validateData(),n.dataValidationProgress<1)break}catch(c){bi(r,n),n.raiseCriticalError(c)}else try{if(a.validateData(),a.dataValidationProgress<1)break}catch(c){bi(r,a),a.raiseCriticalError(c)}}if(Date.now()-e>this.updateStepDuration)break}for(;fr.invalidRawDatas.length>0;)if((a=fr.invalidRawDatas[0]).isDisposed())bi(fr.invalidRawDatas,a);else try{a.validateRawData()}catch(c){bi(fr.invalidRawDatas,a),a.raiseCriticalError(c)}for(;fr.invalidDataItems.length>0;){if(n=(a=fr.invalidDataItems[0]).dataProvider,a.isDisposed()||a.dataInvalid||n&&n.dataInvalid);else try{a.validateDataItems()}catch(c){bi(fr.invalidDataItems,a),a.raiseCriticalError(c)}bi(fr.invalidDataItems,a)}for(;fr.invalidDataRange.length>0;){var a;if(n=(a=fr.invalidDataRange[0]).dataProvider,a.isDisposed()||a.dataInvalid||n&&n.dataInvalid);else try{a.validateDataRange(),a.skipRangeEvent||a.dispatchImmediately("datarangechanged"),a.skipRangeEvent=!1}catch(c){bi(fr.invalidDataRange,a),a.raiseCriticalError(c)}bi(fr.invalidDataRange,a)}var o=[];qi(fr.invalidLayouts,(function(e){t.validateLayouts(e)})),qi(fr.invalidPositions,(function(e){t.validatePositions(e)}));var s=!1;if(e=Date.now(),qi(fr.invalidSprites,(function(i,r){for(var n=0;r.length>0;){if(t.validateLayouts(i),t.validatePositions(i),5==++n){if(Date.now()-e>t.updateStepDuration)break;n=0}var a=r[r.length-1];if(a&&!a.isDisposed()){if(a._systemCheckIfValidate())if(t.checkIfValidate2(a))try{a._systemUpdate(o)}catch(c){a.invalid=!1,bi(r,a),a.raiseCriticalError(c)}else o.push(a);else o.push(a);a.invalid=!1}bi(r,a)}fr.invalidSprites[i]=fr.invalidSprites[i].concat(o)})),qi(fr.invalidSprites,(function(t,e){e.length>0&&(s=!0)})),qi(fr.invalidDatas,(function(t,e){e.length>0&&(s=!0)})),oi(xi(this.animations),(function(t){t.update()})),qi(fr.invalidLayouts,(function(e){t.validateLayouts(e)})),qi(fr.invalidPositions,(function(e){t.validatePositions(e)})),function(){for(var t=Date.now(),e=Li.length,i=0;i<e;++i)Li.shift()(t)}(),qi(fr.invalidLayouts,(function(e){t.validateLayouts(e)})),qi(fr.invalidPositions,(function(e){t.validatePositions(e)})),fr.dispatchImmediately("exitframe"),(s||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var l=!0;qi(fr.invalidDatas,(function(t,e){e.length>0&&(l=!1)})),qi(fr.invalidSprites,(function(t,e){e.length>0&&(l=!1)})),l&&(this.updateStepDuration=200)}}},t.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},t.prototype.requestFrame=function(){var t=this;this._frameRequested||(Hi((function(){t.update()})),this._frameRequested=!0)},t.prototype.softInvalidate=function(t){var e=this;t.children.each((function(t){t instanceof yo&&e.softInvalidate(t),t.measureFailed&&(br(t,"Label")?t.hardInvalidate():t.invalidate(),t.measureFailed=!1)}))},t.prototype.validatePositions=function(t){for(var e=fr.invalidPositions[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())bi(e,i);else try{i._systemValidatePositions()}catch(r){i.positionInvalid=!1,bi(e,i),i.raiseCriticalError(r)}}},t.prototype.validateLayouts=function(t){for(var e=fr.invalidLayouts[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())bi(e,i);else try{i.children.each((function(t){t._systemValidateLayouts()})),i.validateLayout()}catch(r){i.layoutInvalid=!1,bi(e,i),i.raiseCriticalError(r)}}},t.prototype.log=function(t){!function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Nn.verbose&&console&&console.log.apply(console,Object(h.h)(t))}(t)},Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),t.VERSION="4.9.22",t}()),_o=function(){function t(){}return t.prototype.parse=function(t){return[]},Object.defineProperty(t.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToNumber=function(t,e){return-1!==this.options.numberFields.indexOf(t)?sn(e):e},Object.defineProperty(t.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToDate=function(t,e){return-1!==this.options.dateFields.indexOf(t)?this.options.dateFormatter.parse(e,this.dateFormat):e},t.prototype.maybeToEmpty=function(t){return ge(t)&&""!=t||!ge(this.options.emptyAs)?t:this.options.emptyAs},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new eo,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),t}(),xo=[",",";","\t"],wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return Object(h.d)(e,t),e.isCSV=function(t){return!!e.getDelimiterFromData(t)},e.getDelimiterFromData=function(t){var e,i=t.split("\n"),r=i.length;return oi(xo,(function(t){for(var n=0,a=0,o=0;o<r;++o){if(!((n=i[o].split(t).length)>1)){a=0;break}if(0===a)a=n;else if(n!=a){a=0;break}}a&&(e=t)})),e},e.prototype.parse=function(t){this.options.delimiter||(this.options.delimiter=e.getDelimiterFromData(t));var i,r,n,a=this.CSVToArray(t,this.options.delimiter),o=ge(this.options.emptyAs),s=this.parsableNumbers,l=this.parsableDates,c=[],u=[];for(r=0;r<this.options.skipRows;r++)a.shift();if(this.options.useColumnNames){u=a.shift();for(var h=0;h<u.length;h++)""===(i=ge(u[h])?u[h].replace(/^\s+|\s+$/gm,""):"")&&(i="col"+h),u[h]=i}for(;n=this.options.reverse?a.pop():a.shift();)if(!this.options.skipEmpty||1!==n.length||""!==n[0]){var p={};for(r=0;r<n.length;r++)p[i=void 0===u[r]?"col"+r:u[r]]=""===n[r]?this.options.emptyAs:n[r],o&&(p[i]=this.maybeToEmpty(p[i])),s&&(p[i]=this.maybeToNumber(i,p[i])),l&&(p[i]=this.maybeToDate(i,p[i]));c.push(p)}return c},e.prototype.CSVToArray=function(t,e){e=e||",";for(var i=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),r=[[]],n=null;n=i.exec(t);){var a,o=n[1];o.length&&o!==e&&r.push([]),a=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],r[r.length-1].push(a)}return r},e}(_o),Vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return Object(h.d)(e,t),e.isJSON=function(t){try{return JSON.parse(t),!0}catch(e){return!1}},e.prototype.parse=function(t){var e,i=this;try{ge(JSON)&&(e=JSON.parse(t))}catch(c){return}var r=ge(this.options.emptyAs),n=this.parsableNumbers,a=this.parsableDates;if(Array.isArray(e)&&(n||a||r))for(var o=function(t,o){var s=e[t];qi(s,(function(t,e){r&&(s[t]=i.maybeToEmpty(s[t])),n&&(s[t]=i.maybeToNumber(t,s[t])),a&&(s[t]=i.maybeToDate(t,s[t]))}))},s=0,l=e.length;s<l;s++)o(s);return e},e}(_o),Co=new(function(){function t(){this.adapter=new kr(this)}return t.prototype.load=function(t){var e=ai(Array.isArray(t)?t:[t],(function(t){return t.dispatchImmediately("started"),t.dispatchImmediately("loadstarted"),so(t.url,t,t.requestOptions)}));Promise.all(e).then((function(t){oi(t,(function(t){var e=t.target;e.dispatchImmediately("loadended"),t.error?e.events.isEnabled("error")&&e.events.dispatchImmediately("error",{type:"error",code:t.xhr.status,message:e.language.translate("Unable to load file: %1",null,e.url),target:e}):e.processData(t.response,t.type),e.dispatchImmediately("ended")}))})).catch((function(t){t.target&&(t.target.dispatchImmediately("loadended"),t.target.events.isEnabled("error")&&t.target.events.dispatchImmediately("error",{type:"error",code:t.xhr.status,message:t.target.language.translate("Unable to load file: %1",null,t.target.url),target:t.target}),t.target.dispatchImmediately("ended"))}))},t.prototype.getParserByType=function(t){return this.adapter.apply("getParserByType",{parser:null,type:t}).parser||("csv"==t||"text/csv"==t||"application/vnd.ms-excel"==t?new wo:"json"==t||"application/json"==t?new Vo:void 0)},t.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e))return i;if(Vo.isJSON(t))return this.getParserByType("json");if(wo.isCSV(t))return this.getParserByType("csv")}return i},t}()),Po=function(t){function e(e,i){var r=t.call(this)||this;return r.adapter=new kr(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",e&&(r.url=e),i&&(r.parser="string"==typeof i?Co.getParserByType(i):i),r}return Object(h.d)(e,t),e.prototype.processData=function(t,e){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=Co.getParserByData(t,e),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",t))),!ge(this.data)&&this.events.isEnabled("parseerror")){var i={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",i)}this.dispatchImmediately("parseended"),ge(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended")}},Object.defineProperty(e.prototype,"url",{get:function(){var t=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(t=this.addUrlParams(t,this.incrementalParams)),this.adapter.apply("url",t)},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(t){this._requestOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._parser||(this._parser=new Vo),this.adapter.apply("parser",this._parser)},set:function(t){this._parser=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(t){var e=this;this._reloadFrequency!=t&&(this._reloadFrequency=t,t?ge(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",(function(t){e._reloadTimeout=setTimeout((function(){e.load()}),e.reloadFrequency)}))):ge(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(t){this._incremental=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(t){this._incrementalParams=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(t){this._keepCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(t){this._updateCurrentData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Za,this.language)},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new eo,this.dateFormatter)},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),e.prototype.timestampUrl=function(t){var e={};return e[(new Date).getTime().toString()]="",this.addUrlParams(t,e)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),ge(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},e.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),Co.load(this))},e.prototype.addUrlParams=function(t,e){var i=t.match(/\?/)?"&":"?",r=[];return qi(e,(function(t,e){r.push(""!=e?t+"="+encodeURIComponent(e):t)})),r.length?t+i+r.join("&"):t},e.prototype.processConfig=function(e){fr.registeredClasses.json=Vo,fr.registeredClasses.JSONParser=Vo,fr.registeredClasses.csv=wo,fr.registeredClasses.CSVParser=wo,t.prototype.processConfig.call(this,e)},e}(jr),Uo=function(t){function e(){var e=t.call(this)||this;return e._rules=new vr,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new kr(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",(function(){e.checkRules()}),!0),e.rules.events.on("removed",(function(){e.checkRules()}),!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"component",{get:function(){return this._component},set:function(t){var e=this;t!=this._component&&(this.disposeResponsiveHandlers(),this._component=t,this._responsiveDisposers.push(ye(this.component).events.on("sizechanged",(function(){e.checkRules()}),this)),this._responsiveDisposers.push(ye(this.component).events.on("datavalidated",(function(){e._component.isReady()&&e.checkRules(!0)}),this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(t){this._enabled!=t&&(this._enabled=t,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(t){this._useDefault!=t&&(this._useDefault=t,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(t){this._rules=t,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",So)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allRules",{get:function(){var t=new vr;return this.useDefault&&t.copyFrom(this.defaultRules),t.copyFrom(this.rules),this.adapter.apply("allRules",t)},enumerable:!0,configurable:!0}),e.prototype.isApplied=function(t){var e=this._appliedRules[t];return!!ge(e)&&e},e.prototype.checkRules=function(t){var e=this;void 0===t&&(t=!1);var i=this.allRules;if(i&&0!=i.length){var r=!1,n=ye(this.component);if(ir(i.iterator(),(function(t){t.id||(t.id=fr.getUniqueId());var i=t.relevant(n);(i&&!e.isApplied(t.id)||!i&&e.isApplied(t.id))&&(r=!0),e._appliedRules[t.id]=i})),t&&(r=!0),r){if(!this.component.isReady())return n.hidden=!0,void n.events.once("ready",(function(t){t.target.show(0),e.applyRules()}));this.dispatchImmediately("ruleschanged"),this.applyRules()}}},e.prototype.applyRules=function(t){var e=this,i=ge(t)?t:ye(this.component),r=!1;if(this.enabled){var n=!1;ir(this.allRules.iterator(),(function(t){var a=e.getState(t,i);a&&(r||(-1!==ri(e._appliedTargets,i.uid)&&i.setState(e.getDefaultState(i)),r=!0),e.isApplied(ye(t.id))&&(a.transitionDuration=0,e.setTargetState(i,a),e.dispatchImmediately("ruleapplied",{rule:t}),n=!0))})),n?yi(this._appliedTargets,i.uid):bi(this._appliedTargets,i.uid)}i.children&&ir(i.children.iterator(),(function(t){e.applyRules(t)}))},e.prototype.getState=function(t,e){var i="responsive-"+t.id,r=e.uid+"_"+i;if(-1===ri(this._noStates,r)){if(e.states.hasKey(i))return e.states.getKey(i);var n=t.state(e,i);return n||this._noStates.push(r),n}},e.prototype.getDefaultState=function(t){return t.states.hasKey("responsive-default")?t.states.getKey("responsive-default"):t.states.create("responsive-default")},e.prototype.setTargetState=function(t,e){var i=this,r=this.getDefaultState(t);qi(e.properties,(function(e,n){ge(r.properties[e])||(r.properties[e]=i.getValue(t,e))})),t.setState(e)},e.prototype.getValue=function(t,e){var i=t.getPropertyValue(e);return!ge(i)&&ge(t[e])&&(i=t[e]),i},e.prototype.dispose=function(){this.disposeResponsiveHandlers(),t.prototype.dispose.call(this)},e.prototype.disposeResponsiveHandlers=function(){for(var t=this._responsiveDisposers.pop();t;)t.dispose(),t=this._responsiveDisposers.pop()},e}(jr),So=new vr;So.events.on("inserted",(function(t){t.newValue.id=fr.getUniqueId()}));var To=function(){function t(){}return t.widthXXS=function(e){return e.pixelWidth<=t.XXS},t.widthXS=function(e){return e.pixelWidth<=t.XS},t.widthS=function(e){return e.pixelWidth<=t.S},t.widthM=function(e){return e.pixelWidth<=t.M},t.widthL=function(e){return e.pixelWidth<=t.L},t.widthXL=function(e){return e.pixelWidth<=t.XL},t.widthXXL=function(e){return e.pixelWidth<=t.XXL},t.heightXXS=function(e){return e.pixelHeight<=t.XXS},t.heightXS=function(e){return e.pixelHeight<=t.XS},t.heightS=function(e){return e.pixelHeight<=t.S},t.heightM=function(e){return e.pixelHeight<=t.M},t.heightL=function(e){return e.pixelHeight<=t.L},t.heightXL=function(e){return e.pixelHeight<=t.XL},t.heightXXL=function(e){return e.pixelHeight<=t.XXL},t.isXXS=function(e){return e.pixelWidth<=t.XXS&&e.pixelHeight<=t.XXS},t.isXS=function(e){return e.pixelWidth<=t.XS&&e.pixelHeight<=t.XS},t.isS=function(e){return e.pixelWidth<=t.S&&e.pixelHeight<=t.S},t.isM=function(e){return e.pixelWidth<=t.M&&e.pixelHeight<=t.M},t.isL=function(e){return e.pixelWidth<=t.L&&e.pixelHeight<=t.L},t.isXL=function(e){return e.pixelWidth<=t.XL&&e.pixelHeight<=t.XL},t.isXXL=function(e){return e.pixelWidth<=t.XXL&&e.pixelHeight<=t.XXL},t.maybeXXS=function(e){return e.pixelWidth<=t.XXS||e.pixelHeight<=t.XXS},t.maybeXS=function(e){return e.pixelWidth<=t.XS||e.pixelHeight<=t.XS},t.maybeS=function(e){return e.pixelWidth<=t.S||e.pixelHeight<=t.S},t.maybeM=function(e){return e.pixelWidth<=t.M||e.pixelHeight<=t.M},t.maybeL=function(e){return e.pixelWidth<=t.L||e.pixelHeight<=t.L},t.maybeXL=function(e){return e.pixelWidth<=t.XL||e.pixelHeight<=t.XL},t.maybeXXL=function(e){return e.pixelWidth<=t.XXL||e.pixelHeight<=t.XXL},t.XXS=100,t.XS=200,t.S=300,t.M=400,t.L=600,t.XL=800,t.XXL=1e3,t}(),ko=function(t){function e(){var e=t.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new kr(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Kn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(t){t&&(this.hidden=!1),this._visible!=t&&this.setVisibility(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(t){this._hidden!=t&&(this._hidden=t,t?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,oi(this.sprites,(function(e){e.__disabled=t}))},enumerable:!0,configurable:!0}),e.prototype.setVisibility=function(t,e){oi(this.sprites,(function(e){e.visible=t?e.defaultState.properties.visible:!!e.hiddenState&&e.hiddenState.properties.visible})),this._visible=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:t})},e.prototype.show=function(t,e,i){var r,n=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),i&&oi(i,(function(i){r=n.setWorkingValue(i,n.values[i].value,t,e)})),oi(this.sprites,(function(i){var r=i.show(t);null==r||r.isFinished()||(n._disposers.push(r),null!=e&&e>0&&r.delay(e))})),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),oi(this.sprites,(function(t){t.dispose()})),this.sprites=[]},e.prototype.hide=function(t,e,i,r){var n=this;if(this.isHiding=!0,oi(this.sprites,(function(i){var r=i.hide(t);null==r||r.isFinished()||(n._disposers.push(r),null!=e&&e>0&&r.delay(e))})),we(i)&&r){var a;if(oi(r,(function(r){var o=n.setWorkingValue(r,i,t,e);o&&(a=o)})),a&&!a.isFinished())return this._hideDisposer=a.events.on("animationended",(function(){n.setVisibility(!1,!0),n.isHiding=!1})),this._disposers.push(this._hideDisposer),a;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},e.prototype.getDuration=function(t){if(!we(t)){var e=this.component;e&&(t=e.interpolationDuration)}if(null!=t)return this._adapterO?this._adapterO.apply("duration",t):t},e.prototype.getValue=function(t,e){if(t&&this.component){e||(e=this.component.dataFields[t+"Show"])||(e="value");var i=this.values[t][e];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:i,field:t}).value:i}},e.prototype.getWorkingValue=function(t){if(t&&this.component){var e=this.component.dataFields[t+"Show"];return e||(e="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[t][e],field:t}).workingValue:this.values[t][e]}},e.prototype.getActualWorkingValue=function(t){return this.values[t].workingValue},e.prototype.setValue=function(t,e,i,r){var n=this.values[t].value,a=this.getDuration(i);n!==(e=be(e))&&(this.values[t].value=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")&&this.events.dispatchImmediately("valuechanged",{type:"valuechanged",target:this,property:t}),this.component&&this.component.handleDataItemValueChange(this,t)),this.setWorkingValue(t,e,a,r)},e.prototype.setCalculatedValue=function(t,e,i){this.values[t][i]!==e&&we(e)&&(this.values[t][i]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")&&this.events.dispatchImmediately("calculatedvaluechanged",{type:"calculatedvaluechanged",target:this,property:t}),this.component&&this.component.handleDataItemCalculatedValueChange(this,t))},e.prototype.setWorkingValue=function(t,e,i,r){if(we(this.values[t].value)){var n=this.getDuration(i),a=this.values[t].workingValue;if(null!=n&&n>0&&we(a)&&this.component){if(a!=e){var o=this.animate({childObject:this.values[t],property:"workingValue",from:a,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=r&&o.delay(r),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[t]=o,o}(s=this._valueAnimations[t])&&s.stop(),this.values[t].workingValue=e}else{var s;(s=this._valueAnimations[t])&&s.stop(),this.values[t].workingValue=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:t}),this.component&&this.component.handleDataItemWorkingValueChange(this,t)}}},e.prototype.setLocation=function(t,e,i,r){this.locations[t]!==e&&(this.locations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")&&this.events.dispatchImmediately("locationchanged",{type:"locationchanged",target:this,property:t}),this.component&&this.component.handleDataItemValueChange(this,t),this.setWorkingLocation(t,e,i,r))},e.prototype.setWorkingLocation=function(t,e,i,r){var n=this.getDuration(i),a=this.workingLocations[t];if(null!=n&&n>0&&we(a)&&this.component){if(a!=e){var o=this.animate({childObject:this.workingLocations,property:t,from:a,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=r&&o.delay(r),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[t]=o,o}(s=this._locationAnimations[t])&&s.stop(),this.workingLocations[t]=e}else{var s;(s=this._locationAnimations[t])&&s.stop(),this.workingLocations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")&&this.events.dispatchImmediately("workinglocationchanged",{type:"workinglocationchanged",target:this,property:t}),this.component&&this.component.handleDataItemWorkingLocationChange(this,t)}},e.prototype.setDate=function(t,e,i){!_e(e)&&this.component&&(e=this.component.dateFormatter.parse(e)),this.dates[t]!==e&&(this.dates[t]=e,this.setValue(t,e.getTime(),i))},e.prototype.getDate=function(t){return this._adapterO?this._adapterO.apply("date",{date:this.dates[t],field:t}).date:this.dates[t]},e.prototype.setProperty=function(t,e){this.properties[t]!==e&&(this.hasProperties=!0,this.properties[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:t,value:e}),this.component&&this.component.handleDataItemPropertyChange(this,t))},e.prototype.setCategory=function(t,e){xe(e)||(e=de(e)),this.categories[t]!==e&&(this.categories[t]=e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=function(t,e){return qi(t,(function(t,i){e[t]=i})),e}(e.dataContext,{})),zr(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(e.prototype,"opacity",{set:function(t){oi(this.sprites,(function(e){e.opacity=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:"ignoreMinMax",value:t}),this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),e.prototype.animate=function(t,e,i){return new Jn(this,t,e,i).start()},e.prototype.handleInterpolationProgress=function(t){var e=t.target.animationOptions[0];e&&(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:e.dummyData}),this.component&&this.component.handleDataItemWorkingValueChange(this,e.dummyData))},e.prototype.hasValue=function(t){for(var e=0,i=t.length;e<i;e++){var r=this.values[t[e]];if(!r||!ge(r.value))return!1}return!0},Object.defineProperty(e.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataContext",{get:function(){return this._dataContext},set:function(t){this._dataContext=t},enumerable:!0,configurable:!0}),e.prototype.addSprite=function(t){t.dataItem&&t.dataItem!=this&&bi(t.dataItem.sprites,t),this.visible||t.hide(0),this.isHiding&&t.hide(),this.sprites.push(t),t.dataItem=this},e}(jr),Io=function(t){function e(){var e=t.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=En,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=En,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new Vr(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new gr(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Ai(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new ko},e.prototype.handleDataUserAdded=function(t){t.newValue.dataProvider=this},e.prototype.handleDataItemValueChange=function(t,e){this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemWorkingValueChange=function(t,e){},e.prototype.handleDataItemWorkingLocationChange=function(t,e){},e.prototype.handleDataItemCalculatedValueChange=function(t,e){},e.prototype.handleDataItemPropertyChange=function(t,e){},e.prototype.processDataItem=function(t,e){var i=this;if(t){e||(e={}),t.dataContext=e;var r=!1;qi(this.dataFields,(function(n,a){var o=n,s=e[a];if(i._adapterO&&i._adapterO.isEnabled("dataContextValue")&&(s=i._adapterO.apply("dataContextValue",{field:o,value:s,dataItem:t}).value),ge(s))if(r=!0,t.hasChildren[o]){var l=i.createDataItem();l.copyFrom(i.mainDataSet.template);var c=new Vr(l);c.events.on("inserted",i.handleDataItemAdded,i,!1),c.events.on("removed",i.handleDataItemRemoved,i,!1),i._dataDisposers.push(new gr(c));for(var u=s.length,h=0;h<u;h++){var p=s[h],d=c.create();d.parent=t,i.processDataItem(d,p)}t[o]=c}else t[o]=s})),qi(this.propertyFields,(function(i,n){var a=i,o=e[n];ge(o)&&(r=!0,t.setProperty(a,o))})),this._addAllDataItems||r||this.mainDataSet.remove(t)}},e.prototype.updateDataItem=function(t){var e=this;if(t){var i=t.dataContext;qi(this.dataFields,(function(r,n){var a=r,o=i[n];e._adapterO&&(o=e._adapterO.apply("dataContextValue",{field:a,value:o,dataItem:t}).value),ge(o)&&(t.hasChildren[a]?t[a].each((function(t){e.updateDataItem(t)})):t[a]=o)})),qi(this.propertyFields,(function(e,r){var n=e,a=i[r];ge(a)&&t.setProperty(n,a)}))}},e.prototype.validateDataElements=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++){var i=this.dataItems.getIndex(e);i&&this.validateDataElement(i)}},e.prototype.validate=function(){this.validateDataElements(),t.prototype.validate.call(this)},e.prototype.validateDataElement=function(t){},e.prototype.addData=function(t,e,i){var r=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),i||(t instanceof Array?oi(t,(function(t){r.data.push(t)})):this.data.push(t)),this.inited)this.removeData(e,i);else if(we(e))for(;e>0;)this.data.shift(),e--;this.invalidateData()},e.prototype.removeData=function(t,e){if(we(t)&&t>0){for(;t>0;){var i=this.mainDataSet.getIndex(0);i&&this.mainDataSet.remove(i),this.dataUsers.each((function(t){if(!t.data||0==t.data.length){var e=t.mainDataSet.getIndex(0);e&&t.mainDataSet.remove(e)}})),e||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,t--}this.invalidateDataItems()}},e.prototype.invalidateData=function(){this.disabled||this.isTemplate||(fr.addToInvalidComponents(this),vo.requestFrame(),this.dataInvalid=!0,ir(this.dataUsers.iterator(),(function(t){t.invalidateDataItems()})))},e.prototype.invalidateDataUsers=function(){ir(this.dataUsers.iterator(),(function(t){t.invalidate()}))},e.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(mi(fr.invalidDataItems,this),vo.requestFrame(),this.dataItemsInvalid=!0,ir(this.dataUsers.iterator(),(function(t){t.invalidateDataItems()})))},e.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,mi(fr.invalidDataRange,this),vo.requestFrame())},e.prototype.validateDataRange=function(){bi(fr.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},e.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},e.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},e.prototype.appendDataItems=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++)(i=this.dataItems.getIndex(e))&&(i.__disabled=!1);for(e=0;e<this.startIndex;e++)(i=this.dataItems.getIndex(e)).__disabled=!0;for(e=this.endIndex;e<this.dataItems.length;e++){var i;(i=this.dataItems.getIndex(e)).__disabled=!0}},e.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(mi(fr.invalidRawDatas,this),vo.requestFrame(),this.rawDataInvalid=!0,ir(this.dataUsers.iterator(),(function(t){t.invalidateRawData()})))},e.prototype.validateRawData=function(){var t=this;bi(fr.invalidRawDatas,this),ir(this.mainDataSet.iterator(),(function(e){e&&t.updateDataItem(e)}))},e.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),qi(this._dataSources,(function(t,i){e.removeDispose(i)})),t.prototype.dispose.call(this)},e.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),oi(this._dataDisposers,(function(t){t.dispose()})),ir(this.dataUsers.iterator(),(function(t){t.disposeData()})),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},e.prototype.getDataItem=function(t){return this.mainDataSet.create()},e.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,fr.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem&&(this._data=this.dataItem.dataContext[this.dataFields.data]),0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var t=this.preloader;ir(this.dataUsers.iterator(),(function(t){t._startIndex=void 0,t._endIndex=void 0}));for(var e=0,i=Date.now(),r=this._parseDataFrom,n=this.data.length,a=function(){var n=o.data[r];if(o._usesData){var a=o.getDataItem(n);o.processDataItem(a,n)}if(o.dataUsers.each((function(t){if(0==t.data.length){var e=t.getDataItem(n);t.processDataItem(e,n)}})),100==++e&&(e=0,Date.now()-i>o.parsingStepDuration&&r<o.data.length-10))return o._parseDataFrom=r+1,t&&(r/o.data.length>.5&&!t.visible||(t.progress=r/o.data.length)),o.dataValidationProgress=r/o.data.length,r=o.data.length,o.invalidateData(),{value:void 0}},o=this;r<n;r++){var s=a();if("object"==typeof s)return s.value}t&&(t.progress=1),this.dataUsers.each((function(t){t.hidden&&t.hide(0)}))}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},e.prototype.validateDataItems=function(){bi(fr.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){this._parseDataFrom=0,this.disposeData(),this._data=t,t&&t.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated"))},e.prototype.getDataSource=function(t){var e=this;return ge(this._dataSources[t])||(this._dataSources[t]=new Po,this._dataSources[t].component=this,this.setDataSourceEvents(this._dataSources[t],t),this._dataSources[t].adapter.add("dateFields",(function(t){return e.dataSourceDateFields(t)})),this._dataSources[t].adapter.add("numberFields",(function(t){return e.dataSourceNumberFields(t)})),this.events.on("inited",(function(){e.loadData(t)}),this,!1)),this._dataSources[t]},Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(t){var e=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=t,this._dataSources.data.component=this,this.events.on("inited",(function(){e.loadData("data")}),this,!1),this.setDataSourceEvents(t,"data")},enumerable:!0,configurable:!0}),e.prototype.loadData=function(t){this._dataSources[t].load()},e.prototype.dataSourceDateFields=function(t){return t},e.prototype.dataSourceNumberFields=function(t){return t},e.prototype.populateDataSourceFields=function(t,e,i){return oi(i,(function(i){e[i]&&-1===ri(t,e[i])&&t.push(e[i])})),t},e.prototype.setDataSourceEvents=function(t,e){var i=this;t.events.on("started",(function(t){var e=i.preloader;e&&(e.progress=0)}),void 0,!1),t.events.on("loadstarted",(function(t){var e=i.preloader;e&&(e.progress=.25)}),void 0,!1),t.events.on("loadended",(function(t){var e=i.preloader;e&&(e.progress=.5)}),void 0,!1),t.events.on("parseended",(function(t){var e=i.preloader;e&&(e.progress=.75)}),void 0,!1),t.events.on("ended",(function(t){var e=i.preloader;e&&(e.progress=1)}),void 0,!1),t.events.on("error",(function(t){var e=i.preloader;e&&(e.progress=1),i.openModal(t.message)}),void 0,!1),e&&t.events.on("done",(function(r){var n=i.preloader;n&&(n.progress=1),"data"!=e||Ce(r.data)||(r.data=[r.data]),t.incremental&&"data"==e&&i.data.length?i.addData(r.data,t.keepCount?r.data.length:0):t.updateCurrentData&&"data"==e&&i.data.length?(oi(i.data,(function(t,e){ge(r.data[e])&&qi(t,(function(i,n){ge(r.data[e][i])&&(t[i]=r.data[e][i])}))})),i.invalidateRawData()):i[e]=r.data}))},Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Uo,this._responsive.component=this),this._responsive},set:function(t){this._responsive=t,this._responsive.component=this},enumerable:!0,configurable:!0}),e.prototype.zoom=function(t,e,i,r){var n=this;void 0===e&&(e=!1),void 0===i&&(i=!1);var a=t.start,o=t.end,s=t.priority;if(t.start==t.end&&(t.start=t.start-.5/this.maxZoomFactor,t.end=t.end+.5/this.maxZoomFactor),"end"==s&&1==o&&0!=a&&a<this.start&&(s="start"),"start"==s&&0==a&&o>this.end&&(s="end"),we(r)||(r=this.maxZoomDeclination),!we(a)||!we(o))return{start:this.start,end:this.end};if(this._finalStart!=a||this._finalEnd!=o){var l=this.maxZoomFactor/this.minZoomCount,c=this.maxZoomFactor/this.maxZoomCount;if("start"==s?(this.maxZoomCount>0&&1/(o-a)<c&&(o=a+1/c),1/(o-a)>l&&(o=a+1/l),o>1&&o-a<1/l&&(a=o-1/l)):(this.maxZoomCount>0&&1/(o-a)<c&&(a=o-1/c),1/(o-a)>l&&(a=o-1/l),a<0&&o-a<1/l&&(o=a+1/l)),a<-r&&(a=-r),1/(o-a)>l&&(o=a+1/l),o>1+r&&(o=1+r),1/(o-a)>l&&(a=o-1/l),this._finalEnd=o,this._finalStart=a,this.skipRangeEvent=e,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!i){var u=this.rangeChangeAnimation;if(u&&u.progress<1){var h=u.animationOptions;if(h.length>1){if(h[0].to==a&&h[1].to==o)return{start:a,end:o};u.isDisposed()||u.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),u=this.animate([{property:"start",to:a},{property:"end",to:o}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=u,u&&!u.isFinished()?u.events.on("animationended",(function(){n.dispatchImmediately("rangechangeended")})):this.dispatchImmediately("rangechangeended")}else this.start=a,this.end=o,this.dispatch("rangechangeended")}return{start:a,end:o}},e.prototype.zoomToIndexes=function(t,e,i,r){we(t)&&we(e)&&this.zoom({start:t/this.dataItems.length,end:e/this.dataItems.length},i,r)},Object.defineProperty(e.prototype,"zoomFactor",{get:function(){return Oe(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(t){this.setPropertyValue("maxZoomFactor",t)&&(1==t&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(t){this.setPropertyValue("maxZoomDeclination",t)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return we(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(t){this._startIndex=Oe(Math.round(t),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),e.prototype.indexToPosition=function(t){return t/this.dataItems.length},Object.defineProperty(e.prototype,"endIndex",{get:function(){var t=this.dataItems.length;return(!we(this._endIndex)||this._endIndex>t)&&(this._endIndex=t),this._endIndex},set:function(t){this._endIndex=Oe(Math.round(t),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(t){if(this._start!=t){this._start=t;var e=Math.max(0,Math.floor(this.dataItems.length*t)||0);this._startIndex=Math.min(e,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(t){this._end!=t&&(this._end=t,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*t)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),fr.removeFromInvalidComponents(this),bi(fr.invalidDataItems,this),bi(fr.invalidDataRange,this),bi(fr.invalidRawDatas,this)},Object.defineProperty(e.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var t=this.dataSets.getKey(this._currentDataSetId);if(t)return t}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new hr),this._dataSets},enumerable:!0,configurable:!0}),e.prototype.setDataSet=function(t){if(this._currentDataSetId!=t){if(this.dataSets.getKey(t))return this.dataItems.each((function(t){t.__disabled=!0})),this._currentDataSetId=t,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(t){t.__disabled=!1})),!0;if(""!=this._currentDataSetId)return this.dataItems.each((function(t){t.__disabled=!0})),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(t){t.__disabled=!1})),!0}return!1},Object.defineProperty(e.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),e.prototype._updateDataItemIndexes=function(t){for(var e=this.mainDataSet.values,i=e.length,r=t;r<i;++r)e[r]._index=r},e.prototype.handleDataItemAdded=function(t){t.newValue.component=this,this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemRemoved=function(t){this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.bindDataField=function(t,e){this.dataFields[t]=e,this.invalidateDataRange()},e.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},e.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(e.prototype,"dataUsers",{get:function(){var t=this;return this._dataUsers||(this._dataUsers=new vr,this._disposers.push(new Ii((function(){ir(t._dataUsers.iterator(),(function(t){t.dispose()}))})))),this._dataUsers},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dataFields=zr(this.dataFields,{}),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},e.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},e.prototype.getExporting=function(){var e=t.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",(function(t){e.menu&&e.menu.invalidate(),e.handleDataUpdated()}))),e},e.prototype._exportData=function(t){return t.data=this.data,t},e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},e.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(!e||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),t.prototype.setShowOnInit.call(this,e)},e.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,fr.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),t.prototype.setBaseId.call(this,e)},Object.defineProperty(e.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(t){this.setPropertyValue("minZoomCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(t){this.setPropertyValue("maxZoomCount",t)},enumerable:!0,configurable:!0}),e.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},e.prototype.asFunction=function(e){return"interpolationEasing"==e||"rangeChangeEasing"==e||t.prototype.asIs.call(this,e)},e}(yo);fr.registeredClasses.Component=Io;var Ao=function(t){function e(){var e=t.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=(new ma).getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",(function(){e.inited&&e.handleMaxSize()}),e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.validatePosition()},e.prototype.setPaper=function(e){var i=t.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},e.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||fr.events.once("exitframe",this.hardInvalidate,this)},e.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},e.prototype.arrange=function(){},e.prototype.updateCurrentText=function(){var t,e;Xr(this.html)&&this.paper.supportsForeignObject()?(t="html",e=this.html):(t="svg",e=this.text),Ve(e)&&(e=e.toString()),ge(e)&&""!==e&&(e=this.populateString(e,this.dataItem)),"html"==t?this._adapterO&&(e=this._adapterO.apply("htmlOutput",e)):this._adapterO&&(e=this._adapterO.apply("textOutput",e));var i=e!=this.currentText||t!=this._currentFormat;return this.currentText=e,this._currentFormat=t,i},e.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},e.prototype.getLineBBox=function(t){var e=t&&t.element,i=e&&e.node;i&&i.parentNode&&(t.bbox=e.getBBox())},e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,r=this.topParent;if(!r||r.maxWidth&&r.maxHeight){var n=Ee(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),a=Ee(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=a+","+n+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=o){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var s=this._currentFormat,l=this.currentText;if(ge(l)&&""!=l){var c=l.split("\n");this._prevStatus=o,this.textAlign=this.textAlign;var u=this.group.getAttr("display");if("none"==u&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===s){this.element.removeAttr("display");var h=this.element;this.resetBBox();for(var p=0,d="",f=0;f<c.length;f++){var b=c[f];if(""!=b){var m=$a().chunk(b,null,this.ignoreFormatting),g=0,y=!0,v=!1,_=this.getLineInfo(f);_?(_.text="",_.element.textContent=""):(_={text:"",element:this.getSVGLineElement("",0),complex:!1},h.add(_.element)),_.element.removeAttr("display"),_.element.removeChildren(),this.textPathElement&&_.element.add(this.textPathElement);for(var x=0;x<m.length;x++){x&&(_.complex=!0);var w=m[x];if("format"===w.type)d=w.text;else{if(v)continue;_.text=w.text,_.style=$a().translateStyleShortcuts(d);var V=this.getSvgElement(_.text,_.style);if(this.textPathElement?this.textPathElement.add(V):_.element.add(V),this.getLineBBox(_),_.bbox.width=Math.ceil(_.bbox.width),g<_.bbox.height&&(g=_.bbox.height),(this.wrap||this.truncate)&&_.bbox.width>n){this.isOversized=!0;var C=_.element.textContent,P=_.bbox.width/C.length,U=Re(Math.ceil((_.bbox.width-n)/P),C.length);if(this.truncate){var S=!1,T=_.element.node;if(T&&T.childNodes)for(var k=_.element.node.childNodes.length-1;k>=0;k--){var I=_.element.node.childNodes[k];if(S&&_.bbox.width<=n&&(I.textContent+=" "+this.ellipsis,_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),_.bbox.width<=n))break;S=!1;var A=I.textContent;for(C=_.element.textContent,U=Re(Math.ceil((_.bbox.width-n)/P),C.length);_.bbox.width>n&&U<=C.length&&U>0;)(M=Ee(C.length-U-this.ellipsis.length,1))<=1&&(U=0,k>0&&(S=!0,_.element.node.removeChild(I))),(A=Zr(A,M,this.ellipsis,this.fullWords,this.rtl)).length>M&&this.fullWords&&(A=Zr(A,M,this.ellipsis,!1,this.rtl)),I.textContent=A,_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),U=Math.ceil(1.1*U);v=!0}}else if(_.element.node){for(var O=_.element.node.lastChild,D=void 0;_.bbox.width>n&&U<=C.length&&U>0;){var M=Ee(w.text.length-U,1);y?D=Jr(w.text,M,!0,this.rtl):((D=Jr(w.text,M,!0,this.rtl))[0].length>M||1===M)&&(_.element.node.removeChild(O),U=0),U>0&&(O.textContent=$a().cleanUp(Qr(D.shift()))),_.bbox=_.element.getBBox(),_.bbox.width=Math.floor(_.bbox.width),U=Math.ceil(1.1*U)}if(D.length>0){var F="";ge(D)&&(F+=this.rtl?D.join("")+d:d+D.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var E=x+1;E<m.length;E++)F+="value"==m[E].type?m[E].text.replace(/([\[\]]{1})/g,"$1$1"):m[E].text;c.splice(f+1,0,F)}v=!0}}this.bbox.width<_.bbox.width&&(this.bbox.width=_.bbox.width),this.bbox.height=p+g,_.element.attr(this.textPathElement?{dy:-this.paddingBottom.toString()}:{x:"0",y:p+g,dy:Ie(this.baseLineRatio*g,3).toString()}),y=!1}}var R=_.element.node;R&&(O=R.lastChild)&&(O.textContent=this.rtl?O.textContent.replace(/^[\s\uFEFF\xA0]+/g,""):$r(O.textContent)),p+=g,this.addLineInfo(_,f)}else{var L=this.getSVGLineElement("",0);L.add(this.getSvgElement(".",$a().translateStyleShortcuts(d))),h.add(L);var H=Math.ceil(L.getBBox().height);H>0&&(p+=H),h.removeElement(L);var j=this.getLineInfo(f);j&&(j.text="",j.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=Ie(Ee(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=Ie(Ee(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,i==this._measuredHeight&&e==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(c.length)}else{this.element.removeAttr("display"),this.resetBBox(),(h=this.element).removeChildren();var z=this.paper.foreignObject();h.add(z),this.maxWidth&&z.attr({width:this.maxWidth}),this.maxHeight&&z.attr({height:this.maxHeight});var B=this.getHTMLLineElement(l);z.node.appendChild(B),B.style.display="inline-block";var N=B.clientWidth,X=B.clientHeight;B.style.display="block",this._bbox={x:0,y:0,width:N,height:X},z.attr({width:N,height:X}),this.maybeHideOversized(),this._measuredWidth=Ee(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Ee(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(B.style.overflow="hidden"),(N>n||X>a)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==u&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else r.events.once("maxsizechanged",this.hardInvalidate,this,!1)},e.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},e.prototype.alignSVGText=function(){var t=this.element,e=t.node.children||t.node.childNodes;if(e&&(!e||0!=e.length))for(var i=this._measuredWidth,r=this._measuredHeight,n=e.length-1;n>=0;n--){var a=e[n];if(a.setAttribute("text-anchor",this.textAlign),this.textPathElement)a.removeAttribute("x"),a.removeAttribute("y");else{switch(this.textAlign){case"middle":a.setAttribute("x",(i/2).toString()+"px");break;case"end":this.rtl||a.setAttribute("x",i.toString());break;default:this.rtl?a.setAttribute("x",i.toString()):a.removeAttribute("text-anchor")}var o=be(a.getAttribute("y"));switch(this.textValign){case"middle":a.setAttribute("y",((o||0)+(r-this.bbox.height)/2).toString());break;case"bottom":a.setAttribute("y",((o||0)+r-this.bbox.height).toString());break;default:a.setAttribute("y",(o||0).toString())}}}},e.prototype.getSVGLineElement=function(t,e){var i=this.paper.addGroup("text");return i.textContent=t,i.attr({x:"0"}),ge(e)&&i.attr({y:e.toString()}),(this.truncate||this.wrap)&&i.attr({overflow:"hidden"}),this.rtl&&i.attr({direction:"rtl"}),i},e.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},e.prototype.getHTMLLineElement=function(t){var e=document.createElement("div");switch(e.innerHTML=t,this.textAlign){case"middle":e.style.textAlign="center";break;case"end":e.style.textAlign="right"}return this.wrap?e.style.wordWrap="break-word":e.style.whiteSpace="nowrap",this.rtl&&(e.style.direction="rtl"),ge(this.fill)&&(e.style.color=this.fill.toString()),e},e.prototype.setStyles=function(){var t=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?t.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(t.removeStyle("webkitUserSelect"),t.removeStyle("msUserSelect"))},e.prototype.hideUnused=function(t){this.initLineCache();var e=this.getCache("lineInfo");if(e.length>=t)for(var i=t;i<e.length;i++){var r=e[i];r&&r.element&&r.element.attr({display:"none"})}},Object.defineProperty(e.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(t){this.setPropertyValue("text",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPropertyValue("path",t,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:t}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS($n,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:t}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(t){this.setPropertyValue("locationOnPath",t),this.textPathElement&&this.textPathElement.attr({startOffset:100*t+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(t){this.setPropertyValue("baseLineRatio",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(t){this.resetBBox(),this.setPropertyValue("wrap",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(t){this.resetBBox(),this.setPropertyValue("truncate",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(t){this.setPropertyValue("fullWords",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(t){this.setPropertyValue("ellipsis",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(t){this.setPropertyValue("selectable",t,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(t){this.setPropertyValue("textAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(t){this.setPropertyValue("textValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(t){this.setPropertyValue("html",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(t){this.setPropertyValue("hideOversized",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(t){this.setPropertyValue("ignoreFormatting",t,!0)},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){},e.prototype.getLineInfo=function(t){this.initLineCache();var e=this.getCache("lineInfo");return e.length>t?e[t]:void 0},e.prototype.addLineInfo=function(t,e){this.initLineCache(),this.getCache("lineInfo")[e]=t},e.prototype.initLineCache=function(){ge(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},e.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Ai([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),t.prototype.setDataItem.call(this,e)},Object.defineProperty(e.prototype,"availableWidth",{get:function(){return ge(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableHeight",{get:function(){return ge(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.getSvgElement=function(t,e){var i=this.paper.add("tspan");return i.textContent=t,e&&i.node.setAttribute("style",e),i},e.prototype.deepInvalidate=function(){t.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return t||(t=this.populateString(an(Xr(this.html)?this.html:this.text))),t},set:function(t){t=me(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.Label=Ao,So.push({relevant:To.heightXS,state:function(t,e){if(t instanceof Ao&&t.parent&&t.parent.isBaseSprite){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Oo=function(t){function e(){var e=t.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(we(e)&&we(i)){var r=Re(e,i)/2,n=Wr(this.cornerRadiusTopLeft,r),a=Wr(this.cornerRadiusTopRight,r),o=Wr(this.cornerRadiusBottomRight,r),s=Wr(this.cornerRadiusBottomLeft,r),l=Re(Math.abs(e/2),Math.abs(i/2)),c=Oe(n,0,l),u=Oe(a,0,l),h=Oe(o,0,l),p=Oe(s,0,l);this.path="M"+c+",0 L"+(e-u)+",0 a"+u+","+u+" 0 0 1 "+u+","+u+" L"+e+","+(i-h)+" a"+h+","+h+" 0 0 1 -"+h+","+h+" L"+p+","+i+" a"+p+","+p+" 0 0 1 -"+p+",-"+p+" L0,"+c+" a"+c+","+c+" 0 0 1 "+c+",-"+c+" Z"}},e.prototype.cornerRadius=function(t,e,i,r){this.cornerRadiusTopLeft=t,this.cornerRadiusTopRight=e,this.cornerRadiusBottomLeft=i,this.cornerRadiusBottomRight=r},Object.defineProperty(e.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(t){this.setPercentProperty("cornerRadiusTopLeft",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(t){this.setPercentProperty("cornerRadiusTopRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(t){this.setPercentProperty("cornerRadiusBottomRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(t){this.setPercentProperty("cornerRadiusBottomLeft",t,!0)},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.RoundedRectangle=Oo;var Do=function(t){function e(){var e=t.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new ma,r=e.background;r.fill=i.getFor("secondaryButton"),r.stroke=i.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),e.label=new Ao,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var n=r.states.create("hover");n.properties.fillOpacity=1,n.properties.fill=i.getFor("secondaryButtonHover");var a=r.states.create("down");return a.transitionDuration=100,a.properties.fill=i.getFor("secondaryButtonDown"),a.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(t){var e=this._icon;e&&(e.parent=void 0),t&&(this._icon=t,t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(t){this.setPropertyValue("iconPosition",t),this.icon&&("left"==t?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._label&&this.removeDispose(this._label),this._label=t,t&&(t.parent=this,t.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new Oo},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},e}(yo);fr.registeredClasses.Button=Do;var Mo=function(t){function e(){var e=t.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",ue(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return Wr(this.radius,Re(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){var t=this.pixelRadius;this._bbox={x:-t,y:-t,width:2*t,height:2*t}},e}(mo);fr.registeredClasses.Circle=Mo;var Fo=function(t){function e(){var e=t.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(e.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(t){this.height=2*t,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(t){this.width=2*t,this.invalidate()},enumerable:!0,configurable:!0}),e}(Mo);fr.registeredClasses.Ellipse=Fo;var Eo=function(t){function e(){var e=t.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return Object(h.d)(e,t),e.prototype.draw=function(){if(t.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;we(this.widthRatio)&&(this.width=e=i*this.widthRatio),we(this.heightRatio)&&(this.height=i=e*this.heightRatio),this.element.attr({width:e,height:i}),this.element.attrNS($n,"xlink:href",this.href)}},Object.defineProperty(e.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(t){this.setPropertyValue("href",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(t){this.setPropertyValue("widthRatio",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(t){this.setPropertyValue("heightRatio",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Image=Eo;var Ro=function(t){function e(){var e=t.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=Rr(),e.x1=0,e.y1=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.pixelPerfect=this.x1==this.x2||this.y1==this.y2,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(e.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(t){we(t)||(t=0);var e=0;this.pixelPerfect&&this.stroke instanceof Ga&&(e=1e-5),this.setPropertyValue("x1",t,!0),this.element.attr({x1:t+e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){var t=this.getPropertyValue("x2");return we(t)||(t=this.pixelWidth),t},set:function(t){we(t)||(t=0),this.setPropertyValue("x2",t,!0),this.element.attr({x2:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(t){we(t)||(t=0);var e=0;this.pixelPerfect&&this.stroke instanceof Ga&&(e=1e-5),this.setPropertyValue("y1",t,!0),this.element.attr({y1:t+e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){var t=this.getPropertyValue("y2");return we(t)||(t=this.pixelHeight),t},set:function(t){we(t)||(t=0),this.setPropertyValue("y2",t,!0),this.element.attr({y2:t})},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},r=Ne(e,i,t),n=Xe(e,i);return{x:r.x,y:r.y,angle:n}},e}(mo);fr.registeredClasses.Line=Ro;var Lo=function(t){function e(){var e=t.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,r=this.innerHeight;if(i>0&&r>0){var n,a,o,s,l,c,u=this.pointerX,h=this.pointerY,p=this.pointerBaseWidth/2,d=Re(i/2,r/2),f=Oe(e,0,d),b=Oe(e,0,d),m=Oe(e,0,d),g=Oe(e,0,d),y=(u-0)*(r-0)-(h-0)*(i-0),v=(u-0)*(0-r)-(h-r)*(i-0);o=y>0&&v>0?"M"+f+",0 L"+((n=Oe(u,f+p,i-p-b))-p)+",0 L"+u+","+(h=Oe(h,-1/0,0))+" L"+(n+p)+",0 L"+(i-b)+",0":"M"+f+",0 L"+(i-b)+",0",l=y<0&&v<0?" L"+(i-m)+","+r+" L"+((n=Oe(u,g+p,i-p-m))+p)+","+r+" L"+u+","+(h=Oe(h,r,1/0))+" L"+(n-p)+","+r+" L"+g+","+r:" L"+g+","+r,c=y<0&&v>0?" L0,"+(r-g)+" L0,"+((a=Oe(h,f+p,r-g-p))+p)+" L"+(u=Oe(u,-1/0,0))+","+h+" L0,"+(a-p)+" L0,"+f:" L0,"+f,s=y>0&&v<0?" L"+i+","+b+" L"+i+","+((a=Oe(h,b+p,r-p-m))-p)+" L"+(u=Oe(u,i,1/0))+","+h+" L"+i+","+(a+p)+" L"+i+","+(r-m):" L"+i+","+(r-m),this.path=o+" a"+b+","+b+" 0 0 1 "+b+","+b+s+" a"+m+","+m+" 0 0 1 -"+m+","+m+l+" a"+g+","+g+" 0 0 1 -"+g+",-"+g+c+" a"+f+","+f+" 0 0 1 "+f+",-"+f}},Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),e}(function(t){function e(){var e=t.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),we(this.pointerX)||(this.pointerX=this.pixelWidth/2),we(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(e.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(t){this.setPropertyValue("pointerBaseWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(t){this.setPropertyValue("pointerLength",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(t){this.setPropertyValue("pointerX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(t){this.setPropertyValue("pointerY",t,!0)},enumerable:!0,configurable:!0}),e}(mo));function Ho(t){var e=zo(t[0]),i={x:0,y:0},r=Nn.minPolylineStep;we(r)||(r=.5);for(var n=0,a=t.length;n<a;n++){var o=t[n];je(o,i)>r&&(e+=zo(o),i=o)}return e}function jo(t){return" M"+Ie(t.x,4)+","+Ie(t.y,4)+" "}function zo(t){return" L"+Ie(t.x,4)+","+Ie(t.y,4)+" "}function Bo(t,e){return" Q"+Ie(e.x,4)+","+Ie(e.y,4)+" "+Ie(t.x,4)+","+Ie(t.y,4)}function No(t,e,i){return" C"+Ie(e.x,4)+","+Ie(e.y,4)+" "+Ie(i.x,4)+","+Ie(i.y,4)+" "+Ie(t.x,4)+","+Ie(t.y,4)}function Xo(t,e,i,r){if(0==e)return"";we(r)||(r=i);var n="",a=",",o=Math.ceil(Math.abs(e)/180),s=1;e<0&&(s=0);var l=0,c=0,u=-Fe(t)*i,h=-De(t)*r;if(e<.5&&i>3e3)return zo({x:f=Ie(Fe(d=t+e)*i,4),y:b=Ie(De(d)*r,4)});for(var p=0;p<o;p++){var d,f,b;n+=" a"+i+a+r+a+0+a+0+a+s+a+(f=Ie(Fe(d=t+e/o*(p+1))*i+u-l,4))+a+(b=Ie(De(d)*r+h-c,4)),l=f,c=b}return n}function Wo(t,e,i,r,n,a,o){if(0==e)return"";if(we(r)||(r=0),0==i&&r<=0)return"";if(i<r){var s=i;i=r,r=s,we(n)&&(n=n/r*i)}360==(e=Re(e,360))&&(a=0,o=0);var l=t+e,c=De(Re(e,45)/2),u=(n=we(n)?n:i)/i*r,h=n/i*(a=a||0),p=n/i*(o=we(o)?o:a);a=Oe(a,0,(i-r)/2),h=Oe(h,0,(n-u)/2),o=Oe(o,0,(i-r)/2),p=Oe(p,0,(n-u)/2),a=Ie(Oe(a,0,i*c),4),h=Ie(Oe(h,0,n*c),4),o=Ie(Oe(o,0,r*c),4),p=Ie(Oe(p,0,u*c),4);var d=Math.asin(a/i/2)*Te*2,f=Math.asin(h/n/2)*Te*2;r<o&&(r=o),u<p&&(u=p);var b=Math.asin(o/r/2)*Te*2,m=Math.asin(p/u/2)*Te*2;we(b)||(b=0),we(m)||(m=0);var g=t+e/2,y={x:Ie(Fe(g)*r,4),y:De(g)*u},v={x:Fe(t)*(r+o),y:De(t)*(u+p)},_={x:Fe(t)*(i-a),y:De(t)*(n-h)},x={x:Fe(l)*(i-a),y:De(l)*(n-h)},w={x:Fe(l)*(r+o),y:De(l)*(u+p)},V={x:Fe(t+d)*i,y:De(t+f)*n},C={x:Fe(l-b)*r,y:De(l-m)*u};o+=o*De(b/2),p+=p*De(m/2),b>(l-t)/2&&(C=y);var P="";return 360==e?P=jo(_):(P=jo(v),P+=zo(_),P+=Go(V,a,h,!0)),P+=Xo(t+d,e-2*d,i,n),we(r)&&0!=r?(360==e&&0==a?P+=jo(w):(P+=Go(x,a,h,!0),P+=zo(w),P+=Go(C,o,p,!0)),P+=Xo(l-b,-(e-2*b),r,u),(e<360||a>0)&&(P+=Go(v,o,p,!0)),P+=zo(v)):(P+=Go(x,a,h,!0),e<360&&(P+=zo(v))),P}function Go(t,e,i,r,n,a){if(0==e)return"";var o=",";return" A"+e+o+i+o+(a=a||0)+o+ +(n=Boolean(n))+o+ +(r=Boolean(r))+o+Ie(t.x,4)+o+Ie(t.y,4)}function Yo(t,e,i,r){return we(i)||(i=0),we(r)||(r=0),jo({x:i,y:r})+zo({x:i+t,y:r})+zo({x:i+t,y:r+e})+zo({x:i,y:r+e})+" Z"}function qo(t,e){var i=",",r=" L";return e?"M"+t.x+i+t.y+r+t.x+i+(t.y+t.height)+r+(t.x+t.width)+i+(t.y+t.height)+r+(t.x+t.width)+i+t.y+r+t.x+i+t.y:"M"+t.x+i+t.y+r+(t.x+t.width)+i+t.y+r+(t.x+t.width)+i+(t.y+t.height)+r+t.x+i+(t.y+t.height)+r+t.x+i+t.y}var Ko=function(t){function e(){var e=t.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=Rr(),e.strokeOpacity=1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments;if(t&&t.length>0){for(var e="",i=0,r=t.length;i<r;i++){var n=t[i];if(n.length>0){e+=jo(n[0]);for(var a=1;a<n.length;a++){var o=n[a];e+=zo(o),this._distance+=je(n[a-1],o)}}}this.path=e}this._realSegments=t},Object.defineProperty(e.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(t){this.setPropertyValue("segments",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e=0;t<0&&(t=Math.abs(t),e=180);var i=this._realSegments;if(i){for(var r=this.distance,n=0,a=0,o=0,s=void 0,l=void 0,c=0;c<i.length;c++){var u=i[c];if(u.length>1){for(var h=1;h<u.length;h++)if(a=n/r,o=(n+=je(s=u[h-1],l=u[h]))/r,a<=t&&o>t){c=i.length;break}}else 1==u.length&&(s=u[0],l=u[0],a=0,o=1)}if(s&&l){var p=Ne(s,l,(t-a)/(o-a));return{x:p.x,y:p.y,angle:e+Xe(s,l)}}}return{x:0,y:0,angle:0}},Object.defineProperty(e.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Polyline=Ko;var Jo=function(t){function e(){var e=t.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments;if(t&&t.length>0){var e="";this._realSegments=[];for(var i=0,r=t.length;i<r;i++){var n=t[i],a=[];if(this._realSegments.push(a),n.length>0){e+=jo(n[0]);for(var o=1;o<n.length;o++){var s=n[o-1],l=n[o],c=je(l,s),u=c*this.controlPointDistance,h=this.controlPointPosition,p=-Xe(s,l),d={x:s.x+(l.x-s.x)*h*.5-u*De(p),y:s.y+(l.y-s.y)*h*.5-u*Fe(p)},f={x:s.x+(l.x-s.x)*h*1.5-u*De(p),y:s.y+(l.y-s.y)*h*1.5-u*Fe(p)};e+=No(l,d,f);var b=Math.ceil(c),m=s;if(b>0)for(var g=0;g<=b;g++){var y=qe(s,l,d,f,g/b);a.push(y),this._distance+=je(m,y),m=y}else a.push(s)}}}this.path=e}},Object.defineProperty(e.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(t){this.setPropertyValue("controlPointPosition",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t),this.makePath()},enumerable:!0,configurable:!0}),e}(Ko);fr.registeredClasses.Polyarc=Jo;var Zo=function(t){function e(e){var i=t.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=En,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.morphToPolygon=function(t,e,i){var r=this.morphable.currentPoints;if(r&&t){this.sortPoints(r),this.sortPoints(t),this._morphFromPointsReal=[],this._morphToPointsReal=[],ge(e)||(e=this.morphDuration),ge(i)||(i=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(t,r),this._morphToPointsReal=this.normalizePoints(r,t),this.morphable.currentPoints=this._morphFromPointsReal;var n=new Jn(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(n),n.start(),n}},e.prototype.normalizePoints=function(t,e){for(var i=0,r=t.length;i<r;i++){var n=t[i][0],a=t[i][1],o=ye(We(n)),s=o.x+o.width,l=o.y+o.height;if(e[i]||(e[i]=[]),n&&!e[i][0]&&(e[i][0]=[{x:s,y:l},{x:s,y:l}]),e[i][0]){e[i][0]=this.addPoints(e[i][0],n.length);for(var c=1/0,u=0,h=0;h<e[i][0].length;h++){var p=je(e[i][0][h],n[0]);p<c&&(u=h,c=p)}var d=e[i][0].slice(0,u),f=e[i][0].slice(u);e[i][0]=f.concat(d)}a&&(e[i][1]||(e[i][1]=[{x:s,y:l},{x:s,y:l}]),e[i][1]=this.addPoints(e[i][1],a.length))}return e},e.prototype.sortPoints=function(t){t.sort((function(t,e){var i=ye(We(t[0])),r=ye(We(e[0]));return i.width*i.height>r.width*r.height?-1:1}));for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i][0];n&&e.push(ye(We(n)))}return Ge(e)},e.prototype.morphToCircle=function(t,e,i){var r=this.morphable.points,n=this.sortPoints(r);this._morphFromPointsReal=[],this._morphToPointsReal=[],ge(e)||(e=this.morphDuration),ge(i)||(i=this.morphEasing);for(var a=0,o=r.length;a<o;a++){var s=r[a][0],l=r[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var c=s,u=s,h=ye(We(u));this.morphToSingle&&(h=ye(n));var p=h.x+h.width/2,d=h.y+h.height/2,f=t;we(f)||(f=Math.min(h.width/2,h.height/2)),c=[];var b=Xe({x:p,y:d},s[0]),m=100;s.length>m&&(m=s.length);for(var g=360/((m=(u=this.addPoints(s,m)).length)-1),y=0;y<m;y++){var v=g*y+b,_={x:p+f*Fe(v),y:d+f*De(v)};c[y]=_}if(l&&l.length>0)for(var x=0,w=l.length;x<w;x++)c.push({x:p,y:d});this._morphFromPointsReal[a][0]=u,this._morphToPointsReal[a][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var V=new Jn(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(V),V.start(),V},e.prototype.addPoints=function(t,e){for(var i=Math.round(e/t.length),r=[],n=0,a=t.length;n<a;n++){var o,s=t[n];o=n==t.length-1?t[0]:t[n+1],r.push(s);for(var l=1;l<i;l++){var c=l/i;r.push({x:s.x+(o.x-s.x)*c,y:s.y+(o.y-s.y)*c})}r.length+t.length-n==e&&(i=0)}if(r.length<e&&t.length>0){var u=t[t.length-1];for(l=r.length;l<e;l++)r.push({x:u.x,y:u.y})}return r},e.prototype.morphToRectangle=function(t,e,i,r){var n=this.morphable.points;this.sortPoints(n),this._morphFromPointsReal=[],this._morphToPointsReal=[],ge(i)||(i=this.morphDuration),ge(r)||(r=this.morphEasing);for(var a=0,o=n.length;a<o;a++){var s=n[a][0],l=n[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var c=s,u=s,h=this._bboxes[a],p=h.x,d=h.y,f=t,b=e;if(we(f)||(f=h.width),we(b)||(b=h.height),c=this.addPoints(c=[{x:p,y:d},{x:p+f,y:d},{x:p+f,y:d+b},{x:p,y:d+b}],s.length),s.length<4)for(var m=s.length;m<4;m++)c.push({x:s[m].x,y:s[m].y});if(l&&l.length>0)for(var g=h.x+h.width/2,y=h.y+h.height/2,v=0,_=l.length;v<_;v++)c.push({x:g,y:y});this._morphFromPointsReal[a][0]=u,this._morphToPointsReal[a][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var x=new Jn(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(x),x.start(),x},Object.defineProperty(e.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(t){this._morphProgress=t;var e=[];if(null!=t){var i=this._morphFromPointsReal,r=this._morphToPointsReal;if(null!=i&&null!=r)for(var n=0,a=i.length;n<a;n++){var o=[];e.push(o);var s=i[n][0],l=i[n][1],c=r[n][0],u=r[n][1];if(s&&s.length>0&&c&&c.length>0){for(var h=[],p=0,d=s.length;p<d;p++)h.push({x:(g=s[p]).x+((y=c[p]).x*this.scaleRatio-g.x)*t,y:g.y+(y.y*this.scaleRatio-g.y)*t});o[0]=h}if(l&&l.length>0&&u&&u.length>0){for(var f=[],b=0,m=l.length;b<m;b++){var g,y;f.push({x:(g=l[b]).x+((y=u[b]).x*this.scaleRatio-g.x)*t,y:g.y+(y.y*this.scaleRatio-g.y)*t})}o[1]=f}}}this.morphable.currentPoints=e},enumerable:!0,configurable:!0}),e.prototype.morphBack=function(t,e){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,ge(t)||(t=this.morphDuration),ge(e)||(e=this.morphEasing);var i=new Jn(this,{property:"morphProgress",from:0,to:1},t,e);return this._disposers.push(i),i.start(),i},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Kn(this._animations))),this._animations},enumerable:!0,configurable:!0}),e}(Hr),Qo=function(t){function e(){var e=t.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"points",{get:function(){var t=this.getPropertyValue("points"),e=this.path;if(e&&(!t||0==t.length)){for(var i=e.slice(1,e.length-1).split("ZM"),r=0;r<i.length;r++){var n=i[r];if(n.length>0){var a=n.split("M"),o=a[0],s=a[1];if(o&&o.length>0){var l=o.split("L");if(l.length>0){var c=[],u=[c];t.push(u);for(var h=0;h<l.length;h++){var p=l[h].split(",");c.push({x:+p[0],y:+p[1]})}if(s&&s.length>0){var d=s.split("L");if(d.length>0){var f=[];for(u.push(f),h=d.length-1;h>=0;h--)p=d[h].split(","),f.push({x:+p[0],y:+p[1]})}}}}}}this.setPropertyValue("points",t),this._currentPoints=t}return t},set:function(t){this.setPropertyValue("points",t,!0),this._currentPoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(t){this._currentPoints!=t&&(this._currentPoints=t,this.draw())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){var e,i,r,n,a="",o=this._currentPoints;if(o.length>0){for(var s=0,l=o.length;s<l;s++){var c=o[s][0],u=o[s][1];if(c&&c.length>0){a+=jo(p=c[0]);for(var h=0;h<c.length;h++)a+=zo(p=c[h]),(!we(i)||i<p.x)&&(i=p.x),(!we(e)||e>p.x)&&(e=p.x),(!we(r)||r>p.y)&&(r=p.y),(!we(n)||n<p.y)&&(n=p.y)}if(u&&u.length>0){var p;a+=jo(p=u[0]);for(var d=0,f=u.length;d<f;d++)a+=zo(p=u[d])}}a&&(a+=" Z"),this.bbox.x=e,this.bbox.y=r,this.bbox.width=i-e,this.bbox.height=n-r,t.prototype.setPath.call(this,a)}},e.prototype.setPath=function(e){return!!t.prototype.setPath.call(this,e)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Zo(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Polygon=Qo;var $o=function(t){function e(){var e=t.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments,e=this.tensionX,i=this.tensionY;if(this.allPoints=[],t&&t.length>0){var r="";this._realSegments=[];for(var n=0,a=t.length;n<a;n++){var o=t[n],s=[];if(this._realSegments.push(s),o.length>0){var l=o[0],c=o[o.length-1],u=!1;Ie(l.x,3)==Ie(c.x)&&Ie(l.y)==Ie(c.y)&&(u=!0),r+=jo(o[0]);for(var h=0;h<o.length-1;h++){var p=o[h-1],d=o[h],f=o[h+1],b=o[h+2];0===h?p=o[h]:h==o.length-2&&(b=o[h+1]),b||(b=f),0===h?p=u?o[o.length-2]:o[n]:h==o.length-2&&(b=u?o[1]:o[h+1]);var m=Ke(p,d,f,0,e,i),g=Je(0,d,f,b,e,i);r+=No(f,m,g);var y=1.2*Math.ceil(ze(d,f,m,g,20)),v=d;if(y>0)for(var _=0;_<=y;_++){var x=qe(d,f,m,g,_/y);if(x.x!=v.x||x.y!=v.y){s.push(x);var w=Ie(Xe(v,x),5);this._distance+=je(v,x),this.allPoints[Math.floor(this._distance)]={x:x.x,y:x.y,angle:w},v=x}}else s.push(p)}}var V=this.allPoints;if(V.length>1)for(var C=0;C<V.length;C++)if(!V[C])if(C>1)V[C]=V[C-1];else for(var P=1;P<V.length;P++)if(V[P]){V[C]=V[P];break}}this.path=r}},e.prototype.getClosestPointIndex=function(t){var e,i=this.allPoints,r=1/0;if(i.length>1)for(var n=1;n<i.length;n++){var a=je(t,i[n]);a<r&&(e=n,r=a)}return e},Object.defineProperty(e.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(t){this.setPropertyValue("tensionX",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(t){this.setPropertyValue("tensionY",t,!0),this.makePath()},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){var i=0,r=this.allPoints,n=r.length;if(we(t)||(t=0),n>1){if(e&&n>3){var a,o,s,l;if(t<0)return t<-.01&&(t=-.01),{x:s=(a=r[0]).x-(a.x-(o=r[1]).x)*n*t,y:l=a.y-(a.y-o.y)*n*t,angle:Xe(a,o)};if(t>1)return t>1.01&&(t=1.01),{x:s=(a=r[r.length-2]).x+(a.x-(o=r[r.length-3]).x)*n*(t-1),y:l=a.y+(a.y-o.y)*n*(t-1),angle:Xe(a,{x:s,y:l})};if(1==t){var c=r[r.length-1];return{x:c.x,y:c.y,angle:c.angle}}}else t<0&&(t=Math.abs(t),i=180),t>=1&&(t=.9999999999999);var u;return{x:(u=r[Math.floor(t*n)]).x,y:u.y,angle:u.angle+i}}return 1==n?{x:(u=r[0]).x,y:u.y,angle:u.angle}:{x:0,y:0,angle:0}},e}(Ko);fr.registeredClasses.Polyspline=$o;var ts=function(t){function e(){var e=t.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(mo),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&0==e&&(e=.01),this.slice.path=Wo(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof Ya&&this.updateGradient(this.realFill),this.realStroke instanceof Ya&&this.updateGradient(this.realStroke)},e.prototype.updateGradient=function(t){t.element.attr({gradientUnits:"userSpaceOnUse"}),t.element.attr({r:this.radius}),t.cx=0,t.cy=0,t.element.attr({radius:this.radius})},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?Ge([ti(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),ti(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",Qe(t),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(t){we(t)||(t=0),this.setPropertyValue("arc",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){var t=this.getPropertyValue("radius");return we(t)||(t=0),t},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){var t=this.getPropertyValue("radiusY");return we(t)||(t=this.radius),t},set:function(t){this.setPropertyValue("radiusY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return Wr(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(t){this.setPropertyValue("innerCornerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(t){this.setPropertyValue("shiftRadius",t),this.dx=t*this.radius*this.ix,this.dy=t*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ix",{get:function(){return Fe(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iy",{get:function(){return De(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");if(we(t))return t;var e=.5;t instanceof ce&&(e=t.value);var i=Wr(this.innerRadius,this.radius);return this.ix*(i+(this.radius-i)*e)},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipY");if(we(t))return t;var e=.5;t instanceof ce&&(e=t.value);var i=Wr(this.innerRadius,this.radius);return this.iy*(i+(this.radius-i)*e)+this.slice.dy},e}(yo);fr.registeredClasses.Slice=ts;var es=function(t){function e(){var e=t.call(this)||this;e.className="Preloader",e.width=ue(100),e.height=ue(100);var i=new ma,r=e.createChild(yo);r.shouldClone=!1;var n=r.createChild(ts);n.shouldClone=!1,n.radius=53,n.arc=360,n.fill=i.getFor("fill"),n.fillOpacity=.8,n.innerRadius=42,n.isMeasured=!1,e.backgroundSlice=n;var a=r.createChild(ts);a.shouldClone=!1,a.radius=50,a.innerRadius=45,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.2,a.isMeasured=!1,e.progressSlice=a;var o=r.createChild(Ao);return o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,e.label=o,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300,e.states.create("hidden").properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(r),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(t){var e=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",t),this.progressSlice.arc=360*t,this.label&&(this.label.text=Math.round(100*t)+"%"),t>=1?(this._started&&(this._started=void 0),fr.events.once("enterframe",(function(){var t=e.hide();t&&!t.isFinished()?t.events.once("animationended",(function(){e.__disabled=!0})):e.__disabled=!0})),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):t>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(t){this.setPropertyValue("delay",t)},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.Preloader=es;var is=function(t){function e(){var e=t.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new mo;i.element=e.paper.add("path");var r=jo({x:-2,y:-6});return r+=zo({x:-2,y:6}),r+=jo({x:2,y:-6}),r+=zo({x:2,y:6}),i.path=r,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=(new ma).getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"orientation",{set:function(t){var e=this.icon;e&&(e.rotation="horizontal"==t?0:-90)},enumerable:!0,configurable:!0}),e}(Do);fr.registeredClasses.ResizeButton=is;var rs=function(t){function e(){var e=t.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new ma;e.cursorOverStyle=Ka.pointer;var r=e.background;r.cornerRadius(20,20,20,20);var n=i.getFor("background");r.fill=n,r.stroke=i.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var a=i.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=n;var s=r.states.getKey("down");s.properties.stroke=a,s.properties.fill=n;var l=new mo;return l.element=e.paper.add("path"),l.stroke=r.stroke,e.icon=l,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,r=jo({x:-e/2,y:-i/2});r+=zo({x:e/2,y:i/2}),r+=jo({x:e/2,y:-i/2}),r+=zo({x:-e/2,y:i/2}),this.icon.path=r,this.invalidateLayout()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},e}(Do);fr.registeredClasses.CloseButton=rs;var ns=function(t){function e(){var e=t.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new ma,r=new Ao;r.fillOpacity=.3,r.states.create("active").properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var n=new Do,a=new Mo;n.contentValign="none",n.padding(0,0,0,0),a.radius=10,n.icon=a,n.icon.valign="middle",n.label=void 0;var o=ue(100);n.background.cornerRadius(o,o,o,o),n.width=3.5*a.radius,n.height=2.1*a.radius,n.marginLeft=8,n.marginRight=8,n.togglable=!0,a.dx=.7*-a.radius,a.fill=i.getFor("primaryButton"),a.states.create("hover").properties.fill=i.getFor("primaryButtonHover");var s=a.states.create("active");s.properties.fill=i.getFor("primaryButtonActive"),s.properties.dx=.7*a.radius,e.switchButton=n,e.events.on("toggled",(function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive}));var l=new Ao;return l.fillOpacity=.3,l.states.create("active").properties.fillOpacity=1,e.rightLabel=l,e.role="button",e.focusable=!0,l.valign="middle",r.valign="middle",n.valign="middle",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(t){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(t){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switchButton",{set:function(t){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=t,t&&(t.parent=this,t.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},e}(yo);fr.registeredClasses.SwitchButton=ns;var as=function(t){function e(){var e=t.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=En,e.margin(10,10,10,10);var i=new ma,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new is,e.endGrip=new is,e.events.on("transformed",e.updateThumb,e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",(function(){e._previousStart=void 0,e.dispatchRangeChange()}),void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(ge(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),ge(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),ge(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),ge(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(ge(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),ge(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),ge(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),ge(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},e.prototype.validateLayout=function(){this.updateSize(),t.prototype.validateLayout.call(this),this.updateExtremes()},e.prototype.processBackground=function(){t.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},e.prototype.handleBgHit=function(t){this.makeBusy();var e=t.spritePoint;e=gn(e,this.background,this);var i=this.thumb;if("horizontal"==this.orientation){var r=e.x-i.pixelWidth/2;r=Oe(r,0,this.innerWidth-i.pixelWidth),this._thumbAnimation=i.animate({property:"x",to:r},this.animationDuration,this.animationEasing)}else{var n=e.y-i.pixelHeight/2;n=Oe(n,0,this.innerHeight-i.pixelHeight),this._thumbAnimation=i.animate({property:"y",to:n},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},e.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},e.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},e.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},e.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},e.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},e.prototype.updateThumb=function(){if(this.parent){var t=this.thumb,e=this.start,i=this.end,r=this.startGrip,n=this.endGrip;if("horizontal"==this.orientation){var a=this.innerWidth;t.width=a*(i-e),t.maxX=a-t.pixelWidth,t.x=e*a,r.moveTo({x:t.pixelX,y:0},void 0,void 0,!0),n.moveTo({x:t.pixelX+t.pixelWidth,y:0},void 0,void 0,!0),r.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*e)+"%",position:e}).value),r.readerValueNow=""+Math.round(100*e),r.readerValueText=r.readerTitle,n.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),n.readerValueNow=""+Math.round(100*i),n.readerValueText=n.readerTitle}else{var o=this.innerHeight;t.height=o*(i-e),t.maxY=o-t.pixelHeight,t.y=(1-i)*o,r.moveTo({x:0,y:t.pixelY+t.pixelHeight},void 0,void 0,!0),n.moveTo({x:0,y:t.pixelY},void 0,void 0,!0),r.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-e))+"%",position:1-e}).value),r.readerValueNow=""+Math.round(100*e),r.readerValueText=r.readerTitle,n.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-i))+"%",position:1-i}).value),n.readerValueNow=""+Math.round(100*i),n.readerValueText=n.readerTitle}t.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*e)+"%",position:e}).value,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),t.readerValueNow=""+Math.round(100*e),t.readerValueText=t.readerTitle,this.readerValueNow=""+Math.round(100*e),this.readerValueText=t.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},e.prototype.updateExtremes=function(){var t=0,e=0,i=0,r=0;"horizontal"==this.orientation?(i=this.innerWidth,e=r=this.innerHeight/2):(r=this.innerHeight,t=i=this.innerWidth/2);var n=this.startGrip;n.minX=t,n.maxX=i,n.minY=e,n.maxY=r;var a=this.endGrip;a.minX=t,a.maxX=i,a.minY=e,a.maxY=r;var o=this.thumb;o.minX=t,o.maxX=i,o.minY=e,o.maxY=r},e.prototype.updateSize=function(){var t=this.orientation,e=this.startGrip;e&&(e.orientation=t),this.endGrip&&(this.endGrip.orientation=t);var i=this.thumb;i&&("horizontal"==t?(we(this._pixelWidth)||this.width instanceof ce||(this.width=ue(100)),ge(this.percentHeight)&&(this.height=this.minHeight),i.height=this.innerHeight,i.verticalCenter="middle",i.horizontalCenter="left"):(we(this._pixelHeight)||this.height instanceof ce||(this.height=ue(100)),ge(this.percentWidth)&&(this.width=this.minWidth),i.width=this.innerWidth,i.verticalCenter="top",i.horizontalCenter="middle"))},Object.defineProperty(e.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__start",{get:function(){return this._start},set:function(t){this._start=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__end=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__end",{get:function(){return this._end},set:function(t){this._end=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),e.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},e.prototype.fixRange=function(t){t.start==Ie(this._start,2)&&t.end==Ie(this._end,2)||(this._start=t.start,this._end=t.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},e.prototype.getPosition=function(t){return Oe(Ie(t,4),0,1)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t)&&("horizontal"===t?(this.startGrip.cursorOverStyle=Ka.horizontalResize,this.endGrip.cursorOverStyle=Ka.horizontalResize):(this.startGrip.cursorOverStyle=Ka.verticalResize,this.endGrip.cursorOverStyle=Ka.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.updateByOrientation=function(){},Object.defineProperty(e.prototype,"startGrip",{get:function(){return this._startGrip},set:function(t){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endGrip",{get:function(){return this._endGrip},set:function(t){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),e.prototype.processGrip=function(t){t.parent=this,t.isMeasured=!1,t.focusable=!0,t.shouldClone=!1,t.zIndex=100,t.events.on("drag",this.handleGripDrag,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("down",this.makeBusy,this,!1),this._disposers.push(t)},e.prototype.handleGripDrag=function(t){this.makeBusy(),this._usingGrip=t.target===this._startGrip?"start":"end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(e.prototype,"thumb",{get:function(){if(!this._thumb){var t=new Do;t.background.cornerRadius(10,10,10,10),t.padding(0,0,0,0),this.thumb=t}return this._thumb},set:function(t){var e=this;t&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=t,t.parent=this,t.isMeasured=!1,t.inert=!0,t.draggable=!0,t.clickable=!0,t.hoverable=!0,t.focusable=!0,t.shouldClone=!1,t.zIndex=0,t.cursorOverStyle=Ka.grab,t.cursorDownStyle=Ka.grabbing,t.events.on("dragstart",this.makeBusy,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("positionchanged",this.handleThumbPosition,this,!1),t.events.on("sizechanged",this.handleThumbPosition,this,!1),t.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(Da().body.events.on("keyup",(function(t){wa.isKey(t.event,["space","enter"])&&e.thumb.isFocused&&(t.event.preventDefault(),e.handleDoubleClick())}))),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),e.prototype.handleDoubleClick=function(){this.makeBusy();var t=0,e=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(t=this._prevStart,e=this._prevEnd);var i=this.animate([{property:"__start",to:t},{property:"__end",to:e}],this.animationDuration,this.animationEasing);i&&!i.isFinished()?(i.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=i):this.makeUnbusy()},e.prototype.handleThumbPosition=function(){var t=this.thumb;if("horizontal"==this.orientation){var e=this.innerWidth,i=t.innerWidth,r=t.pixelX;this._start=r/e,this._end=(r+i)/e,this.updateThumb()}else{var n=this.innerHeight,a=t.pixelY;this._start=1-(a+t.innerHeight)/n,this._end=1-a/n,this.updateThumb()}},e.prototype.createBackground=function(){return new Oo},Object.defineProperty(e.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(t){var e=this;this._hideGrips=t,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),t?(this._overDisposer=this.events.on("over",(function(){e.startGrip.show(),e.endGrip.show()}),void 0,!1),this._outDisposer=this.events.on("out",(function(){e.startGrip.hide(),e.endGrip.hide()}),void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(yo);fr.registeredClasses.Scrollbar=as;var os=function(t){function e(){var e=t.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",(function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y})),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"__end",{get:function(){return this._start},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._start},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){this._isBusy||(this.__start=t)},enumerable:!0,configurable:!0}),e}(as);fr.registeredClasses.Slider=os;var ss=function(t){function e(){var e=t.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new ma;return e.fill=i.getFor("primaryButton").brighten(.3),e.states.create("hover").properties.fill=i.getFor("primaryButtonHover").brighten(.3),e.states.create("down").properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=Ka.pointer,e.applyTheme(),e}return Object(h.d)(e,t),e}(Ao);fr.registeredClasses.TextLink=ss;var ls=function(t){function e(){var e=t.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new vr,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",(function(t){e._disposers.push(t.newValue)})),e.width=120,e.height=120,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.appendPrimitives=function(t){ir(this.filterPrimitives.iterator(),(function(e){t.add(e)}))},e.prototype.animate=function(t,e,i){return new Jn(this,t,e,i).start()},Object.defineProperty(e.prototype,"width",{get:function(){return this.properties.width},set:function(t){this.properties.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.properties.height},set:function(t){this.properties.height=t},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),qi(e.properties,(function(t,e){i[t]=e}))},Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:Xa()},set:function(t){this._paper!=t&&(this._paper=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Kn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.updateScale()},enumerable:!0,configurable:!0}),e.prototype.updateScale=function(){},Object.defineProperty(e.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(t){this.properties.filterUnits=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(t){this._nonScaling=t,t||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{set:function(t){this.setSprite(t)},enumerable:!0,configurable:!0}),e.prototype.setSprite=function(t){this._sprite&&this._sprite!=t&&this._sprite.filters.removeValue(this),this._sprite=t},e}(Hr),cs=function(t){function e(){var e=t.call(this)||this;return e.className="DropShadowFilter",e.color=Rr("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.properties.color=t,this.feFlood&&this.feFlood.attr({"flood-color":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(t){this.properties.opacity=t,this.feFlood.attr({"flood-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.properties.dx},set:function(t){this.properties.dx=t,this.feOffset.attr({dx:t/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.properties.dy},set:function(t){this.properties.dy=t,this.feOffset.attr({dy:t/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this.properties.blur},set:function(t){this.properties.blur=t,this.feGaussianBlur.attr({stdDeviation:t/this.scale})},enumerable:!0,configurable:!0}),e.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},e}(ls);fr.registeredClasses.DropShadowFilter=cs;var us=function(t){function e(){var e=t.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Rr("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var r=new cs;r.dy=1,r.dx=1,r.opacity=.5,i.filters.push(r),e.autoTextColor=!0;var n=e.createChild(Ao);return n.shouldClone=!1,e.label=n,n.padding(7,12,4,12),n.interactionsEnabled=!1,n.horizontalCenter="middle",n.fill=Rr("#ffffff"),e._disposers.push(n),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=En,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(e.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(t){this.setPropertyValue("getStrokeFromObject",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(t){this.setPropertyValue("autoTextColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(t){var e=this;this.setPropertyValue("keepTargetHover",t,!0)&&t&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",(function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!0)}))),this._disposers.push(this.events.on("out",(function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!1)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(t){this.setPropertyValue("showInViewport",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(t){this.setPropertyValue("getFillFromObject",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new Lo},Object.defineProperty(e.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(t){this.setPropertyValue("pointerOrientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.label.html},set:function(t){this.label.html!=t&&(this.label.html=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this.label.text!=t&&(this.label.text=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i,r,n=this._pointTo.x,a=this._pointTo.y,o=this._boundingRect,s=e.measuredWidth,l=e.measuredHeight,c=this.background.pointerLength;if(s>o.width){wn({x:o.x,y:o.y},this.parent);var u=wn({x:o.x+o.width,y:o.y+o.height},this.parent),h=document.body.offsetWidth;document,u.x>h/2?o.x=o.width-s:o.width=o.x+s}var p=this.pointerOrientation;"horizontal"==p||"left"==p||"right"==p?(r=-l/2,i="horizontal"==p?n>o.x+o.width/2?-s/2-c:s/2+c:"left"==p?s/2+c:-s/2-c):(i=Oe(0,o.x-n+s/2,o.x-n+o.width-s/2),"vertical"==p?a>o.y+l+c?(r=-l-c,this._verticalOrientation="up"):(r=c,this._verticalOrientation="down"):"down"==p?(r=-l-c,this._verticalOrientation="up"):(r=c,this._verticalOrientation="down")),r=Oe(r,o.y-a,o.y+o.height-l-a),e.x=i,e.y=r,this.drawBackground()},e.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},e.prototype.drawBackground=function(){var t=this.label,e=this.background,i=t.measuredWidth,r=this._boundingRect,n=i,a=t.measuredHeight,o=t.pixelY,s=r.x-this._pointTo.x,l=s+r.width,c=r.y-this._pointTo.y,u=c+r.height;e.x=t.pixelX-i/2,e.y=o,e.width=n,e.height=a,this.fitPointerToBounds?(e.pointerX=Oe(-e.x,s-e.x,l-e.x),e.pointerY=Oe(-e.y,c-e.y,u-e.y)):(e.pointerX=-e.x,e.pointerY=-e.y),e.validate()},e.prototype.delayedPointTo=function(t,e){var i=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=fr.events.once("exitframe",(function(){i.pointTo(t,e)})),this.addDisposer(this._pointToDisposer)},e.prototype.pointTo=function(t,e){this._pointTo.x==t.x&&this._pointTo.y==t.y||(this._pointTo=t,this.invalidate(),!this.visible||e?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Jn(this,[{property:"x",to:t.x,from:this.pixelX},{property:"y",to:t.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},e.prototype.setBounds=function(t){var e=this._boundingRect;e.x==t.x&&e.y==t.y&&e.width==t.width&&e.height==t.height||(this._boundingRect=t,this.invalidate())},Object.defineProperty(e.prototype,"boundingContainer",{set:function(t){this._boundingContainer=t,t.events.on("sizechanged",this.updateBounds,this),t.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),e.prototype.updateBounds=function(){var t=this._boundingContainer,e=yn({x:t.pixelX,y:t.pixelY,width:t.maxWidth,height:t.maxHeight},t);this.setBounds(e)},Object.defineProperty(e.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(yo);fr.registeredClasses.Tooltip=us;var hs=function(t){function e(){var e=t.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=ue(100),e.bottomSide=ue(100),e.leftSide=ue(100),e.rightSide=ue(100),e.isMeasured=!1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r=Wr(this.topSide,e),n=Wr(this.bottomSide,e),a=Wr(this.leftSide,i),o=Wr(this.rightSide,i),s=(e-r)/2,l=(i-a)/2,c=e-(e-r)/2,u=(i-o)/2,h=e-(e-n)/2,p=i-(i-o)/2,d=(e-n)/2,f=i-(i-a)/2,b="",m="",g="",y="";if(ge(this.horizontalNeck)){var v=this.horizontalNeck.value;b=zo({x:e*v,y:Math.max(l,u)}),g=zo({x:e*v,y:Math.min(p,f)})}if(ge(this.verticalNeck)){var _=this.verticalNeck.value;m=zo({x:Math.min(c,h),y:i*_}),y=zo({x:Math.max(s,d),y:i*_})}var x=jo({x:s,y:l})+b+zo({x:c,y:u})+m+zo({x:h,y:p})+g+zo({x:d,y:f})+y;this.path=x},Object.defineProperty(e.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(t){this.setPercentProperty("topSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(t){this.setPercentProperty("bottomSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(t){this.setPercentProperty("leftSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(t){this.setPercentProperty("rightSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(t){this.setPropertyValue("horizontalNeck",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(t){this.setPropertyValue("verticalNeck",t,!0)},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Trapezoid=hs;var ps=function(t){function e(){var e=t.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e,i=this.pixelWidth,r=this.pixelHeight;switch(this.direction){case"right":e=jo({x:0,y:0})+zo({x:i,y:r/2})+zo({x:0,y:r})+" Z";break;case"left":e=jo({x:i,y:0})+zo({x:0,y:r/2})+zo({x:i,y:r})+" Z";break;case"bottom":e=jo({x:0,y:0})+zo({x:i,y:0})+zo({x:i/2,y:r})+" Z";break;case"top":e=jo({x:i/2,y:0})+zo({x:i,y:r})+zo({x:0,y:r})+" Z"}this.path=e},Object.defineProperty(e.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(t){this.setPropertyValue("direction",t,!0)},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Triangle=ps;var ds=function(){function t(t,e){this._tensionX=t,this._tensionY=e}return t.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],r=t[e-1];Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1&&t.splice(e,1)}var n=this._tensionX,a=this._tensionY;if(t.length<3||n>=1&&a>=1)return Ho(t);var o=t[0],s=t[t.length-1],l=!1;Ie(o.x,3)==Ie(s.x)&&Ie(o.y)==Ie(s.y)&&(l=!0);for(var c="",u=(e=0,t.length-1);e<u;e++){i=t[e-1];var h=t[e+1],p=t[e+2];0===e?i=l?t[t.length-2]:t[e]:e==t.length-2&&(p=l?t[1]:t[e+1]),c+=No(h,Ke(i,r=t[e],h,0,n,a),Je(0,r,h,p,n,a))}return c},t}();function fs(t,e,i,r,n,a){var o=t.x,s=t.y,l=e.x,c=e.y,u=je(t,e);a&&(i=u/Math.round(u/i));var h=fr.getCache(qr(["wavedLine",t.x,e.x,t.y,e.y,i,r]));if(!h){if(u>0){var p=Math.atan2(c-s,l-o),d=Math.cos(p),f=Math.sin(p),b=i*d,m=i*f;if(i<=1||r<=1)h=zo(e);else{var g=Math.round(2*u/i),y=[],v=1;l<o&&(v*=-1),c<s&&(v*=-1);for(var _=0;_<=g;_++)y.push({x:o+_*b/2+(v*=-1)*r/2*f,y:s+_*m/2-v*r/2*d});h=new ds(n,n).smooth(y)}}else h="";fr.setCache(qr(["wavedLine",t.x,e.x,t.y,e.y,i,r]),h)}return h}var bs=function(t){function e(){var e=t.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){var t="",e=this.pixelRadius;e>0&&(t=jo((i=this.getPoints(e))[0])+new ds(this.tension,this.tension).smooth(i));var i,r=this.pixelInnerRadius;r>0&&((i=this.getPoints(r)).reverse(),t+=jo(i[0])+new ds(this.tension,this.tension).smooth(i)),this.path=t},e.prototype.getPoints=function(t){for(var e=t*Math.PI*2,i=this.waveHeight/2,r=e/Math.round(e/this.waveLength),n=r/2,a=[],o=e/r,s=0;s<=o;s++){var l=s*r/e*360,c=(s*r+n)/e*360;a.push({x:(t-i)*Fe(l),y:(t-i)*De(l)}),a.push({x:(t+i)*Fe(c),y:(t+i)*De(c)})}return a.pop(),a},Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return Wr(this.innerRadius,Re(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),e}(Mo);fr.registeredClasses.WavedCircle=bs;var ms=function(t){function e(){var e=t.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=Rr(),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){var t={x:this.x1,y:this.y1},e={x:this.x2,y:this.y2};this.path=jo(t)+fs(t,e,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),e}(Ro),gs=function(t){function e(){var e=t.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var r={x:0,y:0},n={x:e,y:0},a={x:e,y:i},o={x:0,y:i},s=Math.min(e,this.waveLength),l=Math.min(i,this.waveHeight),c=Math.min(i,this.waveLength),u=Math.min(e,this.waveHeight),h="",p="",d="",f="";this.wavedTop&&(h=fs(r,n,s,l,this.tension,!0)),this.wavedRight&&(p=fs(n,a,c,u,this.tension,!0)),this.wavedBottom&&(d=fs(a,o,s,l,this.tension,!0)),this.wavedLeft&&(f=fs(o,r,c,u,this.tension,!0)),this.path=jo(r)+h+zo(n)+p+zo(a)+d+zo(o)+f+"z"}},Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(t){this.setPropertyValue("waveLength",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(t){this.setPropertyValue("waveHeight",t),this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.setWavedSides=function(t,e,i,r){this.wavedTop=t,this.wavedRight=e,this.wavedBottom=i,this.wavedLeft=r},Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(t){this.setPropertyValue("wavedRight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(t){this.setPropertyValue("wavedLeft",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(t){this.setPropertyValue("wavedTop",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(t){this.setPropertyValue("wavedBottom",t,!0)},enumerable:!0,configurable:!0}),e}(go),ys=function(t){function e(){var e=t.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new ma,r=e.background;r.cornerRadius(20,20,20,20),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new mo;n.element=e.paper.add("path");var a=jo({x:0,y:0});return a+=zo({x:11,y:0}),n.path=a,n.pixelPerfect=!0,n.padding(8,3,8,3),n.stroke=i.getFor("primaryButtonText"),e.icon=n,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},e}(Do);fr.registeredClasses.ZoomOutButton=ys;var vs=function(t){function e(){var e=t.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new ma,r=e.background;r.cornerRadius(25,25,25,25),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new ps;n.direction="right",n.width=9,n.height=11,n.marginLeft=1,n.marginRight=1,n.horizontalCenter="middle",n.verticalCenter="middle",n.stroke=i.getFor("primaryButtonText"),n.fill=n.stroke,e.icon=n;var a=new Oo;a.width=11,a.height=11,a.horizontalCenter="middle",a.verticalCenter="middle",a.cornerRadius(0,0,0,0),a.stroke=i.getFor("primaryButtonText"),a.fill=n.stroke,e.togglable=!0;var o=e.states.create("active");return o.transitionDuration=0,o.properties.icon=a,e.defaultState.transitionDuration=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},e}(Do);fr.registeredClasses.PlayButton=vs;var _s=function(t){function e(){var e=t.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.modify=function(t){return t},e}(Hr);fr.registeredClasses.ColorModifier=_s;var xs=function(t){function e(){var e=t.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(t){this._lightnesses=t,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(t){this._brightnesses=t,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacities",{get:function(){return this._opacities},set:function(t){this._opacities=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(t){this._offsets=t},enumerable:!0,configurable:!0}),e.prototype.modify=function(t){this.gradient.clear();var e=0;this.opacities&&(e=Ee(e,this.opacities.length)),this.lightnesses&&(e=Ee(e,this.lightnesses.length)),this.brightnesses&&(e=Ee(e,this.brightnesses.length));for(var i,r,n=1,a=0;a<e;a++){var o=t;this.opacities&&we(this.opacities[a])&&(n=this.opacities[a]),this.lightnesses&&we(this.lightnesses[a])&&(i=this.lightnesses[a],r=void 0),this.brightnesses&&we(this.brightnesses[a])&&(r=this.brightnesses[a],i=void 0),we(r)?o=t.brighten(this.brightnesses[a]):we(i)&&(o=t.lighten(this.lightnesses[a])),this.gradient.addColor(o,n,this.offsets[a])}return this.gradient},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},e}(_s);fr.registeredClasses.GradientModifier=xs;var ws=function(t){function e(){var e=t.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new Ga,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},e}(xs);fr.registeredClasses.LinearGradientModifier=ws;var Vs=function(t){function e(){var e=t.call(this)||this;return e.className="Cone",e.angle=30,e.radius=ue(100),e.topRadius=ue(100),e.top=e.createChild(Fo),e.top.shouldClone=!1,e.bottom=e.createChild(Fo),e.bottom.shouldClone=!1,e.body=e.createChild(mo),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new ws,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),Zi(this,this.top,bo),Zi(this,this.bottom,bo),Zi(this,this.body,bo);var e,i,r,n=this.innerWidth,a=this.innerHeight,o=this.bottom,s=this.top,l=this.angle;"horizontal"==this.orientation?(e=a/2,o.y=a/2,s.y=a/2,s.x=n,i=(90-l)/90,r=0,this.bodyFillModifier.gradient.rotation=90):(i=0,r=(90-l)/90,e=n/2,o.y=a,o.x=n/2,s.x=n/2,this.bodyFillModifier.gradient.rotation=0);var c,u=this.radius.value*e,h=this.topRadius.value*e;o.radius=u-u*i,o.radiusY=u-u*r,s.radius=h-h*i,s.radiusY=h-h*r,c="horizontal"==this.orientation?jo({x:0,y:a/2-o.radiusY})+Xo(-90,-180,o.radius,o.radiusY)+zo({x:n,y:a/2+s.radiusY})+Xo(90,180,s.radius,s.radiusY)+" Z":jo({x:n/2-s.radius,y:0})+Xo(180,-180,s.radius,s.radiusY)+zo({x:n/2+o.radius,y:a})+Xo(0,180,o.radius,o.radiusY)+" Z",this.body.path=c},Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(t){this.setPropertyValue("topRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),e}(yo),Cs=function(t){function e(){var e=t.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(t){this.properties.lightness=t;var e=t+1;this.feColorMatrix.attr({values:e+" 0 0 0 0 0 "+e+" 0 0 0 0 0 "+e+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),e}(ls);fr.registeredClasses.LightenFilter=Cs;var Ps=function(t){function e(){var e=t.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(mo);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var r=e.createChild(mo);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideBottom=r,e._disposers.push(e.sideBottom);var n=e.createChild(mo);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.isMeasured=!1,e.sideLeft=n,e._disposers.push(e.sideLeft);var a=e.createChild(mo);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.isMeasured=!1,e.sideRight=a,e._disposers.push(e.sideRight);var o=e.createChild(mo);o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideTop=o,e._disposers.push(e.sideTop);var s=e.createChild(mo);return s.shouldClone=!1,s.setElement(e.paper.add("path")),s.isMeasured=!1,e.sideFront=s,e._disposers.push(e.sideFront),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,r=this.depth,n=this.angle,a=De(n),o=Fe(n),s={x:0,y:0},l={x:e,y:0},c={x:e,y:i},u={x:0,y:i},h={x:r*o,y:-r*a},p={x:r*o+e,y:-r*a},d={x:r*o+e,y:-r*a+i},f={x:r*o,y:-r*a+i};this.sideFront.path=jo(s)+zo(l)+zo(c)+zo(u)+" Z",this.sideBack.path=jo(h)+zo(p)+zo(d)+zo(f)+" Z",this.sideLeft.path=jo(s)+zo(h)+zo(f)+zo(u)+" Z",this.sideRight.path=jo(l)+zo(p)+zo(d)+zo(c)+" Z",this.sideBottom.path=jo(u)+zo(f)+zo(d)+zo(c)+" Z",this.sideTop.path=jo(s)+zo(h)+zo(p)+zo(l)+" Z"},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(e){var i;if(t.prototype.setFill.call(this,e),xe(e)&&(e=Lr(e)),e instanceof Er)i=e.hex;else if(e instanceof Ga||e instanceof Ya)i=e.stops.getIndex(0).color.hex;else{var r=new Cs;r.lightness=-.2,this.sideBack.filters.push(r);var n=r.clone();n.lightness=-.4,this.sideLeft.filters.push(n);var a=r.clone();a.lightness=-.2,this.sideRight.filters.push(a);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var s=r.clone();s.lightness=-.5,this.sideBottom.filters.push(s)}i&&(this.sideBack.fill=Rr(i).lighten(-.2),this.sideLeft.fill=Rr(i).lighten(-.4),this.sideRight.fill=Rr(i).lighten(-.2),this.sideTop.fill=Rr(i).lighten(-.1),this.sideBottom.fill=Rr(i).lighten(-.5))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},e}(yo),Us=function(t){function e(){var e=t.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(mo);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var r=e.createChild(mo);e.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var n=e.createChild(mo);return e.sideB=n,n.shouldClone=!1,n.isMeasured=!1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.setFill=function(e){var i;if(t.prototype.setFill.call(this,e),e instanceof Er)i=e.hex;else if(e instanceof Ga||e instanceof Ya)i=e.stops.getIndex(0).color.hex;else{var r=new Cs;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(i){var n=Rr(i).lighten(-.25);this.edge.fill=n,this.sideA.fill=n,this.sideB.fill=n,this.edge.stroke=n,this.sideA.stroke=n,this.sideB.stroke=n}},e.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,t.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,r=this.pixelInnerRadius||0,n=this.radiusY||0,a=this.radius,o=e+i,s=n/a*r,l={x:Fe(e)*r,y:De(e)*s},c={x:Fe(e)*a,y:De(e)*n},u={x:Fe(o)*a,y:De(o)*n},h={x:Fe(o)*r,y:De(o)*s},p=this.depth,d={x:l.x,y:l.y-p},f={x:c.x,y:c.y-p},b={x:u.x,y:u.y-p},m={x:h.x,y:h.y-p},g="",y=Math.ceil(i/5),v=i/y,_=e,x=f,w=0;w<y;w++)if((_+=v)>0&&_<180){g+=jo(x);var V={x:Fe(_)*a,y:De(_)*n-p};g+=zo({x:x.x,y:x.y+p}),g+=Go({x:V.x,y:V.y+p},a,n,!0),g+=zo(V),g+=Go(x,a,n),g+="z",x=V}else g+=jo(x),g+=Go(V={x:Fe(_)*a,y:De(_)*n-p},a,n,!0),g+=zo({x:V.x,y:V.y+p}),g+=Go({x:x.x,y:x.y+p},a,n),g+=zo(x),g+="z",x=V;for(x=d,_=e,w=0;w<y;w++)(_+=v)>0&&_<180?(g+=jo(x),V={x:Fe(_)*r,y:De(_)*s-p},g+=zo({x:x.x,y:x.y+p}),g+=Go({x:V.x,y:V.y+p},r,s,!0),g+=zo(V),g+=Go(x,r,s),g+="z",x=V):(g+=jo(x),g+=Go(V={x:Fe(_)*r,y:De(_)*s-p},r,s,!0),g+=zo({x:V.x,y:V.y+p}),g+=Go({x:x.x,y:x.y+p},r,s),g+=zo(x),g+="z",x=V);this.edge.path=g,this.sideA.path=jo(l)+zo(c)+zo(f)+zo(d)+" Z",this.sideB.path=jo(u)+zo(h)+zo(m)+zo(b)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-p}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){var t=this.getPropertyValue("angle");return we(t)||(t=0),t},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){var t=this.getPropertyValue("radiusY");return we(t)||(t=this.radius-this.radius*this.angle/90),t},set:function(t){this.setPropertyValue("radiusY",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},e}(ts),Ss=function(t){function e(){var e=t.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new Ya,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},e}(xs);fr.registeredClasses.RadialGradientModifier=Ss;var Ts=function(t){function e(){var e=t.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return Object(h.d)(e,t),e.prototype.draw=function(){if(t.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,i=this.height,r="";if(this.gap)for(var n=this.gap+this.strokeWidth,a=this.height/n,o=-a/2;o<1.5*a;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=jo({x:-e,y:(o+.5)*n})+zo({x:2*e,y:(o+.5)*n}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=jo({x:-e,y:o*n})+zo({x:2*e,y:o*n});else Math.round(this.rotation/90)!=this.rotation/90?(r=jo({x:-e,y:i/2})+zo({x:2*e,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=jo({x:0,y:0})+zo({x:e,y:0});this._line.attr({d:r})}},Object.defineProperty(e.prototype,"gap",{get:function(){return this.properties.gap},set:function(t){this.properties.gap=t,this.draw()},enumerable:!0,configurable:!0}),e}(Wa);fr.registeredClasses.LinePattern=Ts;var ks=function(t){function e(){var e=t.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(e.prototype,"radius",{get:function(){return this.properties.radius},set:function(t){this.properties.radius=t,this.draw()},enumerable:!0,configurable:!0}),e}(Wa);fr.registeredClasses.CirclePattern=ks;var Is=function(t){function e(){var e=t.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(e.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(t){this.properties.rectWidth=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(t){this.properties.rectHeight=t,this.draw()},enumerable:!0,configurable:!0}),e}(Wa);fr.registeredClasses.RectPattern=Is;var As=function(t){function e(){var e=t.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyFilter=function(){var t,e,i,r=this.intensity,n=1-r,a=this.color;a&&a.rgb?(t=a.rgb.r/255*r,e=a.rgb.g/255*r,i=a.rgb.b/255*r):(t=0,e=0,i=0),this.feColorMatrix.attr({values:n+" 0 0 0 "+t+" 0 "+n+" 0 0 "+e+" 0 0 "+n+" 0 "+i+" 0 0 0 1 0"})},Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.properties.color=t,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(t){this.properties.intensity=t,this.applyFilter()},enumerable:!0,configurable:!0}),e}(ls);fr.registeredClasses.ColorizeFilter=As;var Os=function(t){function e(){var e=t.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(t){this.properties.saturation=t,this.feColorMatrix.attr({values:t.toString()})},enumerable:!0,configurable:!0}),e}(ls);fr.registeredClasses.DesaturateFilter=Os;var Ds=function(t){function e(){var e=t.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.properties.blur},set:function(t){this.properties.blur=t,this.feGaussianBlur.attr({stdDeviation:t/this.scale})},enumerable:!0,configurable:!0}),e}(ls);fr.registeredClasses.BlurFilter=Ds;var Ms=function(t){function e(){var e=t.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":(new ma).getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(t){this.properties.stroke=t,this.feFlood.attr({"flood-color":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(t){this.properties.strokeWidth=t,this.feMorphology.attr({radius:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(t){this.properties.opacity=t,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+t+" 0"})},enumerable:!0,configurable:!0}),e.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),t.prototype.setSprite.call(this,e)},e}(ls),Fs=function(t){function e(){var e=t.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Er({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.getReusableColor=function(t){if(0==this._list.length)return this.generate(1),this.list[0];var e=t-Math.floor(t/this._list.length)*this.list.length;return this.list[e]},e.prototype.next=function(){var t;return this.list.length<=this._currentStep?this.reuse?t=this.getReusableColor(this._currentStep):(this.generate(this.minColors),t=this.list[this._currentStep]):t=this.list[this._currentStep],this._currentStep+=this.step,t.saturate(this.saturation)},e.prototype.getIndex=function(t){var e;return this.list.length<=t?this.reuse?e=this.getReusableColor(t):(this.generate(this.minColors),e=this.getIndex(t)):e=this.list[t],e.saturate(this.saturation)},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.generate=function(t){var e=Fr(ye(this.currentColor.rgb)),i=ge(this.stepOptions.hue)?this.stepOptions.hue:1/t,r={brighten:0,lighten:0,hue:e.h,lightness:e.l,saturation:e.s},n=[],a=0==this.list.length?0:1;if(this.reuse)for(var o=a;o<=t;o++)n.push(Fr(ye(this._list[o].rgb)).h);else for(o=a;o<=t;o++){var s=e.h+i*o;this.wrap&&s>1&&(s-=1),n.push(s)}for(this.shuffle&&n.sort((function(t,e){return Math.random()-.5})),o=0;o<t;o++){this.reuse?e=Fr(ye(this._list[o].rgb)):e.h=n.shift(),this.applyStepOptions(e,r,o,this._currentPass);var l=Rr(Mr(e)),c=(this.stepOptions.brighten||0)*o+(this.passOptions.brighten||0)*this._currentPass;0!=c&&(c=this.wrap?fn(c,this.minLightness,this.maxLightness):dn(c,this.minLightness,this.maxLightness),l=l.brighten(c));var u=(this.stepOptions.lighten||0)*o+(this.passOptions.lighten||0)*this._currentPass;0!=u&&(u=this.wrap?fn(u,this.minLightness,this.maxLightness):dn(u,this.minLightness,this.maxLightness),l=l.lighten(u)),this._list.push(l)}this._currentPass++},Object.defineProperty(e.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),e.prototype.applyStepOptions=function(t,e,i,r){t.l=e.lightness+(this.stepOptions.lightness||0)*i+(this.passOptions.lightness||0)*r,this.wrap?(t.l>1?t.l=t.l-Math.floor(t.l):t.l<0&&(t.l=-(t.l-Math.floor(t.l))),t.l=fn(t.l,this.minLightness,this.maxLightness)):(t.l>1?t.l=1:t.l<0&&(t.l=0),t.l=dn(t.l,this.minLightness,this.maxLightness))},e.prototype.processConfig=function(e){if(e&&ge(e.list)&&Ce(e.list))for(var i=0,r=e.list.length;i<r;i++)e.list[i]instanceof Er||(e.list[i]=Rr(e.list[i]));t.prototype.processConfig.call(this,e)},e}(Hr);fr.registeredClasses.ColorSet=Fs;var Es=function(t){function e(){var e=t.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Er({r:103,g:183,b:220}),e.className="PatternSet";var i=new ma;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.getLinePattern=function(t,e,i,r,n){var a=new Ts;return a.width=t,a.height=t,a.stroke=this.baseColor,a.gap=r,a.strokeDasharray=n,a.strokeWidth=i,a.rotation=e,a},e.prototype.getRectPattern=function(t,e,i,r){var n=new Is;return n.width=t,n.height=t,n.rectWidth=i,n.rectHeight=i,r?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),0!=e&&(n.shapeRendering="auto"),n.rotation=e,n},e.prototype.getCirclePattern=function(t,e,i){var r=new ks;return r.width=t,r.height=t,r.shapeRendering="auto",r.radius=e,i?(r.stroke=this.baseColor,r.strokeWidth=1,r.fillOpacity=0):(r.fill=this.baseColor,r.strokeWidth=0),r},Object.defineProperty(e.prototype,"list",{get:function(){return this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.next=function(){var t=this.getIndex(this.currentStep);return this._currentStep++,t},e.prototype.getIndex=function(t){for(;this.list.length<=t;)this.generatePatterns();return this.list[t].clone()},e.prototype.generatePatterns=function(){var t=this.list.length/(this._currentPass+1);this._currentPass++;for(var e=0;e<t;e++)this.list.push(this.list[e].clone())},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){t.prototype.processConfig.call(this,e)},e}(Hr);fr.registeredClasses.PatternSet=Es,function(){function t(){this._disposed=!1,this._disposers=[]}t.prototype.init=function(){},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;0!==t.length;)t.shift().dispose()}}}();var Rs=function(t){function e(){var e=t.call(this)||this;e.className="AmChartsLogo",e.valign="bottom",e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=66,e.height=21,e.background.opacity=0;var i=Rr("#474758");"#ffffff"==(new ma).getFor("background").alternative.hex&&(i=Rr("#ffffff"));var r=new Ga;r.addColor(i),r.addColor(i,1,.75),r.addColor(Rr("#3cabff"),1,.755),r.rotation=-10;var n=r,a=e.createChild($o);a.shouldClone=!1,a.isMeasured=!1,a.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],a.strokeWidth=6*.3,a.tensionX=.8,a.tensionY=1,a.stroke=Rr("#3cabff");var o=e.createChild($o);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*.3},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],o.strokeWidth=6*.3,o.tensionX=.75,o.tensionY=1,o.stroke=n,e._disposers.push(o);var s=new Os;e.filters.push(s);var l=new Os;l.saturation=1;var c=e.states.create("hover");return c.properties.opacity=1,c.filters.push(l),e.applyTheme(),e}return Object(h.d)(e,t),e}(yo);function Ls(t){-1==fr.queue.indexOf(t)&&(t.__disabled=!0,t.tooltipContainer.__disabled=!0,t.events.disableType("appeared"),0==fr.queue.length&&zs(t),t.addDisposer(new Ii((function(){Hs(t)}))),fr.queue.push(t))}function Hs(t){var e=fr.queue.indexOf(t);if(e>=0){fr.queue.splice(fr.queue.indexOf(t),1);var i=fr.queue[e];i&&zs(i)}}function js(t){t.__disabled&&da(t.htmlContainer,Nn.viewportTarget)&&(t.vpDisposer&&t.vpDisposer.dispose(),Ls(t))}function zs(t){t.__disabled=!1,t.tooltipContainer.__disabled=!1,t.events.enableType("appeared"),t.showOnInit&&t.events.on("appeared",(function(){Hs(t)})),t.vpDisposer&&t.vpDisposer.dispose(),t instanceof yo&&t.invalidateLabels(),t.tooltipContainer&&t.tooltipContainer.invalidateLayout(),t instanceof Io?(t.invalidateData(),t.reinit(),t.events.once("datavalidated",(function(){t.showOnInit?t.appear():Hs(t)}))):(t.reinit(),t.events.once("inited",(function(){Hs(t)})),t.showOnInit&&t.appear())}function Bs(t,e){var i;xe(e)&&(ge(fr.registeredClasses[e])?e=fr.registeredClasses[e]:(e=fr.registeredClasses.Container,i=new Error("Class ["+e+"] is not loaded.")));var r=function(t,e){var i=function(t){if(xe(t)){var e=document.getElementById(t);if(null==e&&(e=document.getElementsByClassName(t)[0]),e instanceof HTMLElement)return e}else if(t instanceof HTMLElement)return t}(t);if(i){i.innerHTML="";var r=new za(i),n=new Ba(r.SVGContainer,"svg-"+(ja.length-1)),a=new yo;a.htmlContainer=i,a.svgContainer=r,a.width=ue(100),a.height=ue(100),a.background.fillOpacity=0,a.paper=n,n.append(a.group),a.relativeWidth=1,a.relativeHeight=1,r.container=a;var o=a.createChild(e);o.topParent=a;var s=o.uid;fr.invalidSprites[s]=[],fr.invalidDatas[s]=[],fr.invalidPositions[s]=[],fr.invalidLayouts[s]=[],a.baseId=s,o.isBaseSprite=!0,o.focusFilter=new Ms,fr.baseSprites.push(o),fr.baseSpritesByUid[s]=o,o.maskRectangle={x:0,y:0,width:Math.max(r.width,0),height:Math.max(r.height,0)},a.events.on("maxsizechanged",(function(t){0!=t.previousWidth&&0!=t.previousHeight||a.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(r.width,0),height:Math.max(r.height,0)})}));var l=null,c=function(){o.isDisposed()?l=null:null==la(o.dom)?(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console&&console.warn.apply(console,Object(h.h)(t))}("Chart was not disposed",o.uid),l=null):l=window.setTimeout(c,1e3)};c(),o.addDisposer(new Ii((function(){null!==l&&clearTimeout(l),bi(fr.baseSprites,o),fr.baseSpritesByUid[o.uid]=void 0}))),o.addDisposer(a);var u=a.createChild(yo);u.topParent=a,u.width=ue(100),u.height=ue(100),u.isMeasured=!1,a.tooltipContainer=u,o.tooltip=new us,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:u.maxWidth,height:u.maxHeight}),u.events.on("maxsizechanged",(function(){ye(o.tooltip).setBounds({x:0,y:0,width:u.maxWidth,height:u.maxHeight})}),void 0,!1);var p=new es;if(p.events.on("inited",(function(){p.__disabled=!0}),void 0,!1),a.preloader=p,o instanceof yo&&!o.hasLicense()){var d=u.createChild(Rs);u.events.on("maxsizechanged",(function(t){u.maxWidth<=100||u.maxHeight<=50?d.hide():(d.isHidden||d.isHiding)&&d.show()}),void 0,!1),o.logo=d,d.align="left",d.valign="bottom"}if(a.isStandaloneInstance=!0,Nn.onlyShowOnViewport)if(da(i,Nn.viewportTarget))Nn.queue&&Ls(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var f=[ta(window,"DOMContentLoaded",(function(){js(o)})),ta(window,"load",(function(){js(o)})),ta(window,"resize",(function(){js(o)})),ta(window,"scroll",(function(){js(o)}))];if(Nn.viewportTarget)for(var b=Ce(Nn.viewportTarget)?Nn.viewportTarget:Nn.viewportTarget?[Nn.viewportTarget]:[],m=0;m<b.length;m++){var g=b[m];f.push(ta(g,"resize",(function(){js(o)}))),f.push(ta(g,"scroll",(function(){js(o)})))}var y=new Ai(f);o.addDisposer(y),o.vpDisposer=y}else Nn.queue&&Ls(o);return o}throw vo.log("html container not found"),new Error("html container not found")}(t,e);return i&&r.raiseCriticalError(i),r}function Ns(t){-1===fr.themes.indexOf(t)&&fr.themes.push(t)}var Xs=function(t){function e(){var e=t.call(this)||this;e.className="Grip";var i=new ma;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var r=new mo;r.element=e.paper.add("path");var n=jo({x:-6,y:0});return n+=zo({x:6,y:0}),n+=jo({x:-8,y:-6}),n+=zo({x:0,y:-12}),n+=zo({x:8,y:-6}),n+=jo({x:-8,y:6}),n+=zo({x:0,y:12}),n+=zo({x:8,y:6}),r.path=n,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=i.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",e.icon=r,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.events.on("down",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose()})),e.events.on("out",(function(t){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=ue(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),e}(Do);fr.registeredClasses.Grip=Xs;var Ws=function(t){function e(){var e=t.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(ko),Gs=function(t){function e(){var i=t.call(this)||this;if(i._legend=new Oi,i.constructor===e)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var r=new Ao;i.titles=new _r(r),i._disposers.push(new gr(i.titles)),i._disposers.push(r),i.width=ue(100),i.height=ue(100),i.layout="vertical";var n=i.createChild(yo);n.shouldClone=!1,n.layout="vertical",n.width=ue(100),n.height=ue(100),i.chartAndLegendContainer=n;var a=n.createChild(yo);return a.shouldClone=!1,a.width=ue(100),a.height=ue(100),i.chartContainer=a,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(t){i.processTitle(t),i.updateReaderTitleReferences()}),i,!1),i.titles.events.on("removed",(function(t){i.updateReaderTitleReferences()}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},e.prototype.draw=function(){this.fixLayout(),t.prototype.draw.call(this)},e.prototype.fixLayout=function(){var t=this.legend;if(t){var e=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,t.x=void 0,t.y=void 0,t.position){case"left":e.layout="horizontal",t.toBack();break;case"right":e.layout="horizontal",t.toFront();break;case"top":e.layout="vertical",t.toBack();break;case"bottom":e.layout="vertical",t.toFront()}}},e.prototype.feedLegend=function(){},e.prototype.processTitle=function(t){var e=t.newValue;return e.parent=this,e.toBack(),e.shouldClone=!1,e.align="center",e.uidAttr(),e},e.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var t=[];ir(this.titles.iterator(),(function(e){t.push(e.uid)})),this.setSVGAttribute({"aria-labelledby":t.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend.get()},set:function(t){this.setLegend(t)},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(t){var e=this;this._legend.get()!==t&&(t?(t.maxWidth=200,t.parent=this.chartAndLegendContainer,this._legend.set(t,t.events.on("propertychanged",(function(t){"position"==t.property&&e.fixLayout()}),void 0,!1))):this._legend.reset(),this.feedLegend())},e.prototype.dispose=function(){this.legend&&this.legend.dispose(),t.prototype.dispose.call(this)},e.prototype.processConfig=function(e){e&&ge(e.legend)&&!ge(e.legend.type)&&(e.legend.type="Legend"),t.prototype.processConfig.call(this,e)},e.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),t.prototype.copyFrom.call(this,e)},Object.defineProperty(e.prototype,"dragGrip",{get:function(){var t=this;if(!this._dragGrip){var e=this.tooltipContainer.createChild(Xs);e.align="right",e.valign="middle",e.hide(0),e.events.on("down",(function(e){e.touch&&(t.interactionsEnabled=!1)})),e.events.on("up",(function(e){t.interactionsEnabled=!0})),this.events.on("down",(function(t){t.touch&&e.show()})),this._dragGrip=e}return this._dragGrip},set:function(t){this._dragGrip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(t){this.parent.focusable=!0},enumerable:!0,configurable:!0}),e}(Io);fr.registeredClasses.Chart=Gs,So.push({relevant:To.widthXS,state:function(t,e){if(t instanceof Gs){var i=t.states.create(e);return t.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),t.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),So.push({relevant:To.heightXS,state:function(t,e){if(t instanceof Gs){var i=t.states.create(e);return t.pixelPaddingTop>10&&(i.properties.paddingTop=10),t.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),So.push({relevant:To.widthXXS,state:function(t,e){if(t instanceof Gs){var i=t.states.create(e);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),So.push({relevant:To.heightXXS,state:function(t,e){if(t instanceof Gs){var i=t.states.create(e);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var Ys=function(t){function e(){var e=t.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){if(this.setPropertyValue("locationX",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){if(this.setPropertyValue("locationY",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(t){this.setPropertyValue("xField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(t){this.setPropertyValue("yField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(t){this.setPropertyValue("isDynamic",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(t){this.setPropertyValue("copyToLegendMarker",t)},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.Bullet=Ys,So.push({relevant:To.isXS,state:function(t,e){if(t instanceof Ys){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var qs=function(t){function e(){var e=t.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this._label=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new Ii((function(){ge(t.component)&&t.component.labels.removeValue(e)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueLabel",{get:function(){var t=this;if(!this._valueLabel){var e=this.component.valueLabels.create();this._valueLabel=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new Ii((function(){ge(t.component)&&t.component.valueLabels.removeValue(e)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemContainer",{get:function(){var t=this;if(!this._itemContainer){var e=this.component,i=e.itemContainers.create();i.parent=e,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(t){e.toggleDataItem(t.target.dataItem)}),void 0,!1),i.focusable&&(i.events.on("hit",(function(t){e.focusedItem=void 0}),void 0,!1),i.events.on("focus",(function(t){e.focusedItem=t.target.dataItem}),void 0,!1),i.events.on("blur",(function(t){e.focusedItem=void 0}),void 0,!1)),this._disposers.push(new Ii((function(){ge(t.component)&&t.component.itemContainers.removeValue(i)}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var r=this.dataContext;if((r instanceof ko||r instanceof mo)&&!r.isDisposed()){var n=function(t){i.readerChecked=t.visible,i.events.disableType("toggled"),i.isActive=!t.visible,i.events.enableType("toggled")};r.addDisposer(new Ii((function(){t.component&&t.component.dataItems.remove(t)}))),r instanceof mo?(i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(r.events.on("hidden",(function(t){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")}),void 0,!1)),i.addDisposer(r.events.on("shown",(function(t){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")}),void 0,!1))):i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){var t=this;if(!this._marker){var e=this.component.markers.create();this._marker=e,e.parent=this.itemContainer,this.addSprite(e),this._disposers.push(e),this._disposers.push(new Ii((function(){ge(t.component)&&t.component.markers.removeValue(e)})))}return this._marker},enumerable:!0,configurable:!0}),e}(ko),Ks=function(){this.createMarker=!0},Js=function(t){function e(){var e=t.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new yo;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=Ka.pointer,i.background.fillOpacity=0,e.itemContainers=new _r(i),e._disposers.push(new gr(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(Da().body.events.on("keyup",(function(t){if(wa.isKey(t.event,"enter")&&e.focusedItem){var i=e.focusedItem,r=i.itemContainer;r.togglable?e.toggleDataItem(i):r.clickable&&r.events.isEnabled("hit")&&(r.dispatchImmediately("hit",{event:t}),e.focusedItem=i)}}),e));var r=new ma,n=new yo;n.width=23,n.height=23,n.interactionsEnabled=!1,n.applyOnClones=!0,n.setStateOnChildren=!0,n.background.fillOpacity=0,n.background.strokeOpacity=0,n.propertyFields.fill="fill",n.valign="middle";var a=r.getFor("disabledBackground");n.events.on("childadded",(function(t){var e=t.newValue.states.create("active");e.properties.stroke=a,e.properties.fill=a})),e.markers=new _r(n),e._disposers.push(new gr(e.markers)),e._disposers.push(e.markers.template);var o=n.createChild(Oo);o.width=ue(100),o.height=ue(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var s=new Ao;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=r.getFor("disabledBackground"),e.labels=new _r(s),e._disposers.push(new gr(e.labels)),e._disposers.push(e.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var l=new Ao;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=r.getFor("disabledBackground"),l.interactionsEnabled=!1,e.valueLabels=new _r(l),e._disposers.push(new gr(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},e.prototype.createDataItem=function(){return new qs},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e);var i=e.itemContainer,r=e.marker,n=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var a=e.label.maxWidth;e.label.width=void 0,a>0&&(e.label.maxWidth=a),"right"==n.align&&(n.width=void 0);var o=e.dataContext.legendSettings,s=e.dataContext;!s.createLegendMarker||this.useDefaultMarker&&s instanceof mo||e.childrenCreated||(s.createLegendMarker(r),e.childrenCreated=!0),s.updateLegendValue&&s.updateLegendValue(),s.component&&s.component.updateLegendValue&&s.component.updateLegendValue(s),n.invalid&&n.validate(),n.__disabled=""==n.text||null==n.text,!o||null==o.itemValueText&&null==o.valueText||(n.__disabled=!1);var l=e.dataContext.visible;void 0===l&&(l=!0),l=fe(l),e.dataContext.visible=l,i.events.disableType("toggled"),i.isActive=!l,i.setState(i.isActive?"active":"default",0),i.events.enableType("toggled")},e.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>r&&(r=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var n=0;this.valueLabels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>n&&(n=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var a=0;this.markers.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>a&&(a=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var o,s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,c=r+n+a;we(i)?((i-=l)>c&&(i=c),o=i-a-n):o=r,this.labels.each((function(t){("right"==e.valueLabels.template.align||t.measuredWidth>o)&&(t.width=Math.min(t.maxWidth,o-t.pixelMarginLeft-t.pixelMarginRight))})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(t){t.width=n-t.pixelMarginRight-t.pixelMarginLeft})),t.prototype.afterDraw.call(this)},e.prototype.handleScrollbar=function(){var t=this.scrollbar;this.scrollable&&t&&(t.height=this.measuredHeight,t.x=this.measuredWidth-t.pixelWidth-t.pixelMarginLeft,this.contentHeight>this.measuredHeight?(t.visible=!0,t.thumb.height=t.height*this.measuredHeight/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+ +t.pixelMarginRight):t.visible=!1,this.updateMasks())},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t)&&("left"==t||"right"==t?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",we(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=ue(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(t){this.setPropertyValue("useDefaultMarker",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(t){if(this.setPropertyValue("scrollable",t,!0))if(t){var e=this.createChild(as);this.scrollbar=e,e.isMeasured=!1,e.orientation="vertical",e.endGrip.__disabled=!0,e.startGrip.__disabled=!0,e.visible=!1,e.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(e.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){var e=t.shift.y,i=this.scrollbar;if(i){var r=e/1e3*this.measuredHeight/this.contentHeight,n=i.end-i.start;e>0?(i.start=Ee(0,i.start-r),i.end=i.start+n):(i.end=Re(1,i.end-r),i.start=i.end-n)}},e.prototype.updateMasks=function(){var t=this;this.scrollbar&&this.itemContainers.each((function(e){e.dy=-t.scrollbar.thumb.pixelY*t.contentHeight/t.measuredHeight,e.maskRectangle={x:0,y:-e.dy,width:t.measuredWidth,height:t.measuredHeight}}))},e.prototype.toggleDataItem=function(t){var e=t.dataContext;!e.visible||e.isHiding||e instanceof mo&&e.isHidden?(t.color=t.colorOrig,t.itemContainer.isActive=!1,!0===e.hidden&&(e.hidden=!1),e.show?e.show():e.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,t.label.readerTitle))):(t.itemContainer.isActive=!0,e.hide?e.hide():e.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,t.label.readerTitle)),t.color=(new ma).getFor("disabledBackground"))},Object.defineProperty(e.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.handleDataItemPropertyChange=function(t,e){t.valueLabel.invalidate(),t.label.invalidate()},e}(Io);fr.registeredClasses.Legend=Js,So.push({relevant:To.widthXS,state:function(t,e){if(t instanceof Js&&("left"==t.position||"right"==t.position)){var i=t.states.create(e);return i.properties.position="bottom",i}return null}}),So.push({relevant:To.heightXS,state:function(t,e){if(t instanceof Js&&("top"==t.position||"bottom"==t.position)){var i=t.states.create(e);return i.properties.position="right",i}return null}}),So.push({relevant:To.isXS,state:function(t,e){if(t instanceof Js){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Zs=function(t){function e(){var e=t.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new hr,this._disposers.push(new ur(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.bullets.clear(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),e}(ko),Qs=function(t){function e(){var i=t.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new Ks,i._tmin=new hr,i._tmax=new hr,i._smin=new hr,i._smax=new hr,i.dataItemsByAxis=new hr,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===e)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new vr,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(yo),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(mo),i._disposers.push(i.mainContainer);var r=i.mainContainer.createChild(yo);return i._shouldBeReady.push(r),r.shouldClone=!1,r.layout="none",r.virtualParent=i,i._disposers.push(r),i.bulletsContainer=r,i.tooltip=new us,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=Fn,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),Nn.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},e.prototype.createDataItem=function(){return new Zs},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(t){},e.prototype.processBullet=function(t){var e=this,i=t.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(t){e.itemsFocusable()&&(i.focusable=!0)}))},e.prototype.removeBullet=function(t){var e=t.oldValue;this.dataItems.each((function(t){var i=t.bullets.getKey(e.uid);i&&i.dispose()})),this.invalidate()},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.processValues(!1)},e.prototype.getFirstValue=function(t,e){e>0&&e<this.dataItems.length-1&&e++;for(var i=e;i>=0;i--){var r=this.dataItems.getIndex(i).getActualWorkingValue(t);if(we(r))return r}return null},e.prototype.getAbsoluteFirstValue=function(t){for(var e=0;e<this.dataItems.length;e++){var i=this.dataItems.getIndex(e).values[t].value;if(we(i))return i}return null},e.prototype.rangeChangeUpdate=function(){t.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},e.prototype.processValues=function(t){var e=this;if(!this.simplifiedProcessing){var i=this.dataItems,r={},n={},a={},o={},s={},l={},c={},u={},h={},p={},d=Ee(0,this._workingStartIndex);d=Re(d,this.dataItems.length);var f=Re(this._workingEndIndex,this.dataItems.length);if(we(d)||(d=0),we(f)||(f=this.dataItems.length),d>0){var b=i.getIndex(d-1);qi(b.values,(function(t,e){var i=b.getActualWorkingValue(t);we(i)&&(u[t]=i)}))}for(var m=function(t){var f=i.getIndex(t);qi(f.values,(function(t,i){var b=f.getActualWorkingValue(t);if(we(b)){we(r[t])||(r[t]=0),r[t]++,we(n[t])||(n[t]=0),n[t]+=b,we(a[t])||(a[t]=0),a[t]+=Math.abs(b),we(l[t])||(l[t]=b),c[t]=b,we(o[t])?o[t]>b&&(o[t]=b):o[t]=b,we(s[t])?s[t]<b&&(s[t]=b):s[t]=b,we(h[t])||(h[t]=e.getFirstValue(t,d)),we(p[t])||(p[t]=e.getAbsoluteFirstValue(t)),f.setCalculatedValue(t,b-h[t],"change"),f.setCalculatedValue(t,(b-h[t])/h[t]*100,"changePercent"),f.setCalculatedValue(t,b-p[t],"startChange"),f.setCalculatedValue(t,(b-p[t])/p[t]*100,"startChangePercent");var m=u[t];we(m)||(m=b),f.setCalculatedValue(t,b-m,"previousChange"),f.setCalculatedValue(t,(b-m)/m*100,"previousChangePercent"),u[t]=b}}))},g=d;g<f;g++)m(g);if(this.calculatePercent){var y=function(t){var r=i.getIndex(t);qi(r.values,(function(t){var i=a[t],n=r.getActualWorkingValue(t);we(n)&&(i>0?(e.usePercentHack&&n==i&&(i=r.values[t].value),r.setCalculatedValue(t,n/i*100,"percent")):r.setCalculatedValue(t,0,"percent"))}))};for(g=d;g<f;g++)y(g)}if(d>0){var v=i.getIndex(d-1);qi(v.values,(function(t){var e=v.values[t].value;v.setCalculatedValue(t,e-l[t],"change"),v.setCalculatedValue(t,(e-l[t])/l[t]*100,"changePercent")}))}var _=this.dataItem;qi(_.values,(function(t){_.setCalculatedValue(t,n[t],"sum"),_.setCalculatedValue(t,a[t],"absoluteSum"),_.setCalculatedValue(t,n[t]/r[t],"average"),_.setCalculatedValue(t,l[t],"open"),_.setCalculatedValue(t,c[t],"close"),_.setCalculatedValue(t,o[t],"low"),_.setCalculatedValue(t,s[t],"high"),_.setCalculatedValue(t,r[t],"count")}))}},e.prototype.validate=function(){Tn()&&this.filters.clear(),ir(this.axisRanges.iterator(),(function(t){t.validate()})),t.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++)(r=this.dataItems.getIndex(i))&&r.bullets.each((function(t,e){e.__disabled=!0}));for(i=this.dataItems.length-1;i>this.endIndex;i--){var r;(r=this.dataItems.getIndex(i))&&r.bullets.each((function(t,e){e.__disabled=!0}))}}else this.bulletsContainer.children.each((function(t){t.__disabled=!0}));this.updateTooltipBounds()},e.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},e.prototype.shouldCreateBullet=function(t,e){return!0},e.prototype.validateDataElement=function(e){var i=this;t.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(t){var r=e.bullets.getKey(t.uid);if(i.shouldCreateBullet(e,t)){if(!r){var n=t.propertyFields.disabled,a=e.dataContext;n&&a&&!1===a[n]?(t.applyOnClones=!1,t.disabled=!1,r=t.clone(),t.disabled=!0,t.applyOnClones=!0):r=t.clone(),r.shouldClone=!1,e.addSprite(r),i.visible&&!i.isHiding||r.hide(0)}var o=r.dataItem;if(o!=e){o&&o.bullets.setKey(t.uid,void 0);var s=i.itemReaderText;r instanceof Ys&&(s||(s="{"+r.xField+"}: {"+r.yField+"}"),r.isDynamic&&(e.events.on("workingvaluechanged",r.deepInvalidate,r,!1),i.dataItem.events.on("workingvaluechanged",r.deepInvalidate,r,!1)),r.deepInvalidate()),r.focusable&&(r.events.on("focus",(function(t){r.readerTitle=i.populateString(s,r.dataItem)}),void 0,!1),r.events.on("blur",(function(t){r.readerTitle=""}),void 0,!1)),r.hoverable&&(r.events.on("over",(function(t){r.readerTitle=i.populateString(s,r.dataItem)}),void 0,!1),r.events.on("out",(function(t){r.readerTitle=""}),void 0,!1))}r.parent=i.bulletsContainer,e.bullets.setKey(t.uid,r),r.maxWidth=e.itemWidth,r.maxHeight=e.itemHeight,r.__disabled=!1,i.positionBullet(r)}else r&&(r.__disabled=!0)}))):this.bulletsContainer.visible=!1},e.prototype.handleDataItemWorkingValueChange=function(t,e){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this.invalidateDataItems()},enumerable:!0,configurable:!0}),e.prototype.createMask=function(){},e.prototype.processAxisRange=function(t){this.rangesContainer||(this.rangesContainer=this.createChild(yo),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var e=t.newValue;e&&(e.contents.parent=this.rangesContainer,e.isRange=!0,e.events.on("valuechanged",this.invalidateDataItems,this,!1))},e.prototype.getAxisField=function(t){},e.prototype.showTooltipAtPosition=function(t,e){},Object.defineProperty(e.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(t){this.setPropertyValue("minBulletDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new _r(new Ys),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new gr(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){},Object.defineProperty(e.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(t){this.setPropertyValue("hiddenInLegend",t)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t);var e=this.legendDataItem;e&&(e.component.invalidate(),e.component.invalidateRawData()),this.readerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemReaderText",{get:function(){var t=this._itemReaderText;return t||(this.tooltipText?t=an(this.tooltipText):this.tooltipHTML&&(t=an(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",t):t},set:function(t){this._itemReaderText=t,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),e.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(t,e){if(this.legendDataItem){var i=this.legendSettings,r=this.legendDataItem,n=r.label,a=r.valueLabel;t||e?(a&&(i.itemValueText&&(a.text=i.itemValueText),a.dataItem=t),n&&(i.itemLabelText&&(n.text=i.itemLabelText),n.dataItem=t)):(n&&((i.labelText||null!=i.itemLabelText)&&(n.text=i.labelText),n.dataItem=this.dataItem),a&&((i.valueText||null!=i.itemValueText)&&(a.text=i.valueText),a.dataItem=this.dataItem))}},e.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,t.prototype.copyFrom.call(this,e)},e.prototype.raiseCriticalError=function(t){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",t).message,this._chart.modal.closable=!1,Nn.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),Nn.verbose&&console.log(t)},e.prototype.applyFilters=function(){var e=this;t.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),ir(this.filters.iterator(),(function(t){e.bulletsContainer.filters.push(t.clone())}))},Object.defineProperty(e.prototype,"heatRules",{get:function(){var t=this;return this._heatRules||(this._heatRules=new vr,this._heatRules.events.on("inserted",(function(e){var i=e.newValue,r=i.target;if(r){var n=i.dataField;ge(n)||(n="value");var a=t.dataItem,o=i.property,s=be(i.minValue),l=be(i.maxValue);we(s)||we(l)||t.dataItem.events.on("calculatedvaluechanged",(function(e){e.property==n&&ir(t.dataItems.iterator(),(function(t){var e=!1;oi(t.sprites,(function(t){t.clonedFrom==r&&(t[o]=t[o],e=!0)})),e||oi(t.sprites,(function(t){t instanceof yo&&ir(t.children.iterator(),(function(t){t.className==r.className?t[o]=t[o]:t instanceof yo&&t.deepInvalidate()}))}))}))})),t.dataItems.template.events.on("workingvaluechanged",(function(t){if(t.property==n){var e=t.target,i=!1;oi(e.sprites,(function(t){t.clonedFrom==r&&(t[o]=t[o],i=!0)})),i||oi(e.sprites,(function(t){t instanceof yo&&ir(t.children.iterator(),(function(t){t.className==r.className?t[o]=t[o]:t instanceof yo&&t.deepInvalidate()}))}))}})),r.adapter.add(o,(function(t,e,r){var o=be(i.minValue),s=be(i.maxValue),l=i.min,c=i.max;if(e instanceof mo){var u=e.propertyFields[r];if(u&&e.dataItem){var h=e.dataItem.dataContext;if(h&&ge(h[u]))return t}}var p=e.dataItem;if(we(o)||(o=a.values[n].low),we(s)||(s=a.values[n].high),p&&p.values[n]){var d=p.getActualWorkingValue(n);if(ge(l)&&ge(c)&&we(o)&&we(s)&&we(d)){var f=void 0;if(f=i.logarithmic?(Math.log(d)*Math.LOG10E-Math.log(o)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(o)*Math.LOG10E):(d-o)/(s-o),we(d)&&!we(f)&&(f=.5),we(l))return l+(c-l)*f;if(l instanceof Er)return new Er(Or(l.rgb,c.rgb,f))}}return t}))}}))),this._heatRules},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){var i;if(e){if(ge(e.bullets)&&Ce(e.bullets))for(var r=0,n=e.bullets.length;r<n;r++){var a=e.bullets[r];ge(a.type)||(a.type="Bullet")}ge(e.heatRules)&&Ce(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(t.prototype.processConfig.call(this,e),i){for(r=0,n=i.length;r<n;r++){var o=i[r],s=this;if(ge(o.target)&&xe(o.target))if(this.map.hasKey(o.target))s=this.map.getKey(o.target);else for(var l=o.target.split("."),c=0;c<l.length;c++)if(s instanceof vr){var u=s.getIndex(be(l[c]));s=u||s[l[c]]}else s=s[l[c]];o.target=s,ge(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),ge(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}t.prototype.processConfig.call(this,{heatRules:i})}},e.prototype.configOrder=function(e,i){return e==i?0:"heatRules"==e?1:"heatRules"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(Io);fr.registeredClasses.Series=Qs,fr.registeredClasses.SeriesDataItem=Zs;var $s=function(t){function e(){var e=t.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Ws),tl=function(t){function e(){var e=t.call(this)||this;e.className="SerialChart",e.colors=new Fs,e._usesData=!1;var i=e.chartContainer.createChild(yo);i.shouldClone=!1,i.width=ue(100),i.height=ue(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var r=e.chartContainer.createChild(yo);return r.shouldClone=!1,r.width=ue(100),r.height=ue(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",e.bulletsContainer=r,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new _r(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new gr(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesRemoved=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),this.dataUsers.each((function(t){t.invalidateDataItems()})),e.autoDispose?e.dispose():(e.parent=void 0,e.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var r=this.legend.dataItems,n=r.length-1;n>=0;n--){var a=r.getIndex(n);a&&a.dataContext==e&&i.dataItems.remove(a)}for(n=i.data.length-1;n>=0;n--){var o=i.data[n];o&&o==e&&bi(i.data,o)}}},e.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new Ii((function(){e.dataUsers.removeValue(i)}))),this.handleSeriesAdded2(i),i.hiddenInLegend||this.legend&&this.legend.addData(i))},e.prototype.handleSeriesAdded2=function(t){var e=this;this.dataInvalid||this._disposers.push(fr.events.once("exitframe",(function(){t.data&&0!=t.data.length||(t.data=e.data,t.showOnInit&&(t.reinit(),t.setPropertyValue("showOnInit",!1),t.showOnInit=!0),t.events.once("datavalidated",(function(){t.data==e.data&&(t._data=[])})))})))},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];ir(this.series.iterator(),(function(t){t.hiddenInLegend||e.push(t)})),t.dataFields.name="name",t.data=e}},e.prototype.createSeries=function(){return new Qs},Object.defineProperty(e.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},e.prototype.appear=function(){t.prototype.appear.call(this),this.series.each((function(t){t.showOnInit&&t.inited&&t.appear()}))},e}(Gs);fr.registeredClasses.SerialChart=tl;var el=function(t){function e(){var e=t.call(this)||this;e._axis=new Oi,e.dataItems=new vr,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new ma,r=new ms;r.fill=i.getFor("background"),r.stroke=Rr(),r.fillOpacity=.9,r.zIndex=0,e._fillShape=r;var n=new ms;n.fill=Rr(),n.stroke=i.getFor("grid"),n.strokeOpacity=.3,n.zIndex=1,e._startLine=n;var a=new ms;return a.fill=Rr(),a.stroke=Rr("#000000"),a.strokeOpacity=.3,a.zIndex=2,e._endLine=a,e._disposers.push(e._axis),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(e.prototype,"startLine",{get:function(){return this._startLine},set:function(t){this._startLine&&this._startLine.dispose(),this._startLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLine",{get:function(){return this._endLine},set:function(t){this._endLine&&this._endLine.dispose(),this._endLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShape",{get:function(){return this._fillShape},set:function(t){this._fillShape&&this._fillShape.dispose(),this._fillShape=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),e.prototype.addBreakSprite=function(t){t.parent=this,t.isMeasured=!1,this._disposers.push(t)},Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this._axis.get()!==t){this._axis.set(t,t.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),t.renderer.createBreakSprites(this);var e=t.axisBreaks.template;this.startLine.copyFrom(e.startLine),this.endLine.copyFrom(e.endLine),this.fillShape.copyFrom(e.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(t){this.setPropertyValue("breakSize",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.draw=function(){t.prototype.draw.call(this),this.axis&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(e.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.AxisBreak=el;var il,rl=function(t){function e(){var e=t.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.grid).disabled)return;e=i.clone()}else{if((i=t.renderer.grid.template).disabled)return;e=t.renderer.grid.create(),this._disposers.push(new Ii((function(){t.renderer.grid.removeValue(e)})))}this.grid=e,e.shouldClone=!1,this._disposers.push(e),e.axis=this.component}}return this._grid},set:function(t){this._grid&&this._grid!=t&&(bi(this.sprites,this._grid),this._grid.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(bi(t.dataItem.sprites,t),t.dataItem.grid=void 0),this.addSprite(t)),this._grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){if(!this._tick){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.tick).disabled)return;e=i.clone()}else{if((i=t.renderer.ticks.template).disabled)return;e=t.renderer.ticks.create(),this._disposers.push(new Ii((function(){t.renderer.ticks.removeValue(e)})))}this.tick=e,e.axis=this.component,e.shouldClone=!1,this._disposers.push(e)}}return this._tick},set:function(t){this._tick&&this._tick!=t&&(bi(this.sprites,this._tick),this._tick.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(bi(t.dataItem.sprites,t),t.dataItem.tick=void 0),this.addSprite(t)),this._tick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){if(!this._label){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.label).disabled)return;e=i.clone()}else{if((i=t.renderer.labels.template).disabled)return;e=t.renderer.labels.create(),this._disposers.push(new Ii((function(){t.renderer.labels.removeValue(e)})))}this._disposers.push(e),this.label=e,e.shouldClone=!1,e.axis=this.component,e.virtualParent=t}}return this._label},set:function(t){this._label&&this._label!=t&&(bi(this.sprites,this._label),this._label.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(bi(t.dataItem.sprites,t),t.dataItem.label=void 0),this.addSprite(t)),this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisFill",{get:function(){if(!this._axisFill){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;e=i.clone()}else{if((i=t.renderer.axisFills.template).disabled)return;e=t.renderer.axisFills.create(),this._disposers.push(new Ii((function(){t.renderer.axisFills.removeValue(e)})))}this.axisFill=e,e.shouldClone=!1,this._disposers.push(e)}}return this._axisFill},set:function(t){this._axisFill&&this._axisFill!=t&&(bi(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(bi(t.dataItem.sprites,t),t.dataItem.axisFill=void 0),t.axis=this.component,this.addSprite(t)),this._axisFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contents",{get:function(){if(!this._contents){var t=new yo;this.addSprite(t),t.isMeasured=!1,this._contents=t;var e=this.component;if(e){var i=e.renderer.createFill(this.component);i.disabled=!1,i.axis=e,this.addSprite(i),this._mask=i,t.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(t){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),t&&t.dataItems.push(this),this._axisBreak=t},enumerable:!0,configurable:!0}),e.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},e.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},e.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:"component"==t?-1:"component"==e?1:0},e.prototype.hasProperty=function(e){return"component"==e||t.prototype.hasProperty.call(this,e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},e.prototype.setVisibility=function(e,i){t.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(e.prototype,"bullet",{get:function(){return this._bullet},set:function(t){this._bullet&&this._bullet!=t&&(bi(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=t,t&&this.addSprite(t)},enumerable:!0,configurable:!0}),e}(ko);!function(t){t[t.Start=0]="Start",t[t.Middle=.5]="Middle",t[t.End=1]="End"}(il||(il={}));var nl=function(t){function e(){var i=t.call(this)||this;if(i._gridCount=10,i._series=new vr,i.autoDispose=!0,i._axisItemCount=0,i.constructor===e)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0;var r=new ma;i.title=new Ao,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new sr(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var n=new us;i._disposers.push(n),n.label.padding(5,10,5,10),n.background.pointerLength=5,n.fitPointerToBounds=!0,n.background.filters.clear(),n.virtualParent=i;var a=n.background;return a.cornerRadius=0,a.fill=r.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,n.label.fill=r.getFor("alternativeText"),i.tooltip=n,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!0)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!1)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)}),void 0,!1),i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.fillRule=function(t,e){we(e)||(e=t.index),e/2==Math.round(e/2)?(t.axisFill.__disabled=!0,t.axisFill.opacity=0):(t.axisFill.opacity=1,t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new rl},e.prototype.invalidateLayout=function(){t.prototype.invalidateLayout.call(this),ir(this.series.iterator(),(function(t){t.invalidateLayout()}))},e.prototype.invalidateSeries=function(){ir(this.series.iterator(),(function(t){t.invalidate()}))},e.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},e.prototype.updateGridCount=function(){if(this.renderer){var t=this.axisLength/this.renderer.minGridDistance;t!=this._gridCount&&(this._gridCount=t,this.clearCache())}},e.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),t.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},e.prototype.initRenderer=function(){},e.prototype.appendDataItem=function(t){var e=this.renderer,i=t.tick;i&&(i.parent=i.above?e.bulletsContainer:e.gridContainer),t.label&&(t.label.parent=e);var r=t.axisFill;r&&(r.parent=r.above?e.bulletsContainer:e.gridContainer);var n=t.grid;n&&(n.parent=n.above?e.bulletsContainer:e.gridContainer),t.bullet&&(t.bullet.parent=e.bulletsContainer)},e.prototype.validate=function(){t.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},e.prototype.validateAxisRanges=function(){var t=this;ir(this.axisRanges.iterator(),(function(e){t.appendDataItem(e),t.validateDataElement(e),e.grid&&e.grid.validate(),e.tick&&e.tick.validate(),e.axisFill&&e.axisFill.validate(),e.label&&e.label.validate()}))},e.prototype.validateBreaks=function(){this._axisBreaks&&ir(this._axisBreaks.iterator(),(function(t){t.invalidate()}))},e.prototype.processBreak=function(t){var e=t.newValue;e.parent=this.renderer.breakContainer,e.axis=this},e.prototype.registerSeries=function(t){var e=this;return this.series.moveValue(t),new Ai([new Ii((function(){e.series.removeValue(t)})),this.events.on("lengthchanged",t.invalidate,t,!1),this.events.on("lengthchanged",t.createMask,t,!1),this.events.on("startchanged",t.invalidate,t,!1),this.events.on("endchanged",t.invalidate,t,!1)])},Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},set:function(t){if(t!=this._renderer){this._renderer=t,t.chart=this.chart,t.axis=this,t.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(t.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var e=this.renderer.labels.create();this._disposers.push(e),e.dataItem=this.dataItems.template.clone(),e.text="L",e.parent=this.renderer,e.shouldClone=!1,e.fillOpacity=0,e.opacity=0,e.strokeOpacity=0,e.interactionsEnabled=!1,e.validate(),this.ghostLabel=e,this.events.on("beforedatavalidated",(function(){e.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),e.prototype.positionToAngle=function(t){return this.renderer.positionToAngle(t)},e.prototype.pointToPosition=function(t){return this.renderer.pointToPosition(t)},e.prototype.positionToCoordinate=function(t){return this.renderer.positionToCoordinate(t)},e.prototype.getAnyRangePath=function(t,e){return this.renderer.getPositionRangePath(t,e)},e.prototype.anyToPosition=function(t){return 0},e.prototype.anyToPoint=function(t){return{x:0,y:0,angle:0}},e.prototype.getPositionRangePath=function(t,e){return this.renderer?this.renderer.getPositionRangePath(t,e):""},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)&&(t&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(t){this.setPropertyValue("toggleZoomOutButton",t)},enumerable:!0,configurable:!0}),e.prototype.hideTooltip=function(e){t.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(e||(t=this.toAxisPosition(t)),!we(t)||t<this.start||t>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var r=this.renderer;i.parent||(i.parent=this.tooltipContainer);var n=r.tooltipLocation,a=this.getCellStartPosition(t),o=this.getCellEndPosition(t);if("fixed"==this.tooltipPosition&&(t=Ae(a+(o-a)*n,4)),t=Oe(t,this.start,this.end),this._tooltipPosition!=t){this._tooltipPosition=t;var s=r.tooltipLocation2,l=r.positionToPoint(a,s),c=r.positionToPoint(o,s);this.currentItemStartPoint=l,this.currentItemEndPoint=c,r.fullWidthTooltip&&(i.width=c.x-l.x,i.height=c.y-l.y);var u=mn(r.positionToPoint(t,s),this.renderer.line);i.text=this.getTooltipText(t),i.text&&(i.delayedPointTo(u),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},e.prototype.toAxisPosition=function(t){if(null!=(t=this.renderer.toAxisPosition(t)))return t*=this.end-this.start,this.renderer.inversed?this.end-t:this.start+t},e.prototype.toGlobalPosition=function(t){return this.renderer.inversed?t=this.end-t:t-=this.start,t/(this.end-this.start)},e.prototype.getTooltipText=function(t){},e.prototype.updateTooltip=function(t,e){var i=this._tooltip;i&&(i.pointerOrientation=t,i.setBounds(yn(e,this.renderer.line)))},e.prototype.roundPosition=function(t,e,i){return t},e.prototype.getCellStartPosition=function(t){return t},e.prototype.getCellEndPosition=function(t){return t},Object.defineProperty(e.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var t=this.createDataItem();t.isRange=!0,t.axisFill=this.renderer.axisFills.template.clone(),t.grid=this.renderer.grid.template.clone(),t.tick=this.renderer.ticks.template.clone(),t.label=this.renderer.labels.template.clone(),t.isTemplate=!0,t.component=this,t.axisFill.disabled=!1,t.tick.disabled=!1,t.grid.disabled=!1,t.label.disabled=!1,this._axisRanges=new _r(t),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new gr(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),e.prototype.processAxisRange=function(t){var e=t.newValue;e.component=this,e.isRange=!0},Object.defineProperty(e.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Cr(this.createAxisBreak(),(function(t,e){return Pr(t.adjustedStartValue,e.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new gr(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),e.prototype.createAxisBreak=function(){return new el},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new vr),this._series},enumerable:!0,configurable:!0}),e.prototype.processSeriesDataItems=function(){},e.prototype.processSeriesDataItem=function(t,e){},e.prototype.postProcessSeriesDataItems=function(t){},e.prototype.postProcessSeriesDataItem=function(t){},e.prototype.updateAxisBySeries=function(){},e.prototype.hideUnusedDataItems=function(){var t=this,e=this._dataItemsIterator;e.createNewItems=!1,ir(e.iterator(),(function(e){t.validateDataElement(e),e.__disabled=!0})),e.clear(),e.createNewItems=!0},e.prototype.getSeriesDataItem=function(t,e,i){},e.prototype.getAngle=function(t,e,i,r,n){},e.prototype.getX=function(t,e,i,r,n){},e.prototype.getPositionX=function(t,e,i,r,n){},e.prototype.getY=function(t,e,i,r,n){},e.prototype.getPositionY=function(t,e,i,r,n){},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.dataChangeUpdate=function(){},e.prototype.seriesDataChangeUpdate=function(t){},e.prototype.adjustDifference=function(t,e){var i=e-t;if(we(i))return this._axisBreaks&&er(this._axisBreaks.iterator(),(function(r){var n,a,o,s,l,c,u,h,p=r.adjustedStartValue,d=r.adjustedEndValue;if(we(p)&&we(d)){if(p>e)return!1;if(d>=t&&we(p)&&we(d)){var f=r.breakSize,b=(a={start:t,end:e},o=ye((n={start:p,end:d}).start),s=ye(a.start),l=ye(n.end),c=ye(a.end),u=Math.max(o,s),(h=Math.min(l,c))<u?void 0:{start:u,end:h});b&&(i-=(b.end-b.start)*(1-f))}return!0}})),i},e.prototype.isInBreak=function(t){if(this._axisBreaks)return e=this._axisBreaks.iterator(),i=function(e){return t>=e.adjustedStartValue&&t<=e.adjustedEndValue},e((function(t){return!i(t)||(r=t,!1)})),r;var e,i,r},e.prototype.fixAxisBreaks=function(){var t=this;if(this._axisBreaks){var e=this._axisBreaks;if(e.length>0){oi(tr(e.iterator()),(function(e){var i=Re(e.startValue,e.endValue),r=Ee(e.startValue,e.endValue);e.adjustedStartValue=i,e.adjustedEndValue=r,t._axisBreaks.update(e)}));var i=e.first,r=Math.min(i.startValue,i.endValue);ir(e.iterator(),(function(t){var e=t.adjustedStartValue,i=t.adjustedEndValue;e<r&&(e=r,i<r&&(i=r)),t.adjustedStartValue=e,t.adjustedEndValue=i}))}}},Object.defineProperty(e.prototype,"startIndex",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.getPositionLabel=function(t){return Math.round(100*t)+"%x"},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.createSeriesRange=function(t){var e=this.axisRanges.create();return e.component=this,e.axisFill=this.renderer.axisFills.template.clone(),e.axisFill.disabled=!1,e.axisFill.fillOpacity=0,e.grid=this.renderer.grid.template.clone(),e.grid.disabled=!0,e.tick=this.renderer.ticks.template.clone(),e.tick.disabled=!0,e.label=this.renderer.labels.template.clone(),e.label.disabled=!0,e.addDisposer(new Ii((function(){t.axisRanges.removeValue(e)}))),t.axisRanges.push(e),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},e.prototype.resetIterators=function(){this._dataItemsIterator.reset()},e.prototype.processConfig=function(e){if(e&&ge(e.axisRanges)&&Ce(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var n=e.axisRanges[i];ge(n.series)&&xe(n.series)&&this.map.hasKey(n.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(n.series)),delete n.series,e.axisRanges[i].config=n)}t.prototype.processConfig.call(this,e)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this._title!=t&&this._title.dispose(),t&&(this._title=t,t.parent=this,t.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),e}(Io);fr.registeredClasses.Axis=nl,fr.registeredClasses.AxisDataItem=rl,So.push({relevant:To.maybeXS,state:function(t,e){if(t instanceof nl&&t.tooltip){var i=t.states.create(e);return i.properties.cursorTooltipEnabled=!1,i}return null}});var al=function(t){function e(){var e=t.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new ma;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Rr(),e.applyTheme(),e.interactionsEnabled=!1,e}return Object(h.d)(e,t),e}(mo);fr.registeredClasses.AxisLine=al;var ol=function(t){function e(e){var i=t.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new ma;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e.prototype.draw=function(){t.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&we(this.startPosition)&&we(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this.element.attr({d:t}),!0)},Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.AxisFill=ol;var sl=function(t){function e(){var e=t.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new ma;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Rr(),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(mo);fr.registeredClasses.Grid=sl,So.push({relevant:To.maybeXS,state:function(t,e){if(t instanceof sl){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var ll=function(t){function e(){var e=t.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(Ao);fr.registeredClasses.AxisLabel=ll;var cl=function(t){function e(){var e=t.call(this)||this;e.className="Tick";var i=new ma;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(t){this.setPropertyValue("length",t,!0)},enumerable:!0,configurable:!0}),e}(mo);fr.registeredClasses.Tick=cl;var ul=function(t){function e(){var e=t.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(cl);fr.registeredClasses.AxisTick=ul;var hl=function(t){function e(){var e=t.call(this)||this;e._chart=new Oi,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(yo);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=ue(100),i.height=ue(100),e.gridContainer=i,i.events.on("maxsizechanged",(function(){e.inited&&e.invalidateAxisItems()}),e,!1);var r=e.createChild(yo);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=ue(100),r.height=ue(100),e.breakContainer=r;var n=e.createChild(yo);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=ue(100),n.height=ue(100),e.bulletsContainer=n,e.line=e.createChild(al),e.line.shouldClone=!1,e.line.strokeOpacity=0;var a=e.createChild(sl);a.shouldClone=!1,e.baseGrid=a;var o=e._disposers;return o.push(a),o.push(e.line),o.push(i),o.push(r),o.push(n),o.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},e.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.positionItem=function(t,e){t&&t.moveTo(e)},e.prototype.positionToPoint=function(t,e){return{x:0,y:0}},e.prototype.positionToAngle=function(t){return 0},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return e.renderer.inversed?(e.end-t)*i:(t-e.start)*i},e.prototype.updateGridContainer=function(){},e.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},e.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},e.prototype.coordinateToPosition=function(t,e){var i=this.axis,r=i.axisFullLength;return Ie(i.renderer.inversed?i.end-t/r:t/r+i.start,5)},e.prototype.pointToPosition=function(t){return 0},e.prototype.getPositionRangePath=function(t,e){return""},e.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},e.prototype.updateGridElement=function(t,e,i){},e.prototype.updateTickElement=function(t,e,i){},e.prototype.updateBullet=function(t,e,i){},e.prototype.updateLabelElement=function(t,e,i,r){},e.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},e.prototype.updateAxisLine=function(){},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(e.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.toggleVisibility=function(t,e,i,r){var n=this.axis,a=t.dataItem;a&&a instanceof rl&&(we(a.minPosition)&&(i=a.minPosition),we(a.maxPosition)&&(r=a.maxPosition)),t.disabled||(t.__disabled=e<n.start+(n.end-n.start)*(i-1e-4)||e>n.start+(n.end-n.start)*(r+1e-4))},e.prototype.createBreakSprites=function(t){},Object.defineProperty(e.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new _r(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new gr(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),e.prototype.createFill=function(t){return new ol(t)},Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new _r(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new gr(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),e.prototype.createGrid=function(){return new sl},Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new _r(t),this._disposers.push(new gr(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),e.prototype.createTick=function(){return new ul},Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new _r(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new gr(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createLabel=function(){return new ll},Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},e.prototype.toAxisPosition=function(t){return t},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(yo);fr.registeredClasses.AxisRenderer=hl;var pl=function(t){function e(){var e=t.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(yo);fr.registeredClasses.AxisBullet=pl;var dl=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=ue(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="horizontal"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.y=t.pixelY,e.height=t.axisLength}},e.prototype.toAxisPosition=function(t){var e=this.axis;if(e){var i=1-t,r=e.relativePositionSprite,n=e.pixelY;if(r?n=gn({x:0,y:this.pixelY},this.parent,r).y:r=e.parent,r)return 1-(i-n/r.innerHeight)/(e.axisLength/r.innerHeight)}return t},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof ce||(e.height=ue(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},e.prototype.updateTooltip=function(){if(this.axis){var t=0,e=2e3;this.opposite?this.inside&&(t=-2e3,e=2e3):this.inside||(t=-2e3,e=2e3),this.axis.updateTooltip("horizontal",{x:t,y:0,width:e,height:this.axisLength})}},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:0,y:this.positionToCoordinate(t)}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},e.prototype.coordinateToPosition=function(t,e){var i=this.axis,r=i.axisFullLength;return Ie(i.renderer.inversed?1-i.start-t/r:t/r+(1-i.end),5)},e.prototype.getPositionRangePath=function(t,e){var i=Oe(this.positionToCoordinate(t),0,this.axisLength),r=Oe(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(r-i),a=this.getWidth();return qo({x:0,y:Math.min(i,r),width:a,height:n},!0)},e.prototype.updateGridElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);t.path=jo({x:0,y:0})+zo({x:this.getWidth(),y:0}),this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location),n=t.length;r.x=gn({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,n*=this.opposite?t.inside?-1:1:t.inside?1:-1,t.path=jo({x:0,y:0})+zo({x:n,y:0}),this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=jo({x:0,y:0})+zo({x:0,y:this.axisLength})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),r=e.basePoint.y,n=this.baseGrid;if(r<-.2||r>this.axisLength+.2)n.hide(0);else{var a=gn({x:0,y:0},this.gridContainer,n.parent).x;n.path=jo({x:0,y:0})+zo({x:i,y:0}),n.moveTo({x:a,y:r}),n.show(0)}},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location),e+=(i-e)*r,t.isMeasured=!t.inside;var n,a=this.positionToPoint(e),o=0,s=this.gridContainer.maxWidth;this.opposite?(t.inside?(n="right","left"==t.align&&(o=-s,n="left"),"center"==t.align&&(o=-s/2,n="middle")):n="left",a.x=0+o):(t.inside?(n="left","right"==t.align&&(o=s,n="right"),"center"==t.align&&(o=s/2,n="middle")):n="right",a.x=this.measuredWidth+o),0==t.rotation&&(t.horizontalCenter=n),this.positionItem(t,a),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,n=e.fillShape,a=e.startPoint,o=e.endPoint,s=e.pixelMarginLeft,l=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;a.y=Oe(a.y,-1,this.axisLength+1),o.y=Oe(o.y,-1,this.axisLength+1),e.fillShape.__disabled=a.y==o.y&&(a.y<0||a.y>this.axisLength);var c=Math.abs(l-s);i.x=s,i.height=0,i.width=c,r.x=s,r.height=0,r.width=c,n.width=c,n.height=Math.abs(o.y-a.y),n.x=s,n.y=o.y},e.prototype.createBreakSprites=function(t){t.startLine=new ms,t.endLine=new ms;var e=new gs;e.setWavedSides(!0,!1,!0,!1),t.fillShape=e},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return Ie(e.renderer.inversed?(t-e.start)*i:(e.end-t)*i,1)},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);n.x=gn({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e}(hl);fr.registeredClasses.AxisRendererY=dl,So.push({relevant:To.widthS,state:function(t,e){if(t instanceof dl){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),So.push({relevant:To.widthXS,state:function(t,e){if(t instanceof dl){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var fl=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),e}(el);fr.registeredClasses.ValueAxisBreak=fl;var bl=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),e}(rl),ml=function(t){function e(){var e=t.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(t.axisFill.__disabled=Ie(e/i.step/2,5)==Math.round(e/i.step/2))},e.prototype.createDataItem=function(){return new bl},e.prototype.createAxisBreak=function(){return new fl},e.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},e.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var r=function(t){var e={},i={};n.series.each((function(r){if(!r.excludeFromTotal){var n=r.dataItems.getIndex(t);n&&qi(n.values,(function(t){var r=n.values[t].workingValue;we(r)&&(we(e[t])?e[t]+=Math.abs(r):e[t]=Math.abs(r),we(i[t])?i[t]+=r:i[t]=r)}))}})),n.series.each((function(r){if(!r.excludeFromTotal){var n=r.dataItems.getIndex(t);n&&qi(n.values,(function(t){var r=n.values[t].workingValue;we(r)&&(n.setCalculatedValue(t,e[t],"total"),n.setCalculatedValue(t,100*r/e[t],"totalPercent"),n.setCalculatedValue(t,i[t],"sum"))}))}}))},n=this,a=e;a<i;++a)r(a)}}},e.prototype.validate=function(){this.axisLength<=0||(t.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},e.prototype.calculateZoom=function(){if(we(this.min)&&we(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),r=this.adjustMinMax(t,e,i,this._gridCount,!0),n=(s=(""+r.step).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(s[1]?s[1].length:0)-(s[2]?+s[2]:0)):0;this._stepDecimalPlaces=n,t=Ie(t,n),e=Ie(e,n);var a=(r=this.adjustMinMax(t,e,i,this._gridCount,!0)).step;if(this.syncWithAxis){var o=this.getCache(t+"-"+e);we(o)&&(a=o)}else t=r.min,e=r.max;this._minZoomed==t&&this._maxZoomed==e&&this._step==a||(this._minZoomed=t,this._maxZoomed=e,this._step=a,this.dispatchImmediately("selectionextremeschanged"))}var s},e.prototype.validateAxisElements=function(){var t=this;if(we(this.max)&&we(this.min)){var e=this.minZoomed-2*this._step;this.logarithmic?Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(e=Math.floor(this.minZoomed/this._step)*this._step)&&(e=this.minZoomed):e=Math.floor(e/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();var r=this._dataItemsIterator,n=0,a=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;e<=i;){if(!this.isInBreak(e)){var o=r.find((function(t){return t.value===e}));o.__disabled&&(o.__disabled=!1),this.appendDataItem(o),o.axisBreak=void 0,(o.value!=e||a)&&(o.value=e,o.text=this.formatLabel(e),o.label&&o.label.invalid&&o.label.validate(),o.value>=this.min&&o.value<=this.max&&o.label&&("Y"==this.axisLetter&&o.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&o.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=o.label.currentText,this.ghostLabel.validate())),this.validateDataElement(o)}n++,this.logarithmic&&Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+n):e+=this._step;var s=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(s<1){var l=Math.round(Math.abs(Math.log(Math.abs(s))*Math.LOG10E))+2;e=Ie(e,l)}}var c=this._axisBreaks;if(c){var u=this.renderer;ir(c.iterator(),(function(e){if(e.breakSize>0&&je(e.startPoint,e.endPoint)>u.minGridDistance)for(var i=e.adjustedMin;i<=e.adjustedMax;){if(i>=e.adjustedStartValue&&i<=e.adjustedEndValue){var n=r.find((function(t){return t.value===i}));n.__disabled&&(n.__disabled=!1),t.appendDataItem(n),n.axisBreak=e,n.value!=i&&(n.value=i,n.text=t.formatLabel(i),n.label&&n.label.invalid&&n.label.validate()),t.validateDataElement(n)}i+=e.adjustedStep}}))}}},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,r=e.value,n=e.endValue,a=this.valueToPosition(r);e.position=a;var o=a,s=this.valueToPosition(r+this._step);we(n)&&(s=o=this.valueToPosition(n)),e.point=i.positionToPoint(a);var l=e.tick;l&&!l.disabled&&i.updateTickElement(l,a,o);var c=e.grid;c&&!c.disabled&&i.updateGridElement(c,a,o);var u=e.label;u&&!u.disabled&&i.updateLabelElement(u,a,o);var h=e.axisFill;h&&!h.disabled&&(i.updateFillElement(h,a,s),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,a,o);var p=e.mask;p&&i.updateFillElement(p,a,s)},e.prototype.formatLabel=function(t){return this.adjustLabelPrecision&&0!=t?this.numberFormatter.format(t,void 0,this._stepDecimalPlaces):this.numberFormatter.format(t)},Object.defineProperty(e.prototype,"basePoint",{get:function(){var t=this.valueToPosition(this.baseValue);return this.renderer.positionToPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),e.prototype.anyToPosition=function(t){return this.valueToPosition(t)},e.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),r=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:r}},e.prototype.anyToPoint=function(t){return this.valueToPoint(t)},e.prototype.valueToPosition=function(t){if(we(t)){var e=this.min,i=this.max;if(we(e)&&we(i)){var r=this._difference,n=this._axisBreaks;return n&&n.length>0&&er(n.iterator(),(function(r){var n=r.adjustedStartValue,a=r.adjustedEndValue;if(we(n)&&we(a)){if(t<n)return!1;if(Le({start:n,end:a},{start:e,end:i})){n=Math.max(n,e),a=Math.min(a,i);var o=r.breakSize;t>a?e+=(a-n)*(1-o):t<n||(t=n+(t-n)*o)}}return!0})),this.logarithmic?(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E):(t-e)/r}}return 0},e.prototype.invalidateLabels=function(){t.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(t){t.value=void 0})),this.invalidate())},e.prototype.positionToValue=function(t){t=Ie(t,10);var e=this.min,i=this.max;if(we(e)&&we(i)){var r=i-e,n=null,a=this._axisBreaks;return a&&a.length>0&&er(a.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,c=a.adjustedEndValue;if(we(l)&&we(c)){if(l>i)return!1;if(Le({start:l,end:c},{start:e,end:i})){l=Ee(l,e),c=Re(c,i);var u=a.breakSize;if(r-=(c-l)*(1-u),t>s)e+=(c-l)*(1-u);else if(!(t<o))return n=l+(t-o)/(s-o)*(c-l),!1}return!0}})),we(n)||(n=this.logarithmic?Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):t*r+e),n}},e.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},e.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},e.prototype.pointToPosition=function(t){return this.renderer instanceof dl?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},e.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},e.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(we(this._minDefined)&&we(this._maxDefined)||(this.series.each((function(r){if(!r.ignoreMinMax){var n=r.min(t);we(n)&&n<e&&(e=n);var a=r.max(t);we(a)&&a>i&&(i=a)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var r=Re(t.value,t.endValue),n=Ee(t.value,t.endValue);(r<e||!we(e))&&(e=r),(n>i||!we(i))&&(i=n)}}))),this.logarithmic&&e<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0),0==e&&0==i&&(i=.9,e=-.9),we(this._minDefined)&&(e=this._minDefined),we(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),we(e)&&we(i)){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var r=this.adjustDifference(e,i);if(e=this.fixMin(e),(i=this.fixMax(i))-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var n=Math.log(Math.abs(i))*Math.LOG10E,a=Math.pow(10,Math.floor(n));this._deltaMinMax=a/=10}e-=this._deltaMinMax,i+=this._deltaMinMax}i+=(i-(e-=(i-e)*this.extraMin))*this.extraMax;var o=this.strictMinMax;we(this._maxDefined)&&(o=!0);var s=this.adjustMinMax(e,i,r,this._gridCount,o);if(r=(i=s.max)-(e=s.min),s=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=s.min,i=s.max,this.strictMinMax&&(e=we(this._minDefined)?this._minDefined:this._minReal,(i=we(this._maxDefined)?this._maxDefined:this._maxReal)-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),i+=(i-(e-=(i-e)*this.extraMin))*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=s.step,(this._minAdjusted!=e||this._maxAdjusted!=i)&&we(e)&&we(i)){var l=this._minMaxAnimation;if(this._extremesChanged&&we(this._minAdjusted)&&we(this._maxAdjusted)&&this.inited){if(l&&!l.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,(l=this.animateMinMax(e,i))&&!l.isFinished()?(l.events.on("animationprogress",this.validateDataItems,this),l.events.on("animationended",(function(){t.series.each((function(t){t.validate()})),t.validateDataItems(),t.handleSelectionExtremesChange()})),this._minMaxAnimation=l):this.series.each((function(t){t.validate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(l&&!l.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},e.prototype.fixMin=function(t){return t},e.prototype.fixMax=function(t){return t},e.prototype.adjustMinMax=function(t,e,i,r,n){r<=1&&(r=1),r=Math.round(r);var a=t,o=e;0===i&&(i=Math.abs(e));var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),c=l/=10;n&&(c=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E))):(n?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):(t=Math.ceil(t/l)*l-c,e=Math.floor(e/l)*l+c),t<0&&a>=0&&(t=0),e>0&&o<=0&&(e=0)),s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=10;var u=Math.ceil(i/r/l)*l,h=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),p=Math.ceil(u/h);p>5?p=10:p<=5&&p>2&&(p=5),u=Math.ceil(u/(h*p))*h*p,this.maxPrecision<Number.MAX_VALUE&&u!=Ae(u,this.maxPrecision)&&(u=Ae(u,this.maxPrecision));var d=0;if(h<1&&(u=Ie(u,d=Math.round(Math.abs(Math.log(Math.abs(h))*Math.LOG10E))+1)),!this.logarithmic){var f=Math.floor(t/u);t=Ie(u*f,d);var b=void 0;(b=n?Math.floor(e/u):Math.ceil(e/u))==f&&b++,(e=Ie(u*b,d))<o&&(e+=u),t>a&&(t-=u)}return{min:t,max:e,step:u}},Object.defineProperty(e.prototype,"min",{get:function(){var t=this._minAdjusted;return we(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this._maxAdjusted;return we(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(t){this.setPropertyValue("adjustLabelPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.registerSeries=function(e){return new Ai([t.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},e.prototype.handleSelectionExtremesChange=function(){var t,e,i=this,r=!0;if(ir(this.series.iterator(),(function(n){if(!n.ignoreMinMax&&!n.isHidden){n.visible&&!n.isHiding&&(r=!1);var a=n.selectionMin(i),o=n.selectionMax(i);we(a)&&(!we(t)||a<t)&&(t=a),we(o)&&(!we(e)||o>e)&&(e=o)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var i=Re(t.value,t.endValue),r=Ee(t.value,t.endValue);i<e&&(e=i),r>e&&(e=r)}})),we(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),we(this._maxDefined)?e=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(e=this._maxReal),t==e){var n=this.adjustMinMax(t-=this._deltaMinMax,e+=this._deltaMinMax,0,this._gridCount,this.strictMinMax);t=n.min,e=n.max}var a=this.adjustDifference(t,e),o=this.adjustMinMax(t,e,a,this._gridCount);t=o.min,e=o.max,e+=(e-(t-=(e-t)*this.extraMin))*this.extraMax,t=Oe(t,this.min,this.max),e=Oe(e,this.min,this.max),a=this.adjustDifference(t,e),o=this.adjustMinMax(t,e,a,this._gridCount,!0),t=o.min,e=o.max,this.strictMinMax&&(t=Ee(t,this._minDefined),e=Re(e,this._maxDefined));var s=o.step;this.syncWithAxis&&(o=this.syncAxes(t,e,s),t=o.min,e=o.max,this.invalidate()),s=o.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(t),c=this.valueToPosition(e);r&&!this.syncWithAxis&&(l=0,c=1);var u=0;this.syncWithAxis?(u=5,this.setCache(t+"-"+e,s)):(this._step=s,this._minZoomed=t,this._maxZoomed=e),this.keepSelection||this.zoom({start:l,end:c},!1,!1,u)},Object.defineProperty(e.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.handleExtremesChange=function(){var t=this;this._extremesChanged=!0,this.getMinMax(),this.ghostLabel&&this.dataItems.each((function(e){e.label&&e.label.pixelWidth>0&&(t.ghostLabel.text=e.label.currentText)}))},e.prototype.getX=function(t,e,i,r,n){return this.renderer.positionToPoint(this.getPositionX(t,e,i,r,n)).x},e.prototype.getPositionX=function(t,e,i,r,n){var a=t.getWorkingValue(e);ge(r)||(r="valueX");var o=t.getValue(r,"stack");we(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return n&&(s=Oe(s,n.start,n.end)),s},e.prototype.getY=function(t,e,i,r,n){return this.renderer.positionToPoint(this.getPositionY(t,e,i,r,n)).y},e.prototype.getPositionY=function(t,e,i,r,n){var a=t.getWorkingValue(e);ge(r)||(r="valueY");var o=t.getValue(r,"stack");we(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return n&&(s=Oe(s,n.start,n.end)),s},e.prototype.getAngle=function(t,e,i,r,n){var a=t.getWorkingValue(e),o=t.getValue(r,"stack");we(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=Oe(s,n.start,n.end)),this.positionToAngle(s)},e.prototype.getAnyRangePath=function(t,e,i){var r=this.valueToPosition(t),n=this.valueToPosition(e);return this.getPositionRangePath(r,n)},e.prototype.getTooltipText=function(t){var e=Ie(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},e.prototype.zoomToValues=function(t,e,i,r){this.zoom({start:(t-this.min)/(this.max-this.min),end:(e-this.min)/(this.max-this.min)},i,r)},Object.defineProperty(e.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:Ee(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:Re(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(t){var i=t.adjustedStartValue,r=t.adjustedEndValue,n=r-i,a=Math.ceil(n*t.breakSize)*e._gridCount/(e.max-e.min),o=e.adjustMinMax(i,r,n,a,!0);t.adjustedStep=o.step,t.adjustedMin=o.min,t.adjustedMax=o.max})),this._difference=this.adjustDifference(this.min,this.max)},e.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},e.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(e.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){e.clearCache(),e._disposers.push(fr.events.once("exitframe",(function(){e.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),e.prototype.syncAxes=function(t,e,i){var r=this.syncWithAxis;if(r){we(t)||(t=this.min),we(e)||(e=this.max),we(i)||(i=this._step);var n=Math.round((r.maxZoomed-r.minZoomed)/r.step),a=Math.round((e-t)/i);if(we(n)&&we(a))for(var o=!1,s=0,l=.01*(e-t),c=t,u=e,h=i;1!=o;)if(o=this.checkSync(c,u,h,n),++s>1e3&&(o=!0),o)t=c,e=u,i=h;else{s/3==Math.round(s/3)?(c=t-l*s,t>=0&&c<0&&(c=0)):(u=e+l*s)<=0&&u>0&&(u=0);var p=this.adjustMinMax(c,u,u-c,this._gridCount,!0);c=p.min,u=p.max,h=p.step}}return{min:t,max:e,step:i}},e.prototype.checkSync=function(t,e,i,r){for(var n=(e-t)/i,a=1;a<r;a++)if(Ie(n/a,1)==r||n*a==r)return!0;return!1},e.prototype.processConfig=function(e){e&&ge(e.syncWithAxis)&&xe(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),t.prototype.processConfig.call(this,e)},e}(nl);fr.registeredClasses.ValueAxis=ml,fr.registeredClasses.ValueAxisDataItem=bl;var gl=function(t){function e(){var e=t.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(t){this.setPropertyValue("startDate",t)&&(this.startValue=t.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(t){this.setPropertyValue("endDate",t)&&(this.endValue=t.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),e}(fl);fr.registeredClasses.DateAxisBreak=gl;var yl=function(t){function e(){var e=t.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"date",{get:function(){return this.dates.date},set:function(t){this.setDate("date",t),this.value=t.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(t){this.setDate("endDate",t),this.endValue=t.getTime()},enumerable:!0,configurable:!0}),e}(bl),vl=function(t){function e(){var e=t.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new vr,e.groupIntervals=new vr,e.dateFormats=new hr,e.periodChangeDateFormats=new hr,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component,r=i._gridInterval,n=Pa(r.timeUnit,r.count);t.axisFill.__disabled=Math.round((e-i.min)/n)/2==Math.round(Math.round((e-i.min)/n)/2)},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},e.prototype.createDataItem=function(){return new yl},e.prototype.createAxisBreak=function(){return new gl},e.prototype.validateDataItems=function(){var e=this.start,i=this.end,r=this.baseDuration,n=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),t.prototype.validateDataItems.call(this);var a=Pa(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=(this.max-this.min)/a,this._deltaMinMax=this.baseDuration/2,this.zoom({start:e+=(i-e)*(1-n/((this.max-this.min)/r)),end:i},!1,!0)},e.prototype.handleSelectionExtremesChange=function(){},e.prototype.calculateZoom=function(){var e=this;t.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&ge(i)){var n=this.mainBaseInterval,a=this.chooseInterval(0,i+this.startLocation+(1-this.endLocation)*this.baseDuration,this.groupCount,this.groupIntervals);Pa(a.timeUnit,a.count)<Pa(n.timeUnit,n.count)&&(a=Object(h.a)({},n)),this._groupInterval=a,this._currentDataSetId=a.timeUnit+a.count,this.series.each((function(t){t.baseAxis==e&&t.setDataSet(e._currentDataSetId)&&(r=!0)}))}var o=this.chooseInterval(0,i,this._gridCount);Pa(o.timeUnit,o.count)<this.baseDuration&&(o=Object(h.a)({},this.baseInterval)),this._gridInterval=o,this._nextGridUnit=Ca(o.timeUnit),this._intervalDuration=Pa(o.timeUnit,o.count),this._gridDate=Ia(new Date(this.minZoomed-Pa(o.timeUnit,o.count)),o.timeUnit,o.count,this._firstWeekDay,this._df.utc,new Date(this.min)),ir(this.series.iterator(),(function(t){if(t.baseAxis==e){var i=t.getAxisField(e),n=Ia(new Date(e._minZoomed),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc).getTime(),a=n.toString(),o=t.dataItemsByAxis.getKey(e.uid).getKey(a+t.currentDataSetId),s=0;0!=e.start&&(s=o?(o=e.findFirst(o,n,i)).index:t.dataItems.findClosestIndex(e._minZoomed,(function(t){return t[i]}),"left"));var l=e.baseInterval,c=ka(Ia(new Date(e._maxZoomed),l.timeUnit,l.count,e._firstWeekDay,e._df.utc),l.timeUnit,l.count,e._df.utc).getTime(),u=c.toString(),h=t.dataItemsByAxis.getKey(e.uid).getKey(u+t.currentDataSetId),p=t.dataItems.length;1!=e.end&&(h?p=h.index:(p=t.dataItems.findClosestIndex(c-=1,(function(t){return t[i]}),"right"))<t.dataItems.length&&p++),t.startIndex=s,t.endIndex=p,!r&&t.dataRangeInvalid&&t.validateDataRange()}}))},e.prototype.findFirst=function(t,e,i){var r=t.index;if(r>0){var n=t.component.dataItems.getIndex(r-1),a=n[i];return!a||a.getTime()<e?t:this.findFirst(n,e,i)}return t},e.prototype.validateData=function(){t.prototype.validateData.call(this),we(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(e.prototype,"minDifference",{get:function(){var t=this,e=Number.MAX_VALUE;return this.series.each((function(i){e>t._minDifference[i.uid]&&(e=t._minDifference[i.uid])})),e!=Number.MAX_VALUE&&0!=e||(e=Pa("day")),e},enumerable:!0,configurable:!0}),e.prototype.seriesDataChangeUpdate=function(t){this._minDifference[t.uid]=Number.MAX_VALUE},e.prototype.postProcessSeriesDataItems=function(t){var e=this;t?this.seriesGroupUpdate(t):this.series.each((function(t){e.seriesGroupUpdate(t)})),this.addEmptyUnitsBreaks()},e.prototype.seriesGroupUpdate=function(t){var e=this;JSON.stringify(t._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(t._baseInterval[this.uid]=this.mainBaseInterval,t.mainDataSet.each((function(t){e.postProcessSeriesDataItem(t)})),this.groupData&&this.groupSeriesData(t))},e.prototype.groupSeriesData=function(t){var e=this;if(t.baseAxis==this&&t.dataItems.length>0&&!t.dataGrouped){var i=[],r=this.mainBaseInterval,n=Pa(r.timeUnit,r.count);this.groupIntervals.each((function(t){var r=Pa(t.timeUnit,t.count);r>n&&r<e.max-e.min&&i.push(t)})),t._dataSets&&(t._dataSets.each((function(t,e){e.each((function(t){t.dispose()})),e.clear()})),t._dataSets.clear()),oi(i,(function(i){var r="date"+e.axisLetter,n=i.timeUnit+i.count,a=new Vr(t.mainDataSet.template.clone());t.dataSets.setKey(n,a),t.dataGrouped=!0;var o,s=t.mainDataSet,l=Number.NEGATIVE_INFINITY,c=0,u=[];qi(t.dataFields,(function(t,e){var i=t;i!=r&&-1==i.indexOf("Show")&&u.push(i)})),s.each((function(n){var s=n.getDate(r);if(s){var h=s.getTime(),p=Ia(new Date(h),i.timeUnit,i.count,e._df.firstDayOfWeek,e._df.utc),d=p.getTime();l<d?((o=a.create()).dataContext={},o.setWorkingLocation("dateX",t.dataItems.template.locations.dateX,0),o.setWorkingLocation("openDateX",t.dataItems.template.locations.openDateX,0),o.setWorkingLocation("dateY",t.dataItems.template.locations.dateY,0),o.setWorkingLocation("openDateY",t.dataItems.template.locations.openDateY,0),o.component=t,o.setDate(r,p),o._index=c,c++,oi(u,(function(t){var e=n.values[t];if(e){var i=e.value,r=o.values[t];we(i)?(r.value=i,r.workingValue=i,r.open=i,r.close=i,r.low=i,r.high=i,r.sum=i,r.average=i,r.count=1):r.count=0}})),e.postProcessSeriesDataItem(o,i),qi(t.propertyFields,(function(t,e){var i=t,r=n.properties[t];ge(r)&&(o.hasProperties=!0,o.setProperty(i,r))})),o.groupDataItems=[n],l=d):o&&(oi(u,(function(e){var i=t.groupFields[e],r=n.values[e];if(r){var a=r.value;if(we(a)){var s=o.values[e];we(s.open)||(s.open=a),s.close=a,(s.low>a||!we(s.low))&&(s.low=a),(s.high<a||!we(s.high))&&(s.high=a),we(s.sum)?s.sum+=a:s.sum=a,s.count++,s.average=s.sum/s.count,we(s[i])&&(s.value=s[i],s.workingValue=s.value)}}})),zr(n.properties,o.properties),qi(t.propertyFields,(function(t,e){var i=t,r=n.properties[t];ge(r)&&(o.hasProperties=!0,o.setProperty(i,r))})),o.groupDataItems.push(n))}o&&zr(n.dataContext,o.dataContext)}))})),this.calculateZoom()}},e.prototype.getDFFormatter=function(){this._df=this.dateFormatter},e.prototype.postProcessSeriesDataItem=function(t,e){var i=this,r="";e?r=e.timeUnit+e.count:e=this.mainBaseInterval;var n=t.component.dataItemsByAxis.getKey(this.uid);qi(t.dates,(function(a){var o=t.getDate(a).getTime(),s=Ia(new Date(o),e.timeUnit,e.count,i._firstWeekDay,i._df.utc).getTime(),l=ka(new Date(s),e.timeUnit,e.count,i._df.utc);t.setCalculatedValue(a,s,"open"),t.setCalculatedValue(a,l.getTime(),"close"),n.setKey(s+r,t)}))},e.prototype.addEmptyUnitsBreaks=function(){var t=this;if(this.skipEmptyPeriods&&we(this.min)&&we(this.max)){var e=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var r=Ia(new Date(this.min),e,i,this._firstWeekDay,this._df.utc),n=void 0,a=function(){ka(r,e,i,o._df.utc);var a=r.getTime(),s=a.toString();or(o.series.iterator(),(function(e){return!!e.dataItemsByAxis.getKey(t.uid).getKey(s+e.currentDataSetId)}))?n&&(n.endDate=new Date(a-1),n=void 0):n||((n=o.axisBreaks.create()).startDate=new Date(a),o._gapBreaks=!0)},o=this;r.getTime()<this.max-this.baseDuration;)a()}},e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(t){var i=Math.ceil(e._gridCount*(Math.min(e.end,t.endPosition)-Math.max(e.start,t.startPosition))/(e.end-e.start));t.gridInterval=e.chooseInterval(0,t.adjustedEndValue-t.adjustedStartValue,i);var r=Ia(new Date(t.adjustedStartValue),t.gridInterval.timeUnit,t.gridInterval.count,e._firstWeekDay,e._df.utc);r.getTime()>t.startDate.getTime()&&ka(r,t.gridInterval.timeUnit,t.gridInterval.count,e._df.utc),t.gridDate=r}))},e.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},e.prototype.getGridDate=function(t,e){var i=this._gridInterval.timeUnit,r=this._gridInterval.count;Ia(t,i,1,this._firstWeekDay,this._df.utc);var n=t.getTime(),a=Sa(t),o=ka(a,i,e,this._df.utc).getTime(),s=this.isInBreak(o);s&&s.endDate&&(Ia(a=new Date(s.endDate.getTime()),i,r,this._firstWeekDay,this._df.utc),a.getTime()<s.endDate.getTime()&&ka(a,i,r,this._df.utc),o=a.getTime());var l=this.adjustDifference(n,o);return Math.round(l/Pa(i))<r?this.getGridDate(t,e+r):a},e.prototype.getBreaklessDate=function(t,e,i){var r=new Date(t.endValue);Ia(r,e,i,this._firstWeekDay,this._df.utc),ka(r,e,i,this._df.utc);var n=r.getTime();return(t=this.isInBreak(n))?this.getBreaklessDate(t,e,i):r},e.prototype.validateAxisElements=function(){var t=this;if(we(this.max)&&we(this.min)){this.calculateZoom();var e=this._gridDate.getTime(),i=this._gridInterval.timeUnit,r=this._gridInterval.count,n=Sa(this._gridDate),a=this._dataItemsIterator;this.resetIterators();for(var o=function(){var t=s.getGridDate(Sa(n),r);e=t.getTime();var o=Sa(t);o=ka(o,i,r,s._df.utc);var l=s.dateFormats.getKey(i);s.markUnitChange&&n&&Ta(t,n,s._nextGridUnit,s._df.utc)&&"year"!==i&&(l=s.periodChangeDateFormats.getKey(i));var c=s._df.format(t,l),u=a.find((function(t){return t.text===c}));u.__disabled&&(u.__disabled=!1),s.appendDataItem(u),u.axisBreak=void 0,u.date=t,u.endDate=o,u.text=c,s.validateDataElement(u),n=t},s=this;e<=this._maxZoomed;)o();var l=this.renderer;this._axisBreaks&&ir(this._axisBreaks.iterator(),(function(e){if(e.breakSize>0){var i=e.gridInterval.timeUnit,r=e.gridInterval.count;if(je(e.startPoint,e.endPoint)>4*l.minGridDistance)for(var n,o=e.gridDate.getTime(),s=0,c=function(){var l=Sa(e.gridDate);if(o=ka(l,i,r*s,t._df.utc).getTime(),s++,o>e.adjustedStartValue&&o<e.adjustedEndValue){var c=Sa(l);c=ka(c,i,r,t._df.utc);var u=t.dateFormats.getKey(i);t.markUnitChange&&n&&Ta(l,n,t._nextGridUnit,t._df.utc)&&"year"!==i&&(u=t.periodChangeDateFormats.getKey(i));var h=t._df.format(l,u),p=a.find((function(t){return t.text===h}));p.__disabled&&(p.__disabled=!1),t.appendDataItem(p),p.axisBreak=e,e.dataItems.moveValue(p),p.date=l,p.endDate=c,p.text=h,n=l,t.validateDataElement(p)}};o<=e.adjustedMax;)c()}}))}},e.prototype.validateDataElement=function(t){if(t.itemIndex=this._axisItemCount,this._axisItemCount++,we(this.max)&&we(this.min)){var e=this.renderer,i=t.value,r=t.endValue;we(r)||(r=i);var n=this.valueToPosition(i),a=this.valueToPosition(r),o=a;!t.isRange&&this._gridInterval.count>this.baseInterval.count&&(a=n+(a-n)/(this._gridInterval.count/this.baseInterval.count)),t.position=n;var s=t.tick;s&&!s.disabled&&e.updateTickElement(s,n,a);var l=t.grid;l&&!l.disabled&&e.updateGridElement(l,n,a);var c=t.axisFill;c&&!c.disabled&&(e.updateFillElement(c,n,o),t.isRange||this.fillRule(t));var u=t.mask;u&&e.updateFillElement(u,n,a),t.bullet&&e.updateBullet(t.bullet,n,a);var h=t.label;if(h&&!h.disabled){var p=h.location;0==p&&(p=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||t.isRange?0:.5),e.updateLabelElement(h,n,a,p)}}},Object.defineProperty(e.prototype,"baseDuration",{get:function(){return Pa(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),e.prototype.adjustMinMax=function(t,e){return{min:t,max:e,step:this.baseDuration}},e.prototype.fixMin=function(t){var e=this.baseInterval,i=Ia(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc).getTime();return i+(ka(new Date(i),e.timeUnit,e.count,this._df.utc).getTime()-i)*this.startLocation},e.prototype.fixMax=function(t){var e=this.baseInterval,i=Ia(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc).getTime();return i+(ka(new Date(i),e.timeUnit,e.count,this._df.utc).getTime()-i)*this.endLocation},e.prototype.chooseInterval=function(t,e,i,r){r||(r=this.gridIntervals);var n=r.getIndex(t),a=Pa(n.timeUnit,n.count),o=r.length-1;if(t>=o)return Object(h.a)({},r.getIndex(o));var s=Math.ceil(e/a);return e<a&&t>0?Object(h.a)({},r.getIndex(t-1)):s<=i?Object(h.a)({},r.getIndex(t)):t+1<r.length?this.chooseInterval(t+1,e,i,r):Object(h.a)({},r.getIndex(t))},e.prototype.formatLabel=function(t){return this._df.format(t)},e.prototype.dateToPosition=function(t){return this.valueToPosition(t.getTime())},e.prototype.anyToPosition=function(t){return t instanceof Date?this.dateToPosition(t):this.valueToPosition(t)},e.prototype.dateToPoint=function(t){var e=this.dateToPosition(t),i=this.renderer.positionToPoint(e),r=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:r}},e.prototype.anyToPoint=function(t){return t instanceof Date?this.dateToPoint(t):this.valueToPoint(t)},e.prototype.positionToDate=function(t){return new Date(this.positionToValue(t))},e.prototype.getPositionX=function(t,e,i,r,n){var a=this.getTimeByLocation(t,e,i);we(a)||(a=this.baseValue);var o=this.valueToPosition(a);return n&&(o=Oe(o,n.start,n.end)),o},e.prototype.getPositionY=function(t,e,i,r,n){var a=this.getTimeByLocation(t,e,i),o=t.getValue("valueX","stack");we(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=Oe(s,n.start,n.end)),s},e.prototype.getAngle=function(t,e,i,r,n){var a=this.getTimeByLocation(t,e,i),o=t.getValue(r,"stack");we(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=Oe(s,n.start,n.end)),this.positionToAngle(s)},e.prototype.getTimeByLocation=function(t,e,i){if(ge(e)){we(i)||we(i=t.workingLocations[e])||(i=0);var r=t.values[e].open,n=t.values[e].close,a=t.values[e].value-t.values[e].workingValue;return n-=a,we(r-=a)&&we(n)?r+(n-r)*i:void 0}},e.prototype.processSeriesDataItem=function(t,e){var i,r=t.component,n=t["date"+e];if(we(this.timezoneOffset)&&(n.setTime(n.getTime()+6e4*(n.getTimezoneOffset()-this.timezoneOffset)),t.setValue("date"+e,n.getTime(),0)),n){i=n.getTime();var a,o=t["openDate"+e],s=this._prevSeriesTime[r.uid];if(o&&(a=o.getTime()),we(a)){var l=Math.abs(i-a);this._minDifference[r.uid]>l&&(this._minDifference[r.uid]=l)}var c=i-s;c>0&&this._minDifference[r.uid]>c&&(this._minDifference[r.uid]=c),this._prevSeriesTime[r.uid]=i,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(t)}},e.prototype.updateAxisBySeries=function(){t.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Pa("day",27)&&"week"==e.timeUnit&&(e.timeUnit="month",e.count=1),"month"==e.timeUnit&&(this.minDifference>=Pa("day",58)&&1==e.count&&(e.count=2),this.minDifference>=Pa("day",87)&&2==e.count&&(e.count=3),this.minDifference>=Pa("day",174)&&5==e.count&&(e.count=6)),this.minDifference>=Pa("hour",23)&&"hour"==e.timeUnit&&(e.timeUnit="day",e.count=1),this.minDifference>=Pa("week",1)-Pa("hour",1)&&"day"==e.timeUnit&&(e.timeUnit="week",e.count=1),this.minDifference>=Pa("year",1)-Pa("day",1.01)&&"month"==e.timeUnit&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(e.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(t){JSON.stringify(this._baseInterval)!=JSON.stringify(t)&&(this._baseInterval=t,this._mainBaseInterval=t,we(t.count)||(t.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(t){if(t){var e=this.axisBreaks.template;e.startLine.disabled=!0,e.endLine.disabled=!0,e.fillShape.disabled=!0,e.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",t)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(t){this.setPropertyValue("tooltipDateFormat",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(t){this.setPropertyValue("markUnitChange",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e.prototype.getTooltipText=function(t){var e,i=this.positionToDate(t);if(i=Ia(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min)),this.tooltipDate=i,ge(this.tooltipDateFormat))e=this._df.format(i,this.tooltipDateFormat);else{var r=this.dateFormats.getKey(this.baseInterval.timeUnit);e=r?this._df.format(i,r):this.getPositionLabel(t)}return this._adapterO?this._adapterO.apply("getTooltipText",e):e},e.prototype.roundPosition=function(t,e,i){var r=this.baseInterval,n=r.timeUnit,a=r.count,o=this.positionToDate(t);if(Ia(o,n,a,this._firstWeekDay,this._df.utc),e>0&&ka(o,n,e*a,this._df.utc),i>0&&i<1&&o.setTime(o.getTime()+this.baseDuration*i),this.isInBreak(o.getTime()))for(;o.getTime()<this.max&&(ka(o,n,a,this._df.utc),this.isInBreak(o.getTime())););return this.dateToPosition(o)},e.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},e.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},e.prototype.getSeriesDataItem=function(t,e,i){var r,n=this.positionToValue(e),a=Ia(new Date(n),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),o=t.dataItemsByAxis.getKey(this.uid).getKey(a.getTime().toString());return!o&&i&&(r="Y"==this.axisLetter?"dateY":"dateX",o=t.dataItems.getIndex(t.dataItems.findClosestIndex(a.getTime(),(function(t){return t[r]?t[r].getTime():-1/0}),"any"))),o},e.prototype.getPositionLabel=function(t){var e=this.positionToDate(t);return this._df.format(e,this.getCurrentLabelFormat())},e.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},e.prototype.initRenderer=function(){t.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.animateMinMax=function(t,e){var i=this,r=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing);return r.events.on("animationprogress",(function(){i.dispatch("extremeschanged")})),r},e.prototype.handleExtremesChange=function(){if(t.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},e.prototype.zoomToDates=function(t,e,i,r,n){t=this._df.parse(t),e=this._df.parse(e),this.zoomToValues(t.getTime(),e.getTime(),i,r,n)},e.prototype.zoomToValues=function(t,e,i,r,n){var a=this;if(this.groupData){var o=this.adjustDifference(t,e),s=!1;e==this.max&&(s=!0);var l=!1;if(t==this.min&&(l=!0),ge(o)){var c=this.mainBaseInterval,u=this.chooseInterval(0,o,this.groupCount,this.groupIntervals);(u.timeUnit==c.timeUnit&&u.count<c.count||Pa(u.timeUnit,1)<Pa(c.timeUnit,1))&&(u=Object(h.a)({},c));var p=u.timeUnit+u.count,d=this.groupMin[p],f=this.groupMax[p];we(d)&&we(f)||(d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,this.series.each((function(t){var e=t.min(a),i=t.max(a);if(t._dataSets){var r=t._dataSets.getKey(u.timeUnit+u.count);if(r){var n=r.getIndex(0),o=r.getIndex(r.length-1);n&&(t.xAxis==a?e=n.dateX.getTime():t.yAxis==a&&(e=n.dateY.getTime())),o&&(t.xAxis==a?i=o.dateX.getTime():t.yAxis==a&&(i=o.dateY.getTime()))}}i=Ia(ka(new Date(i),u.timeUnit,1,a._df.utc),u.timeUnit,1,a._df.firstDayOfWeek,a._df.utc).getTime(),e<d&&(d=e),i>f&&(f=i)})),this.groupMin[p]=d,this.groupMax[p]=f),t=Oe(t,d,f),e=Oe(e,d,f),n&&(s&&(t=Oe(t=e-o,d,f)),l&&(e=Oe(e=t+o,d,f))),this.zoom({start:(t-d)/(f-d),end:(e-d)/(f-d)},i,r)}}else this.zoom({start:(t-this.min)/(this.max-this.min),end:(e-this.min)/(this.max-this.min)},i,r)},e.prototype.asIs=function(e){return"baseInterval"==e||t.prototype.asIs.call(this,e)},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each((function(t){i.groupIntervals.push(Object(h.a)({},t))})),this.gridIntervals.clear(),e.gridIntervals.each((function(t){i.gridIntervals.push(Object(h.a)({},t))})),e._baseInterval&&(this.baseInterval=e._baseInterval)},e.prototype.showTooltipAtPosition=function(e,i){var r=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var n,a=this.positionToDate(e).getTime();if(this.series.each((function(t){if(t.baseAxis==r){var i=r.getSeriesDataItem(t,e,!0);if(i){var o=void 0;t.xAxis==r&&(o=i.dateX),t.yAxis==r&&(o=i.dateY),n?Math.abs(n.getTime()-a)>Math.abs(o.getTime()-a)&&(n=o):n=o}}})),n){var o=n.getTime();n=Ia(new Date(o),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),o=n.getTime();var s=this.renderer.tooltipLocation;0==s&&(s=1e-4),n=new Date(n.getTime()+this.baseDuration*s),e=this.dateToPosition(n),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each((function(t){var e=t.dataItemsByAxis.getKey(r.uid).getKey(o+t.currentDataSetId),i=t.showTooltipAtDataItem(e);i?r.chart._seriesPoints.push({series:t,point:i}):(t.tooltipText||t.tooltipHTML)&&t.hideTooltip()}))}}t.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(e.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(t){var e=this;this.setPropertyValue("groupData",t)&&(this.series.each((function(i){i.setDataSet(""),t&&!i.dataGrouped&&i.inited&&(i._baseInterval[e.uid]=e.mainBaseInterval,e.groupSeriesData(i))})),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(t){this.setPropertyValue("groupCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(t){this.setPropertyValue("timezoneOffset",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),e.prototype.makeGap=function(t,e){var i=t.component;if(t&&e&&!i.connect&&we(i.autoGapCount)&&i.baseAxis==this){var r=t.dates["date"+this.axisLetter],n=e.dates["date"+this.axisLetter];if(r&&n&&r.getTime()-n.getTime()>i.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(e.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),e}(ml);fr.registeredClasses.DateAxis=vl,fr.registeredClasses.DateAxisDataItem=yl;var _l=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=ue(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="vertical"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.x=t.pixelX,e.width=t.axisLength}},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof ce||(e.width=ue(100));var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},e.prototype.updateTooltip=function(){if(this.axis){var t=this.line.pixelY,e=1e3;this.opposite?this.inside||(t=-1e3,e=1e3):this.inside&&(t=-1e3,e=1e3),this.axis.updateTooltip("vertical",{x:this.line.pixelX,y:t,width:this.axisLength,height:e})}},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);t.isMeasured=!t.inside;var a,o=0,s=this.gridContainer.maxHeight;this.opposite?(t.inside?(a="top","bottom"==t.valign&&(o=s,a="bottom"),"middle"==t.valign&&(o=s/2,a="middle")):a="bottom",n.y=o):(t.inside?(a="bottom","top"==t.valign&&(o=-s,a="top"),"middle"==t.valign&&(o=-s/2,a="middle")):a="top",n.y+=o),0==t.rotation&&(t.verticalCenter=a),this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:this.positionToCoordinate(t),y:0}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},e.prototype.getPositionRangePath=function(t,e){var i=Oe(this.positionToCoordinate(t),0,this.axisLength),r=Oe(this.positionToCoordinate(e),0,this.axisLength),n=Math.abs(r-i),a=this.getHeight();return qo({x:Math.min(i,r),y:0,width:n,height:a},!0)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,n=e.fillShape,a=e.startPoint,o=e.endPoint,s=e.pixelMarginLeft,l=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;a.x=Oe(a.x,-1,this.axisLength+1),o.x=Oe(o.x,-1,this.axisLength+1),e.fillShape.__disabled=a.x==o.x&&(a.x<0||a.x>this.axisLength),i.y=s,i.width=0,i.height=l,r.y=s,r.width=0,r.height=l,n.height=l,n.width=Math.abs(o.x-a.x),n.y=s,n.x=a.x},e.prototype.updateGridElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);t.path=jo({x:0,y:0})+zo({x:0,y:this.getHeight()}),this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location),n=t.length;r.y=gn({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,n*=this.opposite?t.inside?1:-1:t.inside?-1:1,t.path=jo({x:0,y:0})+zo({x:0,y:n}),this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=jo({x:0,y:0})+zo({x:this.axisLength,y:0})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),r=this.baseGrid,n=e.basePoint.x;if(n<-.2||n>this.axisLength+.2)r.hide(0);else{var a=gn({x:0,y:0},this.gridContainer,r.parent).y;r.path=jo({x:0,y:0})+zo({x:0,y:i}),r.moveTo({x:n,y:a}),r.show(0)}},e.prototype.createBreakSprites=function(t){t.startLine=new ms,t.endLine=new ms;var e=new gs;e.setWavedSides(!1,!0,!1,!0),t.fillShape=e},e.prototype.toAxisPosition=function(t){var e=t,i=this.axis;if(i){var r=i.relativePositionSprite,n=i.pixelX;if(r?n=gn({x:this.pixelX,y:0},this.parent,r).x:r=i.parent,r)return(e-n/r.innerWidth)/(i.axisLength/r.innerWidth)}return t},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);n.y=gn({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e}(hl);fr.registeredClasses.AxisRendererX=_l,So.push({relevant:To.heightXS,state:function(t,e){if(t instanceof _l){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),So.push({relevant:To.heightXXS,state:function(t,e){if(t instanceof _l){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var xl=function(t){function e(){var e=t.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(t){this.setPropertyValue("startCategory",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(t){this.setPropertyValue("endCategory",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startValue",{get:function(){var t=this.getPropertyValue("startCategory");return t?this.axis.categoryToIndex(t):this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){var t=this.getPropertyValue("endCategory");return t?this.axis.categoryToIndex(t):this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e}(el);fr.registeredClasses.CategoryAxisBreak=xl;var wl=function(t){function e(){var e=t.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(t){var e=this.properties.category;this.setProperty("category",t),ge(e)&&e!=t&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(t){this.setProperty("endCategory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(t){t!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",t),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),e}(rl),Vl=function(t){function e(){var e=t.call(this)||this;return e.dataItemsByCategory=new hr,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new wl},e.prototype.createAxisBreak=function(){return new xl},e.prototype.processSeriesDataItem=function(e,i){t.prototype.processSeriesDataItem.call(this,e,i);var r=e["category"+this.axisLetter];if(ge(r)){var n=this.dataItemsByCategory.getKey(r);if(n){var a=e.component.uid,o=n.seriesDataItems[a];o||(n.seriesDataItems[a]=o=[]),o.push(e)}}else e.component.dataItems.remove(e)},e.prototype.validateDataRange=function(){var i=this;t.prototype.validateDataRange.call(this),ir(this._series.iterator(),(function(t){if(t.xAxis instanceof e&&t.yAxis instanceof e)t.invalidateDataRange();else{var r=i.positionToIndex(i.start),n=i.positionToIndex(i.end);n>=i.dataItems.length&&n--;for(var a=t.uid,o=void 0,s=void 0,l=r;l<=n;l++){var c=i.dataItems.getIndex(l);if(c){var u=c.seriesDataItems[a];if(u)for(var h=0;h<u.length;h++){var p=u[h];if(p){var d=p.index;(!we(o)||d<o)&&(o=d),(!we(s)||d>s)&&(s=d)}}}}we(o)?t.startIndex=o:t.start=i.start,we(s)?t.endIndex=s+1:t.end=i.end,i._axisBreaks&&i._axisBreaks.length>0&&t.invalidateDataRange()}}))},e.prototype.validate=function(){var e=this;t.prototype.validate.call(this);var i=this.dataItems.length,r=Oe(Math.floor(this.start*i-1),0,i),n=Oe(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var a=Math.min(this.dataItems.length,Math.ceil((n-r)/(this.renderer.axisLength/this.renderer.minGridDistance)));if(this._startIndex=Math.floor(r/a)*a,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=a,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=Ee(0,this._startIndex-this._frequency),n=Re(this.dataItems.length,this._endIndex+this._frequency);for(var o=0,s=0;s<r;s++)(c=this.dataItems.getIndex(s)).__disabled=!0;s=n;for(var l=this.dataItems.length;s<l;s++)(c=this.dataItems.getIndex(s)).__disabled=!0;for(s=r;s<n;s++)if(s<this.dataItems.length){var c=this.dataItems.getIndex(s);s/this._frequency==Math.round(s/this._frequency)?(this.isInBreak(s)||(this.appendDataItem(c),this.validateDataElement(c,o)),o++):c.__disabled=!0}this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,o+1,this.dataItems.length),this._axisBreaks&&this._axisBreaks.each((function(t){var i=t.adjustedStartValue,r=t.adjustedEndValue;if(Le({start:i,end:r},{start:e._startIndex,end:e._endIndex})){for(var n=i;n<=r;n++)(s=e.dataItems.getIndex(n)).__disabled=!0;var a=Oe(Math.ceil(e._frequency/t.breakSize),1,r-i),o=0;if(t.breakSize>0)for(n=i;n<=r;n+=a){var s;(s=e.dataItems.getIndex(n)).__disabled=!1,e.appendDataItem(s),e.validateDataElement(s,o),o++}}})),this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},e.prototype.validateDataElement=function(e,i,r){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var n=this.renderer;we(r)||(r=this.categoryToIndex(e.category));var a=this.categoryToIndex(e.endCategory);we(a)||(a=r);var o,s,l,c=this.indexToPosition(r,e.locations.category),u=this.indexToPosition(a,e.locations.endCategory);e.position=c,e.isRange&&(o=a,s=this.indexToPosition(r,e.locations.category),l=this.indexToPosition(o,e.locations.endCategory)),e.point=n.positionToPoint(c);var h=e.tick;h&&!h.disabled&&n.updateTickElement(h,c,u);var p=e.grid;p&&!p.disabled&&n.updateGridElement(p,c,u);var d=e.label;d&&!d.disabled&&(e.isRange&&null!=d.text||(e.text=e.text),n.updateLabelElement(d,c,u),(n instanceof dl&&e.label.measuredWidth>this.ghostLabel.measuredWidth||n instanceof _l&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var f=e.axisFill;f&&!f.disabled&&(e.isRange||(o=r+this._frequency,s=this.indexToPosition(r,f.location),l=this.indexToPosition(o,f.location)),n.updateFillElement(f,s,l),e.isRange||this.fillRule(e,i)),e.bullet&&n.updateBullet(e.bullet,c,u);var b=e.mask;b&&n.updateFillElement(b,s,l)},e.prototype.disposeData=function(){this.dataItemsByCategory.clear(),t.prototype.disposeData.call(this)},e.prototype.processDataItem=function(e,i){e&&(t.prototype.processDataItem.call(this,e,i),ge(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},e.prototype.getDataItem=function(t){var e=t[this.dataFields.category];if(ge(e))return this.dataItemsByCategory.getKey(e)||this.dataItems.create()},e.prototype.indexToPosition=function(t,e){we(e)||(e=.5);var i=this.startIndex,r=this.endIndex,n=this.adjustDifference(i,r),a=this.startLocation;n-=a,n-=1-this.endLocation,this._axisBreaks&&er(this._axisBreaks.iterator(),(function(e){var n=e.adjustedStartValue,a=e.adjustedEndValue;if(t<i||!we(n)||!we(a))return!1;if(Le({start:n,end:a},{start:i,end:r})){n=Math.max(i,n),a=Math.min(r,a);var o=e.breakSize;t>a?i+=(a-n)*(1-o):t<n||(t=n+(t-n)*o)}return!0}));var o=0,s=this.dataItems.getIndex(t);return s&&(o=s.deltaPosition),Ie(o+(t+e-a-i)/n,5)},e.prototype.categoryToPosition=function(t,e){var i=this.categoryToIndex(t);return this.indexToPosition(i,e)},e.prototype.categoryToPoint=function(t,e){var i=this.categoryToPosition(t,e),r=this.renderer.positionToPoint(i),n=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:n}},e.prototype.anyToPoint=function(t,e){return this.categoryToPoint(t,e)},e.prototype.anyToPosition=function(t,e){return this.categoryToPosition(t,e)},e.prototype.categoryToIndex=function(t){if(ge(t)){var e=this.dataItemsByCategory.getKey(t);if(e)return e.index}},e.prototype.zoomToCategories=function(t,e){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1)},e.prototype.getAnyRangePath=function(t,e,i,r){var n=this.categoryToPosition(t,i),a=this.categoryToPosition(e,r);return this.getPositionRangePath(n,a)},e.prototype.roundPosition=function(t,e){var i=this.positionToIndex(t);return this.indexToPosition(i,e)},e.prototype.getFirstSeriesDataItem=function(t,e){for(var i=0;i<t.dataItems.length;i++){var r=t.dataItems.getIndex(i);if(t.xAxis==this&&r.categoryX==e)return r;if(t.yAxis==this&&r.categoryY==e)return r}},e.prototype.getLastSeriesDataItem=function(t,e){for(var i=t.dataItems.length-1;i>=0;i--){var r=t.dataItems.getIndex(i);if(t.xAxis==this&&r.categoryX==e)return r;if(t.yAxis==this&&r.categoryY==e)return r}},e.prototype.getSeriesDataItemByCategory=function(t,e){var i,r=this;return e.dataItems.each((function(n){e.xAxis==r?n.categoryX==t&&(i=n):e.yAxis==r&&n.categoryY==t&&(i=n)})),i},e.prototype.getSeriesDataItem=function(t,e,i){var r=this;if(we(e)){var n=this.positionToIndex(e);n>=this.dataItems.length&&n--;var a=this.dataItems.getIndex(n);if(a){var o,s=a.category,l=t.dataItems.getIndex(n);if(l){if(t.xAxis==this&&l.categoryX==s)return l;if(t.yAxis==this&&l.categoryY==s)return l}return t.dataItems.each((function(e){t.xAxis==r&&e.categoryX==s&&(o||(o=e),Math.abs(n-o.index)>Math.abs(n-e.index)&&(o=e)),t.yAxis==r&&e.categoryY==s&&(o||(o=e),Math.abs(n-o.index)>Math.abs(n-e.index)&&(o=e))})),o}}},e.prototype.getX=function(t,e,i,r,n){var a=this.getPositionX(t,e,i,r,n);return he(a)?this.basePoint.x:this.renderer.positionToPoint(a).x},e.prototype.getPositionX=function(t,e,i,r,n){var a;return ge(e)&&(a=this.categoryToPosition(t.categories[e],i)),n&&(a=Oe(a,n.start,n.end)),a},e.prototype.getY=function(t,e,i,r,n){var a=this.getPositionY(t,e,i,r,n);return he(a)?this.basePoint.y:this.renderer.positionToPoint(a).y},e.prototype.getPositionY=function(t,e,i,r,n){var a;return ge(e)&&(a=this.categoryToPosition(t.categories[e],i)),n&&(a=Oe(a,n.start,n.end)),a},e.prototype.getAngle=function(t,e,i,r,n){var a=this.categoryToPosition(t.categories[e],i);return n&&(a=Oe(a,n.start,n.end)),this.positionToAngle(a)},e.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},e.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},e.prototype.getTooltipText=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return this.tooltipDataItem=e,this.tooltip.dataItem=e,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",e.category):e.category},e.prototype.positionToIndex=function(t){(t=Ie(t,10))<0&&(t=0),t>1&&(t=1);var e=this.startIndex,i=this.endIndex,r=i-e-this.startLocation-(1-this.endLocation);t+=1/r*this.startLocation;var n=null;return this._axisBreaks&&er(this._axisBreaks.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,c=a.adjustedEndValue;l=Ee(l,e),c=Re(c,i);var u=a.breakSize;if(r-=(c-l)*(1-u),t>s)e+=(c-l)*(1-u);else if(!(t<o))return n=l+Math.round((t-o)/(s-o)*(c-l)),!1;return!0})),we(n)||(n=Math.floor(t*r+e)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},e.prototype.positionToCategory=function(t){return this.getPositionLabel(t)},e.prototype.getPositionLabel=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return e.category},Object.defineProperty(e.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),e.prototype.initRenderer=function(){t.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(t){this.setPropertyValue("sortBySeries",t,!0)},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){e&&ge(e.sortBySeries)&&xe(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),t.prototype.processConfig.call(this,e)},e}(nl);fr.registeredClasses.CategoryAxis=Vl,fr.registeredClasses.CategoryAxisDataItem=wl;var Cl=function(t){function e(){var e=t.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(t){this.setValue("valueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(t){this.setValue("customValue",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(t){this.setValue("valueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(t){this.setDate("dateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(t){this.setDate("dateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(t){this.setCategory("categoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(t){this.setCategory("categoryY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(t){this.setValue("openValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(t){this.setValue("openValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(t){this.setDate("openDateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(t){this.setDate("openDateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(t){this.setCategory("openCategoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(t){this.setCategory("openCategoryY",t)},enumerable:!0,configurable:!0}),e.prototype.getMin=function(t,e,i){var r,n=this;return we(i)||(i=0),oi(t,(function(t){var a;a=e?n.getWorkingValue(t):n.getValue(t),((a+=i)<r||!we(r))&&(r=a)})),r},e.prototype.getMax=function(t,e,i){var r,n=this;return we(i)||(i=0),oi(t,(function(t){var a;a=e?n.getWorkingValue(t):n.getValue(t),((a+=i)>r||!we(r))&&(r=a)})),r},e}(Zs),Pl=function(t){function e(){var e=t.call(this)||this;return e.groupFields={},e._xAxis=new Oi,e._yAxis=new Oi,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new mo,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",(function(){e.returnBulletDefaultState()}),void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(bo,(function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())}),void 0,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},e.prototype.createDataItem=function(){return new Cl},e.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},e.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},e.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(this.usesShowFields=!!(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow),this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),t.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!ge(this.dataFields[this._xField])||!ge(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},e.prototype.processDataItem=function(e,i){try{t.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(r){this._chart&&this._chart.raiseCriticalError(r)}},e.prototype.updateDataItem=function(e){t.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},e.prototype.setInitialWorkingValues=function(t){},e.prototype.disposeData=function(){t.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var r=this.dataItemsByAxis.getKey(e.uid);r&&r.clear(),e instanceof Vl&&this.clearCatAxis(e)}if(i){var n=this.dataItemsByAxis.getKey(i.uid);n&&n.clear(),i instanceof Vl&&this.clearCatAxis(i)}},e.prototype.clearCatAxis=function(t){var e=this.uid;t.dataItems.each((function(t){t.seriesDataItems[e]&&(t.seriesDataItems[e]=[])}))},e.prototype.defineFields=function(){var t=this.xAxis,e=this.yAxis;if(t&&e){var i=t.axisFieldName,r=i+"X",n="open"+Yr(i)+"X",a=e.axisFieldName,o=a+"Y",s="open"+Yr(a)+"Y";this._xField=r,this._yField=o,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[s]&&(this._yOpenField=s),this.dataFields[s]||this.baseAxis!=e||(this._yOpenField=o),this.dataFields[n]||this.baseAxis!=t||(this._xOpenField=r),this.stacked&&this.baseAxis==t&&(this._xOpenField=r),this.stacked&&this.baseAxis==e&&(this._yOpenField=o),t instanceof Vl&&e instanceof Vl&&(this._yOpenField||(this._yOpenField=o)),this._xValueFields=[],this._yValueFields=[],this.addValueField(t,this._xValueFields,this._xField),this.addValueField(t,this._xValueFields,this._xOpenField),this.addValueField(e,this._yValueFields,this._yField),this.addValueField(e,this._yValueFields,this._yOpenField)}},e.prototype.addValueField=function(t,e,i){t instanceof ml&&ge(this.dataFields[i])&&-1==e.indexOf(i)&&e.push(i)},e.prototype.setCategoryAxisField=function(t,e){ge(this.dataFields[t])||(this.dataFields[t]=e.dataFields.category)},e.prototype.setDateAxisField=function(t,e){ge(this.dataFields[t])||(this.dataFields[t]=e.dataFields.date)},e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.createMask()},e.prototype.createMask=function(){if(this.mainContainer.mask){var t=this.getMaskPath();ir(this.axisRanges.iterator(),(function(e){e.axisFill.fillPath&&(e.axisFill.validate(),t+=e.axisFill.fillPath)})),this.mainContainer.mask.path=t}},e.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?qo({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},e.prototype.getAxisField=function(t){return t==this.xAxis?this.xField:t==this.yAxis?this.yField:void 0},e.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=Ee(1e5,2*e.plotContainer.maxWidth),this._maxxY=Ee(1e5,2*e.plotContainer.maxHeight));var i=this.xAxis,r=this.yAxis;i&&r&&(i.updateAxisBySeries(),r.updateAxisBySeries()),t.prototype.validateDataItems.call(this),i&&r&&(i.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},e.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),t.prototype.validateDataRange.call(this)},e.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var r=this.minBulletDistance;we(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}this.updateTooltip(),t.prototype.validate.call(this);var n=this.chart;n&&this.maskBullets&&"XYChart"==n.className&&("vertical"!=n.leftAxesContainer.layout&&"vertical"!=n.rightAxesContainer.layout||(this.bulletsContainer.mask=this.yAxis?this.yAxis.renderer.gridContainer:void 0),"horizontal"!=n.topAxesContainer.layout&&"horizontal"!=n.bottomAxesContainer.layout||(this.bulletsContainer.mask=this.xAxis?this.xAxis.renderer.gridContainer:void 0))},Object.defineProperty(e.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var t=this.chart.xAxes.getIndex(0);if(!t)throw Error("There are no X axes on chart.");this.xAxis=t}return this._xAxis.get()}},set:function(t){this.setXAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setXAxis=function(t){var e=this._xAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._xAxis.dispose(),e.series.removeValue(this)),this._xAxis.set(t,t.registerSeries(this)),this.dataItemsByAxis.setKey(t.uid,new hr),this.invalidateData())},Object.defineProperty(e.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var t=this.chart.yAxes.getIndex(0);if(!t)throw Error("There are no Y axes on chart.");this.yAxis=t}return this._yAxis.get()}},set:function(t){this.setYAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setYAxis=function(t){var e=this._yAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._yAxis.dispose(),e.series.removeValue(this)),this._yAxis.set(t,t.registerSeries(this)),t.chart instanceof Tl&&t.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(t.uid,new hr),this.invalidateData())},Object.defineProperty(e.prototype,"baseAxis",{get:function(){var t=this.xAxis,e=this.yAxis;return!this._baseAxis&&t&&e&&(e instanceof vl&&(this._baseAxis=e),t instanceof vl&&(this._baseAxis=t),e instanceof Vl&&(this._baseAxis=e),t instanceof Vl&&(this._baseAxis=t),this._baseAxis||(this._baseAxis=t)),this._baseAxis},set:function(t){this._baseAxis!=t&&(this._baseAxis=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.addData=function(e,i,r){t.prototype.addData.call(this,e,i,r),this.scrollbarSeries&&this.scrollbarSeries.addData(e,i,!0)},e.prototype.setData=function(e){t.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},e.prototype.setDataSet=function(e){var i=t.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var r=this.dataItems;this.resetExtremes();var n=this.xAxis,a=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),n instanceof vl&&n==this.baseAxis&&(this._tmin.setKey(n.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(n.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),a instanceof vl&&a==this.baseAxis&&(this._tmin.setKey(a.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(a.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}return i},e.prototype.processValues=function(e){t.prototype.processValues.call(this,e);var i=this.xAxis,r=this.yAxis;if(i&&r){var n=this.dataItems,a=1/0,o=-1/0,s=1/0,l=-1/0,c=this.startIndex,u=this.endIndex,h=c,p=u;e||(c=0,u=this.dataItems.length);for(var d=c;d<u;d++){var f=n.getIndex(d);this.getStackValue(f,e);var b=f.getValue("valueX","stack"),m=f.getValue("valueY","stack");a=Re(f.getMin(this._xValueFields,e,b),a),s=Re(f.getMin(this._yValueFields,e,m),s),o=Ee(f.getMax(this._xValueFields,e,b),o),l=Ee(f.getMax(this._yValueFields,e,m),l),this.stacked&&(this.baseAxis==i&&(m<s&&(s=m),m>l&&(l=m)),this.baseAxis==r&&(b<a&&(a=b),b>o&&(o=b)))}i.processSeriesDataItems(),r.processSeriesDataItems();var g=i.uid,y=r.uid;if(!(this.xAxis instanceof ml&&(a==1/0||o==-1/0)||this.yAxis instanceof ml&&(s==1/0||l==-1/0))){if(!e&&(this._tmin.getKey(g)!=a||this._tmax.getKey(g)!=o||this._tmin.getKey(y)!=s||this._tmax.getKey(y)!=l)){this._tmin.setKey(g,a),this._tmax.setKey(g,o),this._tmin.setKey(y,s),this._tmax.setKey(y,l);var v=this.stackedSeries;v&&(v.isDisposed()?this.stackedSeries=void 0:v.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(c!=h||u!=p)for(a=1/0,o=-1/0,s=1/0,l=-1/0,d=h;d<p;d++)f=n.getIndex(d),this.getStackValue(f,e),b=f.getValue("valueX","stack"),m=f.getValue("valueY","stack"),a=Re(f.getMin(this._xValueFields,e,b),a),s=Re(f.getMin(this._yValueFields,e,m),s),o=Ee(f.getMax(this._xValueFields,e,b),o),l=Ee(f.getMax(this._yValueFields,e,m),l),this.stacked&&(this.baseAxis==i&&(m<s&&(s=m),m>l&&(l=m)),this.baseAxis==r&&(b<a&&(a=b),b>o&&(o=b)));if(!(this.xAxis instanceof ml&&(a==1/0||o==-1/0)||this.yAxis instanceof ml&&(s==1/0||l==-1/0))){if((this._smin.getKey(g)!=a||this._smax.getKey(g)!=o||this._smin.getKey(y)!=s||this._smax.getKey(y)!=l)&&(this._smin.setKey(g,a),this._smax.setKey(g,o),this._smin.setKey(y,s),this._smax.setKey(y,l),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var _,x,w=!1;r instanceof ml&&!(r instanceof vl)&&((!we(_=this._tmin.getKey(y))||(this.usesShowFields||this._dataSetChanged)&&s<_||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(y,s),w=!0),(!we(x=this._tmax.getKey(y))||(this.usesShowFields||this._dataSetChanged)&&l>x||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(y,l),w=!0)),i instanceof ml&&!(i instanceof vl)&&((!we(_=this._tmin.getKey(g))||(this.usesShowFields||this._dataSetChanged)&&a<_||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(g,a),w=!0),(!we(x=this._tmax.getKey(g))||(this.usesShowFields||this._dataSetChanged)&&o>x||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(g,o),w=!0)),w&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}}}},e.prototype.hideTooltip=function(){t.prototype.hideTooltip.call(this),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var r=this._xAxis.get(),n=this._yAxis.get();r==this.baseAxis&&(i=r.getSeriesDataItem(this,r.toAxisPosition(t),this.snapTooltip)),n==this.baseAxis&&(i=n.getSeriesDataItem(this,n.toAxisPosition(e),this.snapTooltip));var a=this.showTooltipAtDataItem(i);if(a)return a;if(!this.tooltipText)return}this.hideTooltip()},e.prototype.getAdjustedXLocation=function(t,e){return t.locations[e]},e.prototype.getAdjustedYLocation=function(t,e){return t.locations[e]},e.prototype.showTooltipAtDataItem=function(t){var e,i,r=this.chart.cursor;if(r&&r.hideSeriesTooltipsOnSelection&&r.selection.visible&&r.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(t),t&&t.visible){if(this.updateLegendValue(t),this.cursorTooltipEnabled){this.tooltipDataItem=t;var n=this.tooltipXField,a=this.tooltipYField;if(ge(t[n])&&ge(t[a])){var o=this.getPoint(t,n,a,this.getAdjustedXLocation(t,n),this.getAdjustedYLocation(t,a));if(o&&("XYChart"!=this.chart.className||!(o.y<-1||o.y>this.yAxis.pixelHeight+1||o.x<-1||o.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=o.x,this.tooltipY=o.y,this._prevTooltipDataItem!=t&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:t}),this._prevTooltipDataItem=t),this.cursorHoverEnabled)try{for(var s=Object(h.i)(t.sprites),l=s.next();!l.done;l=s.next()){var c=l.value;!c.parent.visible||c.isHidden||c.__disabled||c.disabled||c.isHiding||(c.interactions.isRealHover||(c.dispatchImmediately("over"),c.interactions.isRealHover=!0),c.isHover=!0)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return this.showTooltip()?mn({x:o.x,y:o.y},this):void 0}}}}else this.updateLegendValue(t,!0)},e.prototype.returnBulletDefaultState=function(t){var e,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=t)try{for(var r=Object(h.i)(this._prevTooltipDataItem.sprites),n=r.next();!n.done;n=r.next()){var a=n.value;if(a.isDisposed())this._prevTooltipDataItem=void 0;else{var o=a.interactions.isRealHover;a.isHover=!1,o&&a.dispatchImmediately("out")}}}catch(s){e={error:s}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},e.prototype.shouldCreateBullet=function(t,e){var i=e.xField;ge(i)||(i=this.xField);var r=e.yField;if(ge(r)||(r=this.yField),this.xAxis instanceof ml&&!t.hasValue([i])||this.yAxis instanceof ml&&!t.hasValue([r]))return!1;if(e.disabled){var n=t.dataContext;return!(!n||!1!==n[e.propertyFields.disabled])}return!0},e.prototype.updateTooltip=function(){this.hideTooltipWhileZooming||!this.tooltip||this.tooltip.isHidden||this.isHiding||this.isHidden||!this.tooltipDataItem||this.showTooltipAtDataItem(this.tooltipDataItem)},e.prototype.positionBullet=function(e){t.prototype.positionBullet.call(this,e);var i=e.dataItem,r=e.xField;ge(r)||(r=this.xField);var n=e.yField;ge(n)||(n=this.yField);var a=this.xAxis,o=this.yAxis;if(a instanceof ml&&!i.hasValue([r])||o instanceof ml&&!i.hasValue([n]))e.visible=!1;else{var s=this.getBulletLocationX(e,r),l=this.getBulletLocationY(e,n);if(this.getPoint(i,r,n,s,l)){var c=this.xOpenField,u=this.yOpenField,h=void 0,p=void 0;if(a instanceof vl){we(s)||(s=0);var d=void 0,f=i.getWorkingValue(r);if(c?d=i.getWorkingValue(c):a==this.baseAxis&&(d=a.baseValue),we(d)||(d=f),(d+=_=i.getValue("valueX","stack"))==(f+=_)){var b=a.baseInterval,m=a.dateFormatter;d=Ia(new Date(d),b.timeUnit,b.count,m.firstDayOfWeek,m.utc).getTime(),f=ka(new Date(d),b.timeUnit,b.count,m.utc).getTime()}h=a.valueToPosition(a==this.baseAxis?d+(f-d)*s:d+(f-d)*(1-s))}else if(a instanceof ml)we(s)||(s=0),d=void 0,f=i.getWorkingValue(r),d=c?i.getWorkingValue(c):a.baseValue,d+=_=i.getValue("valueX","stack"),h=a.valueToPosition(d+((f+=_)-d)*(1-s));else if(a instanceof Vl){var g=this.getAdjustedXLocation(i,r),y=this.getAdjustedXLocation(i,c);h=a.categoryToPosition(i[r],g);var v=void 0;c&&(v=a.categoryToPosition(i[c],y)),we(v)||(v=1),h=v+(h-v)*s}if(o instanceof vl)we(l)||(l=0),d=void 0,f=i.getWorkingValue(n),u?d=i.getWorkingValue(u):o==this.baseAxis&&(d=o.baseValue),we(d)||(d=f),(d+=_=i.getValue("valueY","stack"))==(f+=_)&&(b=o.baseInterval,m=o.dateFormatter,d=Ia(new Date(d),b.timeUnit,b.count,m.firstDayOfWeek,m.utc).getTime(),f=ka(new Date(d),b.timeUnit,b.count,m.utc).getTime()),p=o.valueToPosition(o==this.baseAxis?d+(f-d)*l:d+(f-d)*(1-l));else if(o instanceof ml){var _;we(l)||(l=0),d=void 0,f=i.getWorkingValue(n),d=u?i.getWorkingValue(u):o.baseValue,d+=_=i.getValue("valueY","stack"),p=o.valueToPosition(d+((f+=_)-d)*(1-l))}else if(o instanceof Vl){p=o.categoryToPosition(i[n],l);var x=this.getAdjustedYLocation(i,n),w=this.getAdjustedYLocation(i,u);p=o.categoryToPosition(i[n],x);var V=void 0;u&&(V=o.categoryToPosition(i[u],w)),we(V)||(V=1),p=V+(p-V)*l}e.visible=!0,this.positionBulletReal(e,h,p)}else e.visible=!1}},e.prototype.positionBulletReal=function(t,e,i){t.x=this.xAxis.renderer.positionToPoint(e,i).x,t.y=this.yAxis.renderer.positionToPoint(i,e).y},e.prototype.getBulletLocationX=function(t,e){var i=t.locationX,r=t.dataItem;return we(i)||(i=r.workingLocations[e]),i},e.prototype.getBulletLocationY=function(t,e){var i=t.locationY,r=t.dataItem;return we(i)||(i=r.workingLocations[e]),i},e.prototype.updateStacking=function(){var t=this;this.invalidateDataItems(),this.chart&&this.chart.series.each((function(e){e.baseAxis==t.baseAxis&&(e.stackedSeries=void 0,e.invalidateDataItems(),e.invalidateProcessedData())}))},Object.defineProperty(e.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(t){if(this.setPropertyValue("stacked",t,!0)){this.updateStacking();var e,i=this.xAxis,r=this.yAxis;t||(i!=this.baseAxis&&i instanceof ml&&(e=this.xField),r!=this.baseAxis&&r instanceof ml&&(e=this.yField),e&&this.dataItems.each((function(t){t.setCalculatedValue(e,0,"stack")})))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),e.prototype.show=function(e){var i,r=this;this.xAxis instanceof ml&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof ml&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var n,a=this.startIndex,o=this.endIndex,s=0,l=this.defaultState.transitionDuration;we(e)&&(l=e),Nn.animationsEnabled||(l=0),ir(ar(this.dataItems.iterator()),(function(t){var e=t[0],c=l;(e<r.startIndex-10||e>r.endIndex+10)&&(c=0,s=0),r.sequencedInterpolation&&c>0&&(s=r.sequencedInterpolationDelay*e+l*(e-a)/(o-a)),n=t[1].show(c,s,i)})),this.dataSets.each((function(t,e){e!=r.dataItems&&e.each((function(t){t.events.disable(),t.show(0,0,i),t.events.enable()}))})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(t){t.events.disable(),t.show(0,0,i),t.events.enable()}));var c=t.prototype.show.call(this,e);return n&&!n.isFinished()&&(c=n),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),c},e.prototype.hide=function(e){var i,r,n=this,a=this.xAxis;a instanceof ml&&a!=this.baseAxis&&(i=this._xValueFields,r=this.stacked||a.minZoomed<a.baseValue&&a.maxZoomed>a.baseValue||this.stackedSeries?a.baseValue:a.min);var o=this.yAxis;o instanceof ml&&o!=this.baseAxis&&(i=this._yValueFields,r=this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?o.baseValue:o.min);var s=this.startIndex,l=this.endIndex,c=this.hiddenState.transitionDuration;we(e)&&(c=e),Nn.animationsEnabled||(c=0);var u,h=0;ir(ar(this.dataItems.iterator()),(function(t){var e=t[0],a=t[1],o=c;(e<n.startIndex-10||e>n.endIndex+10)&&(o=0),0==o?a.hide(0,0,r,i):(n.sequencedInterpolation&&o>0&&(h=n.sequencedInterpolationDelay*e+c*(e-s)/(l-s)),u=a.hide(o,h,r,i))}));var p=t.prototype.hide.call(this,c);return p&&!p.isFinished()&&p.delay(h),u&&!u.isFinished()&&(p=u),this.validateDataElements(),p},e.prototype.handleDataItemWorkingValueChange=function(e,i){t.prototype.handleDataItemWorkingValueChange.call(this,e,i),ir(this.baseAxis.series.iterator(),(function(t){(t.stacked||t.stackedSeries)&&t.invalidateProcessedData()}))},e.prototype.getStackValue=function(t,e){var i=this,r=this.xAxis,n=this.yAxis;if(this.stacked&&r&&n){var a,o=this.chart,s=o.series.indexOf(this);r!=this.baseAxis&&r instanceof ml&&(a=this.xField),n!=this.baseAxis&&n instanceof ml&&(a=this.yField),a&&(t.setCalculatedValue(a,0,"stack"),er(o.series.range(0,s).backwards().iterator(),(function(o){if(o.xAxis==r&&o.yAxis==n){o.stackedSeries=i;var s=o.dataItems.getIndex(t.index);if(s&&s.hasValue(i._xValueFields)&&s.hasValue(i._yValueFields)){var l,c=t.getValue(a),u=s.getValue(a)+s.getValue(a,"stack");if(l=e?s.getWorkingValue(a)+s.getValue(a,"stack"):s.getValue(a)+s.getValue(a,"stack"),c>=0&&u>=0||c<0&&u<0)return t.setCalculatedValue(a,l,"stack"),!1}else if(!o.stacked)return!1}return!0})))}},Object.defineProperty(e.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(t){this._tooltipXField=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(t){this._tooltipYField=t},enumerable:!0,configurable:!0}),e.prototype.min=function(t){return this._tmin.getKey(t.uid)},e.prototype.max=function(t){return this._tmax.getKey(t.uid)},e.prototype.selectionMin=function(t){var e=this._smin.getKey(t.uid);return we(e)||(e=this.min(t)),e},e.prototype.selectionMax=function(t){var e=this._smax.getKey(t.uid);return we(e)||(e=this.max(t)),e},e.prototype.processConfig=function(e){if(e){if(ge(e.baseAxis)&&xe(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),ge(e.xAxis)&&xe(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),ge(e.yAxis)&&xe(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),ge(e.axisRanges)&&Ce(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var n=e.axisRanges[i];ge(n.type)||(n.type="AxisDataItem"),ge(n.axis)&&xe(n.axis)&&this.map.hasKey(n.axis)?n.component=this.map.getKey(n.axis):ge(n.component)&&xe(n.component)&&this.map.hasKey(n.component)&&(n.component=this.map.getKey(n.component))}ge(e.dataFields)&&Ve(e.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}t.prototype.processConfig.call(this,e)},e.prototype.getPoint=function(t,e,i,r,n,a,o){if(this.xAxis&&this.yAxis){var s=this.xAxis.getX(t,e,r),l=this.yAxis.getY(t,i,n);return{x:s=Oe(s,-this._maxxX,this._maxxX),y:l=Oe(l,-this._maxxY,this._maxxY)}}},e.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var t="";qi(this.dataFields,(function(e,i){t+="{"+e+"} "})),this.itemReaderText=t,this._itemReaderTextChanged=!1}},Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(t){this.setPropertyValue("cursorHoverEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(t){this.setPropertyValue("excludeFromTotal",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t);var e=this.chart;e&&(this.bulletsContainer.parent=t?e.bulletsContainer:e.axisBulletsContainer)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){this.groupFields=zr(e.groupFields,{}),t.prototype.copyFrom.call(this,e)},e.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),t.prototype.dispose.call(this)},e}(Qs);fr.registeredClasses.XYSeries=Pl,fr.registeredClasses.XYSeriesDataItem=Cl;var Ul=function(t){function e(){var e=t.call(this)||this;e._chart=new Oi,e.className="XYChartScrollbar";var i=new ma;e.padding(0,0,0,0);var r=e.createChild(Tl);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,e._scrollbarChart=r,!Tn()){var n=new Os;n.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(n)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var a=e.createChild(mo);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.fill=i.getFor("background"),a.fillOpacity=.8,a.interactionsEnabled=!1,a.isMeasured=!1,a.toBack(),e._unselectedOverlay=a,e._disposers.push(e._unselectedOverlay),r.toBack(),e.background.cornerRadius(0,0,0,0);var o=e.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var s=o.states.getKey("hover");s&&(s.properties.fillOpacity=.2);var l=o.states.getKey("down");return l&&(l.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new vr,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;if(i.xAxis&&i.yAxis){var r=this.scrollbarChart;r.zoomOutButton.disabled=!0,this.chart=i.chart,r.language.locale=this.chart.language.locale;var n=!0,a=!0;ir(this.series.iterator(),(function(t){t!=i&&(t.xAxis==i.xAxis&&e.scrollbarChart.xAxes.length>0&&(n=!1),t.yAxis==i.yAxis&&e.scrollbarChart.yAxes.length>0&&(a=!1))})),i.events.on("beforedisposed",(function(){e.series.removeValue(i)}));var o=new ma,s=i.clone();if(Tn()&&(s.stroke=Rr("#aaaaaa"),s.fill=s.stroke,s.propertyFields.fill=void 0,s.propertyFields.stroke=void 0),i.scrollbarSeries=s,n){var l=i.xAxis.clone();if(r.xAxes.moveValue(l),l.title.disabled=!0,l.rangeChangeDuration=0,(h=l.renderer).ticks.template.disabled=!0,h.inside=!0,h.labels.template.inside=!0,h.line.strokeOpacity=0,h.minLabelPosition=.02,h.maxLabelPosition=.98,h.line.disabled=!0,h.axisFills.template.disabled=!0,h.baseGrid.disabled=!0,h.grid.template.strokeOpacity=.05,h.minWidth=void 0,h.minHeight=void 0,h.padding(0,0,0,0),h.chart=r,h.margin(0,0,0,0),l.width=ue(100),h.labels.template.fillOpacity=.5,l.maxZoomCount=void 0,l.minZoomCount=void 0,l instanceof vl){var c=l;c.groupCount=5*i.xAxis.groupCount,c.min=void 0,c.max=void 0,this._disposers.push(c.clonedFrom.events.on("extremeschanged",(function(){we(c.clonedFrom.minDefined)&&(c.min=c.clonedFrom.minDefined),we(c.clonedFrom.maxDefined)&&(c.max=c.clonedFrom.maxDefined)}),void 0,!1))}else if(l instanceof ml){var u=l;u.min=void 0,u.max=void 0,we(u.clonedFrom.minDefined)||(u.min=void 0),we(u.clonedFrom.maxDefined)||(u.max=void 0),this._disposers.push(u.clonedFrom.events.on("extremeschanged",(function(){we(u.clonedFrom.minDefined)&&(u.min=u.clonedFrom.min),we(u.clonedFrom.maxDefined)&&(u.max=u.clonedFrom.max)}),void 0,!1))}s.xAxis=l}else this.scrollbarChart.xAxes.each((function(t){t.clonedFrom==i.xAxis&&(s.xAxis=t)}));if(a){var h,p=i.yAxis.clone();if(r.yAxes.moveValue(p),p.title.disabled=!0,p.rangeChangeDuration=0,(h=p.renderer).ticks.template.disabled=!0,h.inside=!0,h.labels.template.inside=!0,h.line.strokeOpacity=0,h.minLabelPosition=.02,h.maxLabelPosition=.98,h.line.disabled=!0,h.axisFills.template.disabled=!0,h.grid.template.stroke=o.getFor("background"),h.baseGrid.disabled=!0,h.grid.template.strokeOpacity=.05,h.minWidth=void 0,h.minHeight=void 0,h.chart=r,h.padding(0,0,0,0),h.margin(0,0,0,0),p.height=ue(100),h.labels.template.fillOpacity=.5,s.yAxis=p,p.maxZoomCount=void 0,p.minZoomCount=void 0,p instanceof vl){var d=p;d.min=void 0,d.max=void 0,p.groupCount=5*i.yAxis.groupCount,this._disposers.push(d.clonedFrom.events.on("extremeschanged",(function(){we(d.clonedFrom.minDefined)&&(d.min=d.clonedFrom.minDefined),we(d.clonedFrom.maxDefined)&&(d.max=d.clonedFrom.maxDefined)})))}else if(p instanceof ml){var f=p;f.min=void 0,f.max=void 0,we(f.clonedFrom.minDefined)||(f.min=void 0),we(f.clonedFrom.maxDefined)||(f.max=void 0),this._disposers.push(f.clonedFrom.events.on("extremeschanged",(function(){we(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),we(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)})))}}else this.scrollbarChart.yAxes.each((function(t){t.clonedFrom==i.yAxis&&(s.yAxis=t)}));s.rangeChangeDuration=0,s.interpolationDuration=0,s.defaultState.transitionDuration=0,s.showOnInit=!1,this._disposers.push(s.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",(function(){s.data!=i.data&&(s.data=i.data)}),void 0,!1)),s.defaultState.properties.visible=!0,r.series.push(s),this.updateByOrientation()}},e.prototype.updateByOrientation=function(){var t=this;this._scrollbarChart&&(ir(this._scrollbarChart.xAxes.iterator(),(function(e){var i=e.renderer;"vertical"==t.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=e.clonedFrom.renderer.minGridDistance)})),ir(this._scrollbarChart.yAxes.iterator(),(function(e){var i=e.renderer;"horizontal"==t.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=e.clonedFrom.renderer.minGridDistance)})))},e.prototype.handleSeriesRemoved=function(t){var e=t.oldValue,i=this.scrollbarChart;i.series.each((function(t){t&&t.clonedFrom==e&&i.series.removeValue(t)})),0==i.series.length&&(i.xAxes.clear(),i.yAxes.clear());try{e.events.off("validated",this.zoomOutAxes,this)}catch(r){}},Object.defineProperty(e.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.get()!==t&&(this._chart.set(t,t.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),e.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},e.prototype.zoomOutAxes=function(){var t=this.scrollbarChart;ir(t.xAxes.iterator(),(function(t){t.zoom({start:0,end:1},!0,!0)})),ir(t.yAxes.iterator(),(function(t){t.zoom({start:0,end:1},!0,!0)}))},e.prototype.updateThumb=function(){if(t.prototype.updateThumb.call(this),this._unselectedOverlay){var e=this.thumb,i=e.pixelX||0,r=e.pixelY||0,n=e.pixelWidth||0,a=e.pixelHeight||0,o="";"horizontal"==this.orientation?(o=qo({x:-1,y:0,width:i,height:a}),o+=qo({x:i+n,y:0,width:(this.pixelWidth||0)-i-n,height:a})):(o=qo({x:0,y:0,width:n,height:r}),o+=qo({x:0,y:r+a,width:n,height:(this.pixelHeight||0)-r-a})),this._unselectedOverlay.path=o}},e.prototype.processConfig=function(e){if(e&&ge(e.series)&&Ce(e.series))for(var i=0,r=e.series.length;i<r;i++){var n=e.series[i];if(ge(n)&&xe(n)){if(!this.map.hasKey(n))throw Error("XYChartScrollbar error: Series with id `"+n+"` does not exist.");e.series[i]=this.map.getKey(n)}}t.prototype.processConfig.call(this,e)},e}(as);fr.registeredClasses.XYChartScrollbar=Ul;var Sl=function(t){function e(){var e=t.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}($s),Tl=function(t){function e(){var e=t.call(this)||this;e._axisRendererX=_l,e._axisRendererY=dl,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var r=i.createChild(yo);r.shouldClone=!1,r.layout="vertical",r.width=ue(100),r.zIndex=1,e.topAxesContainer=r;var n=i.createChild(yo);n.shouldClone=!1,n.layout="horizontal",n.width=ue(100),n.height=ue(100),n.zIndex=0,e.yAxesAndPlotContainer=n;var a=i.createChild(yo);a.shouldClone=!1,a.width=ue(100),a.layout="vertical",a.zIndex=1,e.bottomAxesContainer=a;var o=n.createChild(yo);o.shouldClone=!1,o.layout="horizontal",o.height=ue(100),o.contentAlign="right",o.events.on("transformed",e.updateXAxesMargins,e,!1),o.zIndex=1,e.leftAxesContainer=o;var s=n.createChild(yo);s.shouldClone=!1,s.height=ue(100),s.width=ue(100),s.background.fillOpacity=0,e.plotContainer=s,e.mouseWheelBehavior="none",e._cursorContainer=s;var l=n.createChild(yo);l.shouldClone=!1,l.layout="horizontal",l.height=ue(100),l.zIndex=1,l.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=l,e.seriesContainer.parent=s,e.bulletsContainer.parent=s;var c=s.createChild(ys);c.shouldClone=!1,c.align="right",c.valign="top",c.zIndex=Number.MAX_SAFE_INTEGER,c.marginTop=5,c.marginRight=5,c.hide(0),e.zoomOutButton=c;var u=e.plotContainer.createChild(yo);return u.shouldClone=!1,u.width=ue(100),u.height=ue(100),u.isMeasured=!1,u.zIndex=4,u.layout="none",e.axisBulletsContainer=u,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",(function(){e.series.each((function(t){t.dataGrouped=!1,t._baseInterval={}}))}),e,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,ge(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},e.prototype.draw=function(){t.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},e.prototype.updatePlotElements=function(){ir(this.series.iterator(),(function(t){t.invalidate()}))},e.prototype.validateData=function(){0==this._parseDataFrom&&(ir(this.xAxes.iterator(),(function(t){t.dataChangeUpdate()})),ir(this.yAxes.iterator(),(function(t){t.dataChangeUpdate()})),ir(this.series.iterator(),(function(t){t.dataChangeUpdate()}))),t.prototype.validateData.call(this)},e.prototype.updateXAxesMargins=function(){var t=this.leftAxesContainer.measuredWidth,e=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;i.paddingLeft==t&&i.paddingRight==e||(i.paddingLeft=t,i.paddingRight=e);var r=this.topAxesContainer;r.paddingLeft==t&&r.paddingRight==e||(r.paddingLeft=t,r.paddingRight=e)},e.prototype.reinit=function(){t.prototype.reinit.call(this),this.series.each((function(t){t.appeared=!1}))},e.prototype.handleXAxisChange=function(t){this.updateXAxis(t.target)},e.prototype.handleYAxisChange=function(t){this.updateYAxis(t.target)},e.prototype.processXAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererX,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),e.axisLetter="X",e.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),e.dataProvider=this,this.updateXAxis(e.renderer),this.processAxis(e)},e.prototype.processYAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererY,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),e.axisLetter="Y",e.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),e.dataProvider=this,this.updateYAxis(e.renderer),this.processAxis(e)},e.prototype.handleXAxisRangeChange=function(){var t=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,t)},e.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var t=!1;er(this.xAxes.iterator(),(function(e){if(e.toggleZoomOutButton)if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(Ie(e.end-e.start,3)<1/i)return t=!0,!1}else if(Ie(e.start,3)>0||Ie(e.end,3)<1)return t=!0,!1;return!0})),er(this.yAxes.iterator(),(function(e){if(e.toggleZoomOutButton){if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(Ie(e.end-e.start,3)<1/i)return t=!0,!1}else if(Ie(e.start,3)>0||Ie(e.end,3)<1)return t=!0,!1;return!0}})),this.seriesAppeared||(t=!1),t?this.zoomOutButton.show():this.zoomOutButton.hide()}},e.prototype.seriesAppeared=function(){var t=!1;return ir(this.series.iterator(),(function(e){if(!e.appeared)return t=!1,!1})),t},e.prototype.handleYAxisRangeChange=function(){var t=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,t)},e.prototype.updateScrollbar=function(t,e){t&&(t.skipRangeEvents(),t.start=e.start,t.end=e.end)},e.prototype.getCommonAxisRange=function(t){var e,i;return ir(t.iterator(),(function(t){var r=t.start,n=t.end;t.renderer.inversed&&(r=1-t.end,n=1-t.start),(!we(e)||r<e)&&(e=r),(!we(i)||n>i)&&(i=n)})),{start:e,end:i}},e.prototype.updateXAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.topAxesContainer,e.toFront()):(e.parent=this.bottomAxesContainer,e.toBack()),e.renderer&&e.renderer.processRenderer()},e.prototype.updateYAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.rightAxesContainer,e.toBack()):(e.parent=this.leftAxesContainer,e.toFront()),e.renderer&&e.renderer.processRenderer()},e.prototype.processAxis=function(t){var e=this;t instanceof Vl&&this._dataUsers.moveValue(t);var i=t.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,t.addDisposer(new Ii((function(){e.dataUsers.removeValue(t)}))),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(t.events.on("positionchanged",(function(){var r=gn({x:0,y:0},t,e.axisBulletsContainer);t.renderer instanceof dl&&(i.bulletsContainer.y=r.y),t.renderer instanceof _l&&(i.bulletsContainer.x=r.x)}),void 0,!1)),this.plotContainer.events.on("maxsizechanged",(function(){e.inited&&(t.invalidateDataItems(),e.updateSeriesMasks())}),t,!1)},e.prototype.updateSeriesMasks=function(){Tn()&&this.series.each((function(t){var e=t.mainContainer.mask;t.mainContainer.mask=void 0,t.mainContainer.mask=e}))},e.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each((function(t){t.resetExtremes()}))),t.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(e.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new vr,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new gr(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),e.prototype.handleAxisRemoval=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),e.autoDispose&&e.dispose()},Object.defineProperty(e.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new vr,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new gr(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(e){try{t.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(fr.removeFromInvalidComponents(i),i.dataInvalid=!1),i.maskBullets=i.maskBullets,null==i.fill&&(this.patterns?(ge(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),ge(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof Er&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),ge(i.stroke)||(i.stroke=i.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(e.prototype,"cursor",{get:function(){return this._cursor},set:function(t){this._cursor!=t&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=t,t&&(this._disposers.push(t),t.chart=this,t.shouldClone=!1,t.parent=this._cursorContainer,t.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),t.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),t.events.on("zoomended",this.handleCursorZoomEnd,this,!1),t.events.on("panstarted",this.handleCursorPanStart,this,!1),t.events.on("panning",this.handleCursorPanning,this,!1),t.events.on("panended",this.handleCursorPanEnd,this,!1),t.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),t.events.on("hidden",this.handleHideCursor,this,!1),t.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),e.prototype.handleCursorPositionChange=function(){var t=this.cursor;if(t.visible&&!t.isHiding){var e=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:e,y:i});var r=[],n=t.snapToSeries;if(n&&!t.downPoint){n instanceof Pl&&(n=[n]);var a=[];oi(n,(function(t){var n=t.xAxis,o=t.yAxis;n instanceof ml&&!(n instanceof vl)&&o instanceof ml&&!(o instanceof vl)?(t.dataItems.each((function(t){a.push(t)})),mi(r,t.yAxis),mi(r,t.xAxis)):(t.baseAxis==t.xAxis&&(mi(r,t.yAxis),a.push(n.getSeriesDataItem(t,n.toAxisPosition(e),!0))),t.baseAxis==t.yAxis&&(mi(r,t.xAxis),a.push(o.getSeriesDataItem(t,o.toAxisPosition(i),!0))))}));var o=this.getClosest(a,e,i);o&&(this.series.each((function(t){var e=o.component;t!=e&&(t.hideTooltip(),t.xAxis!=e.xAxis&&t.xAxis.hideTooltip(),t.yAxis!=e.yAxis&&t.yAxis.hideTooltip())})),o.component.showTooltipAtDataItem(o),t.handleSnap(o.component))}this._seriesPoints=[],this._cursorXPosition!=e&&this.showAxisTooltip(this.xAxes,e,r),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,r),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},e.prototype.getClosest=function(t,e,i){var r,n=1/0;return li(t,(function(t){if(t){var a=t.component.xAxis,o=t.component.yAxis,s=a.positionToCoordinate(a.toGlobalPosition(a.toAxisPosition(e))),l=o.positionToCoordinate(o.toGlobalPosition(o.toAxisPosition(i))),c=t.component.xField,u=t.component.yField;if(a instanceof ml&&!we(t.getValue(c)))return!0;if(o instanceof ml&&!we(t.getValue(u)))return!0;var h=a.positionToCoordinate(a.toGlobalPosition(a.getPositionX(t,c,t.locations[c],"valueX"))),p=o.positionToCoordinate(o.toGlobalPosition(o.getPositionY(t,u,t.locations[u],"valueY"))),d=Math.sqrt(Math.pow(s-h,2)+Math.pow(l-p,2));return d<n&&(n=d,r=t),!0}})),r},e.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},e.prototype.updateSeriesLegend=function(){ir(this.series.iterator(),(function(t){t.updateLegendValue()}))},e.prototype.hideObjectTooltip=function(t){ir(t.iterator(),(function(t){t.hideTooltip(0)}))},e.prototype.showSeriesTooltip=function(t){var e=this;if(t){var i=[];this.series.each((function(r){if(r.xAxis instanceof vl&&r.xAxis.snapTooltip||r.yAxis instanceof vl&&r.yAxis.snapTooltip);else{var n=r.showTooltipAtPosition(t.x,t.y);n&&(r.tooltip.setBounds(yn({x:0,y:0,width:e.pixelWidth,height:e.pixelHeight},e)),i.push({series:r,point:n}))}})),this.arrangeTooltips&&this.sortSeriesTooltips(i)}else this.series.each((function(t){t.hideTooltip()}))},e.prototype.sortSeriesTooltips=function(t){if(t.length>0){var e=this.cursor;if(e&&we(e.maxTooltipDistance)){var i,r,n=mn({x:e.point.x,y:e.point.y},e),a=1/0;oi(t,(function(t){var e=t.series,o=t.point;if(o){var s={x:o.x,y:o.y},l=Math.abs(je(s,n));l<a&&(r=s,a=l,i=e)}}));var o=[];i&&(oi(t,(function(t){if(Math.abs(je(t.point,r))<=Math.abs(e.maxTooltipDistance))o.push({series:t.series,point:t.point});else{var i=t.series.tooltipDataItem;i&&oi(i.sprites,(function(t){t.isHover=!1,t.handleOutReal()})),t.series.tooltip.hide(0)}})),e.maxTooltipDistance<0&&(o.length>0&&oi(o,(function(t){i!=t.series&&t.series.tooltip.hide(0)})),o=[{series:i,point:r}])),t=o}var s=mn({x:-.5,y:-.5},this.plotContainer),l=mn({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),c=0,u=[];oi(t,(function(t){var e=t.point;e&&ii(e,{x:s.x,y:s.y,width:l.x-s.x,height:l.y-s.y})&&(u.push({point:e,series:t.series}),c+=e.y)})),t=u;var h=this.series.getIndex(0),p=!1;h&&h.yAxis&&h.yAxis.renderer.inversed&&(p=!0),p?t.sort((function(t,e){return Pr(t.point.y,e.point.y)})):(t.sort((function(t,e){return Pr(e.point.y,t.point.y)})),t.reverse());var d=c/t.length,f=_n({x:0,y:0},this.svgContainer.SVGContainer).y;if(t.length>0){var b=s.y,m=l.y;wn({x:0,y:b},this);var g=!1;if(d>b+(m-b)/2)for(var y=m,v=t.length-1;v>=0;v--){var _=t[v].point.y;if((V=t[v].series.tooltip).setBounds({x:0,y:-f,width:this.pixelWidth,height:y+f}),V.invalid&&V.validate(),V.toBack(),(y=mn({x:0,y:V.label.pixelY-V.pixelY+_-V.pixelMarginTop},V).y)<-f){g=!0;break}}if(d<=b+(m-b)/2||g)for(var x=b,w=(v=0,t.length);v<w;v++){var V;_=t[v].point.y,(V=t[v].series.tooltip).setBounds({x:0,y:x,width:this.pixelWidth,height:m}),V.invalid&&V.validate(),V.toBack(),x=mn({x:0,y:V.label.pixelY+V.label.measuredHeight-V.pixelY+_+V.pixelMarginBottom},V).y}}}},e.prototype.showAxisTooltip=function(t,e,i){var r=this;ir(t.iterator(),(function(t){i&&-1!=i.indexOf(t)||(r.dataItems.length>0||t.dataItems.length>0)&&t.showTooltipAtPosition(e)}))},e.prototype.getUpdatedRange=function(t,e){if(t){var i,r;t.renderer.inversed?(He(e),i=1-t.end,r=1-t.start):(i=t.start,r=t.end);var n=r-i;return{start:i+e.start*n,end:i+e.end*n}}},e.prototype.handleCursorZoomEnd=function(t){var e=this.cursor,i=e.behavior;if("zoomX"==i||"zoomXY"==i){var r=e.xRange;r&&this.xAxes.length>0&&((r=this.getUpdatedRange(this.xAxes.getIndex(0),r)).priority="start",this.zoomAxes(this.xAxes,r))}if("zoomY"==i||"zoomXY"==i){var n=e.yRange;n&&this.yAxes.length>0&&((n=this.getUpdatedRange(this.yAxes.getIndex(0),n)).priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},e.prototype.handleCursorPanStart=function(t){var e=this.xAxes.getIndex(0);e&&(this._panStartXRange={start:e.start,end:e.end});var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end})},e.prototype.handleCursorPanEnd=function(t){var e,i=this.cursor.behavior;if(this._panEndXRange&&("panX"==i||"panXY"==i)){var r=0;(e=this._panEndXRange).start<0&&(r=e.start),e.end>1&&(r=e.end-1),this.zoomAxes(this.xAxes,{start:e.start-r,end:e.end-r},!1,!0),this._panEndXRange=void 0,this._panStartXRange=void 0}!this._panEndYRange||"panY"!=i&&"panXY"!=i||(r=0,(e=this._panEndYRange).start<0&&(r=e.start),e.end>1&&(r=e.end-1),this.zoomAxes(this.yAxes,{start:e.start-r,end:e.end-r},!1,!0),this._panEndYRange=void 0,this._panStartYRange=void 0)},e.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},e.prototype.handleCursorPanning=function(t){var e,i=this.cursor,r=i.behavior,n=i.maxPanOut;if(this._panStartXRange&&("panX"==r||"panXY"==r)){var a=this._panStartXRange,o=i.xRange,s=this.getCommonAxisRange(this.xAxes),l=a.end-a.start,c=o.start*(s.end-s.start),u=Math.max(-n,c+a.start),h=Math.min(c+a.end,1+n);u<=0&&(h=u+l),h>=1&&(u=h-l),this._panEndXRange=e={start:u,end:h},this.zoomAxes(this.xAxes,e,!1,!1,i.maxPanOut)}!this._panStartYRange||"panY"!=r&&"panXY"!=r||(a=this._panStartYRange,o=i.yRange,s=this.getCommonAxisRange(this.yAxes),l=a.end-a.start,c=o.start*(s.end-s.start),u=Math.max(-n,c+a.start),h=Math.min(c+a.end,1+n),u<=0&&(h=u+l),h>=1&&(u=h-l),this._panEndYRange=e={start:u,end:h},this.zoomAxes(this.yAxes,e,!1,!1,i.maxPanOut)),this.handleHideCursor()},e.prototype.handleYAxisSet=function(t){},e.prototype.handleCursorZoomStart=function(t){},Object.defineProperty(e.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(t){var e=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=t,t&&(this._disposers.push(t),t.parent=this.topAxesContainer,t.shouldClone=!1,t.startGrip.exportable=!1,t.endGrip.exportable=!1,t.toBack(),t.orientation="horizontal",t.events.on("rangechanged",this.handleXScrollbarChange,this,!1),t.adapter.add("positionValue",(function(t){var i=e.xAxes.getIndex(0);return i&&(t.value=i.getPositionLabel(i.renderer.inversed?1-t.position:t.position)),t})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(t){var e=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=t,t&&(this._disposers.push(t),t.parent=this.rightAxesContainer,t.startGrip.exportable=!1,t.shouldClone=!1,t.endGrip.exportable=!1,t.toFront(),t.orientation="vertical",t.events.on("rangechanged",this.handleYScrollbarChange,this,!1),t.adapter.add("positionValue",(function(t){var i=e.yAxes.getIndex(0);return i&&(t.value=i.getPositionLabel(t.position)),t})))},enumerable:!0,configurable:!0}),e.prototype.handleXScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;0==i.start&&(i.priority="start"),1==i.end&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),e.fixRange(i)}},e.prototype.handleYScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;1==i.end&&(i.priority="end"),0==i.start&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),e.fixRange(i)}},e.prototype.zoomAxes=function(t,e,i,r,n){var a={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||ir(t.iterator(),(function(t){if(t.renderer.inversed&&(e=He(e)),t.hideTooltip(0),r)if(t instanceof Vl){var o=t.getCellEndPosition(0)-t.getCellStartPosition(0);e.start=t.roundPosition(e.start+o/2-t.startLocation*o,t.startLocation),e.end=t.roundPosition(e.end-o/2+(1-t.endLocation)*o,t.endLocation)}else e.start=t.roundPosition(e.start+1e-4,0,t.startLocation),e.end=t.roundPosition(e.end+1e-4,0,t.endLocation);var s=t.zoom(e,i,i,n);t.renderer.inversed&&(s=He(s)),a=s})),a},Object.defineProperty(e.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=t?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(t){this.setPropertyValue("arrangeTooltips",t,!0)},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){var e=this.plotContainer,i=bn(vn(t.point,this.htmlContainer,this.svgContainer.cssScale),e);this.handleWheelReal(t.shift.y,this.mouseWheelBehavior,i)},e.prototype.handleHorizontalWheel=function(t){var e=this.plotContainer,i=bn(vn(t.point,this.htmlContainer,this.svgContainer.cssScale),e);this.handleWheelReal(t.shift.x,this.horizontalMouseWheelBehavior,i)},e.prototype.handleWheelReal=function(t,e,i){if(0!=t){var r=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),a=this.getCommonAxisRange(this.yAxes);if("panX"==e||"panXY"==e){var o=n.end-n.start,s=Math.max(-0,n.start+.1*t/100*(n.end-n.start)),l=Math.min(n.end+.1*t/100*(n.end-n.start),1);s<=0&&(l=s+o),l>=1&&(s=l-o),this.zoomAxes(this.xAxes,{start:s,end:l})}if("panY"==e||"panXY"==e){t*=-1;var c=a.end-a.start,u=Math.max(-0,a.start+.1*t/100*(a.end-a.start)),h=Math.min(a.end+.1*t/100*(a.end-a.start),1);u<=0&&(h=u+c),h>=1&&(u=h-c),this.zoomAxes(this.yAxes,{start:u,end:h})}if("zoomX"==e||"zoomXY"==e){var p=i.x/r.maxWidth,d=this.xAxes.getIndex(0).toAxisPosition(p);s=Math.max(-0,n.start-.1*(n.end-n.start)*t/100*p),s=Math.min(s,d),l=Math.min(n.end+.1*(n.end-n.start)*t/100*(1-p),1),l=Math.max(l,d),this.zoomAxes(this.xAxes,{start:s,end:l})}if("zoomY"==e||"zoomXY"==e){var f=i.y/r.maxHeight,b=this.yAxes.getIndex(0).toAxisPosition(f);u=Math.max(-0,a.start-.1*(a.end-a.start)*t/100*(1-f)),u=Math.min(u,b),h=Math.min(a.end+.1*t/100*f*(a.end-a.start),1),h=Math.max(h,b),this.zoomAxes(this.yAxes,{start:u,end:h})}}},Object.defineProperty(e.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(t){this.setPropertyValue("horizontalMouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),e.prototype.dataSourceDateFields=function(e){var i=this;return e=t.prototype.dataSourceDateFields.call(this,e),ir(this.series.iterator(),(function(t){e=i.populateDataSourceFields(e,t.dataFields,["dateX","dateY","openDateX","openDateY"])})),e},e.prototype.dataSourceNumberFields=function(e){var i=this;return e=t.prototype.dataSourceDateFields.call(this,e),ir(this.series.iterator(),(function(t){e=i.populateDataSourceFields(e,t.dataFields,["valueX","valueY","openValueX","openValueY"])})),e},e.prototype.processConfig=function(e){if(e){var i=[],r=[];if(ge(e.xAxes)&&Ce(e.xAxes))for(var n=0,a=e.xAxes.length;n<a;n++){if(!e.xAxes[n].type)throw Error("[XYChart error] No type set for xAxes["+n+"].");if(ge(e.xAxes[n].axisRanges)){for(var o=0,s=e.xAxes[n].axisRanges.length;o<s;o++)ge((c=e.xAxes[n].axisRanges[o]).date)&&xe(c.date)&&(c.date=this.dateFormatter.parse(c.date)),ge(c.endDate)&&xe(c.endDate)&&(c.endDate=this.dateFormatter.parse(c.endDate));i.push({axisRanges:e.xAxes[n].axisRanges,index:n}),delete e.xAxes[n].axisRanges}}if(ge(e.yAxes)&&Ce(e.yAxes))for(n=0,a=e.yAxes.length;n<a;n++){if(!e.yAxes[n].type)throw Error("[XYChart error] No type set for yAxes["+n+"].");if(ge(e.yAxes[n].axisRanges)){o=0;for(var l=e.yAxes[n].axisRanges.length;o<l;o++){var c;ge((c=e.yAxes[n].axisRanges[o]).date)&&xe(c.date)&&(c.date=this.dateFormatter.parse(c.date)),ge(c.endDate)&&xe(c.endDate)&&(c.endDate=this.dateFormatter.parse(c.endDate))}r.push({axisRanges:e.yAxes[n].axisRanges,index:n}),delete e.yAxes[n].axisRanges}}if(ge(e.series)&&Ce(e.series))for(n=0,a=e.series.length;n<a;n++)e.series[n].type=e.series[n].type||"LineSeries";if(ge(e.cursor)&&!ge(e.cursor.type)&&(e.cursor.type="XYCursor"),ge(e.scrollbarX)&&!ge(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),ge(e.scrollbarY)&&!ge(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),t.prototype.processConfig.call(this,e),r.length)for(n=0,a=r.length;n<a;n++)this.yAxes.getIndex(r[n].index).config={axisRanges:r[n].axisRanges};if(i.length)for(n=0,a=i.length;n<a;n++)this.xAxes.getIndex(i[n].index).config={axisRanges:i[n].axisRanges}}},e.prototype.configOrder=function(e,i){return e==i?0:"scrollbarX"==e?1:"scrollbarX"==i?-1:"scrollbarY"==e?1:"scrollbarY"==i?-1:"cursor"==e?1:"cursor"==i?-1:"series"==e?1:"series"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.createSeries=function(){return new Pl},Object.defineProperty(e.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(t){var e=this;this._zoomOutButton=t,t&&t.events.on("hit",(function(){e.zoomAxes(e.xAxes,{start:0,end:1}),e.zoomAxes(e.yAxes,{start:0,end:1})}),void 0,!1)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;e.xAxes.each((function(t){i.xAxes.push(t.clone())})),e.yAxes.each((function(t){i.yAxes.push(t.clone())})),t.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},e.prototype.disposeData=function(){t.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof Ul&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof Ul&&i.scrollbarChart.disposeData(),this.xAxes.each((function(t){t.disposeData()})),this.yAxes.each((function(t){t.disposeData()}))},e.prototype.addData=function(e,i){this.scrollbarX instanceof Ul&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof Ul&&this.addScrollbarData(this.scrollbarY,i),t.prototype.addData.call(this,e,i)},e.prototype.addScrollbarData=function(t,e){var i=t.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData()},e.prototype.removeScrollbarData=function(t,e){var i=t.scrollbarChart;if(we(e)){for(;e>0;){var r=this.dataItems.getIndex(0);r&&i.dataItems.remove(r),i.dataUsers.each((function(t){var e=t.dataItems.getIndex(0);e&&t.dataItems.remove(e)})),i._parseDataFrom--,e--}i.invalidateData()}},e.prototype.removeData=function(e){this.scrollbarX instanceof Ul&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof Ul&&this.removeScrollbarData(this.scrollbarY,e),t.prototype.removeData.call(this,e)},e.prototype.setTapToActivate=function(e){t.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},e.prototype.handleTapToActivate=function(){t.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},e.prototype.handleTapToActivateDeactivation=function(){t.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},e}(tl);fr.registeredClasses.XYChart=Tl,So.push({relevant:To.maybeXS,state:function(t,e){if(t instanceof Tl&&t.scrollbarX){var i=t.states.create(e);return t.scrollbarX.states.create(e).properties.disabled=!0,i}return null}}),So.push({relevant:To.maybeXS,state:function(t,e){if(t instanceof Tl&&t.scrollbarY){var i=t.states.create(e);return t.scrollbarY.states.create(e).properties.disabled=!0,i}return null}});var kl=function(t){function e(){var e=t.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var i=e.createChild(mo);e.fillSprite=i,i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i);var r=e.createChild(mo);return e.strokeSprite=r,r.shouldClone=!1,r.fill=Rr(),r.setElement(e.paper.add("path")),r.isMeasured=!1,e._disposers.push(r),e}return Object(h.d)(e,t),e.prototype.drawSegment=function(t,e,i,r){if(!this.disabled)if(t.length>0&&e.length>0){var n=jo({x:t[0].x-.2,y:t[0].y-.2})+jo(t[0])+new ds(i,r).smooth(t);0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(n+=zo(e[0])+new ds(i,r).smooth(e),n+=zo(t[0]),this.fillSprite.path=n+=" Z")}else this.fillSprite.path="",this.strokeSprite.path=""},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e);var i=this.strokeSprite;Zi(e,i.properties,bo),i.events.copyFrom(e.strokeSprite.events),i.fillOpacity=0;var r=this.fillSprite;Zi(e,r.properties,bo),r.events.copyFrom(e.fillSprite.events),r.strokeOpacity=0},e}(yo);fr.registeredClasses.LineSeriesSegment=kl;var Il=function(t){function e(){var e=t.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(bl),Al=function(t){function e(){var e=t.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.formatLabel=function(t,e){return this.durationFormatter.format(t,e||this.axisDurationFormat)},e.prototype.adjustMinMax=function(e,i,r,n,a){var o,s,l,c,u=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==u||"second"==u||"minute"==u||"hour"==u){n<=1&&(n=1),n=Math.round(n);var p=e,d=i;0===r&&(r=Math.abs(i));var f,b=[60,30,20,15,10,2,1],m=1;"hour"==u&&(b=[24,12,6,4,2,1]);try{for(var g=Object(h.i)(b),y=g.next();!y.done;y=g.next()){var v=y.value;if(r/v>n){m=v;break}}}catch(C){o={error:C}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}var _=Math.ceil((i-e)/m/n),x=Math.log(Math.abs(_))*Math.LOG10E,w=Math.pow(10,Math.floor(x))/10,V=(c=_/w,b.reduce((function(t,e){return Math.abs(e-c)<Math.abs(t-c)?e:t})));this.durationFormatter.getValueUnit(f=m*(_=V*w),this.baseUnit),e=Math.floor(e/f)*f,i=Math.ceil(i/f)*f,a&&((e-=f)<0&&p>=0&&(e=0),(i+=f)>0&&d<=0&&(i=0)),l={min:e,max:i,step:f}}else l=t.prototype.adjustMinMax.call(this,e,i,r,n,a);return this.axisDurationFormat=this.durationFormatter.getFormat(l.step,l.max,this.baseUnit),l},Object.defineProperty(e.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(t){this._tooltipDurationFormat=t},enumerable:!0,configurable:!0}),e.prototype.getTooltipText=function(t){var e=Ie(this.positionToValue(t),this._stepDecimalPlaces),i=this.formatLabel(e,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},Object.defineProperty(e.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit!=t&&(this._baseUnit=t,this.durationFormatter.baseUnit=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},e}(ml);fr.registeredClasses.DurationAxis=Al,fr.registeredClasses.DurationAxisDataItem=Il;var Ol=function(t){function e(){var e=t.call(this)||this;return e.className="LineSeriesDataItem",e}return Object(h.d)(e,t),e}(Cl),Dl=function(t){function e(){var e=t.call(this)||this;return e.minDistance=.5,e.segments=new _r(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new gr(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new sr(e.segments,(function(){return e.segments.create()})),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.segmentsContainer=e.mainContainer.createChild(yo),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},e.prototype.createSegment=function(){return new kl},e.prototype.createDataItem=function(){return new Ol},e.prototype.setInitialWorkingValues=function(t){var e=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var r=this.dataItems.getIndex(t.index-1);if(t.component=this,this.baseAxis==i&&e instanceof ml){var n=e.minZoomed;if(r&&(n=r.values.valueY.workingValue),t.setWorkingValue("valueY",n,0),t.setWorkingValue("valueY",t.values.valueY.value),i instanceof vl)t.setWorkingLocation("dateX",t.locations.dateX-1,0),t.setWorkingLocation("dateX",t.locations.dateX);else if(i instanceof Al&&r){var a=t.valueX;t.setWorkingValue("valueX",r.valueX,0),t.setWorkingValue("valueX",a)}}if(this.baseAxis==e&&i instanceof ml){var o=i.minZoomed;r&&(o=r.values.valueX.workingValue),t.setWorkingValue("valueX",o,0),t.setWorkingValue("valueX",t.values.valueX.value),e instanceof vl?(t.setWorkingLocation("dateY",t.locations.dateX-1,0),t.setWorkingLocation("dateY",t.locations.dateY)):e instanceof Al&&r&&(a=t.valueY,t.setWorkingValue("valueY",r.valueY,0),t.setWorkingValue("valueY",a))}}else this.baseAxis==i&&e instanceof ml&&(i instanceof vl&&t.setWorkingLocation("dateX",t.locations.dateX),i instanceof Vl&&t.setWorkingLocation("categoryX",t.locations.categoryX)),this.baseAxis==e&&i instanceof ml&&(e instanceof vl&&t.setWorkingLocation("dateY",t.locations.dateY),e instanceof Vl&&t.setWorkingLocation("categoryY",t.locations.categoryY))},e.prototype.updateLegendValue=function(e,i){t.prototype.updateLegendValue.call(this,e,i),e&&e.segment&&(this.tooltipColorSource=e.segment)},e.prototype.validate=function(){var e=this;t.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),ir(this.axisRanges.iterator(),(function(t){e.openSegmentWrapper(e._adjustedStartIndex,t)})),ir(this._segmentsIterator.iterator(),(function(t){t.__disabled=!0})))},e.prototype.sliceData=function(){for(var t=this.startIndex,e=this.endIndex,i=this.startIndex-1;i>=0;i--)if((n=this.dataItems.getIndex(i))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){t=i;break}this._adjustedStartIndex=this.findAdjustedIndex(t,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]),i=this.endIndex;for(var r=this.dataItems.length;i<r;i++){var n;if((n=this.dataItems.getIndex(i))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){e=i+1;break}}this._workingStartIndex=t,this._workingEndIndex=e},e.prototype.findAdjustedIndex=function(t,e){var i=this,r=this.propertyFields,n=t;return oi(e,(function(e){if(ge(r[e]))for(var a=n;a>=0;a--){var o=i.dataItems.getIndex(a);if(o&&ge(o.properties[e])){t>a&&(t=a);break}}})),t},e.prototype.openSegmentWrapper=function(t,e){var i={index:t,axisRange:e};do{i=this.openSegment(i.index,i.axisRange)}while(i)},e.prototype.getSegment=function(){var t=this._segmentsIterator.getFirst();return t.isDisposed()?(this.segments.removeValue(t),this.getSegment()):t},e.prototype.openSegment=function(t,e){var i=!1,r=[];t=Math.min(t,this.dataItems.length);var n,a=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o=!1,s=this.getSegment();s.__disabled=!1,e?(s.parent=e.contents,Zi(e.contents,s,bo)):(Zi(this,s,bo),s.filters.clear(),s.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var l=this.connect,c=!1,u=t;u<a;u++){var h=this.dataItems.getIndex(u);if(h.segment=s,h.hasProperties&&(u==t?this.updateSegmentProperties(h.properties,s):o=this.updateSegmentProperties(h.properties,s,!0)),h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields))this.addPoints(r,h,this.xField,this.yField),c=!0;else{if(u==t)continue;if(!l&&c){n=u;break}}if(n=u,this.baseAxis instanceof vl){var p=this.dataItems.getIndex(u+1);if(p&&this.baseAxis.makeGap(p,h)){i=!0;break}}if(o)break}return this.closeSegment(s,r,t,n,e,i)},e.prototype.addPoints=function(t,e,i,r,n){var a=this.getPoint(e,i,r,e.workingLocations[i],e.workingLocations[r]);n||(e.point=a),t.push(a)},e.prototype.closeSegment=function(t,e,i,r,n,a){var o=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var s=r;s>=i;s--){var l=this.dataItems.getIndex(s);l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)&&this.addPoints(o,l,this.xOpenField,this.yOpenField,!0)}else{var c=e.length,u=this.xAxis,h=this.yAxis;c>0&&(this.baseAxis==u?(o.push({x:e[c-1].x,y:h.basePoint.y}),o.push({x:e[0].x,y:h.basePoint.y})):(o.push({x:u.basePoint.x,y:e[c-1].y}),o.push({x:u.basePoint.x,y:e[0].y})))}return this.drawSegment(t,e,o),a&&r++,r<this._workingEndIndex-1?{index:r,axisRange:n}:null},e.prototype.drawSegment=function(t,e,i){t.drawSegment(e,i,this.tensionX,this.tensionY)},e.prototype.updateSegmentProperties=function(t,e,i){var r=!1;return qi(t,(function(t,n){if(ge(n)){var a=e[t],o=void 0;a&&(o=a.toString?a.toString():a);var s=void 0;n&&(s=n.toString?n.toString():n),a==n||null!=o&&null!=s&&o==s||(i||(e[t]=n),r=!0)}})),r},Object.defineProperty(e.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(t){this.setPropertyValue("connect",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(t){this.setPropertyValue("tensionX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(t){this.setPropertyValue("tensionY",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){var e=this,i=t.pixelWidth,r=t.pixelHeight;t.disposeChildren();var n=t.createChild(Ro);if(n.shouldClone=!1,Zi(this,n,bo),n.x2=i,n.y=r/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var a=t.createChild(go);Zi(this,a,bo),a.width=i,a.height=r,a.y=0,a.strokeOpacity=0,a.visible=!0,n.y=0}var o=t.dataItem;o.color=this.stroke,o.colorOrig=this.fill,er(this.bullets.iterator(),(function(n){if(n instanceof Ys&&!n.copyToLegendMarker)return!1;var a=!1;if(n instanceof yo&&ir(n.children.iterator(),(function(t){if(t instanceof Ao)return a=!0,!0})),!a){var o=n.clone();return o.parent=t,o.isMeasured=!0,o.tooltipText=void 0,o.x=i/2,o.y=e.fillOpacity>0?0:r/2,o.visible=!0,ge(o.fill)||(o.fill=e.fill),ge(o.stroke)||(o.stroke=e.stroke),!1}}))},e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(e.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(t){this.setPropertyValue("autoGapCount",t,!0)},enumerable:!0,configurable:!0}),e}(Pl);fr.registeredClasses.LineSeries=Dl,fr.registeredClasses.LineSeriesDataItem=Ol;var Ml=function(t){function e(){var e=t.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return Object(h.d)(e,t),e}(Ol),Fl=function(t){function e(){var e=t.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},e.prototype.createDataItem=function(){return new Ml},e.prototype.getPoint=function(t,e,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=je({x:this.yAxis.getX(t,i,n,o),y:this.yAxis.getY(t,i,n,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(t,e,r,a);return l<this.chart.startAngle||l>this.chart.endAngle?void 0:{x:s*Fe(l),y:s*De(l)}},e.prototype.addPoints=function(t,e,i,r,n){var a=this.getPoint(e,i,r,e.locations[i],e.locations[r]);a&&t.push(a)},e.prototype.getMaskPath=function(){var t=this.yAxis.renderer;return Wo(t.startAngle,t.endAngle-t.startAngle,t.pixelRadius,t.pixelInnerRadius)},e.prototype.drawSegment=function(e,i,r){var n=this.yAxis.renderer;this.connectEnds&&360==Math.abs(n.endAngle-n.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),t.prototype.drawSegment.call(this,e,i,r)},Object.defineProperty(e.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(t){this.setPropertyValue("connectEnds",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionBulletReal=function(t,e,i){var r=this.xAxis,n=this.yAxis;(e<r.start||e>r.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},e.prototype.setXAxis=function(e){t.prototype.setXAxis.call(this,e),this.updateRendererRefs()},e.prototype.setYAxis=function(e){t.prototype.setYAxis.call(this,e),this.updateRendererRefs()},e.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},e}(Dl);fr.registeredClasses.RadarSeries=Fl,fr.registeredClasses.RadarSeriesDataItem=Ml;var El=function(t){function e(e){var i=t.call(this,e)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=ue(100),i.applyTheme(),i}return Object(h.d)(e,t),e.prototype.draw=function(){if(t.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,ge(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),e}(ol);fr.registeredClasses.AxisFillCircular=El;var Rl=function(t){function e(){var e=t.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),e}(sl);fr.registeredClasses.GridCircular=Rl;var Ll=function(t){function e(){var e=t.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(t){if(this.setPropertyValue("relativeRotation",t,!0),!ge(t)){this.rotation=void 0;var e=this.dataItem;e&&e.component&&e.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(t){this.setPropertyValue("bent",t,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),t?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),e.prototype.pixelRadius=function(t){var e=1;return this.inside&&(e=-1),Wr(this.radius,t)*e},e.prototype.pixelRadiusY=function(t,e){var i=1;this.inside&&(i=-1);var r=this.radius;return we(r)?Wr(r*=e/t,t)*i:Wr(r,e)*i},e.prototype.fixPosition=function(t,e,i,r,n){we(i)||(i=e),we(r)||(r=0),we(n)||(n=0);var a={x:e*Fe(t),y:i*De(t)};this.invalid&&this.validate();var o=!1,s=this.radius;s instanceof ce&&s.value<0?o=!0:s<0&&(o=!0);var l=this.relativeRotation,c=this.pixelRadius(e);if(this.bent){var u={x:(e+c)*Fe(t+180),y:(i+c*i/e)*De(t+180)};return this.path=jo(u)+Xo(t+180,360,e+c,i+c*i/e),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(we(l)){this.horizontalCenter="none",this.verticalCenter="none",t=$e(t,-180,180);var h=this.bbox.width,p=this.bbox.height,d=this.pixelPaddingBottom,f=this.pixelPaddingTop,b=this.pixelPaddingLeft,m=this.pixelPaddingRight;t>90||t<-90?-90==l&&(l=90,h=0):(-90==l&&(p=-p),90==l&&(l=-90,h=-b-m,p=-p-f-d)),this.rotation=l+t+90;var g=De(l)/2,y=Fe(l)/2,v=this.rotation;this.dx=p*g*De(v)-h*y*Fe(v),this.dy=-p*g*Fe(v)-h*y*De(v),this.inside?t>90||t<-90?c-=(d+f)*Fe(l)+(b+m)*De(l):c+=(d+this.bbox.height+f)*Fe(l)+(b+m+this.bbox.width)*De(l):c+=(p+d+f)*Fe(l)+(h+b+m)*De(l),a.x+=Fe(t)*c,a.y+=De(t)*c*i/e}else this.horizontalCenter="middle",this.verticalCenter="middle",o?(this.dx=0,this.dy=0,a.x=(e+c)*Fe(t),a.y=(i+c*i/e)*De(t)):(this.dy=this._measuredHeight/2*De(t),this.dx=this._measuredWidth/2*Fe(t),a.x+=Fe(t)*c,a.y+=De(t)*c*i/e);a.x+=r,a.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(a)},e}(ll);fr.registeredClasses.AxisLabelCircular=Ll;var Hl=function(t){function e(){var e=t.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=ue(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.setAxis=function(e){var i=this;t.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",(function(t,e){var r=bn({x:e.pixelX,y:e.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(r.y,r.x))-r.x})),r.adapter.add("dy",(function(t,e){var r=bn({x:e.pixelX,y:e.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(r.y,r.x))-r.y}))},e.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return Gr(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(ge(e)){if(e instanceof ce&&t){var i=t.mr,r=e.value;e=ue(100*(r=Math.max(i*r,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i))}}else(e=t.innerRadius)instanceof ce&&t&&(e=ue(e.value*t.innerRadiusModifyer*100));return e},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(t){this.setPropertyValue("useChartAngles",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return Gr(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){we(e)||(e=1);var i=this.positionToCoordinate(t),r=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,n=this.pixelRadius,a=this.pixelInnerRadius;if(this.axisRendererY){var o=Oe(this.axisRendererY.positionToCoordinate(e),0,1/0);return{x:o*Fe(r),y:o*De(r)}}return{x:Fe(r)*a+(n-a)*Fe(r)*e,y:De(r)*a+(n-a)*De(r)*e}},e.prototype.positionToAngle=function(t){var e=this.axis,i=(this.endAngle-this.startAngle)/(e.end-e.start);return Ie(e.renderer.inversed?this.startAngle+(e.end-t)*i:this.startAngle+(t-e.start)*i,3)},e.prototype.angleToPosition=function(t){var e=this.axis,i=(this.endAngle-this.startAngle)/(e.end-e.start);return Ie(e.renderer.inversed?e.end-(t-this.startAngle)/i:(t-this.startAngle)/i+e.start,5)},e.prototype.updateAxisLine=function(){var t=this.pixelRadius,e=this.startAngle,i=this.endAngle-e;this.line.path=jo({x:t*Fe(e),y:t*De(e)})+Xo(e,i,t,t)},e.prototype.updateGridElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);if(we(r.x)&&we(r.y)&&t.element){var n=Te*Math.atan2(r.y,r.x),a=Gr(ge(t.radius)?t.radius:ue(100),this.pixelRadius),o=Gr(t.innerRadius,this.pixelRadius);t.zIndex=0;var s=Gr(we(o)?o:this.innerRadius,this.pixelRadiusReal,!0);t.path=jo({x:s*Fe(n),y:s*De(n)})+zo({x:a*Fe(n),y:a*De(n)})}this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);if(t.element){var n=this.pixelRadius,a=Te*Math.atan2(r.y,r.x),o=t.length;t.inside&&(o=-o),t.zIndex=1,t.path=jo({x:n*Fe(a),y:n*De(a)})+zo({x:(n+o)*Fe(a),y:(n+o)*De(a)})}this.toggleVisibility(t,e,0,1)},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location);var n=this.positionToPoint(e+=(i-e)*r),a=this.pixelRadius,o=Te*Math.atan2(n.y,n.x);n={x:a*Fe(o),y:a*De(o)},this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location),t.fixPosition(this.positionToAngle(e+=(i-e)*r),this.pixelRadius),t.zIndex=2,this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e.prototype.getPositionRangePath=function(t,e,i,r,n){var a="";if(we(t)&&we(e)){ge(i)||(i=this.radius),t=Ee(t,this.axis.start),(e=Re(e,this.axis.end))<t&&(e=t);var o=Gr(i,this.pixelRadius),s=Gr(r,this.pixelRadius,!0),l=this.positionToAngle(t);a=Wo(l,this.positionToAngle(e)-l,o,s,o,n)}return a},e.prototype.createGrid=function(){return new Rl},e.prototype.createFill=function(t){return new El(t)},e.prototype.createLabel=function(){return new Ll},e.prototype.pointToPosition=function(t){var e=$e(Xe(t),this.startAngle,this.endAngle);return this.coordinateToPosition((e-this.startAngle)/360*this.axisLength)},e}(hl);fr.registeredClasses.AxisRendererCircular=Hl;var jl=function(t){function e(){var e=t.call(this)||this;return e._chart=new Oi,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=ue(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return Gr(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(ge(e)){if(e instanceof ce&&t){var i=t.mr,r=e.value;e=ue(100*(r=Math.max(i*r,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i))}}else(e=t.innerRadius)instanceof ce&&t&&(e=ue(e.value*t.innerRadiusModifyer*100));return e},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return Gr(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){var i=Oe(this.positionToCoordinate(t),0,1/0);return{x:i*Fe(this.axisAngle),y:i*De(this.axisAngle)}},e.prototype.updateAxisLine=function(){this.line.path=jo({x:this.pixelInnerRadius*Fe(this.axisAngle),y:this.pixelInnerRadius*De(this.axisAngle)})+zo({x:this.pixelRadius*Fe(this.axisAngle),y:this.pixelRadius*De(this.axisAngle)});var t=this.axis.title;t.valign="none",t.horizontalCenter="middle",t.verticalCenter="bottom",t.y=-this.axisLength/2;var e=90;this.opposite?this.inside||(e=-90):this.inside&&(e=-90),t.rotation=e},e.prototype.updateGridElement=function(t,e,i){var r,n=je(this.positionToPoint(e+=(i-e)*t.location)),a=this.startAngle,o=this.endAngle;if(we(n)&&t.element){var s=this.chart,l=s.xAxes.getIndex(0),c=0,u=s.series.getIndex(0);if(u&&(c=u.dataItems.length),"polygons"==this.gridType&&c>0&&u&&l&&l instanceof Vl){var h=l.renderer.grid.template.location,p=l.getAngle(u.dataItems.getIndex(0),"categoryX",h);r=jo({x:n*Fe(p),y:n*De(p)});for(var d=1;d<c;d++)r+=zo({x:n*Fe(p=l.getAngle(u.dataItems.getIndex(d),"categoryX",h)),y:n*De(p)});r+=zo({x:n*Fe(p=l.getAngle(u.dataItems.getIndex(c-1),"categoryX",l.renderer.cellEndLocation)),y:n*De(p)})}else r=jo({x:n*Fe(a),y:n*De(a)})+Xo(a,o-a,n,n);t.path=r}this.toggleVisibility(t,e,0,1)},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);this.positionItem(t,n),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBaseGridElement=function(){},e.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(t){this.setPropertyValue("axisAngle",Qe(t)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Vl?this.getPropertyValue("gridType"):"circles"},set:function(t){this.setPropertyValue("gridType",t,!0)},enumerable:!0,configurable:!0}),e.prototype.getPositionRangePath=function(t,e){var i,r=this.pixelInnerRadius,n=this.axisLength+r,a=Oe(this.positionToCoordinate(t),r,n),o=Oe(this.positionToCoordinate(e),r,n),s=this.startAngle,l=this.endAngle-s,c=this.chart,u=c.xAxes.getIndex(0),h=c.series.getIndex(0),p=0;if(h&&(p=h.dataItems.length),"polygons"==this.gridType&&p>0&&h&&u&&u instanceof Vl){var d=u.renderer.grid.template.location,f=u.getAngle(h.dataItems.getIndex(0),"categoryX",d);i=jo({x:o*Fe(f),y:o*De(f)});for(var b=1;b<p;b++)i+=zo({x:o*Fe(f=u.getAngle(h.dataItems.getIndex(b),"categoryX",d)),y:o*De(f)});for(i+=zo({x:o*Fe(f=u.getAngle(h.dataItems.getIndex(p-1),"categoryX",u.renderer.cellEndLocation)),y:o*De(f)}),i+=jo({x:a*Fe(f),y:a*De(f)}),b=p-1;b>=0;b--)i+=zo({x:a*Fe(f=u.getAngle(h.dataItems.getIndex(b),"categoryX",d)),y:a*De(f)})}else i=Wo(s,l,o,a);return i},e.prototype.updateBreakElement=function(t){var e=t.endLine,i=t.fillShape,r=t.startPoint,n=t.endPoint;t.startLine.radius=Math.abs(r.y),e.radius=Math.abs(n.y),i.radius=Math.abs(n.y),i.innerRadius=Math.abs(r.y)},e.prototype.createBreakSprites=function(t){t.startLine=new bs,t.endLine=new bs,t.fillShape=new bs},e.prototype.updateTooltip=function(){if(this.axis){var t=this.axisAngle;t<0&&(t+=360);var e="vertical";(t>45&&t<135||t>225&&t<315)&&(e="horizontal"),this.axis.updateTooltip(e,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},e.prototype.updateTickElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);if(t.element){var n=Qe(this.axisAngle+90);t.pixelPerfect=n/90==Math.round(n/90);var a=-t.length;t.inside&&(a*=-1),t.path=jo({x:0,y:0})+zo({x:a*Fe(n),y:a*De(n)})}this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength,r=this.pixelInnerRadius;return Ie(e.renderer.inversed?(e.end-t)*i+r:(t-e.start)*i+r,1)},e.prototype.pointToPosition=function(t){var e=je(t)-this.pixelInnerRadius;return this.coordinateToPosition(e)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e}(dl);fr.registeredClasses.AxisRendererRadial=jl;var zl=function(t){function e(){var e=t.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Sl),Bl=function(t){function e(){var e=t.call(this)||this;e._axisRendererX=Hl,e._axisRendererY=jl,e.innerRadiusModifyer=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=0;var i=e.plotContainer.createChild(yo);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.radarContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer=i,e._cursorContainer=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=i.createChild(Mo),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},e.prototype.processAxis=function(e){t.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.radarContainer,i.toBack()},e.prototype.handleXAxisRangeChange=function(){t.prototype.handleXAxisRangeChange.call(this),ir(this.yAxes.iterator(),(function(t){t.invalidate()}))},e.prototype.handleYAxisRangeChange=function(){t.prototype.handleYAxisRangeChange.call(this),ir(this.xAxes.iterator(),(function(t){t.invalidate()}))},e.prototype.processConfig=function(e){if(e&&(ge(e.cursor)&&!ge(e.cursor.type)&&(e.cursor.type="RadarCursor"),ge(e.series)&&Ce(e.series)))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"RadarSeries";t.prototype.processConfig.call(this,e)},e.prototype.beforeDraw=function(){t.prototype.beforeDraw.call(this);var e=this.plotContainer,i=ti(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},n=this.innerRadius;if(n instanceof ce){var a=n.value,o=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);this.mr=o,a=Math.max(o*a,o-Math.min(e.innerHeight,e.innerWidth))/o,r=ti(this.startAngle,this.endAngle,a),this.innerRadiusModifyer=a/n.value,n=ue(100*a)}i=Ge([i,r]);var s=Math.min(e.innerWidth/i.width,e.innerHeight/i.height),l=2*Gr(this.radius,s)||0,c=l/2,u=this.startAngle,h=this.endAngle;this._pixelInnerRadius=Gr(n,c),this._bulletMask.path=Wo(u,h-u,c,this._pixelInnerRadius),ir(this.xAxes.iterator(),(function(t){t.renderer.useChartAngles&&(t.renderer.startAngle=u,t.renderer.endAngle=h),t.width=l,t.height=l,t.renderer.pixelRadiusReal=c})),ir(this.yAxes.iterator(),(function(t){t.renderer.startAngle=u,t.renderer.endAngle=h,t.width=l,t.height=l,t.renderer.pixelRadiusReal=c}));var p=this.cursor;p&&(p.width=l,p.height=l,p.startAngle=u,p.endAngle=h),this.radarContainer.definedBBox={x:c*i.x,y:c*i.y,width:c*i.width,height:c*i.height},this.radarContainer.validatePosition()},e.prototype.createSeries=function(){return new Fl},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),e.prototype.updateXAxis=function(t){t&&t.processRenderer()},e.prototype.updateYAxis=function(t){t&&t.processRenderer()},e}(Tl);fr.registeredClasses.RadarChart=Bl;var Nl,Xl=function(t){function e(){var e=t.call(this)||this;e._axis=new Oi,e.className="ClockHand";var i=new ma;e.fill=i.getFor("alternativeBackground"),e.stroke=e.fill;var r=new Mo;r.radius=5,e.pin=r,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=ue(100),e.height=ue(100),e.radius=ue(100),e.innerRadius=ue(0);var n=new hs;return e.hand=n,e._disposers.push(e._axis),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(e.height=i,e.leftSide=ue(this.startWidth/i*100),e.rightSide=ue(this.endWidth/i*100),this.axis){var r=this.axis.renderer,n=Gr(this.innerRadius,r.pixelRadius),a=Gr(this.radius,r.pixelRadius);e.x=n,e.y=-i/2,e.width=a-n}},Object.defineProperty(e.prototype,"pin",{get:function(){return this._pin},set:function(t){this._pin&&this.removeDispose(this._pin),t&&(this._pin=t,t.parent=this,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hand",{get:function(){return this._hand},set:function(t){this._hand&&this.removeDispose(this._hand),t&&(this._hand=t,t.parent=this,this._disposers.push(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(t){this.setPropertyValue("startWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(t){this.setPropertyValue("endWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(t){this.setPropertyValue("rotationDirection",t)},enumerable:!0,configurable:!0}),e.prototype.showValue=function(t,e,i){if(this._value=t,null!=t&&(we(e)||(e=0),this.axis)){var r=this.axis.renderer.positionToAngle(this.axis.anyToPosition(t)),n=this.rotation;"clockWise"==this.rotationDirection&&r<n&&(this.rotation=n-360),"counterClockWise"==this.rotationDirection&&r>n&&(this.rotation=n+360),this.animate({property:"rotation",to:r},e,i)}},Object.defineProperty(e.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this.showValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this.axis!=t&&this._axis.set(t,new Ai([t.events.on("datavalidated",this.updateValue,this,!1),t.events.on("datarangechanged",this.updateValue,this,!1),t.events.on("dataitemsvalidated",this.updateValue,this,!1),t.events.on("propertychanged",this.invalidate,this,!1)])),t){var e=t.chart;e&&(this.rotation=e.startAngle)}this.parent=t.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),e.prototype.updateValue=function(){this.value=this.value},e.prototype.processConfig=function(e){e&&ge(e.axis)&&xe(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),t.prototype.processConfig.call(this,e)},e}(yo);fr.registeredClasses.ClockHand=Xl,Nl=zl,Object(h.d)((function(){var t=Nl.call(this)||this;return t.className="GaugeChartDataItem",t.applyTheme(),t}),Nl);var Wl=function(t){function e(){var e=t.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new _r(new Xl),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new gr(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},e.prototype.processHand=function(t){var e=t.newValue;e.axis||(e.axis=this.xAxes.getIndex(0))},e.prototype.configOrder=function(e,i){return e==i?0:"hands"==e?1:"hands"==i?-1:t.prototype.configOrder.call(this,e,i)},e}(Bl);fr.registeredClasses.GaugeChart=Wl;var Gl=function(t){function e(){var e=t.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.uidAttr=function(){return this.slice.uidAttr()},e.prototype.hide=function(e,i,r,n){return n||(n=["value"]),t.prototype.hide.call(this,e,i,0,n)},e.prototype.setVisibility=function(e,i){i||this.setWorkingValue("value",e?this.values.value.value:0,0,0),t.prototype.setVisibility.call(this,e,i)},e.prototype.show=function(e,i,r){return r||(r=["value"]),t.prototype.show.call(this,e,i,r)},Object.defineProperty(e.prototype,"category",{get:function(){return this.properties.category},set:function(t){this.setProperty("category",t)},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){this.component.createLegendMarker(t,this)},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,t.label&&(t.label.dataItem=this),t.valueLabel&&(t.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){var t=this;if(!this._tick){var e=this.component.ticks.create();this._tick=e,this.addSprite(e),this._disposers.push(e),e.parent=this.component.ticksContainer,this._disposers.push(new Ii((function(){t.component&&t.component.ticks.removeValue(e)}))),e.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this.addSprite(e),this._label=e,this._disposers.push(e),e.parent=this.component.labelsContainer,this._disposers.push(new Ii((function(){t.component&&t.component.labels.removeValue(e)}))),e.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slice",{get:function(){var t=this;if(!this._slice){var e=this.component,i=e.slices.create();this.addSprite(i),this._slice=i,this._disposers.push(i),i.parent=e.slicesContainer,this._disposers.push(new Ii((function(){e.slices.removeValue(i)}))),i.visible=this.visible,e.itemsFocusable()?(this.component.role="menu",i.role="menuitem",i.focusable=!0):(this.component.role="list",i.role="listitem",i.focusable=!1),i.focusable&&(i.events.on("focus",(function(r){i.readerTitle=e.populateString(e.itemReaderText,t)}),void 0,!1),i.events.on("blur",(function(t){i.readerTitle=""}),void 0,!1)),i.hoverable&&(i.events.on("over",(function(r){i.readerTitle=e.populateString(e.itemReaderText,t)}),void 0,!1),i.events.on("out",(function(t){i.readerTitle=""}),void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(t){this.setProperty("hiddenInLegend",t)},enumerable:!0,configurable:!0}),e}(Zs),Yl=function(t){function e(){var e=t.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Fs,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var i=e.createChild(yo);i.shouldClone=!1,i.isMeasured=!1,e.slicesContainer=i;var r=e.createChild(yo);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",e.ticksContainer=r;var n=e.createChild(yo);return n.shouldClone=!1,n.isMeasured=!1,n.layout="none",e.labelsContainer=n,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50,e.defaultState.transitionEasing=Mn,e.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createSlice=function(){return new mo},e.prototype.createTick=function(){return new cl},e.prototype.createLabel=function(){return new Ao},Object.defineProperty(e.prototype,"slices",{get:function(){if(!this._slices){var t=this.createSlice();t.applyOnClones=!0,this._disposers.push(t),this.initSlice(t),this._slices=new _r(t),this._disposers.push(new gr(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,this._disposers.push(t),this.initTick(t),this._ticks=new _r(t),this._disposers.push(new gr(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();t.applyOnClones=!0,this._disposers.push(t),this.initLabel(t),this._labels=new _r(t),this._disposers.push(new gr(this._labels))}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createDataItem=function(){return new Gl},e.prototype.initSlice=function(t){},e.prototype.initLabel=function(t){t.text="{category}: {value.percent.formatNumber('#.0')}%",t.isMeasured=!1,t.padding(5,5,5,5)},e.prototype.initTick=function(t){},e.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),t.prototype.validateDataItems.call(this)},e.prototype.validateDataElement=function(e){var i=e.slice;i&&(null==i.fill?this.patterns?(ge(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),ge(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof Er&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==i.stroke&&(i.stroke=i.fill)),t.prototype.validateDataElement.call(this,e),i&&e.bullets.each((function(t,e){null==e.fill&&(e.fill=i.fill),null==e.stroke&&(e.stroke=i.stroke)})),this.updateLegendValue(e)},e.prototype.validateData=function(){t.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},e.prototype.arrangeLabels=function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e].label;if(r){r.invalid&&r.validate();var n=r.measuredHeight;r.visible||(n=0),r.pixelY-n/2<-this.maxHeight/2&&(r.y=-this.maxHeight/2+n/2);var a=this.getNextLabel(e+1,t),o=r.pixelY+n;a&&a.y<o&&(a.y=o)}}},e.prototype.arrangeLabels2=function(t){for(var e=this.maxHeight/2,i=t.length-1;i>=0;i--){var r=t[i].label;if(r){r.invalid&&r.validate();var n=r.measuredHeight;r.visible||(n=0),i==t.length-1&&(e+=n/2),r.pixelY+n>e&&(r.y=e-n,e=r.y)}}},e.prototype.getNextLabel=function(t,e){if(e.length>=t){var i=e[t];if(i)return i.label&&i.visible?i.label:this.getNextLabel(t+1,e)}},Object.defineProperty(e.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t,e){ir(t.children.iterator(),(function(i){var r=e.slice;i.defaultState.properties.fill=r.fill,i.defaultState.properties.stroke=r.stroke,i.defaultState.properties.fillOpacity=r.fillOpacity,i.defaultState.properties.strokeOpacity=r.strokeOpacity,i.fill=r.fill,i.stroke=r.stroke,i.fillOpacity=r.fillOpacity,i.strokeOpacity=r.strokeOpacity,null==i.fill&&(i.__disabled=!0);var n=t.dataItem;n.color=r.fill,n.colorOrig=r.fill,i.addDisposer(r.events.on("propertychanged",(function(t){"fill"==t.property&&(i.__disabled=!1,i.isActive||(i.fill=r.fill),i.defaultState.properties.fill=r.fill,n.color=r.fill,n.colorOrig=r.fill),"stroke"==t.property&&(i.isActive||(i.stroke=r.stroke),i.defaultState.properties.stroke=r.stroke)}),void 0,!1))}))},e.prototype.handleSliceScale=function(t){var e=this;ir(t.target.dataItem.bullets.iterator(),(function(t){e.positionBullet(t[1])}))},e.prototype.handleSliceMove=function(t){},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(e.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(t){this.setAlignLabels(t)},enumerable:!0,configurable:!0}),e.prototype.setAlignLabels=function(t){this.setPropertyValue("alignLabels",t,!0)},Object.defineProperty(e.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(t){this.setPropertyValue("ignoreZeroValues",t,!0)},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(t){if(t){var e=t.legendDataItem,i=t.legendSettings;e&&i&&i&&(i.labelText&&(e.label.text=i.labelText),i.itemLabelText&&(e.label.text=i.itemLabelText),i.valueText&&(e.valueLabel.text=i.valueText),i.itemValueText&&(e.valueLabel.text=i.itemValueText))}},e}(Qs);fr.registeredClasses.PercentSeries=Yl,fr.registeredClasses.PercentSeriesDataItem=Gl,So.push({relevant:To.maybeXS,state:function(t,e){if(t instanceof Yl){var i=t.states.create(e);return t.labels.template.states.create(e).properties.disabled=!0,t.ticks.template.states.create(e).properties.disabled=!0,i}return null}});var ql=function(t){function e(){var e=t.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}($s),Kl=function(t){function e(){var e=t.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validateData=function(){t.prototype.validateData.call(this),this.feedLegend()},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];ir(this.series.iterator(),(function(t){t.hiddenInLegend||ir(t.dataItems.iterator(),(function(i){i.hiddenInLegend||(e.push(i),i.legendSettings||(i.legendSettings=t.legendSettings))}))})),t.data=e,t.dataFields.name="category"}},e.prototype.createSeries=function(){return new Yl},e.prototype.setLegend=function(e){t.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",e.itemContainers.template.events.on("over",(function(t){var e=t.target.dataItem.dataContext;if(e.visible&&!e.isHiding){var i=e.slice;i.dispatchImmediately("over"),i.isHover=!0,i.interactions.isRealHover=!0}})),e.itemContainers.template.events.on("out",(function(t){var e=t.target.dataItem.dataContext.slice;e.dispatchImmediately("out"),e.isHover=!1})))},e}(tl);fr.registeredClasses.PercentChart=Kl,fr.registeredClasses.PercentChartDataItem=ql;var Jl=function(t){function e(){var e=t.call(this)||this;return e._label=new Oi,e._slice=new Oi,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.slice,i=this.label;if(e&&e.radius>0&&i&&i.text){var r=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,n=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,a=void 0,o=void 0,s=void 0,l=void 0;if(e.dataItem.component.alignLabels)a=i.pixelX-this.length,s=i.pixelX,l=o=i.pixelY,"right"==i.horizontalCenter&&(s=(a+=2*this.length)-this.length);else{var c=i.pixelRadius(e.radius);s=a=r+c*e.ix,l=o=n+c*e.iy}this.element.attr({points:[r,n,a,o,s,l]})}},Object.defineProperty(e.prototype,"slice",{get:function(){return this._slice.get()},set:function(t){this._slice.set(t,new Ai([t.events.on("transformed",this.invalidate,this),t.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label.get()},set:function(t){this._label.set(t,t.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),e}(cl);fr.registeredClasses.PieTick=Jl;var Zl=function(t){function e(){var e=t.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(t){this.setValue("radiusValue",t)},enumerable:!0,configurable:!0}),e.prototype.hide=function(e,i,r,n){return t.prototype.hide.call(this,e,i,0,["value","radiusValue"])},e.prototype.show=function(e,i,r){return t.prototype.show.call(this,e,i,["value","radiusValue"])},e}(Gl),Ql=function(t){function e(){var e=t.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=ue(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createSlice=function(){return new ts},e.prototype.createTick=function(){return new Jl},e.prototype.createLabel=function(){return new Ll},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},e.prototype.createDataItem=function(){return new Zl},e.prototype.initSlice=function(t){t.isMeasured=!1,t.defaultState.properties.scale=1,t.observe("scale",this.handleSliceScale,this),t.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),t.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",t.states.create("hover").properties.scale=1.05,t.defaultState.properties.shiftRadius=0,t.togglable=!0,t.events.on("toggled",(function(t){t.target.hideTooltip()})),t.states.create("active").properties.shiftRadius=.1},e.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=ti(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var i=this.dataItems.getIndex(e).values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i)}t.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort((function(t,e){var i=(t.slice.middleAngle+360)%360,r=(e.slice.middleAngle+360)%360;return i>270&&(i-=360),r>270&&(r-=360),i<r?-1:1})),this._leftItems.sort((function(t,e){return(t.slice.middleAngle+360)%360<(e.slice.middleAngle+360)%360?1:-1})),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},e.prototype.validateDataElement=function(e){if(this.pixelRadius>0){e.__disabled=!(!this.ignoreZeroValues||0!=e.value);var i=e.slice;if(i.radius=this.pixelRadius,we(e.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof ce||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=e.label,n=e.tick;n.slice=i,n.label=r;var a=(i.middleAngle+360)%360;if(this.alignLabels){var o=r.pixelRadius(i.radius),s=n.length+o;r.dx=0,r.dy=0,r.verticalCenter="middle";var l=this._arcRect;a>270||a<=90?(s+=(l.width+l.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(e)):(s-=l.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(e),s*=-1),r.moveTo({x:s,y:i.iy*(i.radius+n.length+o)})}else{var c=i.depth;we(c)||(c=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-c)}}this._currentStartAngle+=i.arc,t.prototype.validateDataElement.call(this,e)}},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(t){this._pixelRadius!=t&&(this._pixelRadius=t,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(t){this._pixelInnerRadius!=t&&(this._pixelInnerRadius=t,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){var t=this.getPropertyValue("startAngle");return we(t)?t:this._startAngleInternal},set:function(t){this.setPropertyValue("startAngle",Qe(t),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){var t=this.getPropertyValue("endAngle");return we(t)?t:this._endAngleInternal},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(e){t.prototype.positionBullet.call(this,e);var i=e.dataItem.slice,r=e.locationX;we(r)||(r=.5);var n=e.locationY;we(n)||(n=1);var a=i.startAngle+i.arc*r;e.x=n*i.radius*Fe(a),e.y=n*i.radiusY*De(a)},e.prototype.handleSliceMove=function(t){if(!this.alignLabels){var e=t.target,i=e.dataItem;if(i){var r=i.label;r&&(r.dx=r.fdx+e.dx+e.pixelX,r.dy=r.fdy+e.dy+e.pixelY)}}},Object.defineProperty(e.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var t=this.chart;return t?ti(t.startAngle,t.endAngle,this.pixelRadius):ti(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),e}(Yl);fr.registeredClasses.PieSeries=Ql,fr.registeredClasses.PieSeriesDataItem=Zl;var $l=function(t){function e(){var e=t.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(ql),tc=function(t){function e(){var e=t.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=ue(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var i=e.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},e.prototype.validateLayout=function(){t.prototype.validateLayout.call(this),this.updateRadius()},e.prototype.handleSeriesAdded=function(e){t.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},e.prototype.updateSeriesAngles=function(){var t=this;this.series.each((function(e){e._startAngleInternal=t.startAngle,e._endAngleInternal=t.endAngle}))},e.prototype.updateRadius=function(){var t=this.chartContainer,e=ti(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},r=this.innerRadius;r instanceof ce&&(i=ti(this.startAngle,this.endAngle,r.value)),e=Ge([e,i]);var n=Math.min(t.innerWidth/e.width,t.innerHeight/e.height);we(n)||(n=0);var a=Gr(this.radius,n),o=Gr(this.innerRadius,n),s=(a-o)/this.series.length;a==this._chartPixelRadius&&o==this._chartPixelInnerRadius||(this._chartPixelRadius=a,this._chartPixelInnerRadius=o,ir(ar(this.series.iterator()),(function(t){var e=t[0],i=t[1],r=o+Gr(i.radius,a-o),n=o+Gr(i.innerRadius,a-o);we(r)||(r=o+s*(e+1)),we(n)||(n=o+s*e),i.pixelRadius=r,i.pixelInnerRadius=n})),this.seriesContainer.definedBBox={x:a*e.x,y:a*e.y,width:a*e.width,height:a*e.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new Ql},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),e}(Kl);fr.registeredClasses.PieChart=tc,fr.registeredClasses.PieChartDataItem=$l;var ec=function(t){function e(){var e=t.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(t){this.setValue("depthValue",t)},enumerable:!0,configurable:!0}),e}(Zl),ic=function(t){function e(){var e=t.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new ec},e.prototype.createSlice=function(){return new Us},e.prototype.validateDataElement=function(e){var i=e.slice,r=this.depth;we(r)||(r=this.chart.depth);var n=e.values.depthValue.percent;we(n)||(n=100),i.depth=n*r/100;var a=this.angle;we(a)||(a=this.chart.angle),i.angle=a,t.prototype.validateDataElement.call(this,e)},e.prototype.validate=function(){t.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var i=this.dataItems.getIndex(e).slice,r=i.startAngle;r>=-90&&r<90?i.toFront():r>=90&&i.toBack()}},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t)},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(e){t.prototype.positionBullet.call(this,e),e.y=e.pixelY-e.dataItem.slice.depth},e}(Ql);fr.registeredClasses.PieSeries3D=ic,fr.registeredClasses.PieSeries3DDataItem=ec,function(t){Object(h.d)((function(){var e=t.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e}),t)}($l);var rc=function(t){function e(){var e=t.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){t=Oe(t,0,90),this.setPropertyValue("angle",t)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new ic},e}(tc);fr.registeredClasses.PieChart3D=rc;var nc=function(t){function e(){var e=t.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(ql),ac=function(t){function e(){var e=t.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},e.prototype.validate=function(){t.prototype.validate.call(this)},e}(Kl);fr.registeredClasses.SlicedChart=ac,fr.registeredClasses.SlicedChartDataItem=nc;var oc=function(t){function e(){var e=t.call(this)||this;return e.legendSettings=new Ks,e.className="FlowDiagramNode",e.isMeasured=!1,new ma,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return Object(h.d)(e,t),e.prototype.handleHit=function(t){this.isHidden||this.isHiding?this.show():this.hide()},e.prototype.show=function(e){var i=t.prototype.show.call(this,e);return this.outgoingDataItems.each((function(t){(!t.toNode||t.toNode&&!t.toNode.isHidden)&&t.setWorkingValue("value",t.getValue("value"),e)})),this.incomingDataItems.each((function(t){(!t.fromNode||t.fromNode&&!t.fromNode.isHidden)&&t.setWorkingValue("value",t.getValue("value"),e)})),i},e.prototype.hide=function(e){var i=t.prototype.hide.call(this,e);return this.outgoingDataItems.each((function(t){t.setWorkingValue("value",0,e)})),this.incomingDataItems.each((function(t){t.setWorkingValue("value",0,e)})),i},e.prototype.validate=function(){this.isDisposed()||(t.prototype.validate.call(this),this.invalidateLinks())},e.prototype.invalidateLinks=function(){var t=this;this.outgoingDataItems.each((function(e){var i=e.link;if("fromNode"==i.colorMode&&(i.fill=i.dataItem.fromNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var r=i.gradient.stops.getIndex(0);r&&(r.color=t.color,i.gradient.validate())}})),this.incomingDataItems.each((function(e){var i=e.link;if("toNode"==i.colorMode&&(i.fill=i.dataItem.toNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var r=i.gradient.stops.getIndex(1);r&&(r.color=t.color,i.gradient.validate())}}))},Object.defineProperty(e.prototype,"incomingDataItems",{get:function(){var t=this;if(!this._incomingDataItems){var e=new vr;e.events.on("inserted",(function(){t._incomingSorted="name"==t.chart.sortBy?rr(t._incomingDataItems.iterator(),(function(t,e){return lr(t.fromName,e.fromName)})):"value"==t.chart.sortBy?rr(t._incomingDataItems.iterator(),(function(t,e){return Ur(Pr(t.value,e.value))})):t._incomingDataItems.iterator()}),void 0,!1),this._incomingDataItems=e}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outgoingDataItems",{get:function(){var t=this;if(!this._outgoingDataItems){var e=new vr;e.events.on("inserted",(function(){t._outgoingSorted="name"==t.chart.sortBy?rr(t._outgoingDataItems.iterator(),(function(t,e){return lr(t.fromName,e.fromName)})):"value"==t.chart.sortBy?rr(t._outgoingDataItems.iterator(),(function(t,e){return Ur(Pr(t.value,e.value))})):t._outgoingDataItems.iterator()}),void 0,!1),this._outgoingDataItems=e}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(t){this.setPropertyValue("total",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(t){this.setPropertyValue("totalIncoming",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(t){this.setPropertyValue("totalOutgoing",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(t){this.setColorProperty("color",t),this._background&&(this._background.fill=t),this.fill=t},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var r=t.createChild(Oo);r.shouldClone=!1,Zi(this,r,bo),r.stroke=this.fill,r.copyFrom(this),r.padding(0,0,0,0),r.width=e,r.height=i;var n=t.dataItem;n.color=r.fill,n.colorOrig=r.fill},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.FlowDiagramNode=oc;var sc=function(t){function e(){var e=t.call(this)||this;e.className="FlowDiagramLink";var i=new ma;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}\u2192{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(mo),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=i.getFor("alternativeBackground"),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.positionBullets=function(){var t=this;ir(this.bullets.iterator(),(function(e){e.parent=t.bulletsContainer,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,t.positionBullet(e)}))},Object.defineProperty(e.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var t=this.createChild(yo);t.shouldClone=!1,t.layout="none",this._bulletsContainer=t}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var t=this.createChild(mo);t.shouldClone=!1,t.setElement(this.paper.add("path")),t.isMeasured=!1,this._bulletsMask=t}return this._bulletsMask},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(t){var e=t.locationX;we(e)||(e=t.locationY),we(e)||(e=.5);var i,r=this.middleLine.positionToPoint(e);t.moveTo(r),t.dataItem&&(i=t.dataItem.dataContext[t.propertyFields.rotation]),we(i)||(i=r.angle),t.rotation=i},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(t){if("gradient"==t){var e=this.fill;this.gradient.stops.clear(),e instanceof Er&&(this.gradient.addColor(e),this.gradient.addColor(e)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(e){t.prototype.setFill.call(this,e);var i=this._gradient;i&&e instanceof Er&&(i.stops.clear(),i.addColor(e),i.addColor(e))},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"bullets",{get:function(){var t=this;return this._bullets||(this._bullets=new _r(new Ys),this._disposers.push(new gr(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",(function(e){e.newValue.events.on("propertychanged",(function(e){"locationX"!=e.property&&"locationY"!=e.property||t.positionBullet(e.target)}),void 0,!1)}),void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var i=this.middleLine;i&&(i instanceof Ro&&e.middleLine instanceof Ro&&i.copyFrom(e.middleLine),i instanceof Ko&&e.middleLine instanceof Ko&&i.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},e.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},e.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(e.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Ga),this._gradient},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.FlowDiagramLink=sc;var lc=function(t){function e(){var e=t.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(t){this.setProperty("fromName",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toName",{get:function(){return this.properties.toName},set:function(t){this.setProperty("toName",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",Lr(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"link",{get:function(){var t=this;if(!this._link){var e=this.component.links.create();this._link=e,this.addSprite(e),this._disposers.push(new Ii((function(){t.component&&t.component.links.removeValue(e)})))}return this._link},enumerable:!0,configurable:!0}),e}(Ws),cc=function(t){function e(){var e=t.call(this)||this;e.colors=new Fs,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var i=e.chartContainer.createChild(yo);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.linksContainer=i;var r=e.chartContainer.createChild(yo);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,e.nodesContainer=r,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.dataItem.dispose()},e.prototype.validateData=function(){var e=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),t.prototype.validateData.call(this);var i,r,n=0,a=0;ir(this.dataItems.iterator(),(function(t){var o=t.fromName;o&&((s=e.nodes.getKey(o))||((s=e.nodes.create(o)).name=o,s.chart=e,s.dataItem=t),t.fromNode=s,t.fromNode.outgoingDataItems.push(t));var s,l=t.toName;if(l&&((s=e.nodes.getKey(l))||((s=e.nodes.create(l)).name=l,s.chart=e,s.dataItem=t),t.toNode=s,t.toNode.incomingDataItems.push(t)),!t.fromNode){var c=new ws;c.opacities=[0,1],t.link.strokeModifier=c}if(!t.toNode){var u=new ws;u.opacities=[1,0],t.link.strokeModifier=u}var h=t.value;we(h)&&(n+=h,a++,(i>h||!we(i))&&(i=h),(r<h||!we(r))&&(r=h))}));var o="value";this.dataItem.setCalculatedValue(o,r,"high"),this.dataItem.setCalculatedValue(o,i,"low"),this.dataItem.setCalculatedValue(o,n,"sum"),this.dataItem.setCalculatedValue(o,n/a,"average"),this.dataItem.setCalculatedValue(o,a,"count"),ir(this.nodes.iterator(),(function(t){var i=t[1];i.fill instanceof Er&&(i.color=i.fill),null==i.color&&(i.color=e.colors.next()),null!=i.dataItem.color&&(i.color=i.dataItem.color),i.dataItem.visible||i.hide(0),e.getNodeValue(i)})),this.sortNodes(),this.feedLegend()},e.prototype.handleDataItemWorkingValueChange=function(t,e){this.invalidate()},e.prototype.sortNodes=function(){this._sorted="name"==this.sortBy?this.nodes.sortedIterator():"value"==this.sortBy?rr(this.nodes.iterator(),(function(t,e){return Ur(Pr(t[1].total,e[1].total))})):this.nodes.iterator()},e.prototype.getNodeValue=function(t){var e=0,i=0;ir(t.incomingDataItems.iterator(),(function(t){var i=t.getWorkingValue("value");we(i)&&(e+=i)})),ir(t.outgoingDataItems.iterator(),(function(t){var e=t.getWorkingValue("value");we(e)&&(i+=e)})),t.total=e+i,t.totalIncoming=e,t.totalOutgoing=i},e.prototype.changeSorting=function(){this.sortNodes()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},e.prototype.createDataItem=function(){return new lc},Object.defineProperty(e.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(t){this.setPropertyValue("nodePadding",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(t){this.setPropertyValue("sortBy",t),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(t){this.setPropertyValue("minNodeSize",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){if(!this._nodes){var t=this.createNode();t.events.on("hit",(function(t){t.target.handleHit(t)})),this._nodes=new pr(t),this._disposers.push(new ur(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),e.prototype.createNode=function(){var t=new oc;return this._disposers.push(t),t},Object.defineProperty(e.prototype,"links",{get:function(){return this._links||(this._links=new _r(this.createLink()),this._disposers.push(new gr(this._links))),this._links},enumerable:!0,configurable:!0}),e.prototype.createLink=function(){var t=new sc;return this._disposers.push(t),t},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];this.nodes.each((function(t,i){e.push(i)})),t.data=e,t.dataFields.name="name"}},e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this.nodes.clear()},e}(Gs);fr.registeredClasses.FlowDiagram=cc;var uc=function(t){function e(){var e=t.call(this)||this;e.className="LabelBullet";var i=e.createChild(Ao);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Rr(),i.strokeOpacity=0,i.fill=(new ma).getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=i,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},e}(Ys);fr.registeredClasses.LabelBullet=uc;var hc=function(t){function e(){var e=t.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var i=e.createChild(uc);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),e.nameLabel=i;var r=e.createChild(uc);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",e.valueLabel=r;var n=e.hiddenState;return n.properties.fill=(new ma).getFor("disabledBackground"),n.properties.opacity=.5,n.properties.visible=!0,e.background.hiddenState.copyFrom(n),e}return Object(h.d)(e,t),e.prototype.invalidateLinks=function(){var e=this;t.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var r=i.orientation;this._incomingSorted&&ir(this._incomingSorted,(function(t){var n=t.link,a=t.getWorkingValue("value");if(we(a)){n.parent=e.chart.linksContainer;var o=void 0,s=void 0,l=void 0;if("horizontal"==r?(o=e.pixelX+e.dx,s=e.nextInCoord+e.pixelY+e.dy,l=0):(s=e.pixelY+e.dy,o=e.nextInCoord+e.pixelX+e.dx,l=90),n.endX=o,n.endY=s,n.startAngle=l,n.endAngle=l,n.gradient.rotation=l,n.linkWidth=a*i.valueHeight,!t.fromNode){"horizontal"==r?(n.maxWidth=200,n.startX=e.pixelX+e.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=e.pixelY+e.dy-n.maxHeight),n.fill=t.toNode.color;var c=n.gradient.stops.getIndex(0);c&&("gradient"==n.colorMode&&(c.color=e.color),c.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextInCoord+=n.linkWidth}})),this._outgoingSorted&&ir(this._outgoingSorted,(function(t){var i=t.link;i.parent=e.chart.linksContainer;var n=t.getWorkingValue("value");if(we(n)){var a=void 0,o=void 0,s=void 0;if("horizontal"==r?(s=0,a=e.pixelX+e.pixelWidth+e.dx-1,o=e.nextOutCoord+e.pixelY+e.dy):(s=90,a=e.nextOutCoord+e.pixelX+e.dx,o=e.pixelY+e.pixelHeight+e.dy-1),i.startX=a,i.startY=o,i.startAngle=s,i.endAngle=s,i.gradient.rotation=s,i.linkWidth=n*e.chart.valueHeight,!t.toNode){"horizontal"==r?(i.maxWidth=200,i.endX=e.pixelX+i.maxWidth+e.dx,i.endY=i.startY):(i.maxHeight=200,i.endX=i.startX,i.endY=e.pixelY+i.maxHeight+e.dy),i.opacity=e.opacity;var l=i.gradient.stops.getIndex(1);l&&("gradient"==i.colorMode&&(l.color=e.color),l.opacity=0,i.fill=i.gradient,i.stroke=i.gradient,i.gradient.validate())}e.nextOutCoord+=i.linkWidth}}))}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},e.prototype.positionBullet=function(t){t&&(t.x=this.measuredWidth*t.locationX,t.y=this.measuredHeight*t.locationY)},Object.defineProperty(e.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(t){this.setPropertyValue("level",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},e}(oc);fr.registeredClasses.SankeyNode=hc;var pc=function(t){function e(){var e=t.call(this)||this;return e.className="SankeyLink",new ma,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild($o),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){if(t.prototype.validate.call(this),!this.isTemplate){var e=this.startX,i=this.startY,r=this.endX,n=this.endY;we(r)||(r=e),we(n)||(n=i);var a=this.startAngle,o=this.endAngle,s=this.linkWidth,l="",c=e,u=i,h=r,p=n,d=e+s*De(a),f=r+s*De(o),b=i+s*Fe(a),m=n+s*Fe(o),g=e+s/2*De(a),y=r+s/2*De(o),v=i+s/2*Fe(a),_=n+s/2*Fe(o);this.zIndex=this.zIndex||this.dataItem.index;var x=this.tension+(1-this.tension)*De(a),w=this.tension+(1-this.tension)*Fe(a);if(this.middleLine.tensionX=x,this.middleLine.tensionY=w,we(s)&&we(e)&&we(r)&&we(i)&&we(n)){Ie(c,3)==Ie(h,3)&&(h+=.01),Ie(u,3)==Ie(p,3)&&(p+=.01),Ie(d,3)==Ie(f,3)&&(f+=.01),Ie(b,3)==Ie(m,3)&&(m+=.01);var V=Math.min(d,f,c,h),C=Math.min(b,m,u,p),P=Math.max(d,f,c,h),U=Math.max(b,m,u,p);this._bbox={x:V,y:C,width:P-V,height:U-C};var S=this.controlPointDistance,T=c+(h-c)*S*Fe(a),k=u+(p-u)*S*De(a),I=h-(h-c)*S*Fe(o),A=p-(p-u)*S*De(o),O=g+(y-g)*S*Fe(a),D=v+(_-v)*S*De(a),M=y-(y-g)*S*Fe(o),F=_-(_-v)*S*De(o),E=Xe({x:T,y:k},{x:I,y:A}),R=(s/Fe(E)-s)/Me(E)*Fe(a),L=(s/De(E)-s)*Me(E)*De(a),H=-R/2+d+(f-d)*S*Fe(a),j=-L/2+b+(m-b)*S*De(a),z=-R/2+f-(f-d)*S*Fe(o),B=-L/2+m-(m-b)*S*De(o);this.middleLine.segments=[[{x:g,y:v},{x:O,y:D},{x:M,y:F},{x:y,y:_}]],T+=R/2,k+=L/2,I+=R/2,A+=L/2,l+=jo({x:c,y:u}),l+=new ds(x,w).smooth([{x:c,y:u},{x:T,y:k},{x:I,y:A},{x:h,y:p}]),l+=zo({x:f,y:m}),l+=new ds(x,w).smooth([{x:f,y:m},{x:z,y:B},{x:H,y:j},{x:d,y:b}]),l+=" Z"}this.link.path=l,this.maskBullets&&(this.bulletsMask.path=l,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(e.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(t){this.setPropertyValue("startX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(t){this.setPropertyValue("endX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(t){this.setPropertyValue("startY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(t){this.setPropertyValue("endY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(t){this.setPropertyValue("linkWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t,!0)},enumerable:!0,configurable:!0}),e}(sc);fr.registeredClasses.SankeyLink=pc;var dc=function(t){function e(){var e=t.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(lc),fc=function(t){function e(){var e=t.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=ue(100),e.nodesContainer.height=ue(100),e.linksContainer.width=ue(100),e.linksContainer.height=ue(100),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validateData=function(){var e=this;t.prototype.validateData.call(this),this._levelCount=0,this.nodes.each((function(t,e){e.level=void 0})),this.nodes.each((function(t,i){i.level=e.getNodeLevel(i,0),e._levelCount=Ee(e._levelCount,i.level)}))},e.prototype.getNodeLevel=function(t,e){var i=this,r=[e];return ir(t.incomingDataItems.iterator(),(function(t){t.fromNode&&(we(t.fromNode.level)?r.push(t.fromNode.level+1):r.push(i.getNodeLevel(t.fromNode,e+1)))})),Math.max.apply(Math,Object(h.h)(r))},e.prototype.calculateValueHeight=function(){var t=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var e,i,r,n=this.dataItem.values.value.sum;ir(this._sorted,(function(e){t.getNodeValue(e[1])})),this.nodes.each((function(e,i){var r=i.level,a=Math.max(i.totalIncoming,i.totalOutgoing);a/n<t.minNodeSize&&(a=n*t.minNodeSize),we(t._levelSum[r])?t._levelSum[r]+=a:t._levelSum[r]=a,we(t._levelNodesCount[r])?t._levelNodesCount[r]++:t._levelNodesCount[r]=1})),e="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,qi(this._levelSum,(function(n,a){var o=a,s=(e-(t._levelNodesCount[n]-1)*t.nodePadding)/o;s==1/0&&(s=0),(r>s||!we(r))&&(r=s,t.maxSum=o,i=be(n))})),this._maxSumLevel=i;var a=(e-(this._levelNodesCount[this._maxSumLevel]-1)*this.nodePadding)/this.maxSum;if(a==1/0&&(a=0),we(this.valueHeight)){var o=void 0;try{o=this._heightAnimation.animationOptions[0].to}catch(l){}if(o!=a){var s=this.interpolationDuration;try{s=this.nodes.template.states.getKey("active").transitionDuration}catch(l){}this._heightAnimation=new Jn(this,{property:"valueHeight",from:this.valueHeight,to:a},s,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=a},e.prototype.validate=function(){var e=this;t.prototype.validate.call(this),this.calculateValueHeight();var i=this.nodesContainer,r={},n=this._levelNodesCount[this._maxSumLevel],a=this.dataItem.values.value.sum;ir(this._sorted,(function(t){var o,s,l=t[1],c=l.level,u=0,h=e._levelNodesCount[c];switch(e.nodeAlign){case"bottom":u=(e.maxSum-e._levelSum[c])*e.valueHeight-(h-n)*e.nodePadding;break;case"middle":u=(e.maxSum-e._levelSum[c])*e.valueHeight/2-(h-n)*e.nodePadding/2}l.parent=i;var p=Math.max(l.totalIncoming,l.totalOutgoing);if(p/a<e.minNodeSize&&(p=a*e.minNodeSize),"horizontal"==e.orientation){o=(e.innerWidth-l.pixelWidth)/e._levelCount*l.level,s=r[c]||u;var d=p*e.valueHeight;l.height=d,l.minX=o,l.maxX=o,r[c]=s+d+e.nodePadding}else{o=r[c]||u,s=(e.innerHeight-l.pixelHeight)/e._levelCount*l.level;var f=p*e.valueHeight;l.width=f,l.minY=s,l.maxY=s,r[c]=o+f+e.nodePadding}l.x=o,l.y=s}))},e.prototype.showReal=function(e){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,n=0;ir(this.links.iterator(),(function(t){t.hide(0)})),ir(this._sorted,(function(t){var e,a=t[1];"horizontal"==i.orientation?(a.dx=-(r.pixelWidth-a.pixelWidth)/Math.max(i._levelCount,1),e="dx"):(a.dy=-(r.pixelHeight-a.pixelHeight)/Math.max(i._levelCount,1),e="dy");var o,s,l=0;i.sequencedInterpolation&&(l=i.sequencedInterpolationDelay*n+i.interpolationDuration*n/(o=i.nodes.iterator(),s=0,o((function(t){return++s,!0})),s)),a.opacity=0,a.invalidateLinks(),a.animate([{property:"opacity",from:0,to:1},{property:e,to:0}],i.interpolationDuration,i.interpolationEasing).delay(l),ir(a.outgoingDataItems.iterator(),(function(t){var e=t.link.show(i.interpolationDuration);e&&!e.isFinished()&&e.delay(l)})),ir(a.incomingDataItems.iterator(),(function(t){if(!t.fromNode){var e=t.link.show(i.interpolationDuration);e&&!e.isFinished()&&e.delay(l)}})),n++}))}return t.prototype.showReal.call(this)}},e.prototype.changeSorting=function(){var t=this;this.sortNodes();var e={};ir(this._sorted,(function(i){var r,n,a=i[1],o=a.level,s=(t.maxSum-t._levelSum[o])*t.valueHeight/2;"horizontal"==t.orientation?(r="y",n=a.pixelHeight):(r="x",n=a.pixelWidth),a.animate({property:r,to:e[o]||s},t.interpolationDuration,t.interpolationEasing),e[o]=(e[o]||s)+n+t.nodePadding,a.invalidateLinks()}))},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},e.prototype.createDataItem=function(){return new dc},Object.defineProperty(e.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(t){this.setPropertyValue("nodeAlign",t),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.nodes.template.nameLabel;"vertical"==t?(this.nodes.template.width=void 0,e.label.horizontalCenter="middle",e.locationX=.5):(this.nodes.template.height=void 0,e.label.horizontalCenter="left",e.locationX=1)},enumerable:!0,configurable:!0}),e.prototype.createNode=function(){var t=new hc;return this._disposers.push(t),t},e.prototype.createLink=function(){var t=new pc;return this._disposers.push(t),t},Object.defineProperty(e.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(t){t!=this._valueHeight&&(this._valueHeight=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},e}(cc);fr.registeredClasses.SankeyDiagram=fc;var bc=function(t){function e(){var e=t.call(this)||this;e.className="ChordNode";var i=e.createChild(Ll);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,e.label=i,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(ts),e.slice.isMeasured=!1;var r=e.hiddenState;return r.properties.fill=(new ma).getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",(function(t,e){return e.slice.ix*(e.slice.radius-(e.slice.radius-e.slice.pixelInnerRadius)/2)})),e.adapter.add("tooltipY",(function(t,e){return e.slice.iy*(e.slice.radius-(e.slice.radius-e.slice.pixelInnerRadius)/2)})),e}return Object(h.d)(e,t),e.prototype.invalidateLinks=function(){var e=this;t.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,n=this.chart;if(n&&r){var a=this.total,o=r.arc,s=r.startAngle;this.children.each((function(t){if(t instanceof Ys){var e=t.locationX;we(e)||(e=.5);var i=t.locationY;we(i)||(i=1);var n=s+o*e,a=i*r.radius;t.x=a*Fe(n),t.y=a*De(n)}}));var l=s+o*i.location,c=s+(1-a/this.adjustedTotal)*o*.5;he(c)&&(c=s),i.fixPosition(l,r.radius),this.nextAngle=c,this._outgoingSorted&&ir(this._outgoingSorted,(function(t){var i=t.link;i.parent=e.chart.linksContainer;var a=t.getWorkingValue("value");if(we(a)){if(n.nonRibbon){var l=i.percentWidth;we(l)||(l=5),i.startAngle=s+o/2-o/2*(l/=100),i.arc=o*l}else i.arc=a*n.valueAngle,i.startAngle=e.nextAngle,e.nextAngle+=i.arc;t.toNode||(i.endAngle=i.startAngle),i.radius=r.pixelInnerRadius}})),this._incomingSorted&&ir(this._incomingSorted,(function(t){var i=t.link;if(i.radius=r.pixelInnerRadius,n.nonRibbon){var a=i.percentWidth;we(a)||(a=5),i.endAngle=s+o/2-o/2*(a/=100),i.arc=o*a}else{i.endAngle=e.nextAngle;var l=t.getWorkingValue("value");we(l)&&(i.arc=l*n.valueAngle,e.nextAngle+=i.arc)}t.fromNode||(i.startAngle=i.endAngle)}))}},e.prototype.updateRotation=function(){var t=this.slice,e=this.trueStartAngle+t.arc/2,i=t.radius,r=i*Fe(e),n=i*De(e),a=Xe({x:r+this.pixelX,y:n+this.pixelY});t.startAngle=this.trueStartAngle+(a-e),this.dx=-this.pixelX,this.dy=-this.pixelY},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},e}(oc);fr.registeredClasses.ChordNode=bc;var mc=function(t){function e(){var e=t.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=Rr(),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){if(we(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var t={x:this.x2,y:this.y2},e={x:this.cpx,y:this.cpy},i=jo({x:this.x1,y:this.y1})+Bo(t,e);this.path=i}},Object.defineProperty(e.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(t){this.setPropertyValue("cpx",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(t){this.setPropertyValue("cpy",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e={x:this.x1,y:this.y1},i={x:this.cpx,y:this.cpy},r={x:this.x2,y:this.y2},n=Ye(e,r,i,t),a=Ye(e,r,i,t+.001);return{x:n.x,y:n.y,angle:Xe(n,a)}},e}(Ro),gc=function(t){function e(){var e=t.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(mc),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){if(t.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,i=this.endAngle,r=this.arc,n=this.radius,a=this.dataItem.fromNode,o=this.dataItem.toNode,s=0,l=0;a&&(s=a.pixelX+a.dx,l=a.pixelY+a.dy);var c=0,u=0;if(o&&(c=o.pixelX+o.dx,u=o.pixelY+o.dy),n>0){var h=n*Fe(e)+s,p=n*De(e)+l,d=n*Fe(i)+c,f=n*De(i)+u,b={x:0,y:0},m=jo({x:h,y:p});m+=Xo(e,r,n),m+=Bo({x:d,y:f},b),m+=Xo(i,r,n),m+=Bo({x:h,y:p},b),this.link.path=r>0?m:"",this.maskBullets&&(this.bulletsMask.path=m,this.bulletsContainer.mask=this.bulletsMask);var g=e+r/2,y=i+r/2,v=this.middleLine;v.x1=n*Fe(g)+s,v.y1=n*De(g)+l,v.x2=n*Fe(y)+c,v.y2=n*De(y)+u,v.cpx=0,v.cpy=0,v.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(t){this.setPropertyValue("arc",t,!0)},enumerable:!0,configurable:!0}),e}(sc);fr.registeredClasses.ChordLink=gc;var yc=function(t){function e(){var e=t.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(lc),vc=function(t){function e(){var e=t.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=-15,e.nodePadding=5;var i=e.chartContainer.createChild(yo);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",e.chordContainer=i,e.nodesContainer.parent=i,e.linksContainer.parent=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){var e=this,i=this.chartContainer,r=this.endAngle,n=this.startAngle+this.nodePadding/2,a=ti(this.startAngle,this.endAngle,1);a=Ge([a,{x:0,y:0,width:0,height:0}]);var o=Math.min(i.innerWidth/a.width,i.innerHeight/a.height);we(o)||(o=0);var s=Gr(this.radius,o),l=Gr(this.innerRadius,s,!0),c=this.dataItem.values.value.sum,u=0,h=0;ir(this._sorted,(function(t){var i=t[1];e.getNodeValue(i),u++;var r=i.total;i.total/c<e.minNodeSize&&(r=c*e.minNodeSize),h+=r})),this.valueAngle=(r-this.startAngle-this.nodePadding*u)/h,ir(this._sorted,(function(t){var i=t[1],a=i.slice;a.radius=s,a.innerRadius=l;var o,h=i.total;i.total/c<e.minNodeSize&&(h=c*e.minNodeSize),i.adjustedTotal=h,a.arc=o=e.nonRibbon?(r-e.startAngle)/u-e.nodePadding:e.valueAngle*h,a.startAngle=n,i.trueStartAngle=n,i.parent=e.nodesContainer,i.validate(),n+=o+e.nodePadding})),this.chordContainer.definedBBox={x:s*a.x,y:s*a.y,width:s*a.width,height:s*a.height},this.chordContainer.invalidateLayout(),t.prototype.validate.call(this)},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},e.prototype.createDataItem=function(){return new yc},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(t){this.setPropertyValue("nonRibbon",t,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),e.prototype.createNode=function(){var t=new bc;return this._disposers.push(t),t},e.prototype.createLink=function(){var t=new gc;return this._disposers.push(t),t},e}(cc);fr.registeredClasses.ChordDiagram=vc;var _c=function(t){function e(){var e=t.call(this)||this;return e.className="Column",e.width=ue(80),e.height=ue(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return Object(h.d)(e,t),e.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},e.prototype.createAssets=function(){this.column=this.createChild(Oo),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.column;e&&(e.width=Re(this.pixelWidth,this.maxWidth),e.height=Re(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:Re(this.pixelWidth,this.maxWidth),height:Re(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.Column=_c;var xc=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(t){this.setColumn(t)},enumerable:!0,configurable:!0}),e.prototype.setColumn=function(t){var e=this;if(this._column&&t!=this._column&&bi(this.sprites,this._column),this._column=t,t){var i=t.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(t),this._disposers.push(new Ii((function(){e.component&&e.component.columns.removeValue(t)})))}},Object.defineProperty(e.prototype,"width",{get:function(){var t=this.properties.width;return this._adapterO&&(t=this._adapterO.apply("width",t)),t},set:function(t){this.properties.width!=t&&(this.properties.width=t,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new hr),this._rangesColumns},enumerable:!0,configurable:!0}),e}(Cl),wc=function(t){function e(){var e=t.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=ue(100),e.height=ue(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(yo);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},e.prototype.createDataItem=function(){return new xc},e.prototype.validate=function(){var i=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var r,n=0,a=0,o=[];ir(this.chart.series.iterator(),(function(t){var r;t instanceof e&&i.baseAxis==t.baseAxis&&(r=i.baseAxis==i.xAxis?i.chart.yAxes.indexOf(t.yAxis):i.chart.xAxes.indexOf(t.xAxis),o.push({series:t,axis:r}))})),o.sort((function(t,e){return t.axis-e.axis})),oi(o,(function(t){var o=t.series;o instanceof e&&((!o.stacked&&o.clustered||r!=t.axis&&o.clustered)&&n++,o==i&&(a=n-1)),r=t.axis})),this.clustered||(a=0,n=1);var s=this.baseAxis.renderer,l=s.cellStartLocation,c=s.cellEndLocation;this._startLocation=l+a/n*(c-l),this._endLocation=l+(a+1)/n*(c-l);var u=this.xAxis,h=this.yAxis;u instanceof Vl&&h instanceof ml&&u.sortBySeries==this&&this.sortCategoryAxis(u,"valueY"),h instanceof Vl&&u instanceof ml&&h.sortBySeries==this&&this.sortCategoryAxis(h,"valueX")}t.prototype.validate.call(this);for(var p=0;p<this.startIndex;p++){var d=this.dataItems.getIndex(p);this.disableUnusedColumns(d)}for(p=this.dataItems.length-1;p>this.endIndex;p--)d=this.dataItems.getIndex(p),this.disableUnusedColumns(d);this._propertiesChanged=!1},e.prototype.sortCategoryAxis=function(t,e){var i=this;this.dataItems.values.sort((function(t,i){return i.values[e].workingValue-t.values[e].workingValue}));var r=0;this.dataItems.each((function(t){t._index=r,r++})),t.dataItems.each((function(t){var e=t.component,r=e.categoryToPosition(t.category)-t.deltaPosition,n=e.getSeriesDataItemByCategory(t.category,i);if(n){var a=i.dataItems.indexOf(n);t._index=a;var o=Ie((a+.5)/i.dataItems.length-r,3);t.deltaAnimation&&!t.deltaAnimation.isDisposed()&&t.deltaAnimation.animationOptions[0].to==o||o!=Ie(t.deltaPosition,3)&&(t.deltaAnimation&&t.deltaAnimation.stop(),t.deltaAnimation=t.animate({property:"deltaPosition",from:-o,to:0},e.interpolationDuration,e.interpolationEasing),i._disposers.push(t.deltaAnimation))}})),t.dataItems.values.sort((function(t,e){return t.index-e.index}))},e.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),t.prototype.validateDataElement.call(this,e))},e.prototype.getStartLocation=function(t){return this._startLocation+(this.baseAxis==this.xAxis?t.locations[this.xOpenField]-.5:t.locations[this.yOpenField]-.5)},e.prototype.getEndLocation=function(t){return this._endLocation+(this.baseAxis==this.xAxis?t.locations[this.xField]-.5:t.locations[this.yField]-.5)},e.prototype.validateDataElementReal=function(t){var e,i,r,n,a=this,o=this.getStartLocation(t),s=this.getEndLocation(t),l=this.xField,c=this.xOpenField,u=this.yField,h=this.yOpenField,p=this.columns.template,d=p.percentWidth,f=p.percentHeight,b=p.pixelWidth,m=p.pixelHeight,g=p.maxWidth,y=p.maxHeight,v=p.pixelPaddingLeft,_=p.pixelPaddingRight,x=p.pixelPaddingTop,w=p.pixelPaddingBottom,V=!1,C=t.width;if(ge(C)&&(we(C)&&(b=C),C instanceof ce&&(d=100*C.value)),this.xAxis instanceof Vl&&this.yAxis instanceof Vl){if(!t.hasValue(this._xValueFields)||!t.hasValue(this._yValueFields))return;o=0,s=1,he(d)||(o+=T=Ie((s-o)*(1-d/100)/2,5),s-=T),e=this.xAxis.getX(t,c,o),i=this.xAxis.getX(t,l,s),he(d)&&(e+=T=(i-e-b)/2,i-=T),!he(g)&&g<Math.abs(i-e)&&(e+=T=(i-e-g)/2,i-=T),o=0,s=1,he(f)||(o+=T=Ie((1-f/100)/2,5),s-=T),r=this.yAxis.getY(t,h,o),n=this.yAxis.getY(t,u,s),he(f)&&(n+=T=(n-r-m)/2,r-=T),!he(y)&&y<Math.abs(n-r)&&(n+=T=(n-r-y)/2,r-=T),i=this.fixHorizontalCoordinate(i),e=this.fixHorizontalCoordinate(e),r=this.fixVerticalCoordinate(r),n=this.fixVerticalCoordinate(n)}else if(this.baseAxis==this.xAxis){if(!t.hasValue(this._yValueFields))return;he(d)||(o+=T=Ie((s-o)*(1-d/100)/2,5),s-=T),e=this.xAxis.getX(t,c,o),i=this.xAxis.getX(t,l,s),he(d)&&(e+=T=(i-e-b)/2,i-=T),!he(g)&&g<Math.abs(i-e)&&(e+=T=(i-e-g)/2,i-=T);var P=t.locations[h],U=t.locations[u];this.yAxis instanceof ml&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(P=0,U=0),n=this.yAxis.getY(t,h,P),r=this.yAxis.getY(t,u,U);var S=Math.ceil(this.yAxis.axisLength);(r<0&&n<0||r>S&&n>S)&&(V=!0),r=this.fixVerticalCoordinate(r),n=this.fixVerticalCoordinate(n),Math.abs(i-e)-v-_==0&&(V=!0)}else{if(!t.hasValue(this._xValueFields))return;var T;he(f)||(o+=T=Ie((s-o)*(1-f/100)/2,5),s-=T),r=this.yAxis.getY(t,h,o),n=this.yAxis.getY(t,u,s),he(f)&&(n-=T=(n-r-m)/2,r+=T),!he(y)&&y<Math.abs(n-r)&&(n-=T=(n-r-y)/2,r+=T);var k=t.locations[l],I=t.locations[c];this.xAxis instanceof ml&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(k=0,I=0),i=this.xAxis.getX(t,l,k),e=this.xAxis.getX(t,c,I),S=Math.ceil(this.xAxis.axisLength),(i<0&&e<0||i>S&&e>S)&&(V=!0),i=this.fixHorizontalCoordinate(i),e=this.fixHorizontalCoordinate(e),Math.abs(r-n)-x-w==0&&(V=!0)}var A,O=Math.abs(i-e),D=Math.abs(n-r),M=Math.min(e,i),F=Math.min(r,n);V?this.disableUnusedColumns(t):(t.column?(A=t.column,this._propertiesChanged&&(Zi(this,A,bo),Zi(this.columns.template,A,bo),oi(bo,(function(t){A[t]=A[t]})))):(Zi(this,A=this.columns.create(),bo),Zi(this.columns.template,A,bo),t.addSprite(A),t.column=A,A.paper=this.paper,this.itemsFocusable()?(this.role="menu",A.role="menuitem",A.focusable=!0):(this.role="list",A.role="listitem",A.focusable=!1),A.focusable&&(A.events.on("focus",(function(e){A.readerTitle=a.populateString(a.itemReaderText,t)}),void 0,!1),A.events.on("blur",(function(t){A.readerTitle=""}),void 0,!1)),A.hoverable&&(A.events.on("over",(function(e){A.readerTitle=a.populateString(a.itemReaderText,t)}),void 0,!1),A.events.on("out",(function(t){A.readerTitle=""}),void 0,!1)),A.parent=this.columnsContainer,A.virtualParent=this),A.width=O,A.height=D,A.x=M,A.y=F,A.realX=e,A.realY=r,A.realWidth=i-e,A.realHeight=n-r,this.setColumnStates(A),A.invalid&&A.validate(),A.__disabled=!1,ir(this.axisRanges.iterator(),(function(e){var i=t.rangesColumns.getKey(e.uid);i||(i=a.columns.create(),Zi(e.contents,i,bo),t.addSprite(i),t.rangesColumns.setKey(e.uid,i),i.paper=a.paper),i.parent=e.contents,i.width=O,i.height=D,i.x=M,i.y=F,a.setColumnStates(i),i.invalid&&i.validate(),i.__disabled=!1}))),t.itemWidth=O,t.itemHeight=D},e.prototype.disableUnusedColumns=function(t){t&&(t.column&&(t.column.width=0,t.column.height=0,t.column.__disabled=!0),ir(this.axisRanges.iterator(),(function(e){var i=t.rangesColumns.getKey(e.uid);i&&(i.width=0,i.height=0,i.__disabled=!0)})))},e.prototype.setColumnStates=function(t){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var e=t.dataItem;if(this.xAxis instanceof ml||this.yAxis instanceof ml){var i,r=void 0,n=void 0;this.baseAxis==this.yAxis?this.xOpenField&&this.xField&&this.xAxis instanceof ml&&(i=e.getValue(this.xOpenField),r=e.getValue(this.xField),n=e.getValue(this.xAxis.axisFieldName+"X","previousChange")):this.yOpenField&&this.yField&&this.yAxis instanceof ml&&(i=e.getValue(this.yOpenField),r=e.getValue(this.yField),n=e.getValue(this.yAxis.axisFieldName+"Y","previousChange")),r<i?(e.droppedFromOpen=!0,t.defaultState.copyFrom(this._dropFromOpenState),t.setState(this._dropFromOpenState,0)):(e.droppedFromOpen=!1,t.defaultState.copyFrom(this._riseFromOpenState),t.setState(this._riseFromOpenState,0)),n<0?(e.droppedFromPrevious=!0,t.defaultState.copyFrom(this._dropFromPreviousState),t.setState(this._dropFromPreviousState,0)):(e.droppedFromPrevious=!1,t.defaultState.copyFrom(this._riseFromPreviousState),t.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns||(this._columns=new _r(this.createColumnTemplate()),this._disposers.push(new gr(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),e.prototype.createColumnTemplate=function(){return new _c},Object.defineProperty(e.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(t){this.setPropertyValue("clustered",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(t){this._dropFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(t){this._dropFromPreviousState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(t){this._riseFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(t){this._riseFromPreviousState=t},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(e,i){var r,n,a=this;t.prototype.updateLegendValue.call(this,e,i),this.legendDataItem&&(e&&(r=e.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,n=e.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),ir(this.legendDataItem.marker.children.iterator(),(function(t){e?(t.setState(n),t.setState(r)):(t.setState(a._riseFromPreviousState),t.setState(a._riseFromOpenState))})))},e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var r=t.createChild(Oo);r.shouldClone=!1,Zi(this,r,bo),r.copyFrom(this.columns.template),r.padding(0,0,0,0),r.width=e,r.height=i;var n=t.dataItem;n.color=this.fill,n.colorOrig=this.fill},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},e.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var r=e.locationX;we(r)||(r=.5);var n=this.getEndLocation(e.dataItem);return n-(n-this.getStartLocation(e.dataItem))*r}return t.prototype.getBulletLocationX.call(this,e,i)},e.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var r=e.locationY;we(r)||(r=.5);var n=this.getEndLocation(e.dataItem);return n-(n-this.getStartLocation(e.dataItem))*r}return t.prototype.getBulletLocationY.call(this,e,i)},e.prototype.getAdjustedXLocation=function(e,i){if(this.baseAxis==this.xAxis){var r=.5;return e&&(r=e.locations[i]),we(r)||(r=.5),this._endLocation-(this._endLocation-this._startLocation)*r}return t.prototype.getAdjustedXLocation.call(this,e,i)},e.prototype.getAdjustedYLocation=function(e,i){if(this.baseAxis==this.yAxis){var r=.5;return e&&(r=e.locations[i]),we(r)||(r=.5),this._endLocation-(this._endLocation-this._startLocation)*r}return t.prototype.getAdjustedXLocation.call(this,e,i)},e.prototype.fixVerticalCoordinate=function(t){return Oe(t,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+this.columns.template.pixelPaddingBottom)},e.prototype.fixHorizontalCoordinate=function(t){return Oe(t,-this.columns.template.pixelPaddingLeft,this.xAxis.axisLength+this.columns.template.pixelPaddingRight)},e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this.columns.clear()},e}(Pl);fr.registeredClasses.ColumnSeries=wc,fr.registeredClasses.ColumnSeriesDataItem=xc;var Vc=function(t){function e(){var e=t.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"parentName",{get:function(){var t=this.treeMapDataItem;if(t&&t.parent)return t.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.treeMapDataItem;if(t)return t.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),e.prototype.hide=function(e,i,r,n){var a=this.treeMapDataItem;return a&&a.hide(e),t.prototype.hide.call(this,e,i,r,n)},e.prototype.show=function(e,i,r){var n=this.treeMapDataItem;return n&&n.show(e,i,r),t.prototype.show.call(this,e,i,r)},e}(xc),Cc=function(t){function e(){var e=t.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var i=new ma;return e.stroke=i.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return Object(h.d)(e,t),e.prototype.processDataItem=function(e,i){i.seriesDataItem=e,t.prototype.processDataItem.call(this,e,i)},e.prototype.createDataItem=function(){return new Vc},e.prototype.show=function(e){if(!this.preventShow){var i=this.defaultState.transitionDuration;return we(e)&&(i=e),this.dataItems.each((function(t){t.show(e)})),t.prototype.showReal.call(this,i)}},e.prototype.hide=function(e){var i=this.defaultState.transitionDuration;we(e)&&(i=e);var r=t.prototype.hideReal.call(this,i);return this.dataItems.each((function(t){t.hide(e)})),r},e.prototype.processValues=function(){},e.prototype.getStartLocation=function(t){return 0},e.prototype.getEndLocation=function(t){return 1},e.prototype.dataChangeUpdate=function(){},e.prototype.processConfig=function(e){e&&(ge(e.dataFields)&&Ve(e.dataFields)||(e.dataFields={})),t.prototype.processConfig.call(this,e)},e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var r=t.createChild(Oo);r.shouldClone=!1,Zi(this,r,bo),r.padding(0,0,0,0),r.width=e,r.height=i;var n=t.dataItem;n.color=r.fill,n.colorOrig=r.fill},e.prototype.disableUnusedColumns=function(e){t.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},e}(wc);fr.registeredClasses.TreeMapSeries=Cc,fr.registeredClasses.TreeMapSeriesDataItem=Vc;var Pc=function(t){function e(){var e=t.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,t.label&&(t.label.dataItem=this),t.valueLabel&&(t.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),e.prototype.getDuration=function(){return 0},Object.defineProperty(e.prototype,"value",{get:function(){var t=0;return this.children&&0!=this.children.length?ir(this.children.iterator(),(function(e){var i=e.value;we(i)&&(t+=i)})):t=this.values.value.workingValue,t},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x0",{get:function(){return this.values.x0.value},set:function(t){this.setValue("x0",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x1",{get:function(){return this.values.x1.value},set:function(t){this.setValue("x1",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y0",{get:function(){return this.values.y0.value},set:function(t){this.setValue("y0",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.values.y1.value},set:function(t){this.setValue("y1",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.properties.name},set:function(t){this.setProperty("name",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.properties.children},set:function(t){this.setProperty("children",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){var t=this.properties.color;return null==t&&this.parent&&(t=this.parent.color),null==t&&this.component&&(t=this.component.colors.getIndex(this.component.colors.step*this.index)),t},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){t!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=t,this._disposers.push(t))},enumerable:!0,configurable:!0}),e.prototype.hide=function(e,i,r,n){this.setWorkingValue("value",0),this.children&&this.children.each((function(t){t.hide(e,i,r,n)}));var a=this.seriesDataItem;return a&&a.bullets.each((function(t,e){e.hide(),e.preventShow=!0})),t.prototype.hide.call(this,e,i,r,n)},e.prototype.show=function(e,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each((function(t){t.show(e,i,r)}));var n=this.seriesDataItem;return n&&n.bullets.each((function(t,e){e.preventShow=!1})),t.prototype.show.call(this,e,i,r)},e}(Sl),Uc=function(t){function e(){var e=t.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Fs,e.sorting="descending";var i=e.xAxes.push(new ml);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var n=e.yAxes.push(new ml);n.title.disabled=!0,n.strictMinMax=!0;var a=n.renderer;a.inside=!0,a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.minGridDistance=100,a.line.disabled=!0,a.baseGrid.disabled=!0,a.inversed=!0,e.xAxis=i,e.yAxis=n;var o=new Cc;return e.seriesTemplates=new pr(o),o.virtualParent=e,e._disposers.push(new ur(e.seriesTemplates)),e._disposers.push(o),e.zoomOutButton.events.on("hit",(function(){e.zoomToChartDataItem(e._homeDataItem)}),void 0,!1),e.seriesTemplates.events.on("insertKey",(function(t){t.newValue.isTemplate=!0}),void 0,!1),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(t){var e=this;this._navigationBar!=t&&(this._navigationBar=t,t.parent=this,t.toBack(),t.links.template.events.on("hit",(function(t){var i=t.target.dataItem.dataContext;i.isDisposed()||(e.zoomToChartDataItem(i),e.createTreeSeries(i))}),void 0,!0),this._disposers.push(t))},enumerable:!0,configurable:!0}),e.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],t.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,ir(this.dataItems.iterator(),(function(t){t.parent=e})),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var i=10*Math.round(1e3*this.pixelHeight/this.pixelWidth/10)||1e3;e.x1=1e3,e.y1=i,this.xAxis.min=0,this.xAxis.max=1e3,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=i,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},e.prototype.layoutItems=function(t,e){if(t){var i=t.children;e||(e=this.sorting),"ascending"==e&&i.values.sort((function(t,e){return t.value-e.value})),"descending"==e&&i.values.sort((function(t,e){return e.value-t.value})),this._updateDataItemIndexes(0),this.layoutAlgorithm(t);for(var r=0,n=i.length;r<n;r++){var a=i.getIndex(r);a.children&&this.layoutItems(a)}}},e.prototype.createTreeSeries=function(t){var e=this;this._tempSeries=[];for(var i=[t],r=t.parent;null!=r;)this.initSeries(r),i.push(r),r=r.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(t),oi(this._tempSeries,(function(t){-1==e.series.indexOf(t)&&e.series.push(t),t.zIndex=t.level}))},e.prototype.createTreeSeriesReal=function(t){if(t.children&&t.level<this.currentLevel+this.maxLevels){this.initSeries(t);for(var e=0;e<t.children.length;e++){var i=t.children.getIndex(e);i.children&&this.createTreeSeriesReal(i)}}},e.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,t.prototype.setData.call(this,e)},e.prototype.seriesAppeared=function(){return!0},e.prototype.initSeries=function(t){var e=this;if(!t.series){var i=void 0,r=this.seriesTemplates.getKey(t.level.toString());(i=r?r.clone():this.series.create()).dataItem.dataContext=t,i.name=t.name,i.parentDataItem=t,t.series=i,i.level=t.level;var n=t.dataContext;n&&(i.config=n.config),this.dataUsers.removeValue(i),i.data=t.children.values,i.fill=t.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",(function(t,e){var i=e.dataItem;if(i){var r=i.treeMapDataItem;if(r)return e.fill=r.color,e.adapter.remove("fill"),r.color}})),this.zoomable&&(t.level>this.currentLevel||t.children&&t.children.length>0)&&(i.columns.template.cursorOverStyle=Ka.pointer,this.zoomable&&i.columns.template.events.on("hit",(function(i){var r=i.target.dataItem;t.level>e.currentLevel?e.zoomToChartDataItem(r.treeMapDataItem.parent):e.zoomToSeriesDataItem(r)}),this,void 0))}this._tempSeries.push(t.series)},e.prototype.toggleBullets=function(t){var e=this;ir(this.series.iterator(),(function(i){-1==e._tempSeries.indexOf(i)?(i.columnsContainer.hide(),i.bulletsContainer.hide(t)):(i.columnsContainer.show(),i.bulletsContainer.show(t),i.dataItems.each((function(t){t.bullets.each((function(t,e){e.show()}))})),i.level<e.currentLevel?(e.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(t)):i.level==e.currentLevel&&e.maxLevels>1&&i.dataItems.each((function(t){t.treeMapDataItem.children&&t.bullets.each((function(t,e){e.hide()}))})))}))},e.prototype.zoomToSeriesDataItem=function(t){this.zoomToChartDataItem(t.treeMapDataItem)},e.prototype.zoomToChartDataItem=function(t){var e=this;t||(t=this._homeDataItem);var i=this.zoomOutButton;if(i&&(t!=this._homeDataItem?i.show():i.hide()),t&&t.children){this.xAxis.zoomToValues(t.x0,t.x1),this.yAxis.zoomToValues(t.y0,t.y1),this.currentLevel=t.level,this.currentlyZoomed=t,this.createTreeSeries(t);var r=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!r||r.isDisposed()||r.isFinished()?this.toggleBullets():(this._dataDisposers.push(r),r.events.once("animationended",(function(){e.toggleBullets()})))}},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},e.prototype.createDataItem=function(){return new Pc},Object.defineProperty(e.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(t){this.setPropertyValue("maxLevels",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(t){this.setPropertyValue("currentLevel",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(t){this.setPropertyValue("hideParentColumns",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(t){this.setPropertyValue("sorting",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new Cc},Object.defineProperty(e.prototype,"homeText",{get:function(){return this._homeText},set:function(t){this._homeText=t,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(e){if(ge(e.layoutAlgorithm)&&xe(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm}ge(e.navigationBar)&&!ge(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),t.prototype.processConfig.call(this,e)}},e.prototype.validateLayout=function(){t.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),ir(this.series.iterator(),(function(t){t.validateRawData()})),this.zoomToChartDataItem(this._homeDataItem)},e.prototype.binaryTree=function(t){var e,i,r=t.children,n=r.length,a=new Array(n+1);for(a[0]=i=e=0;e<n;++e)a[e+1]=i+=r.getIndex(e).value;!function t(e,i,n,o,s,l,c){if(e>=i-1){var u=r.getIndex(e);return u.x0=o,u.y0=s,u.x1=l,void(u.y1=c)}for(var h=a[e],p=n/2+h,d=e+1,f=i-1;d<f;){var b=d+f>>>1;a[b]<p?d=b+1:f=b}p-a[d-1]<a[d]-p&&e+1<d&&--d;var m=a[d]-h,g=n-m;if(l-o>c-s){var y=(o*g+l*m)/n;t(e,d,m,o,s,y,c),t(d,i,g,y,s,l,c)}else{var v=(s*g+c*m)/n;t(e,d,m,o,s,l,v),t(d,i,g,o,v,l,c)}}(0,n,t.value,t.x0,t.y0,t.x1,t.y1)},e.prototype.slice=function(t){for(var e,i=t.x0,r=t.x1,n=t.y0,a=t.children,o=-1,s=a.length,l=t.value&&(t.y1-n)/t.value;++o<s;)(e=a.getIndex(o)).x0=i,e.x1=r,e.y0=n,e.y1=n+=e.value*l},e.prototype.dice=function(t){for(var e,i=t.x0,r=t.y0,n=t.y1,a=t.children,o=-1,s=a.length,l=t.value&&(t.x1-i)/t.value;++o<s;)(e=a.getIndex(o)).y0=r,e.y1=n,e.x0=i,e.x1=i+=e.value*l},e.prototype.sliceDice=function(t){1&t.level?this.slice(t):this.dice(t)},e.prototype.squarify=function(t){for(var e,i,r,n,a,o,s,l,c,u,h=(1+Math.sqrt(5))/2,p=t.x0,d=t.x1,f=t.y0,b=t.y1,m=t.children,g=0,y=0,v=m.length,_=t.value;g<v;){i=d-p,r=b-f;do{n=m.getIndex(y++).value}while(!n&&y<v);for(a=o=n,u=n*n*(c=Math.max(r/i,i/r)/(_*h)),l=Math.max(o/u,u/a);y<v;++y){if(n+=e=m.getIndex(y).value,e<a&&(a=e),e>o&&(o=e),u=n*n*c,(s=Math.max(o/u,u/a))>l){n-=e;break}l=s}var x=this.dataItems.template.clone();x.value=n,x.dice=i<r,x.children=m.slice(g,y),x.x0=p,x.y0=f,x.x1=d,x.y1=b,x.dice?(x.y1=_?f+=r*n/_:b,this.dice(x)):(x.x1=_?p+=i*n/_:d,this.slice(x)),_-=n,g=y}},e.prototype.handleSeriesAdded2=function(){},e.prototype.handleDataItemValueChange=function(t,e){"value"==e&&this.invalidateDataItems()},e.prototype.handleDataItemWorkingValueChange=function(t,e){"value"==e&&this.invalidateDataItems()},e.prototype.getLegendLevel=function(t){if(t&&t.children)return t.children.length>1?t:1==t.children.length?this.getLegendLevel(t.children.getIndex(0)):t},Object.defineProperty(e.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),e.prototype.feedLegend=function(){var t=this.legend;if(t){t.dataFields.name="name";var e=this.getLegendLevel(this._homeDataItem);if(e){var i=[];e.children.each((function(t){i.push(t)})),t.data=i}}},e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},e.prototype.getExporting=function(){var e=this,i=t.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",(function(t){return"csv"!=t.format&&"xlsx"!=t.format||ge(e.dataFields.children)&&delete t.dataFields[e.dataFields.children],t})),i},e}(Tl);fr.registeredClasses.TreeMap=Uc;var Sc=function(t){function e(){var e=t.call(this)||this;return e._chart=new Oi,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.updateGridElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);if(t.element){var n=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getHeight();t.path=jo({x:n,y:a})+zo({x:n,y:o+a})+zo({x:0,y:o})}this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.getHeight();this.baseGrid.path=jo({x:this.chart.dx3D||0,y:this.chart.dy3D||0})+zo({x:0,y:0})+zo({x:0,y:e})},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){t&&this._chart.set(t,t.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),e.prototype.handle3DChanged=function(t){"depth"!=t.property&&"angle"!=t.property||this.invalidate()},e}(_l);fr.registeredClasses.AxisRendererX3D=Sc;var Tc=function(t){function e(){var e=t.call(this)||this;return e._chart=new Oi,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.updateGridElement=function(t,e,i){var r=this.positionToPoint(e+=(i-e)*t.location);if(t.element){var n=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getWidth();t.path=jo({x:0,y:0})+zo({x:n,y:a})+zo({x:o+n,y:a})}this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,i=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=jo({x:0,y:0})+zo({x:r,y:0})+zo({x:r+e,y:i})},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){t&&this._chart.set(t,t.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),e.prototype.handle3DChanged=function(t){"depth"!=t.property&&"angle"!=t.property||this.invalidate()},e}(dl),kc=function(t){function e(){var e=t.call(this)||this;return e.className="Column3D",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.column3D=this.createChild(Ps),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},e.prototype.validate=function(){t.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},e.prototype.setFill=function(e){t.prototype.setFill.call(this,e),this.column.fill=e},e}(_c);fr.registeredClasses.Column3D=kc;var Ic=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(xc),Ac=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"columnsContainer",{get:function(){var t=this.chart;return t&&t.columnsContainer&&"vertical"!=t.leftAxesContainer.layout&&"vertical"!=t.rightAxesContainer.layout&&"horizontal"!=t.bottomAxesContainer.layout&&"horizontal"!=t.topAxesContainer.layout?t.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),e.prototype.validateDataElementReal=function(e){t.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy)},e.prototype.validateDataElements=function(){t.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},e.prototype.createColumnTemplate=function(){return new kc},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0),this.columns.template.column3D.depth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t),this.columns.template.column3D.angle=t},enumerable:!0,configurable:!0}),e}(wc);fr.registeredClasses.ColumnSeries3D=Ac,fr.registeredClasses.ColumnSeries3DDataItem=Ic,function(t){Object(h.d)((function(){var e=t.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e}),t)}(Sl);var Oc=function(t){function e(){var e=t.call(this)||this;e._axisRendererX=Sc,e._axisRendererY=Tc,e.className="XYChart3D",e.depth=30,e.angle=30;var i=e.seriesContainer.createChild(yo);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.columnsContainer=i,e.columnsContainer.mask=e.createChild(mo),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.updateSeriesMasks=function(){if(t.prototype.updateSeriesMasks.call(this),Tn()){var e=this.columnsContainer,i=e.mask;e.mask=void 0,e.mask=i}},Object.defineProperty(e.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx3D",{get:function(){return Fe(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy3D",{get:function(){return-De(this.angle)*this.depth},enumerable:!0,configurable:!0}),e.prototype.validateLayout=function(){t.prototype.validateLayout.call(this),this.fixColumns()},e.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),t.prototype.fixLayout.call(this)},e.prototype.fixColumns=function(){var t=this,e=1,i=0;ir(this.series.iterator(),(function(t){t instanceof Ac&&(!t.clustered&&i>0&&e++,t.depthIndex=e-1,i++)}));var r=0;ir(this.series.iterator(),(function(i){if(i instanceof Ac){i.depth=t.depth/e,i.angle=t.angle,i.columnsContainer==t.columnsContainer&&(i.dx=t.depth/e*Fe(t.angle)*i.depthIndex,i.dy=-t.depth/e*De(t.angle)*i.depthIndex);var n=!1;(i.baseAxis==i.xAxis&&i.xAxis.renderer.inversed||i.baseAxis==i.yAxis&&i.yAxis.renderer.inversed)&&(n=!0);var a=1;i.dataItems.each((function(t){var e=t.column;e&&(e.zIndex=n?1e3*(1e3-a)+r-100*i.depthIndex:1e3*a+r-100*i.depthIndex),a++})),n?r--:r++}})),this.maskColumns()},e.prototype.processConfig=function(e){if(e&&ge(e.series)&&Ce(e.series))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"ColumnSeries3D";t.prototype.processConfig.call(this,e)},e.prototype.maskColumns=function(){var t=this.plotContainer.pixelWidth,e=this.plotContainer.pixelHeight,i=this.dx3D,r=this.dy3D,n=jo({x:0,y:0})+zo({x:i,y:r})+zo({x:t+i,y:r})+zo({x:t+i,y:e+r})+zo({x:t,y:e})+zo({x:t,y:e})+zo({x:0,y:e})+" Z",a=this.columnsContainer;a&&a.mask&&(a.mask.path=n)},e}(Tl);fr.registeredClasses.XYChart3D=Oc;var Dc=function(t){function e(){var e=t.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(yo),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new Oo;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new _r(i),e._disposers.push(new gr(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.getMinFromRules=function(t){var e,i=this.series;if(i)return er(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.min,!1)})),e},e.prototype.getMaxFromRules=function(t){var e,i=this.series;if(i)return ir(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.max,!1)})),e},e.prototype.validate=function(){t.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,r=this.maxColor;if(ge(i)||(i=Lr(this.getMinFromRules("fill"))),ge(r)||(r=Lr(this.getMaxFromRules("fill"))),e){var n=e.fill;!ge(i)&&n instanceof Er&&(i=n),!ge(r)&&n instanceof Er&&(r=n)}ge(r)||(r=Lr(this.getMaxFromRules("fill")));var a=be(this.getMinFromRules("fillOpacity"));we(a)||(a=1);var o=be(this.getMaxFromRules("fillOpacity"));we(o)||(o=1);var s=be(this.getMinFromRules("strokeOpacity"));we(s)||(s=1);var l=be(this.getMaxFromRules("strokeOpacity"));we(l)||(l=1);for(var c=Lr(this.getMinFromRules("stroke")),u=Lr(this.getMaxFromRules("stroke")),h=0;h<this.markerCount;h++){var p=this.markers.getIndex(h);if(p||((p=this.markers.create()).parent=this.markerContainer,p.height=ue(100),p.width=ue(100)),1==this.markerCount){var d=new Ga;if(this.reverseOrder?(d.addColor(r,o),d.addColor(i,a)):(d.addColor(i,a),d.addColor(r,o)),"vertical"==this.orientation&&(d.rotation=-90),p.fill=d,ge(c)&&ge(u)){var f=new Ga;this.reverseOrder?(f.addColor(u,l),f.addColor(c,s)):(f.addColor(c,s),f.addColor(u,l)),"vertical"==this.orientation&&(f.rotation=-90),p.stroke=f}}else{var b=h;this.reverseOrder&&(b=this.markerCount-h-1);var m=new Er(Or(i.rgb,r.rgb,b/this.markerCount));if(p.fill=m,p.fillOpacity=a+(o-a)*b/this.markerCount,ge(c)&&ge(u)){var g=new Er(Or(c.rgb,u.rgb,b/this.markerCount));p.stroke=g,p.strokeOpacity=s+(l-s)*b/this.markerCount}}}this.markerCount>1&&(this.valueAxis.renderer.minGridDistance="horizontal"==this.orientation?this.measuredWidth/this.markerCount:this.measuredHeight/this.markerCount),this.valueAxis.invalidate(),h=this.markerCount;for(var y=this.markers.length;h<y;h++)this.markers.getIndex(h).parent=void 0},Object.defineProperty(e.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(t){t instanceof Er||(t=Lr(t)),this.setColorProperty("minColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(t){Ve(t)||(t=Lr(t)),this.setColorProperty("maxColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(t){this.setPropertyValue("markerCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t),this.valueAxis.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t),this.valueAxis.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.markerContainer,i=this.valueAxis;"horizontal"==t?(ge(this.width)||(this.width=200),this.height=void 0,i.width=ue(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",e.width=ue(100),e.height=void 0,i.renderer instanceof _l||(i.renderer=new _l)):(ge(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",e.width=void 0,e.height=ue(100),i.height=ue(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof dl||(i.renderer=new dl),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var r=i.renderer;r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.baseGrid.disabled=!0,r.labels.template.padding(2,3,2,3),r.minHeight=void 0,r.minWidth=void 0,this.markerContainer.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(ml),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(t){this._valueAxis=t,t.parent=this,t.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this._series=t;var i="value";try{var r=t.heatRules.getIndex(0).dataField;r&&(i=r)}catch(n){}this.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high),t.dataItem.events.on("calculatedvaluechanged",(function(r){e.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high)}),void 0,!1),t.heatRules.events.on("inserted",this.invalidate,this,!1),t.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),e.prototype.updateMinMax=function(t,e){var i=this.valueAxis;we(this.minValue)||(i.min=t,i.invalidate()),we(this.maxValue)||(i.max=e,i.invalidate())},e.prototype.processConfig=function(e){if(e&&ge(e.series)&&xe(e.series)&&xe(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,r=this.map.events.on("insertKey",(function(t){t.key==i&&(this.series=t.newValue,r.dispose())}),this);this._disposers.push(r),delete e.series}t.prototype.processConfig.call(this,e)},e}(yo);fr.registeredClasses.HeatLegend=Dc;var Mc=function(t){function e(){var e=t.call(this)||this;return e.className="Candlestick",e.layout="none",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){t.prototype.createAssets.call(this),this.lowLine=this.createChild(Ro),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Ro),this.highLine.shouldClone=!1},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},e}(_c);fr.registeredClasses.Candlestick=Mc;var Fc=function(t){function e(){var e=t.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(t){this.setValue("lowValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(t){this.setValue("lowValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(t){this.setValue("highValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(t){this.setValue("highValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(t){this.setValue("valueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(t){this.setValue("valueY",t)},enumerable:!0,configurable:!0}),e}(xc),Ec=function(t){function e(){var e=t.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var i=new ma,r=i.getFor("positive"),n=i.getFor("negative");return e.dropFromOpenState.properties.fill=n,e.dropFromOpenState.properties.stroke=n,e.riseFromOpenState.properties.fill=r,e.riseFromOpenState.properties.stroke=r,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},e.prototype.createDataItem=function(){return new Fc},e.prototype.validateDataElementReal=function(e){t.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},e.prototype.validateCandlestick=function(t){var e=t.column;if(e){var i=e.lowLine,r=e.highLine;if(this.baseAxis==this.xAxis){var n=e.pixelWidth/2;i.x=n,r.x=n;var a=t.getWorkingValue(this.yOpenField),o=t.getWorkingValue(this.yField),s=this.yAxis.getY(t,this.yOpenField),l=this.yAxis.getY(t,this.yField),c=this.yAxis.getY(t,this.yLowField),u=this.yAxis.getY(t,this.yHighField),h=e.pixelY;i.y1=c-h,r.y1=u-h,a<o?(i.y2=s-h,r.y2=l-h):(i.y2=l-h,r.y2=s-h)}if(this.baseAxis==this.yAxis){var p=e.pixelHeight/2;i.y=p,r.y=p;var d=t.getWorkingValue(this.xOpenField),f=t.getWorkingValue(this.xField),b=this.xAxis.getX(t,this.xOpenField),m=this.xAxis.getX(t,this.xField),g=this.xAxis.getX(t,this.xLowField),y=this.xAxis.getX(t,this.xHighField),v=e.pixelX;i.x1=g-v,r.x1=y-v,d<f?(i.x2=b-v,r.x2=m-v):(i.x2=m-v,r.x2=b-v)}ir(this.axisRanges.iterator(),(function(e){var n=t.rangesColumns.getKey(e.uid);if(n){var a=n.lowLine;a.x=i.x,a.y=i.y,a.x1=i.x1,a.x2=i.x2,a.y1=i.y1,a.y2=i.y2;var o=n.highLine;o.x=r.x,o.y=r.y,o.x1=r.x1,o.x2=r.x2,o.y1=r.y1,o.y2=r.y2}}))}},Object.defineProperty(e.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),e.prototype.defineFields=function(){t.prototype.defineFields.call(this);var e=this.xAxis,i=this.yAxis;if(e&&i){if(this.baseAxis==e){var r=Yr(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var n=Yr(e.axisFieldName);this._xLowField="low"+n+"X",this._xHighField="high"+n+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var r,n,a=t.createChild(Mc);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.lowLine,s=a.highLine;this.baseAxis==this.yAxis?(r=e/3,n=i,o.y=i/2,s.y=i/2,o.x2=e/3,s.x2=e/3,s.x=e/3*2,a.column.x=e/3):(r=e,n=i/3,o.x=e/2,s.x=e/2,o.y2=i/3,s.y2=i/3,s.y=i/3*2,a.column.y=i/3),a.width=r,a.height=n,Zi(this,t,bo),Zi(this.columns.template,a,bo),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var l=t.dataItem;l.color=a.fill,l.colorOrig=a.fill},e.prototype.createColumnTemplate=function(){return new Mc},e}(wc);fr.registeredClasses.CandlestickSeries=Ec,fr.registeredClasses.CandlestickSeriesDataItem=Fc;var Rc=function(t){function e(){var e=t.call(this)||this;return e.className="OHLC",e.layout="none",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.openLine=this.createChild(Ro),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Ro),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Ro),this.closeLine.shouldClone=!1},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},e}(Mc);fr.registeredClasses.OHLC=Rc;var Lc=function(t){function e(){var e=t.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Fc),Hc=function(t){function e(){var e=t.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},e.prototype.createDataItem=function(){return new Lc},e.prototype.validateCandlestick=function(t){var e=t.column;if(e){var i=e.openLine,r=e.highLowLine,n=e.closeLine;if(this.baseAxis==this.xAxis){var a=e.pixelWidth/2;r.x=a,t.getWorkingValue(this.yOpenField),t.getWorkingValue(this.yField);var o=this.yAxis.getY(t,this.yOpenField),s=this.yAxis.getY(t,this.yField),l=this.yAxis.getY(t,this.yLowField),c=this.yAxis.getY(t,this.yHighField),u=e.pixelY;i.y1=o-u,i.y2=o-u,i.x1=0,i.x2=a,n.y1=s-u,n.y2=s-u,n.x1=a,n.x2=2*a,r.y1=c-u,r.y2=l-u}if(this.baseAxis==this.yAxis){var h=e.pixelHeight/2;r.y=h,t.getWorkingValue(this.xOpenField),t.getWorkingValue(this.xField);var p=this.xAxis.getX(t,this.xOpenField),d=this.xAxis.getX(t,this.xField),f=this.xAxis.getX(t,this.xLowField),b=this.xAxis.getX(t,this.xHighField),m=e.pixelX;i.x1=p-m,i.x2=p-m,i.y1=h,i.y2=2*h,n.x1=d-m,n.x2=d-m,n.y1=0,n.y2=h,r.x1=b-m,r.x2=f-m}ir(this.axisRanges.iterator(),(function(e){var a=t.rangesColumns.getKey(e.uid);if(a){var o=a.openLine;o.x=i.x,o.y=i.y,o.x1=i.x1,o.x2=i.x2,o.y1=i.y1,o.y2=i.y2;var s=a.closeLine;s.x=n.x,s.y=n.y,s.x1=n.x1,s.x2=n.x2,s.y1=n.y1,s.y2=n.y2;var l=a.highLowLine;l.x=r.x,l.y=r.y,l.x1=r.x1,l.x2=r.x2,l.y1=r.y1,l.y2=r.y2}}))}},e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var r,n,a=t.createChild(Rc);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.openLine,s=a.closeLine,l=a.highLowLine;this.baseAxis==this.yAxis?(r=e/3,n=i,l.y=i/2,l.x2=e,o.x=e/3*2,o.y2=i/2,s.x=e/3,s.y2=i,s.y1=i/2):(r=e,n=i/3,l.x=e/2,l.y2=i,o.y=i/3*2,o.x2=e/2,s.y=i/3,s.x2=e,s.x1=e/2),a.width=r,a.height=n,Zi(this,t,bo),Zi(this.columns.template,a,bo),a.stroke=this.riseFromOpenState.properties.stroke;var c=t.dataItem;c.color=a.stroke,c.colorOrig=a.stroke},e.prototype.createColumnTemplate=function(){return new Rc},e}(Ec);fr.registeredClasses.OHLCSeries=Hc,fr.registeredClasses.OHLCSeriesDataItem=Lc;var jc=function(t){function e(){var e=t.call(this)||this;return e.className="StepLineSeriesSegment",e}return Object(h.d)(e,t),e.prototype.drawSegment=function(t,e,i,r,n,a){if(t.length>0&&e.length>0)if(n){var o=jo(t[0]);if(t.length>0)for(var s=1;s<t.length;s++){var l=t[s];s/2==Math.round(s/2)?o+=jo(l):o+=zo(l)}this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o=jo(t[0])+Ho(t),o+=zo(e[0])+Ho(e),o+=zo(t[0]),this.fillSprite.path=o+=" Z")}else o=jo(t[0])+Ho(t),this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o+=zo(e[0])+Ho(e),o+=zo(t[0]),this.fillSprite.path=o+=" Z")},e}(kl);fr.registeredClasses.StepLineSeriesSegment=jc;var zc=function(t){function e(){var e=t.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Ol),Bc=function(t){function e(){var e=t.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new zc},e.prototype.addPoints=function(t,e,i,r,n){var a,o,s,l;this.baseAxis==this.xAxis&&(a=this.startLocation,o=this.endLocation,s=this.getAdjustedXLocation(e,this.yOpenField),l=this.getAdjustedXLocation(e,this.yField)),this.baseAxis==this.yAxis&&(s=this.startLocation,l=this.endLocation,a=this.getAdjustedXLocation(e,this.xOpenField),o=this.getAdjustedXLocation(e,this.xField));var c=this.xAxis.getX(e,i,a),u=this.yAxis.getY(e,r,s),h=this.xAxis.getX(e,i,o),p=this.yAxis.getY(e,r,l);if(c=Oe(c,-1e5,1e5),u=Oe(u,-1e5,1e5),h=Oe(h,-1e5,1e5),p=Oe(p,-1e5,1e5),!this.noRisers&&t.length>1){var d=t[t.length-1];this.baseAxis==this.xAxis&&t.push(n?{x:d.x,y:p}:{x:c,y:d.y}),this.baseAxis==this.yAxis&&t.push(n?{x:h,y:d.y}:{x:d.x,y:u})}var f={x:c,y:u},b={x:h,y:p};n?t.push(b,f):t.push(f,b)},e.prototype.drawSegment=function(t,e,i){var r=!1;this.yAxis==this.baseAxis&&(r=!0),t.drawSegment(e,i,this.tensionX,this.tensionY,this.noRisers,r)},e.prototype.createSegment=function(){return new jc},Object.defineProperty(e.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(t){this.setPropertyValue("noRisers",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e}(Dl);fr.registeredClasses.StepLineSeries=Bc,fr.registeredClasses.StepLineSeriesDataItem=zc;var Nc=function(t){function e(){var e=t.call(this)||this;return e.className="RadarColumn",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.radarColumn=this.createChild(ts),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");return we(t)?t:this.radarColumn.getTooltipX()},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipX");return we(t)?t:this.radarColumn.getTooltipY()},e}(_c);fr.registeredClasses.RadarColumn=Nc;var Xc=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(xc),Wc=function(t){function e(){var e=t.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createColumnTemplate=function(){return new Nc},e.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},e.prototype.disableUnusedColumns=function(t){t&&(t.column&&(t.column.__disabled=!0),ir(this.axisRanges.iterator(),(function(e){var i=t.rangesColumns.getKey(e.uid);i&&(i.__disabled=!0)})))},e.prototype.validateDataElementReal=function(t){var e,i,r,n,a=this,o=this.chart.startAngle,s=this.chart.endAngle,l=this.yField,c=this.yOpenField,u=this.xField,h=this.xOpenField,p=this.getStartLocation(t),d=this.getEndLocation(t),f=(s-o)/(this.dataItems.length*(this.end-this.start)),b=t.column;b||(b=this.columns.create(),t.column=b,Zi(this,b,bo),Zi(this.columns.template,b,bo),t.addSprite(b),b.paper=this.paper,this.setColumnStates(b));var m=b.width,g=100;m instanceof ce&&(g=m.percent);var y=Ie((d-p)*(1-g/100)/2,5);if(p+=y,d-=y,this.xAxis instanceof Vl&&this.yAxis instanceof Vl?(r=je({x:this.yAxis.getX(t,l,0,"valueY"),y:this.yAxis.getY(t,l,0,"valueY")}),n=je({x:this.yAxis.getX(t,c,1,"valueY"),y:this.yAxis.getY(t,c,1,"valueY")}),e=this.xAxis.getAngle(t,h,0,"valueX"),i=this.xAxis.getAngle(t,u,1,"valueX"),o+=p*f,s-=(1-d)*f):this.baseAxis==this.xAxis?(r=je({x:this.yAxis.getX(t,l,t.locations[l],"valueY"),y:this.yAxis.getY(t,l,t.locations[l],"valueY")}),n=je({x:this.yAxis.getX(t,c,t.locations[c],"valueY"),y:this.yAxis.getY(t,c,t.locations[c],"valueY")}),e=this.xAxis.getAngle(t,h,p,"valueX"),i=this.xAxis.getAngle(t,u,d,"valueX"),o+=p*f,s-=(1-d)*f):(r=je({x:this.yAxis.getX(t,l,p,"valueY"),y:this.yAxis.getY(t,l,p,"valueY")}),n=je({x:this.yAxis.getX(t,c,d,"valueY"),y:this.yAxis.getY(t,c,d,"valueY")}),e=this.xAxis.getAngle(t,u,t.locations[u],"valueX"),i=this.xAxis.getAngle(t,h,t.locations[h],"valueX")),i<e){var v=i;i=e,e=v}e=Oe(e,o,s),i=Oe(i,o,s);var _=b.radarColumn;_.startAngle=e;var x=i-e;x>0?(_.arc=x,_.radius=r,_.innerRadius=n,b.__disabled=!1,b.parent=this.columnsContainer,ir(this.axisRanges.iterator(),(function(i){var o,s,l=t.rangesColumns.getKey(i.uid);l||(l=a.columns.create(),o=a.columns.template,s=l,oi(bo,(function(t){s[t]=o[t]})),Zi(i.contents,l,bo),l.dataItem&&bi(l.dataItem.sprites,l),t.addSprite(l),l.paper=a.paper,a.setColumnStates(l),t.rangesColumns.setKey(i.uid,l));var c=l.radarColumn;c.startAngle=e,c.arc=x,c.radius=r,c.innerRadius=n,c.invalid&&(c.paper=a.paper,c.validate()),l.__disabled=!1,l.parent=i.contents}))):this.disableUnusedColumns(t)},e.prototype.getPoint=function(t,e,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=je({x:this.yAxis.getX(t,i,n,o),y:this.yAxis.getY(t,i,n,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(t,e,r,a);return{x:s*Fe(l),y:s*De(l)}},e.prototype.getMaskPath=function(){var t=this.yAxis.renderer;return Wo(t.startAngle,t.endAngle-t.startAngle,t.pixelRadius,t.pixelInnerRadius)},e.prototype.positionBulletReal=function(t,e,i){var r=this.xAxis,n=this.yAxis;(e<r.start||e>r.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},e.prototype.setXAxis=function(e){t.prototype.setXAxis.call(this,e),this.updateRendererRefs()},e.prototype.setYAxis=function(e){t.prototype.setYAxis.call(this,e),this.updateRendererRefs()},e.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},e}(wc);fr.registeredClasses.RadarColumnSeries=Wc,fr.registeredClasses.RadarColumnSeriesDataItem=Xc;var Gc=function(t){function e(){var e=t.call(this)||this;return e.slice=e.createChild(mo),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=ue(100),e.topWidth=ue(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelPaddingTop,i=this.pixelPaddingLeft,r=this.pixelWidth-this.pixelPaddingRight-i,n=this.pixelHeight-e-this.pixelPaddingBottom,a=this.expandDistance,o="";if("vertical"==this.orientation){var s={x:(r-(b=Wr(this.topWidth,r)))/2+i,y:e},l={x:(r+b)/2+i,y:e},c={x:(r+(m=Wr(this.bottomWidth,r)))/2+i,y:e+n},u={x:(r-m)/2+i,y:e+n},h={x:l.x+(c.x-l.x)/2+a*n,y:l.y+.5*n},p={x:s.x+(u.x-s.x)/2-a*n,y:s.y+.5*n},d=zo(c),f="";0!=a&&(d=Bo(c,h),f=Bo(s,p)),o=jo(s)+zo(l)+d+zo(u)+f,this.tickPoint={x:l.x+(c.x-l.x)/2,y:l.y+(c.y-l.y)/2}}else{var b,m,g={x:i,y:(n-(b=Wr(this.topWidth,n)))/2+e},y={x:i,y:(n+b)/2+e},v={x:i+r,y:(n-(m=Wr(this.bottomWidth,n)))/2+e},_={x:i+r,y:(n+m)/2+e};h={y:g.y+(v.y-g.y)/2-a*r,x:g.x+.5*r},p={y:y.y+(_.y-y.y)/2+a*r,x:y.x+.5*r},d=zo(v),f="",0!=a&&(d=Bo(v,h),f=Bo(y,p)),o=jo(y)+zo(g)+d+zo(_)+f,this.tickPoint={y:y.y+(_.y-y.y)/2,x:y.x+(_.x-y.x)/2}}this.slice.path=o,this.invalidateLayout()},e.prototype.getPoint=function(t,e){var i=this.pixelPaddingTop,r=this.pixelPaddingLeft,n=this.pixelWidth-this.pixelPaddingRight-r,a=this.pixelHeight-i-this.pixelPaddingBottom;if("vertical"==this.orientation){var o={x:(n-(u=Wr(this.topWidth,n)))/2+r,y:i},s={x:(n+u)/2+r,y:i},l={x:(n+(h=Wr(this.bottomWidth,n)))/2+r,y:i+a},c=o.x+((n-h)/2+r-o.x)*e;return{x:c+(s.x+(l.x-s.x)*e-c)*t,y:s.y+(l.y-s.y)*e}}var u,h,p=r,d=(a-(u=Wr(this.topWidth,a)))/2+i,f=(a+u)/2+i,b=r+n,m=d+((a-(h=Wr(this.bottomWidth,a)))/2+i-d)*t;return{y:m+(f+((a+h)/2+i-f)*t-m)*e,x:p+(b-p)*t}},Object.defineProperty(e.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(t){this.setPropertyValue("expandDistance",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},e}(yo);fr.registeredClasses.FunnelSlice=Gc;var Yc=function(t){function e(){var e=t.call(this)||this;return e._label=new Oi,e._slice=new Oi,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.slice,i=e.getPoint(this.locationX,this.locationY);if(i){var r=this.label,n=e.dataItem.component,a=void 0,o=void 0,s=void 0;if("vertical"==n.orientation){var l=r.pixelX,c=r.pixelY;n.labelsOpposite||(l+=r.maxRight),a=gn(i,e,this.parent),s=gn({x:l,y:c},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:s.y},n.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else l=r.pixelX,c=r.pixelY,n.labelsOpposite||(c+=r.maxBottom),a=gn(i,e,this.parent),o={x:(s=gn({x:l,y:c},r.parent,this.parent)).x,y:r.parent.pixelY-this.length},n.labelsOpposite||(o.y=r.parent.measuredHeight+this.length);this.path=jo(a)+zo(o)+zo(s)}},Object.defineProperty(e.prototype,"slice",{get:function(){return this._slice.get()},set:function(t){this._slice.set(t,new Ai([t.events.on("transformed",this.invalidate,this,!1),t.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label.get()},set:function(t){this._label.set(t,t.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){this.setPropertyValue("locationX",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){this.setPropertyValue("locationY",t,!1,!0)},enumerable:!0,configurable:!0}),e}(cl);fr.registeredClasses.FunnelTick=Yc;var qc=function(t){function e(){var e=t.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",(function(){e.component&&e.component.invalidateDataItems()}),e,!1),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"sliceLink",{get:function(){var t=this;if(!this._sliceLink){var e=this.component.sliceLinks.create();this._sliceLink=e,this._disposers.push(e),e.parent=this.component.slicesContainer,this._disposers.push(new Ii((function(){t.component&&t.component.sliceLinks.removeValue(e)}))),this.addSprite(e),e.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),e}(Gl),Kc=function(t){function e(){var e=t.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=ue(100),e.height=ue(100),e.slicesContainer.width=ue(100),e.slicesContainer.height=ue(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createSlice=function(){return new Gc},e.prototype.createTick=function(){return new Yc},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},e.prototype.createDataItem=function(){return new qc},e.prototype.initSlice=function(t){t.isMeasured=!1,t.defaultState.properties.scale=1,t.observe("scale",this.handleSliceScale,this),t.observe(["dx","dy","x","y"],this.handleSliceMove,this),t.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",t.states.create("hover").properties.expandDistance=.2},e.prototype.initLabel=function(e){t.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},e.prototype.validate=function(){t.prototype.validate.call(this),this._nextY=0},e.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer,r=this.labelsContainer,n=this.labels.template;this.alignLabels?(n.interactionsEnabled=!0,i.isMeasured=!0,r.isMeasured=!0):(n.interactionsEnabled=!1,i.isMeasured=!1,r.isMeasured=!1);var a=0,o=0;this.dataItems.each((function(t){ge(t.value)&&(o++,t.value>0?a+=Math.abs(t.getWorkingValue("value")/t.value):e.ignoreZeroValues?o--:!t.visible||t.__disabled||t.isHiding?o--:a+=1)})),this._total=1/o*a,this._count=o,t.prototype.validateDataElements.call(this),this.arrangeLabels()},e.prototype.getNextValue=function(t){var e=t.index,i=t.getWorkingValue("value");if(e<this.dataItems.length-1){var r=this.dataItems.getIndex(e+1);if(i=r.getWorkingValue("value"),!r.visible||r.isHiding||r.__disabled||0==r.value&&this.ignoreZeroValues)return this.getNextValue(r)}return i},e.prototype.formDataElement=function(){},e.prototype.validateDataElement=function(e){var i=this,r=e.slice;r.orientation=this.orientation;var n=e.sliceLink;n.orientation=this.orientation;var a=e.tick,o=e.label;a.slice=r,a.label=o,ge(e.value)?(this.decorateSlice(e),oi(e.sprites,(function(t){t.__disabled=!(0!=e.value||!i.ignoreZeroValues)}))):oi(e.sprites,(function(t){t.__disabled=!0})),e.index==this.dataItems.length-1&&(n.disabled=!0),t.prototype.validateDataElement.call(this,e),n.fill=r.fill},e.prototype.decorateSlice=function(t){var e=t.slice,i=t.sliceLink,r=t.label,n=t.tick,a=this.slicesContainer.innerWidth,o=this.slicesContainer.innerHeight,s=this.getNextValue(t),l=Math.abs(t.getWorkingValue("value")),c=this.bottomRatio,u=1;if(0!=t.value?u=l/Math.abs(t.value):(t.__disabled||t.isHiding||!t.visible)&&(u=1e-6),this.ignoreZeroValues&&0==t.value)t.__disabled=!0;else if(t.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var h=i.pixelHeight*u;o+=h,e.topWidth=l/this.dataItem.values.value.high*a,e.bottomWidth=(l-(l-s)*c)/this.dataItem.values.value.high*a,i.topWidth=e.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*a,e.y=this._nextY,e.height=Math.min(1e5,Ee(0,o/this._count*u/this._total-h)),e.x=a/2,r.x=this.alignLabels?void 0:e.x,r.y=e.pixelY+e.pixelHeight*n.locationY,this._nextY+=e.pixelHeight+h,i.y=this._nextY-h,i.x=e.x}else{var p=i.pixelWidth*u;a+=p,e.topWidth=l/this.dataItem.values.value.high*o,e.bottomWidth=(l-(l-s)*c)/this.dataItem.values.value.high*o,i.topWidth=e.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*o,e.x=this._nextY,e.width=Math.min(1e5,a/this._count*u*1/this._total-p),e.y=o/2,r.y=this.alignLabels?this.labelsContainer.measuredHeight:e.y,r.x=e.pixelX+e.pixelWidth*n.locationX,this._nextY+=e.pixelWidth+p,i.x=this._nextY-p,i.y=e.y}},e.prototype.getLastLabel=function(t){if(t>0){var e=this.labels.getIndex(t);return e.__disabled||!e.visible?this.getLastLabel(t-1):e}},e.prototype.arrangeLabels=function(){if(this.alignLabels){var t=this.labels.length;if(t>1){var e=this.getLastLabel(t-1);if(e){var i=e.pixelY,r=e.pixelX;if(t>1){for(var n=t-2;n>=0;n--)(a=this.labels.getIndex(n)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY+a.measuredHeight>i&&(a.y=Math.min(1e6,i-a.measuredHeight)):a.pixelX+a.measuredWidth>r&&(a.x=Math.min(1e6,r-a.measuredWidth)),i=a.pixelY,r=a.pixelX);for(i=0,r=0,n=0;n<t;n++){var a;(a=this.labels.getIndex(n)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY<i&&(a.y=Math.min(1e6,i)):a.pixelX<r&&(a.x=Math.min(1e6,r)),i+=a.measuredHeight,r+=a.measuredWidth)}}}}}},e.prototype.positionBullet=function(e){t.prototype.positionBullet.call(this,e);var i=e.dataItem.slice,r=e.locationX;we(r)||(r=.5);var n=e.locationY;we(n)||(n=1),e.x=i.pixelX+i.measuredWidth*r,e.y=i.pixelY+i.measuredHeight*n},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==t?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(t){this.setPropertyValue("bottomRatio",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var t=new Gc;t.applyOnClones=!0,t.fillOpacity=.5,t.expandDistance=-.3,t.hiddenState.properties.opacity=0,this._disposers.push(t),this._sliceLinks=new _r(t),this._disposers.push(new gr(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),e.prototype.show=function(e){var i=this,r=this.startIndex,n=this.endIndex,a=this.defaultState.transitionDuration;we(e)&&(a=e),Nn.animationsEnabled||(a=0);var o=0;return ir(ar(this.dataItems.iterator()),(function(t){var e=t[0];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*e+a*(e-r)/(n-r)),t[1].show(a,o,["value"])})),t.prototype.show.call(this,e)},e.prototype.hide=function(e){var i=this,r=["value"],n=this.startIndex,a=this.endIndex,o=0,s=this.hiddenState.transitionDuration;we(e)&&(s=e),Nn.animationsEnabled||(s=0),ir(ar(this.dataItems.iterator()),(function(t){var e=t[0];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*e+s*(e-n)/(a-n)),t[1].hide(s,o,0,r)}));var l=t.prototype.hide.call(this,e);return l&&!l.isFinished()&&l.delay(o),l},e.prototype.setAlignLabels=function(e){t.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var i=this.labelsContainer;i&&(e?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=ue(100),i.height=ue(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(e.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(t){this.setPropertyValue("labelsOpposite",t);var e=this.labels.template,i="none",r="none";this.alignLabels?t?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,e.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,e.horizontalCenter="right",r="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,i="left"):(r="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?i="center":r="middle",e.align=i,e.valign=r,this.validateLayout(),this.ticks.each((function(t){t.invalidate()})),this.invalidateDataItems()},enumerable:!0,configurable:!0}),e}(Yl);fr.registeredClasses.FunnelSeries=Kc,fr.registeredClasses.FunnelSeriesDataItem=qc;var Jc=function(t){function e(){var e=t.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(qc),Zc=function(t){function e(){var e=t.call(this)||this;return e.className="PyramidSeries",e.topWidth=ue(0),e.bottomWidth=ue(100),e.pyramidHeight=ue(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},e.prototype.createDataItem=function(){return new Jc},e.prototype.validate=function(){t.prototype.validate.call(this),this._nextWidth=void 0},e.prototype.getNextValue=function(t){var e=t.index,i=t.getWorkingValue("value");return e<this.dataItems.length-1&&(i=this.dataItems.getIndex(e+1).getWorkingValue("value")),0==i&&(i=1e-6),i},e.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each((function(t){if(t.value>0){var n=t.getWorkingValue("value")/t.value,a=t.sliceLink;"vertical"==e.orientation?r-=a.pixelHeight*n:i-=a.pixelWidth*n}})),this._pyramidHeight=Wr(this.pyramidHeight,r),this._pyramidWidth=Wr(this.pyramidHeight,i),"vertical"==this.orientation){var n=(r-this._pyramidHeight)/2;this.slicesContainer.y=n,this.labelsContainer.y=n,this.ticksContainer.y=n}else{var a=(i-this._pyramidWidth)/2;this.slicesContainer.x=a,this.labelsContainer.x=a,this.ticksContainer.x=a}t.prototype.validateDataElements.call(this)},e.prototype.decorateSlice=function(t){var e=this.dataItem.values.value.absoluteSum;if(0!=e){var i=t.slice,r=t.sliceLink,n=t.label,a=t.tick;this.getNextValue(t);var o=Math.abs(t.getWorkingValue("value")),s=this._pyramidWidth,l=this._pyramidHeight,c=this.slicesContainer.innerWidth,u=this.slicesContainer.innerHeight,h=r.pixelWidth,p=r.pixelHeight;if(t.__disabled=!(0!=t.value||!this.ignoreZeroValues),"vertical"==this.orientation){var d=Wr(this.topWidth,c);we(this._nextWidth)||(this._nextWidth=d);var f=Wr(this.bottomWidth,c),b=this._nextWidth,m=Math.atan2(l,d-f);0==(x=Math.tan(Math.PI/2-m))&&(x=1e-8);var g=void 0,y=void 0;if("area"==this.valueIs){var v=(d+f)/2*l*o/e,_=Math.abs(b*b-2*v*x);y=(g=(b-Math.sqrt(_))/x)>0?(2*v-g*b)/g:b}else y=b-(g=l*o/e)*x;i.height=g,i.width=c,i.bottomWidth=y,i.topWidth=b,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.y=this._nextY,n.x=this.alignLabels?0:c/2,n.y=i.pixelY+i.pixelHeight*a.locationY+i.dy,this._nextY+=i.pixelHeight+p*o/Math.max(Math.abs(t.value),1e-8),r.y=this._nextY-p,r.x=c/2}else{var x;d=Wr(this.topWidth,u),we(this._nextWidth)||(this._nextWidth=d),f=Wr(this.bottomWidth,u),b=this._nextWidth,m=Math.atan2(s,d-f),0==(x=Math.tan(Math.PI/2-m))&&(x=1e-8);var w=void 0;y=void 0,y="area"==this.valueIs?(2*(v=(d+f)/2*s*o/e)-(w=(b-Math.sqrt(b*b-2*v*x))/x)*b)/w:b-(w=s*o/e)*x,i.width=w,i.height=u,i.bottomWidth=y,i.topWidth=b,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.x=this._nextY,n.y=this.alignLabels?this.labelsContainer.measuredHeight:u/2,n.x=i.pixelX+i.pixelWidth*a.locationX+i.dx,this._nextY+=i.pixelWidth+h*o/Math.max(Math.abs(t.value),1e-8),r.x=this._nextY-h,r.y=u/2}this._nextWidth=i.bottomWidth}},Object.defineProperty(e.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(t){this.setPercentProperty("pyramidHeight",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(t){this.setPropertyValue("valueIs",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e}(Kc);fr.registeredClasses.PyramidSeries=Zc,fr.registeredClasses.PyramidSeriesDataItem=Jc;var Qc=function(t){function e(){var e=t.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Jc),$c=function(t){function e(){var e=t.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=ue(100),e.bottomWidth=ue(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(mo),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return Object(h.d)(e,t),e.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,n=r.measuredWidth/r.scale,a=r.measuredHeight/r.scale,o=Re(i/a,e/n);o==1/0&&(o=1),o=Ee(.001,o);var s,l,c=this.startLocation,u=this.endLocation,h=Re(e,n*o),p=Re(i,a*o);r.scale=o,"vertical"==this.orientation?(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=p*(u-c),r.x=e/2,r.y=p/2):(this.topWidth=p+4,this.bottomWidth=p+4,this.pyramidHeight=h*(u-c),r.valign="middle",r.x=h/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",t.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(s=i-p),"middle"==this.valign&&(s=(i-p)/2),"top"==this.valign&&(s=0),"left"==this.align&&(l=-(e-h)/2),"center"==this.align&&(l=0),"right"==this.align&&(l=(e-h)/2),this.slices.template.dy=c*p,this.alignLabels&&(this.slicesContainer.dx=l)):("bottom"==this.valign&&(s=(i-p)/2),"middle"==this.valign&&(s=0),"top"==this.valign&&(s=-(i-p)/2),"left"==this.align&&(l=0),"center"==this.align&&(l=(e-h)/2),"right"==this.align&&(l=e-h),this.slices.template.dx=c*h,this.alignLabels&&(this.slicesContainer.dy=s)),this.slicesContainer.x=l,this.labelsContainer.x=l,this.ticksContainer.x=l,this.slicesContainer.y=s,this.labelsContainer.y=s,this.ticksContainer.y=s,h>0&&p>0&&(this.slicesContainer.mask=r)},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},e.prototype.createDataItem=function(){return new Qc},Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),e.prototype.initSlice=function(e){t.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),e}(Zc);fr.registeredClasses.PictorialStackedSeries=$c,fr.registeredClasses.PictorialStackedSeriesDataItem=Qc;var tu=function(t){function e(){var e=t.call(this)||this;return e.className="ConeColumn",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.coneColumn=this.createChild(Vs),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},e}(_c);fr.registeredClasses.ConeColumn=tu;var eu=function(t){function e(){var e=t.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(xc),iu=function(t){function e(){var e=t.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createColumnTemplate=function(){return new tu},e.prototype.getMaskPath=function(){var t=0,e=0,i=this.columns.getIndex(0);if(i)return this.baseAxis==this.xAxis?e=i.coneColumn.innerWidth/2+1:t=i.coneColumn.innerHeight/2+1,qo({x:-t,y:0,width:this.xAxis.axisLength+t,height:this.yAxis.axisLength+e})},e.prototype.validateDataElementReal=function(e){if(t.prototype.validateDataElementReal.call(this,e),e.column){var i=e.column.coneColumn;i.fill=e.column.fill,i.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical"}},e}(wc);fr.registeredClasses.ConeSeries=iu,fr.registeredClasses.ConeSeriesDataItem=eu;var ru=function(t){function e(){var e=t.call(this)||this;return e.className="CurvedColumn",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.curvedColumn=this.createChild(mo),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=ue(120),this.height=ue(120),this.column=this.curvedColumn},e.prototype.draw=function(){t.prototype.draw.call(this);var e,i=this.realWidth,r=this.realHeight,n=this.realX-this.pixelX,a=this.realY-this.pixelY,o=1,s=1;"vertical"==this.orientation?(o=this.tension,e=[{x:0,y:r+a},{x:i/2,y:a},{x:i,y:r+a}]):(s=this.tension,e=[{x:n,y:0},{x:n+i,y:r/2},{x:n,y:r}]);var l=jo(e[0])+new ds(o,s).smooth(e);this.column.path=l},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),e}(_c);fr.registeredClasses.CurvedColumn=ru;var nu=function(t){function e(){var e=t.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(xc),au=function(t){function e(){var e=t.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createColumnTemplate=function(){return new ru},e.prototype.validateDataElementReal=function(e){t.prototype.validateDataElementReal.call(this,e);var i=e.column;(i=e.column)&&(e.column.curvedColumn.fill=e.column.fill,i.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical")},e}(wc);fr.registeredClasses.CurvedColumnSeries=au,fr.registeredClasses.CurvedColumnSeriesDataItem=nu;var ou=function(t){function e(){var e=t.call(this)||this;e.className="CircleBullet";var i=e.createChild(Mo);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,e.circle=i,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},e}(Ys);fr.registeredClasses.CircleBullet=ou;var su=function(t){function e(){var e=t.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(mo),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return Object(h.d)(e,t),e.prototype.validatePosition=function(){t.prototype.validatePosition.call(this);var e=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=jo({x:-e,y:-i})+zo({x:e,y:-i})+jo({x:0,y:-i})+zo({x:0,y:i})+jo({x:-e,y:i})+zo({x:e,y:i})},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},e}(Ys);fr.registeredClasses.ErrorBullet=su;var lu=function(t){function e(){var e=t.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this.properties.name},set:function(t){this.setProperty("name",t)},enumerable:!0,configurable:!0}),e}(ko),cu=function(t){function e(){var e=t.call(this)||this;e.className="NavigationBar";var i=new ma,r=new ss;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,e.paddingBottom=2,e.links=new _r(r),e._disposers.push(new gr(e.links)),e._disposers.push(r),e._linksIterator=new sr(e.links,(function(){return e.links.create()})),e._linksIterator.createNewItems=!0;var n=new ps;n.direction="right",n.width=8,n.height=12,n.fill=i.getFor("alternativeBackground"),n.fillOpacity=.5,n.valign="middle",n.marginLeft=10,n.marginRight=10,e.separators=new _r(n),e._disposers.push(new gr(e.separators)),e._disposers.push(n);var a=new ss;return e.activeLink=a,a.copyFrom(r),a.valign="middle",a.fontWeight="bold",e.width=ue(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),t.prototype.validateDataElements.call(this)},e.prototype.validateDataElement=function(e){var i;if(t.prototype.validateDataElement.call(this,e),e.index<this.dataItems.length-1){(i=this._linksIterator.getLast()).parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else(i=this.activeLink).events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=e,i.text=e.name,i.validate()},e}(Io);fr.registeredClasses.NavigationBar=cu,fr.registeredClasses.NavigationBarDataItem=lu;var uu=function(t){function e(){var e=t.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=ue(100),e.height=ue(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var i=Da();return e._disposers.push(i.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(i.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(i.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.handleCursorMove=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||Da().isLocalElement(t.pointer,this.paper.svg,this.uid)){var e=xn(t.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(e=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(e)||(e=this._stickPoint)),this.triggerMove(e),e}this.isHidden&&this.isHiding||this.hide()}},e.prototype.hideReal=function(e){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return t.prototype.hideReal.call(this,e)},e.prototype.triggerMove=function(t,e,i){t.x=Ie(t.x,1),t.y=Ie(t.y,1),e&&(this._stick=e),"hard"!=e&&"soft"!=e||(this._stickPoint=t),this.triggerMoveReal(t,i)},e.prototype.triggerMoveReal=function(t,e){(this.point.x!=t.x||this.point.y!=t.y||e)&&(this.point=t,this.invalidatePosition(),this.fitsToBounds(t)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},e.prototype.triggerDown=function(t){this.triggerDownReal(t)},e.prototype.triggerDownReal=function(t){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),Da().setGlobalStyle(Ka.grabbing)}},e.prototype.triggerUp=function(t){this.triggerUpReal(t)},e.prototype.triggerUpReal=function(t){vo.requestFrame(),this.updatePoint(this.upPoint);var e=Da();if(je(this._upPointOrig,this._downPointOrig)>e.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),e.setGlobalStyle(Ka.default)}this.downPoint=void 0,this.updateSelection()}},e.prototype.updateSelection=function(){},e.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},e.prototype.handleCursorDown=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch)&&Da().isLocalElement(t.pointer,this.paper.svg,this.uid)){var e=xn(t.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(e=this._stickPoint),this._downPointOrig={x:e.x,y:e.y},t.event.cancelable&&this.shouldPreventGestures(t.touch)&&this.fitsToBounds(e)&&t.event.preventDefault(),this.triggerMove(e),this.triggerDown(e)}},e.prototype.shouldPreventGestures=function(t){return!0},e.prototype.updatePoint=function(t){},e.prototype.handleCursorUp=function(t){if(this.interactionsEnabled&&(this.downPoint||Da().isLocalElement(t.pointer,this.paper.svg,this.uid))){var e=xn(t.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(e=this._stickPoint),this._upPointOrig={x:e.x,y:e.y},this.triggerMove(e),this.triggerUp(e)}},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t,ge(this._chart.plotContainer)&&Da().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),e}(yo);fr.registeredClasses.Cursor=uu;var hu=function(t){function e(){var e=t.call(this)||this;e._lineX=new Oi,e._lineY=new Oi,e._xAxis=new Oi,e._yAxis=new Oi,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var i=new ma,r=e.createChild(mo);r.shouldClone=!1,r.fillOpacity=.2,r.fill=i.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,e.selection=r,e._disposers.push(e.selection);var n=e.createChild(mo);n.shouldClone=!1,n.stroke=i.getFor("grid"),n.fill=Rr(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.y=0,e.lineX=n,e._disposers.push(e.lineX);var a=e.createChild(mo);return a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=Rr(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.x=0,e.lineY=a,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.updateSize=function(){this.lineX&&(this.lineX.path=jo({x:0,y:0})+zo({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=jo({x:0,y:0})+zo({x:this.innerWidth,y:0}))},e.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint,e=this.behavior;if(t){var i=this.point;this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY);var r=this.selection,n=Math.min(i.x,t.x),a=Math.min(i.y,t.y),o=Ie(Math.abs(t.x-i.x),this._positionPrecision),s=Ie(Math.abs(t.y-i.y),this._positionPrecision);switch(e){case"zoomX":a=0,s=this.pixelHeight;break;case"zoomY":n=0,o=this.pixelWidth;break;case"selectX":a=0,s=this.pixelHeight;break;case"selectY":n=0,o=this.pixelWidth}r.x=n,r.y=a,r.path=Yo(o,s),r.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},e.prototype.fixPoint=function(t){return t.x=Math.max(0,t.x),t.y=Math.max(0,t.y),t.x=Math.min(this.pixelWidth,t.x),t.y=Math.min(this.pixelHeight,t.y),t},e.prototype.triggerMoveReal=function(e,i){t.prototype.triggerMoveReal.call(this,e,i);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof Pl)r.isHidden&&this.updateLinePositions(e);else{var n=!0;oi(r,(function(t){t.isHidden||(n=!1)})),n&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&je(this.downPoint,e)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},e.prototype.updateLinePositions=function(t){t=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=t.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=t.y),this.updateSelection()},e.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,r=this.downPoint.y;this._usesSelection&&(i.x=this.downPoint.x,i.y=r,i.path="",i.show()),t.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},e.prototype.updatePoint=function(t){this.lineX&&(t.x=this.lineX.pixelX),this.lineY&&(t.y=this.lineY.pixelY)},e.prototype.triggerUpReal=function(e){this.hasMoved()?this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),t.prototype.triggerUpReal.call(this,e)):("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior&&Da().setGlobalStyle(Ka.default),this.dispatchImmediately("behaviorcanceled")),this.downPoint=void 0,this.dispatch("cursorpositionchanged")},e.prototype.hasMoved=function(){var t,e,i;return"zoomX"==this.behavior||"panX"==this.behavior?(i=this._downPointOrig,t=(e=this._upPointOrig)?(i||(i={x:0,y:0}),Math.abs(e.x-i.x)):0):t="zoomY"==this.behavior||"panY"==this.behavior?function(t,e){return t?(e||(e={x:0,y:0}),Math.abs(t.y-e.y)):0}(this._upPointOrig,this._downPointOrig):je(this._upPointOrig,this._downPointOrig),t>Da().getHitOption(this.interactions,"hitTolerance")},e.prototype.getPanningRanges=function(){var t=Ie(this.downPoint.x/this.innerWidth,5),e=1-Ie(this.downPoint.y/this.innerHeight,5),i=t-Ie(this.point.x/this.innerWidth,5),r=e-(1-Ie(this.point.y/this.innerHeight,5));this.xRange={start:i,end:1+i},this.yRange={start:r,end:1+r},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},e.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY);var t=Ie(this.downPoint.x/this.innerWidth,5),e=Ie(this.upPoint.x/this.innerWidth,5),i=1-Ie(this.downPoint.y/this.innerHeight,5),r=1-Ie(this.upPoint.y/this.innerHeight,5);this.xRange={start:Re(t,e),end:Ee(t,e)},this.yRange={start:Re(i,r),end:Ee(i,r)}},Object.defineProperty(e.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(t){this.setPropertyValue("behavior",t,!0),this._usesSelection=!1,-1!=t.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=t.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=t.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),e.prototype.shouldPreventGestures=function(t){return!(this.interactions.isTouchProtected&&t||"none"==this.behavior)},Object.defineProperty(e.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(t){this.setPropertyValue("fullWidthLineX",t),t||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(t){this.setPropertyValue("fullWidthLineY",t),t||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(t){this.setPropertyValue("hideSeriesTooltipsOnSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(t){this.setPropertyValue("maxTooltipDistance",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(t){this.setPropertyValue("maxPanOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(t){var e=this;this._xAxis.get()!=t&&this._xAxis.set(t,new Ai([t.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),t.events.on("rangechangestarted",(function(t){e.hide(0),e.preventShow=!0}),void 0,!1),t.events.on("rangechangeended",(function(t){e.preventShow=!1,e.hide(0),e.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(t){var e=this;this._yAxis.get()!=t&&this._yAxis.set(t,new Ai([t.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),t.events.on("rangechangestarted",(function(t){e.hide(0),e.__disabled=!0}),void 0,!1),t.events.on("rangechangeended",(function(t){e.__disabled=!1,e.hide(0),e.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),e.prototype.handleXTooltipPosition=function(t){var e=this.xAxis.tooltip,i=bn({x:e.pixelX,y:e.pixelY},this),r=i.x;if(i.y=1,this.lineX&&(this.lineX.x=r,this.fitsToBounds(i)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,a=this.xAxis.currentItemEndPoint;if(n&&a){this.lineX.x=r;var o=a.x-n.x;this.lineX.path=Yo(o,this.innerHeight,-o/2)}}},e.prototype.handleYTooltipPosition=function(t){var e=this.yAxis.tooltip,i=bn({x:e.pixelX,y:e.pixelY},this),r=i.y;if(i.x=1,this.lineY&&(this.lineY.y=r,this.fitsToBounds(i)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,a=this.yAxis.currentItemEndPoint;if(n&&a){this.lineY.y=r;var o=a.y-n.y;this.lineY.path=Yo(this.innerWidth,o,0,-o/2)}}},Object.defineProperty(e.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(t){t?(t.setElement(this.paper.add("path")),this._lineX.set(t,t.events.on("positionchanged",this.updateSelection,this,!1)),t.interactionsEnabled=!1,t.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(t){t?(t.setElement(this.paper.add("path")),this._lineY.set(t,t.events.on("positionchanged",this.updateSelection,this,!1)),t.parent=this,t.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection=t,t&&(t.element=this.paper.add("path"),t.parent=this)},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){e&&(ge(e.xAxis)&&xe(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),ge(e.yAxis)&&xe(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),ge(e.snapToSeries)&&xe(e.snapToSeries)&&(this.map.hasKey(e.snapToSeries)?e.snapToSeries=this.map.getKey(e.snapToSeries):(this.processingErrors.push('[XYCursor] No series with id "'+e.snapToSeries+'" found for `series`'),delete e.snapToSeries))),t.prototype.processConfig.call(this,e)},Object.defineProperty(e.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(t){var e=this;this.setPropertyValue("snapToSeries",t)&&(t instanceof Pl&&(t=[t]),this._snapToDisposers&&oi(this._snapToDisposers,(function(t){t.dispose()})),this._snapToDisposers=[],t&&oi(t,(function(t){e._snapToDisposers.push(t.events.on("tooltipshownat",(function(){e.handleSnap(t)}),void 0,!1))})))},enumerable:!0,configurable:!0}),e.prototype.handleSnap=function(t){if(!this.downPoint){var e=t.getTooltipX()+t.xAxis.pixelX,i=t.getTooltipY()+t.yAxis.pixelY;this.xAxis&&this.xAxis.renderer.opposite&&(i-=this.pixelHeight),this.point={x:e,y:i},this.getPositions();var r=e,n=i;e-=this.pixelWidth,this.yAxis&&this.yAxis.renderer.opposite&&(e+=this.pixelWidth);var a=t.tooltip,o=a.animationDuration,s=a.animationEasing,l=t.xAxis,c=t.yAxis;l instanceof ml&&!(l instanceof vl)&&c instanceof ml&&!(c instanceof vl)?(t.yAxis.showTooltipAtPosition(this.yPosition),t.xAxis.showTooltipAtPosition(this.xPosition)):(t.baseAxis==t.xAxis&&t.yAxis.showTooltipAtPosition(this.yPosition),t.baseAxis==t.yAxis&&t.xAxis.showTooltipAtPosition(this.xPosition)),this.lineX.animate([{property:"y",to:i}],o,s),this.lineY.animate([{property:"x",to:e}],o,s),this.xAxis||this.lineX.animate([{property:"x",to:r}],o,s),this.yAxis||this.lineY.animate([{property:"y",to:n}],o,s)}},e.prototype.dispose=function(){this.hide(0),t.prototype.dispose.call(this)},e}(uu);fr.registeredClasses.XYCursor=hu;var pu=function(t){function e(){var e=t.call(this)||this;return e.className="RadarCursor",e.radius=ue(100),e.innerRadius=ue(0),e.applyTheme(),e.mask=void 0,e}return Object(h.d)(e,t),e.prototype.fitsToBounds=function(t){var e=je(t);return e<this.truePixelRadius+1&&e>this.pixelInnerRadius-1},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),e.prototype.triggerMoveReal=function(e,i){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),t.prototype.triggerMoveReal.call(this,e,i)},e.prototype.updateLineX=function(t){var e=this.pixelRadius,i=this.startAngle,r=this.endAngle,n=this.pixelInnerRadius;if(e>0&&we(i)&&we(r)&&we(n)){var a=$e(Xe(t),i,r),o=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var s=this.xAxis.currentItemStartPoint,l=this.xAxis.currentItemEndPoint;if(s&&l){var c=$e(Xe(s),i,r),u=$e(Xe(l),i,r)-c;i<r?u<0&&(u+=360):u>0&&(u-=360),o=jo({x:n*Fe(a-=u/2),y:n*De(a)})+zo({x:e*Fe(a),y:e*De(a)})+Xo(a,u,e)+zo({x:n*Fe(a+u),y:n*De(a+u)})+Xo(a+u,-u,n)}}o||(o=jo({x:n*Fe(a),y:n*De(a)})+zo({x:e*Fe(a),y:e*De(a)})),this.lineX.path=o}}},e.prototype.updateLineY=function(t){if(this.lineY&&this.lineY.visible){var e=this.startAngle,i=this.endAngle,r=this.truePixelRadius,n=Oe(je(t),0,this.truePixelRadius);if(we(n)&&we(e)){this.lineY.moveTo({x:0,y:0});var a=void 0,o=i-e;if(this.yAxis&&this.fullWidthLineY){var s=this.yAxis.currentItemStartPoint,l=this.yAxis.currentItemEndPoint;if(s&&l){var c=Oe(je(s),0,r);a=jo({x:(n=Oe(je(l),0,r))*Fe(e),y:n*De(e)})+Xo(e,o,n),a+=jo({x:c*Fe(i),y:c*De(i)})+Xo(i,-o,c)}}a||(a=jo({x:n*Fe(e),y:n*De(e)})+Xo(e,i-e,n)),this.lineY.path=a}}},e.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint;if(t){var e=this.point,i=this.pixelRadius,r=this.truePixelRadius,n=this.pixelInnerRadius,a=Math.min(this.startAngle,this.endAngle),o=Math.max(this.startAngle,this.endAngle),s=$e(Xe(t),a,o),l=$e(Xe(e),a,o),c=je(t);if(c<r){var u=Oe(je(e),0,r);this._prevAngle=l;var h=jo({x:0,y:0}),p=De(s),d=Fe(s),f=De(l),b=Fe(l),m=this.behavior;"zoomX"==m||"selectX"==m?h+=zo({x:i*d,y:i*p})+Xo(s,l-s,i)+zo({x:n*b,y:n*f})+Xo(l,s-l,n):"zoomY"==m||"selectY"==m?h=jo({x:u*Fe(a),y:u*De(a)})+Xo(a,o-a,u)+zo({x:c*Fe(o),y:c*De(o)})+Xo(o,a-o,c)+" Z":"zoomXY"==m&&(h=jo({x:u*Fe(s),y:u*De(s)})+Xo(s,l-s,u)+zo({x:c*Fe(l),y:c*De(l)})+Xo(l,s-l,c)+" Z"),this.selection.path=h}this.selection.moveTo({x:0,y:0})}}},e.prototype.getPositions=function(){if(this.chart){var t=this.pixelInnerRadius,e=this.truePixelRadius-t,i=this.startAngle,r=this.endAngle,n=$e(Xe(this.point),i,r);this.xPosition=(n-i)/(r-i),this.yPosition=Oe((je(this.point)-t)/e,0,1)}},e.prototype.updatePoint=function(t){},e.prototype.handleXTooltipPosition=function(t){if(this.xAxis.cursorTooltipEnabled){var e=this.xAxis.tooltip;this.updateLineX(bn({x:e.pixelX,y:e.pixelY},this))}},e.prototype.handleYTooltipPosition=function(t){if(this.yAxis.cursorTooltipEnabled){var e=this.yAxis.tooltip;this.updateLineY(bn({x:e.pixelX,y:e.pixelY},this))}},e.prototype.updateLinePositions=function(t){},e.prototype.getRanges=function(){var t=this.downPoint;if(t){var e=this.upPoint;if(this.chart){var i=this.pixelRadius,r=this.startAngle,n=this.endAngle,a=$e(Xe(t),this.startAngle,this.endAngle),o=$e(Xe(e),this.startAngle,this.endAngle),s=Oe(je(t),0,i),l=Oe(je(e),0,i),c=0,u=1,h=0,p=1,d=this.behavior;if("zoomX"==d||"selectX"==d||"zoomXY"==d||"selectXY"==d){var f=n-r;c=Ie((a-r)/f,5),u=Ie((o-r)/f,5)}"zoomY"!=d&&"selectY"!=d&&"zoomXY"!=d&&"selectXY"!=d||(h=Ie(s/i,5),p=Ie(l/i,5)),this.xRange={start:Math.min(c,u),end:Math.max(c,u)},this.yRange={start:Math.min(h,p),end:Math.max(h,p)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},e.prototype.updateSize=function(){},Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return Gr(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"truePixelRadius",{get:function(){return Wr(ue(100),Re(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){var t=this.innerRadius;return t instanceof ce&&(t=ue(100*t.value*this.chart.innerRadiusModifyer)),Gr(t,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),e.prototype.fixPoint=function(t){return t},e}(hu);fr.registeredClasses.RadarCursor=pu;var du=function(t){br(t,"ColorSet")&&(t.list=[Rr("#F3C300"),Rr("#875692"),Rr("#F38400"),Rr("#A1CAF1"),Rr("#BE0032"),Rr("#C2B280"),Rr("#848482"),Rr("#008856"),Rr("#E68FAC"),Rr("#0067A5"),Rr("#F99379"),Rr("#604E97"),Rr("#F6A600"),Rr("#B3446C"),Rr("#DCD300"),Rr("#882D17"),Rr("#8DB600"),Rr("#654522"),Rr("#E25822"),Rr("#2B3D26"),Rr("#F2F3F4"),Rr("#222222")],t.minLightness=.2,t.maxLightness=.7,t.reuse=!0)},fu=function(t){br(t,"SpriteState")&&(t.transitionDuration=400),br(t,"Component")&&(t.rangeChangeDuration=500,t.interpolationDuration=500,t.sequencedInterpolation=!1,br(t,"SankeyDiagram")&&(t.sequencedInterpolation=!0),br(t,"FunnelSeries")&&(t.sequencedInterpolation=!0)),br(t,"Chart")&&(t.defaultState.transitionDuration=2e3,t.hiddenState.transitionDuration=1e3),br(t,"Tooltip")&&(t.animationDuration=400,t.defaultState.transitionDuration=400,t.hiddenState.transitionDuration=400),br(t,"Scrollbar")&&(t.animationDuration=500),br(t,"Series")&&(t.defaultState.transitionDuration=1e3,t.hiddenState.transitionDuration=700,t.hiddenState.properties.opacity=1,t.showOnInit=!0),br(t,"MapSeries")&&(t.hiddenState.properties.opacity=0),br(t,"PercentSeries")&&(t.hiddenState.properties.opacity=0),br(t,"FunnelSlice")&&(t.defaultState.transitionDuration=800,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),br(t,"Slice")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),br(t,"Preloader")&&(t.hiddenState.transitionDuration=2e3),br(t,"Column")&&(t.defaultState.transitionDuration=700,t.hiddenState.transitionDuration=1e3,t.hiddenState.properties.opacity=1),br(t,"Column3D")&&(t.hiddenState.properties.opacity=0)},bu=function(){function t(t){this.zone=t,this.clicked=!0,this.clicked1=!1}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose()),t.chart5&&(console.log("Chart disposed"),t.chart5.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartDashboard1(),t.getChartDashboard2(),t.getChartDashboard3(),t.getChartDashboard4(),t.getChartDashboard5()}))},t.prototype.getChartDashboard1=function(){Ns(du),Ns(fu);var t=Bs("chartdashboard1",Tl);function e(e,i,r,n){var a=t.yAxes.push(new ml);0!=t.yAxes.indexOf(a)&&(a.syncWithAxis=t.yAxes.getIndex(0));var o=t.series.push(new Dl);o.dataFields.valueY=e,o.dataFields.dateX="date",o.strokeWidth=2,o.yAxis=a,o.name=i,o.tooltipText="{name}: [bold]{valueY}[/]",o.tensionX=.8,o.showOnInit=!0;var s=new ma;switch(n){case"triangle":var l=o.bullets.push(new Ys);l.width=12,l.height=12,l.horizontalCenter="middle",l.verticalCenter="middle";var c=l.createChild(ps);c.stroke=s.getFor("background"),c.strokeWidth=2,c.direction="top",c.width=12,c.height=12;break;default:var u=o.bullets.push(new Ys);u.width=10,u.height=10,u.horizontalCenter="middle",u.verticalCenter="middle";var h=u.createChild(go);h.stroke=s.getFor("background"),h.strokeWidth=2,h.width=10,h.height=10}a.renderer.line.strokeOpacity=1,a.renderer.line.strokeWidth=2,a.renderer.line.stroke=o.stroke,a.renderer.labels.template.fill=o.stroke,a.renderer.opposite=r}t.colors.step=2,t.data=function(){var t=[],e=new Date;e.setDate(e.getDate()-100),e.setHours(0,0,0,0);for(var i=1600,r=2900,n=0;n<15;n++){var a=new Date(e);a.setDate(a.getDate()+n),i+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),r+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),t.push({date:a,visits:i,hits:r})}return t}(),t.xAxes.push(new vl).renderer.minGridDistance=50,e("visits","Outstanding",!1,"circle"),e("hits","Overdue",!0,"rectangle"),t.legend=new Js,t.cursor=new hu,this.chart1=t},t.prototype.getChartDashboard2=function(){Ns(du),Ns(fu);var t=Bs("chartdashboard2",Tl);t.data=[{year:"Mon",italy:1},{year:"Tue",italy:1},{year:"Wed",italy:2},{year:"Thu",italy:3},{year:"Fri",italy:5},{year:"Sat",italy:3},{year:"Sun",italy:1}];var e=t.xAxes.push(new Vl);e.dataFields.category="year",e.renderer.opposite=!0;var i=t.yAxes.push(new ml);i.renderer.inversed=!0,i.renderer.minLabelPosition=.01;var r=t.series.push(new Dl);r.dataFields.valueY="italy",r.dataFields.categoryX="year",r.name="Profit",r.bullets.push(new ou),r.tooltipText="{name} in {categoryX}: {valueY}",r.legendSettings.valueText="{valueY}",r.visible=!1,t.cursor=new hu,t.cursor.behavior="zoomY",r.segments.template.states.create("hover").properties.strokeWidth=5,r.segments.template.strokeWidth=1,t.legend=new Js,t.legend.itemContainers.template.events.on("over",(function(t){t.target.dataItem.dataContext.each((function(t){t.isHover=!0}))})),t.legend.itemContainers.template.events.on("out",(function(t){t.target.dataItem.dataContext.each((function(t){t.isHover=!1}))})),this.chart2=t},t.prototype.getChartDashboard3=function(){Ns(du),Ns(fu);var t=Bs("chartdashboard3",Tl);t.colors.step=2,t.legend=new Js,t.legend.position="top",t.legend.paddingBottom=20,t.legend.labels.template.maxWidth=95;var e=t.xAxes.push(new Vl);function i(e,i){var n=t.series.push(new wc);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=i,n.events.on("hidden",r),n.events.on("shown",r);var a=n.bullets.push(new uc);return a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=Rr("#ffffff"),n}function r(){var i=t.series.getIndex(0),r=1-e.renderer.cellStartLocation-(1-e.renderer.cellEndLocation);if(i.dataItems.length>1){var n=e.getX(i.dataItems.getIndex(0),"categoryX"),a=(e.getX(i.dataItems.getIndex(1),"categoryX")-n)/t.series.length*r;if(we(a)){var o=t.series.length/2,s=0;t.series.each((function(e){e.isHidden||e.isHiding?e.dummyData=t.series.indexOf(e):(e.dummyData=s,s++)}));var l=s/2;t.series.each((function(e){var i=t.series.indexOf(e),r=(e.dummyData-i+o-l)*a;e.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing),e.bulletsContainer.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing)}))}}}e.dataFields.category="category",e.renderer.cellStartLocation=.1,e.renderer.cellEndLocation=.9,e.renderer.grid.template.location=0,t.yAxes.push(new ml).min=0,t.data=[{category:"2017",first:40,second:55},{category:"2018",first:30,second:78},{category:"2019",first:27,second:40},{category:"2020",first:50,second:33}],i("first","Profit"),i("second","Revenue"),this.chart3=t},t.prototype.getChartDashboard4=function(){Ns(du),Ns(fu);var t=Bs("chartdashboard4",tc);t.data=[{country:"2020",litres:501.9},{country:"2019",litres:301.9},{country:"2018",litres:201.1},{country:"2017",litres:165.8}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart4=t},t.prototype.getChartDashboard5=function(){Ns(du),Ns(fu);var t=Bs("chartdashboard5",Tl);t.paddingBottom=50,t.cursor=new hu,t.scrollbarX=new as;var e={},i=t.xAxes.push(new Vl);i.dataFields.category="category",i.renderer.minGridDistance=60,i.renderer.grid.template.location=0,i.dataItems.template.text="{realName}",i.adapter.add("tooltipText",(function(t,e){return i.tooltipDataItem.dataContext.realName}));var n=t.yAxes.push(new ml);n.tooltip.disabled=!0,n.min=0;var a=t.series.push(new wc);a.columns.template.width=ue(80),a.tooltipText="{provider}: {realName}, {valueY}",a.dataFields.categoryX="category",a.dataFields.valueY="value";var o=t.yAxes.push(new ml);o.renderer.opposite=!0,o.syncWithAxis=n,o.tooltip.disabled=!0;var s=t.series.push(new Dl);s.tooltipText="{valueY}",s.dataFields.categoryX="category",s.dataFields.valueY="quantity",s.yAxis=o,s.bullets.push(new ou),s.stroke=t.colors.getIndex(13),s.fill=s.stroke,s.strokeWidth=2,s.snapTooltip=!0,s.events.on("datavalidated",(function(){s.dataItems.each((function(t){var e=t.dataContext;e.count/2==Math.round(e.count/2)?t.setLocation("categoryX",0):t.setLocation("categoryX",.5)}))})),a.columns.template.adapter.add("fill",(function(i,r){var n=r.dataItem.dataContext.realName;return e[n]||(e[n]=t.colors.next()),r.stroke=e[n],e[n]}));var l=i.axisRanges.template;l.tick.disabled=!1,l.tick.location=0,l.tick.strokeOpacity=.6,l.tick.length=60,l.grid.strokeOpacity=.5,l.label.tooltip=new us,l.label.tooltip.dy=-10,l.label.cloneTooltip=!1;var c=[],u={2017:{"item 1":10,"item 2":35,quantity:430},2018:{"item 1":15,"item 2":21,quantity:210},2019:{"item 2":25,"item 1":11,quantity:265},2020:{"item 1":12,"item 2":15,quantity:98}};for(var h in u){var p=u[h],d=[],f=0;for(var b in p)"quantity"!=b&&(f++,d.push({category:h+"_"+b,realName:b,value:p[b],provider:h}));d.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0}));var m=Math.floor(f/2);d[m].quantity=p.quantity,d[m].count=f,r.each(d,(function(t){c.push(t)}));var g=i.axisRanges.create();g.category=d[0].category,g.endCategory=d[d.length-1].category,g.label.text=d[0].provider,g.label.dy=30,g.label.truncate=!0,g.label.fontWeight="bold",g.label.tooltipText=d[0].provider,g.label.adapter.add("maxWidth",(function(t,e){var r=e.dataItem,n=i.categoryToPosition(r.category,0),a=i.categoryToPosition(r.endCategory,1),o=i.positionToCoordinate(n);return i.positionToCoordinate(a)-o}))}t.data=c;var y=i.axisRanges.create();y.category=t.data[t.data.length-1].category,y.label.disabled=!0,y.tick.location=1,y.grid.location=1,this.chart5=t},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-dashboard"]],decls:72,vars:0,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-home","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"text-muted","text-uppercase","ls-1","mb-1"],[1,"h3","mt-2","mb-0"],[1,"mt-3","mb-0","text-sm"],[1,"text-nowrap"],[1,"text-success","mr-2"],[1,"fa","fa-arrow-up"],[1,"card-body"],[1,"chart"],["id","chartdashboard1",1,"amchart"],["id","chartdashboard2",1,"amchart"],["id","chartdashboard3",1,"amchart"],[1,"col-xl-6"],["id","chartdashboard4",1,"amchart"],["id","chartdashboard5",1,"amchart"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Dashboard"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20," Outstanding & Overdue Revenue "),u.Ub(),u.Vb(21,"h5",19),u.Hc(22,"RM10,458"),u.Ub(),u.Vb(23,"p",20),u.Vb(24,"span",21),u.Hc(25," Total Outstanding "),u.Ub(),u.Vb(26,"span",22),u.Qb(27,"i",23),u.Hc(28," 10.48% "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(29,"div",24),u.Vb(30,"div",25),u.Qb(31,"div",26),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(32,"div",13),u.Vb(33,"div",14),u.Vb(34,"div",15),u.Vb(35,"div",16),u.Vb(36,"div",17),u.Vb(37,"h5",19),u.Hc(38,"Total Profit"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",24),u.Vb(40,"div",25),u.Qb(41,"div",27),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(42,"div",13),u.Vb(43,"div",14),u.Vb(44,"div",15),u.Vb(45,"div",16),u.Vb(46,"div",17),u.Vb(47,"h5",19),u.Hc(48,"Profit vs Revenue"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",24),u.Vb(50,"div",25),u.Qb(51,"div",28),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",29),u.Vb(53,"div",14),u.Vb(54,"div",15),u.Vb(55,"div",16),u.Vb(56,"div",17),u.Vb(57,"h5",19),u.Hc(58," Total Expense "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(59,"div",24),u.Vb(60,"div",25),u.Qb(61,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",29),u.Vb(63,"div",14),u.Vb(64,"div",15),u.Vb(65,"div",16),u.Vb(66,"div",17),u.Vb(67,"h5",19),u.Hc(68," Assets "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",24),u.Vb(70,"div",25),u.Qb(71,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub())},styles:[""]}),t}(),mu=function(){function t(t){this.http=t,this.urlMock="assets/mock/",this.datas=[]}return t.prototype.getAll=function(t){var e=this;return this.http.get(this.urlMock+t).pipe(Object(g.a)((function(t){e.datas=t,console.log("Data: ",e.datas)})))},t.\u0275fac=function(e){return new(e||t)(u.Zb(bt.b))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),gu=i("wd/R"),yu=i("PSD3"),vu=i.n(yu);function _u(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"ID"),u.Ub())}function xu(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.staff_id," ")}function wu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Created At"),u.Ub())}function Vu(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.created_at," ")}function Cu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Pu(t,e){1&t&&(u.Vb(0,"span",42),u.Hc(1,"POST"),u.Ub())}function Uu(t,e){1&t&&(u.Vb(0,"span",43),u.Hc(1,"GET"),u.Ub())}function Su(t,e){1&t&&(u.Vb(0,"span",44),u.Hc(1,"UPDATE"),u.Ub())}function Tu(t,e){1&t&&(u.Vb(0,"span",45),u.Hc(1,"DELETE"),u.Ub())}function ku(t,e){if(1&t&&(u.Fc(0,Pu,2,0,"span",38),u.Fc(1,Uu,2,0,"span",39),u.Fc(2,Su,2,0,"span",40),u.Fc(3,Tu,2,0,"span",41)),2&t){var i=e.row;u.nc("ngIf","POST"==i.action),u.Cb(1),u.nc("ngIf","GET"==i.action),u.Cb(1),u.nc("ngIf","UPDATE"==i.action),u.Cb(1),u.nc("ngIf","DELETE"==i.action)}}function Iu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Au(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",46),u.Vb(1,"span",47),u.Qb(2,"i",48),u.Ub(),u.Ub(),u.Vb(3,"button",49),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",47),u.Qb(5,"i",50),u.Ub(),u.Ub()}}Ns(fu);var Ou=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Du=function(){function t(t,e){this.mockService=t,this.zone=e,this.chartJanPost=0,this.chartJanGet=0,this.chartJanUpdate=0,this.chartJanDelete=0,this.chartFebPost=0,this.chartFebGet=0,this.chartFebUpdate=0,this.chartFebDelete=0,this.chartMarchPost=0,this.chartMarchGet=0,this.chartMarchUpdate=0,this.chartMarchDelete=0,this.chartAprPost=0,this.chartAprGet=0,this.chartAprUpdate=0,this.chartAprDelete=0,this.chartMayPost=0,this.chartMayGet=0,this.chartMayUpdate=0,this.chartMayDelete=0,this.chartJunPost=0,this.chartJunGet=0,this.chartJunUpdate=0,this.chartJunDelete=0,this.chartJulPost=0,this.chartJulGet=0,this.chartJulUpdate=0,this.chartJulDelete=0,this.chartAugPost=0,this.chartAugGet=0,this.chartAugUpdate=0,this.chartAugDelete=0,this.chartSepPost=0,this.chartSepGet=0,this.chartSepUpdate=0,this.chartSepDelete=0,this.chartOctPost=0,this.chartOctGet=0,this.chartOctUpdate=0,this.chartOctDelete=0,this.chartNovPost=0,this.chartNovGet=0,this.chartNovUpdate=0,this.chartNovDelete=0,this.chartDecPost=0,this.chartDecGet=0,this.chartDecUpdate=0,this.chartDecDelete=0,this.tableEntries=5,this.tableSelected=[],this.tableTemp=[],this.tableRows=[],this.SelectionType=Ou,this.getData()}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart&&t.chart.dispose()}))},t.prototype.getData=function(){var t=this;this.mockService.getAll("admin-audit/audit.data.json").subscribe((function(e){t.tableRows=e,t.tableTemp=t.tableRows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})})),console.log("Svc: ",t.tableTemp),t.resetCharts(),t.calculateCharts()}),(function(){}),(function(){t.getChart()}))},t.prototype.entriesChange=function(t){this.tableEntries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.tableTemp=this.tableRows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onSelect=function(t){var e=t.selected;this.tableSelected.splice(0,this.tableSelected.length),this.tableSelected.push(e)},t.prototype.onActivate=function(t){this.tableActiveRow=t.row},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChart()}))},t.prototype.getChart=function(){var t=Bs("chartdiv",Tl);t.colors.step=2,t.legend=new Js,t.legend.position="top",t.legend.paddingBottom=20,t.legend.labels.template.maxWidth=95;var e=t.xAxes.push(new Vl);function i(e,i){var n=t.series.push(new wc);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=i,n.events.on("hidden",r),n.events.on("shown",r);var a=n.bullets.push(new uc);return a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=Rr("#ffffff"),n}function r(){var i=t.series.getIndex(0),r=1-e.renderer.cellStartLocation-(1-e.renderer.cellEndLocation);if(i.dataItems.length>1){var n=e.getX(i.dataItems.getIndex(0),"categoryX"),a=(e.getX(i.dataItems.getIndex(1),"categoryX")-n)/t.series.length*r;if(we(a)){var o=t.series.length/2,s=0;t.series.each((function(e){e.isHidden||e.isHiding?e.dummyData=t.series.indexOf(e):(e.dummyData=s,s++)}));var l=s/2;t.series.each((function(e){var i=t.series.indexOf(e),r=(e.dummyData-i+o-l)*a;e.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing),e.bulletsContainer.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing)}))}}}e.dataFields.category="category",e.renderer.cellStartLocation=.1,e.renderer.cellEndLocation=.9,e.renderer.grid.template.location=0,t.yAxes.push(new ml).min=0,t.data=[{category:"POST",jan:this.chartJanPost,feb:this.chartFebPost,march:this.chartMarchPost,apr:this.chartAprPost,may:this.chartMayPost,Jun:this.chartJunPost,jul:this.chartJulPost,aug:this.chartAugPost,sep:this.chartSepPost,oct:this.chartOctPost,nov:this.chartNovPost,dec:this.chartDecPost},{category:"GET",jan:this.chartJanGet,feb:this.chartFebGet,march:this.chartMarchGet,apr:this.chartAprGet,may:this.chartMayGet,Jun:this.chartJunGet,jul:this.chartJulGet,aug:this.chartAugGet,sep:this.chartSepGet,oct:this.chartOctGet,nov:this.chartNovGet,dec:this.chartDecGet},{category:"UPDATE",jan:this.chartJanUpdate,feb:this.chartFebUpdate,march:this.chartMarchUpdate,apr:this.chartAprUpdate,may:this.chartMayUpdate,Jun:this.chartJunUpdate,jul:this.chartJulUpdate,aug:this.chartAugUpdate,sep:this.chartSepUpdate,oct:this.chartOctUpdate,nov:this.chartNovUpdate,dec:this.chartDecUpdate},{category:"DELETE",jan:this.chartJanDelete,feb:this.chartFebDelete,march:this.chartMarchDelete,apr:this.chartAprDelete,may:this.chartMayDelete,Jun:this.chartJunDelete,jul:this.chartJulDelete,aug:this.chartAugDelete,sep:this.chartSepDelete,oct:this.chartOctDelete,nov:this.chartNovDelete,dec:this.chartDecDelete}],i("jan","Jan"),i("feb","Feb"),i("march","March"),i("apr","Apr"),i("may","May"),i("Jun","Jun"),i("jul","Jul"),i("aug","Aug"),i("sep","Sep"),i("octove","Oct"),i("nov","Nov"),i("dec","Dec"),this.chart=t},t.prototype.resetCharts=function(){this.chartJanPost=0,this.chartJanGet=0,this.chartJanUpdate=0,this.chartJanDelete=0,this.chartFebPost=0,this.chartFebGet=0,this.chartFebUpdate=0,this.chartFebDelete=0,this.chartMarchPost=0,this.chartMarchGet=0,this.chartMarchUpdate=0,this.chartMarchDelete=0,this.chartAprPost=0,this.chartAprGet=0,this.chartAprUpdate=0,this.chartAprDelete=0,this.chartMayPost=0,this.chartMayGet=0,this.chartMayUpdate=0,this.chartMayDelete=0,this.chartJunPost=0,this.chartJunGet=0,this.chartJunUpdate=0,this.chartJunDelete=0,this.chartJulPost=0,this.chartJulGet=0,this.chartJulUpdate=0,this.chartJulDelete=0,this.chartAugPost=0,this.chartAugGet=0,this.chartAugUpdate=0,this.chartAugDelete=0,this.chartSepPost=0,this.chartSepGet=0,this.chartSepUpdate=0,this.chartSepDelete=0,this.chartOctPost=0,this.chartOctGet=0,this.chartOctUpdate=0,this.chartOctDelete=0,this.chartNovPost=0,this.chartNovGet=0,this.chartNovUpdate=0,this.chartNovDelete=0,this.chartDecPost=0,this.chartDecGet=0,this.chartDecUpdate=0,this.chartDecDelete=0},t.prototype.calculateCharts=function(){var t=this;this.tableRows.forEach((function(e){var i=e.action,r=gu(e.created_at).month();console.log(r),0==r?"POST"==i?t.chartJanPost+=1:"GET"==i?t.chartJanGet+=1:"UPDATE"==i?t.chartJanUpdate+=1:"DELETE"==i&&(t.chartJanDelete+=1):1==r?"POST"==i?t.chartFebPost+=1:"GET"==i?t.chartFebGet+=1:"UPDATE"==i?t.chartFebUpdate+=1:"DELETE"==i&&(t.chartFebDelete+=1):2==r?"POST"==i?t.chartMarchPost+=1:"GET"==i?t.chartMarchGet+=1:"UPDATE"==i?t.chartMarchUpdate+=1:"DELETE"==i&&(t.chartMarchDelete+=1):3==r?"POST"==i?t.chartAprPost+=1:"GET"==i?t.chartAprGet+=1:"UPDATE"==i?t.chartAprUpdate+=1:"DELETE"==i&&(t.chartAprDelete+=1):4==r?"POST"==i?t.chartMayPost+=1:"GET"==i?t.chartMayGet+=1:"UPDATE"==i?t.chartMayUpdate+=1:"DELETE"==i&&(t.chartMayDelete+=1):5==r?"POST"==i?t.chartJunPost+=1:"GET"==i?t.chartJunGet+=1:"UPDATE"==i?t.chartJunUpdate+=1:"DELETE"==i&&(t.chartJunDelete+=1):6==r?"POST"==i?t.chartJulPost+=1:"GET"==i?t.chartJulGet+=1:"UPDATE"==i?t.chartJulUpdate+=1:"DELETE"==i&&(t.chartJulDelete+=1):7==r?"POST"==i?t.chartAugPost+=1:"GET"==i?t.chartAugGet+=1:"UPDATE"==i?t.chartAugUpdate+=1:"DELETE"==i&&(t.chartAugDelete+=1):8==r?"POST"==i?t.chartSepPost+=1:"GET"==i?t.chartSepGet+=1:"UPDATE"==i?t.chartSepUpdate+=1:"DELETE"==i&&(t.chartSepDelete+=1):9==r?"POST"==i?t.chartOctPost+=1:"GET"==i?t.chartOctGet+=1:"UPDATE"==i?t.chartOctUpdate+=1:"DELETE"==i&&(t.chartOctDelete+=1):10==r?"POST"==i?t.chartNovPost+=1:"GET"==i?t.chartNovGet+=1:"UPDATE"==i?t.chartNovUpdate+=1:"DELETE"==i&&(t.chartNovDelete+=1):11==r&&("POST"==i?t.chartDecPost+=1:"GET"==i?t.chartDecGet+=1:"UPDATE"==i?t.chartDecUpdate+=1:"DELETE"==i&&(t.chartDecDelete+=1))}))},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(mu),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-management-audit"]],decls:69,vars:6,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-invoice","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header","bg-secondary"],[1,"m-0"],[1,"card-body"],[1,"chart"],["id","chartdiv",1,"amchart"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm"],["value","10"],["value","25"],["value","50"],["value","-1"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","Username"],["name","Email"],["name","Description"],["class","badge badge-pill badge-default",4,"ngIf"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-info",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-default"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-info"],[1,"badge","badge-pill","badge-warning"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Audit Trails"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Management "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Audit Trails "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"h3",18),u.Hc(23,"Action Types"),u.Ub(),u.Ub(),u.Vb(24,"div",19),u.Vb(25,"div",20),u.Qb(26,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(27,"div",14),u.Vb(28,"div",15),u.Vb(29,"div",16),u.Vb(30,"div",17),u.Vb(31,"h3",18),u.Hc(32,"Audit Trails"),u.Ub(),u.Ub(),u.Vb(33,"div",22),u.Vb(34,"div",14),u.Vb(35,"div",23),u.Vb(36,"div",24),u.Vb(37,"label"),u.Hc(38," Show "),u.Vb(39,"select",25),u.Vb(40,"option",26),u.Hc(41,"5"),u.Ub(),u.Vb(42,"option",27),u.Hc(43,"10"),u.Ub(),u.Vb(44,"option",28),u.Hc(45,"15"),u.Ub(),u.Vb(46,"option",29),u.Hc(47,"All"),u.Ub(),u.Ub(),u.Hc(48," records "),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",23),u.Vb(50,"div",30),u.Vb(51,"label"),u.Vb(52,"input",31),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"ngx-datatable",32),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(54,"ngx-datatable-column"),u.Fc(55,_u,2,0,"ng-template",33),u.Fc(56,xu,1,1,"ng-template",34),u.Ub(),u.Qb(57,"ngx-datatable-column",35),u.Qb(58,"ngx-datatable-column",36),u.Vb(59,"ngx-datatable-column"),u.Fc(60,wu,2,0,"ng-template",33),u.Fc(61,Vu,1,1,"ng-template",34),u.Ub(),u.Vb(62,"ngx-datatable-column"),u.Fc(63,Cu,2,0,"ng-template",33),u.Fc(64,ku,4,4,"ng-template",34),u.Ub(),u.Qb(65,"ngx-datatable-column",37),u.Vb(66,"ngx-datatable-column"),u.Fc(67,Iu,2,0,"ng-template",33),u.Fc(68,Au,6,0,"ng-template",34),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(53),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.tableEntries?e.tableEntries:void 0)("rows",e.tableTemp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l],styles:[""]}),t}();function Mu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"User ID"),u.Ub())}function Fu(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.user_id," ")}function Eu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Joined At"),u.Ub())}function Ru(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.joined_at," ")}function Lu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"User Type"),u.Ub())}function Hu(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.user_type," ")}function ju(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function zu(t,e){1&t&&(u.Vb(0,"span",42),u.Hc(1,"Active"),u.Ub())}function Bu(t,e){1&t&&(u.Vb(0,"span",43),u.Hc(1,"Inactive"),u.Ub())}function Nu(t,e){if(1&t&&(u.Fc(0,zu,2,0,"span",40),u.Fc(1,Bu,2,0,"span",41)),2&t){var i=e.row;u.nc("ngIf","Active"==i.is_active),u.Cb(1),u.nc("ngIf","Inactive"==i.is_active)}}function Xu(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Wu(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",44),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(75);return e.openModal(r)})),u.Vb(1,"span",45),u.Qb(2,"i",46),u.Ub(),u.Ub(),u.Vb(3,"button",47),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",45),u.Qb(5,"i",48),u.Ub(),u.Ub()}}function Gu(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"p",64),u.Vb(2,"span"),u.Hc(3),u.Ub(),u.Ub(),u.Ub()),2&t){var i=u.hc().$implicit;u.Cb(3),u.Ic(i.message)}}function Yu(t,e){if(1&t&&(u.Tb(0),u.Fc(1,Gu,4,1,"div",63),u.Sb()),2&t){var i=e.$implicit,r=u.hc(2);u.Cb(1),u.nc("ngIf",r.registerForm.get("name").hasError(i.type)&&(r.registerForm.get("name").dirty||r.registerForm.get("name").touched))}}function qu(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"p",64),u.Vb(2,"span"),u.Hc(3),u.Ub(),u.Ub(),u.Ub()),2&t){var i=u.hc().$implicit;u.Cb(3),u.Ic(i.message)}}function Ku(t,e){if(1&t&&(u.Tb(0),u.Fc(1,qu,4,1,"div",63),u.Sb()),2&t){var i=e.$implicit,r=u.hc(2);u.Cb(1),u.nc("ngIf",r.registerForm.get("email").hasError(i.type)&&(r.registerForm.get("email").dirty||r.registerForm.get("email").touched))}}function Ju(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",49),u.Vb(1,"h6",50),u.Hc(2," Create New User "),u.Ub(),u.Vb(3,"button",51),u.dc("click",(function(t){return u.yc(i),u.hc().closeModal()})),u.Vb(4,"span",52),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",53),u.Vb(7,"form",54),u.Vb(8,"div",55),u.Vb(9,"label",56),u.Hc(10,"Name"),u.Ub(),u.Qb(11,"input",57),u.Fc(12,Yu,2,1,"ng-container",58),u.Ub(),u.Vb(13,"div",55),u.Vb(14,"label",56),u.Hc(15,"Email"),u.Ub(),u.Qb(16,"input",59),u.Fc(17,Ku,2,1,"ng-container",58),u.Ub(),u.Ub(),u.Ub(),u.Vb(18,"div",60),u.Vb(19,"button",61),u.dc("click",(function(t){return u.yc(i),u.hc().confirm()})),u.Hc(20," Create "),u.Ub(),u.Vb(21,"button",62),u.dc("click",(function(t){return u.yc(i),u.hc().closeModal()})),u.Hc(22," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(7),u.nc("formGroup",r.registerForm),u.Cb(5),u.nc("ngForOf",r.registerFormMessages.name),u.Cb(5),u.nc("ngForOf",r.registerFormMessages.email),u.Cb(2),u.nc("disabled",!r.registerForm.valid)}}Ns(fu);var Zu=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Qu=function(){function t(t,e,i,r){this.mockService=t,this.modalService=e,this.formBuilder=i,this.zone=r,this.tableEntries=5,this.tableSelected=[],this.tableTemp=[],this.tableRows=[],this.SelectionType=Zu,this.chartJan=0,this.chartFeb=0,this.chartMar=0,this.chartApr=0,this.chartMay=0,this.chartJun=0,this.chartJul=0,this.chartAug=0,this.chartSep=0,this.chartOct=0,this.chartNov=0,this.chartDec=0,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.registerFormMessages={name:[{type:"required",message:"Name is required"}],email:[{type:"required",message:"Email is required"},{type:"email",message:"A valid email is required"}]},this.getData()}return t.prototype.ngOnInit=function(){this.registerForm=this.formBuilder.group({name:new s.d("",s.t.compose([s.t.required])),email:new s.d("",s.t.compose([s.t.required,s.t.email]))})},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart&&t.chart.dispose()}))},t.prototype.getData=function(){var t=this;this.mockService.getAll("admin-user/users.data.json").subscribe((function(e){t.tableRows=e,t.tableTemp=t.tableRows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})})),t.calculateCharts()}),(function(){}),(function(){t.getCharts()}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChart()}))},t.prototype.getChart=function(){var t=Bs("chartdiv",Tl);t.data=[{month:"Jan",count:this.chartJan},{month:"Feb",count:this.chartFeb},{month:"Mar",count:this.chartMar},{month:"Apr",count:this.chartApr},{month:"May",count:this.chartMar},{month:"Jun",count:this.chartJun},{month:"Jul",count:this.chartJul},{month:"Aug",count:this.chartAug},{month:"Sep",count:this.chartSep},{month:"Oct",count:this.chartOct},{month:"Nov",count:this.chartNov},{month:"Dec",count:this.chartDec}];var e=t.xAxes.push(new Vl);e.dataFields.category="month",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.adapter.add("dy",(function(t,e){return e.dataItem&&e.dataItem.index?t+25:t})),t.yAxes.push(new ml);var i=t.series.push(new wc);i.dataFields.valueY="count",i.dataFields.categoryX="month",i.name="count",i.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",i.columns.template.fillOpacity=.8;var r=i.columns.template;r.strokeWidth=2,r.strokeOpacity=1,this.chart=t},t.prototype.calculateCharts=function(){var t=this;this.chartJan=0,this.chartFeb=0,this.chartMar=0,this.chartApr=0,this.chartMay=0,this.chartJun=0,this.chartJul=0,this.chartAug=0,this.chartSep=0,this.chartOct=0,this.chartNov=0,this.chartDec=0,this.tableRows.forEach((function(e){var i=gu(e.joined_at).month();0==i?t.chartJan+=1:1==i?t.chartFeb+=1:2==i?t.chartMar+=1:3==i?t.chartApr+=1:4==i?t.chartMay+=1:5==i?t.chartJun+=1:6==i?t.chartJul+=1:7==i?t.chartAug+=1:8==i?t.chartSep+=1:9==i?t.chartOct+=1:10==i?t.chartNov+=1:11==i&&(t.chartDec+=1)}))},t.prototype.openModal=function(t){this.modal=this.modalService.show(t,this.modalConfig)},t.prototype.closeModal=function(){this.modal.hide(),this.registerForm.reset()},t.prototype.confirm=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure to create this new user?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.register()}))},t.prototype.register=function(){var t=this;vu.a.fire({title:"Success",text:"A new user has been created!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"}).then((function(e){e.value&&(t.modal.hide(),t.registerForm.reset())}))},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){var t=this;vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"}).then((function(e){e.value&&(t.modal.hide(),t.registerForm.reset())}))},t.\u0275fac=function(e){return new(e||t)(u.Pb(mu),u.Pb(a.f),u.Pb(s.c),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-management-user"]],decls:76,vars:6,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-invoice","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-6","col-5","text-right"],[1,"btn","btn-sm","btn-neutral",3,"click"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header","bg-secondary"],[1,"m-0"],[1,"card-body"],[1,"chart"],["id","chartdiv",1,"amchart"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm"],["value","10"],["value","25"],["value","50"],["value","-1"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","Name"],["name","Email"],["createUser",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-warning"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"form-control-label"],["placeholder","Enter name","formControlName","name","type","text",1,"form-control"],[4,"ngFor","ngForOf"],["placeholder","Enter email","formControlName","email","type","text",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"],[4,"ngIf"],[1,"error-message"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," User Control "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," System Management "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," User Control "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"a",14),u.dc("click",(function(t){u.yc(i);var r=u.wc(75);return e.openModal(r)})),u.Hc(19," Create "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(20,"div",15),u.Vb(21,"div",16),u.Vb(22,"div",17),u.Vb(23,"div",18),u.Vb(24,"div",19),u.Vb(25,"h3",20),u.Hc(26,"Registered User by Month"),u.Ub(),u.Ub(),u.Vb(27,"div",21),u.Vb(28,"div",22),u.Qb(29,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h3",20),u.Hc(35,"User List"),u.Ub(),u.Ub(),u.Vb(36,"div",24),u.Vb(37,"div",16),u.Vb(38,"div",25),u.Vb(39,"div",26),u.Vb(40,"label"),u.Hc(41," Show "),u.Vb(42,"select",27),u.Vb(43,"option",28),u.Hc(44,"5"),u.Ub(),u.Vb(45,"option",29),u.Hc(46,"10"),u.Ub(),u.Vb(47,"option",30),u.Hc(48,"15"),u.Ub(),u.Vb(49,"option",31),u.Hc(50,"All"),u.Ub(),u.Ub(),u.Hc(51," records "),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",25),u.Vb(53,"div",32),u.Vb(54,"label"),u.Qb(55,"input",33),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"ngx-datatable",34),u.Vb(57,"ngx-datatable-column"),u.Fc(58,Mu,2,0,"ng-template",35),u.Fc(59,Fu,1,1,"ng-template",36),u.Ub(),u.Qb(60,"ngx-datatable-column",37),u.Qb(61,"ngx-datatable-column",38),u.Vb(62,"ngx-datatable-column"),u.Fc(63,Eu,2,0,"ng-template",35),u.Fc(64,Ru,1,1,"ng-template",36),u.Ub(),u.Vb(65,"ngx-datatable-column"),u.Fc(66,Lu,2,0,"ng-template",35),u.Fc(67,Hu,1,1,"ng-template",36),u.Ub(),u.Vb(68,"ngx-datatable-column"),u.Fc(69,ju,2,0,"ng-template",35),u.Fc(70,Nu,2,2,"ng-template",36),u.Ub(),u.Vb(71,"ngx-datatable-column"),u.Fc(72,Xu,2,0,"ng-template",35),u.Fc(73,Wu,6,0,"ng-template",36),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(74,Ju,23,4,"ng-template",null,39,u.Gc)}2&t&&(u.Cb(56),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.tableEntries?e.tableEntries:void 0)("rows",e.tableTemp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.g,s.b,s.m,s.e,n.k],styles:[".error-message[_ngcontent-%COMP%]{color:#f5365c;text-align:right;font-size:.8em;padding-top:5px;padding-bottom:0;margin-bottom:0}"]}),t}();Ns(fu);var $u=function(){function t(t,e){this.mockService=t,this.zone=e,this.dataChart=[],this.dataChart2=[],this.dataChart3=[],this.bsDPConfig={isAnimated:!0,containerClass:"theme-default"},this.getData()}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart4&&t.chart4.dispose(),t.chart1&&t.chart1.dispose(),t.chart2&&t.chart2.dispose(),t.chart3&&t.chart3.dispose()}))},t.prototype.getData=function(){var t=this;this.mockService.getAll("admin-report/report-data-1.json").subscribe((function(e){t.dataChart=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-2.json").subscribe((function(e){t.dataChart2=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-3.json").subscribe((function(e){t.dataChart3=e}),(function(){}),(function(){t.getCharts()}))}))}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartProfitability1(),t.getChartProfitability2(),t.getChartProfitability3(),t.getChartProfitability4()}))},t.prototype.getChartProfitability1=function(){Ns(du),Ns(fu);var t=Bs("chartprofitabilityanalysis1",Tl);t.colors.step=2,t.legend=new Js,t.legend.position="top",t.legend.paddingBottom=20,t.legend.labels.template.maxWidth=500;var e=t.xAxes.push(new Vl);function i(e,i){var n=t.series.push(new wc);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=i,n.events.on("hidden",r),n.events.on("shown",r);var a=n.bullets.push(new uc);return a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=Rr("#ffffff"),n}function r(){var i=t.series.getIndex(0),r=1-e.renderer.cellStartLocation-(1-e.renderer.cellEndLocation);if(i.dataItems.length>1){var n=e.getX(i.dataItems.getIndex(0),"categoryX"),a=(e.getX(i.dataItems.getIndex(1),"categoryX")-n)/t.series.length*r;if(we(a)){var o=t.series.length/2,s=0;t.series.each((function(e){e.isHidden||e.isHiding?e.dummyData=t.series.indexOf(e):(e.dummyData=s,s++)}));var l=s/2;t.series.each((function(e){var i=t.series.indexOf(e),r=(e.dummyData-i+o-l)*a;e.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing),e.bulletsContainer.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing)}))}}}e.dataFields.category="category",e.renderer.cellStartLocation=.1,e.renderer.cellEndLocation=.9,e.renderer.grid.template.location=0,t.yAxes.push(new ml).min=0,t.data=[{category:"2015 Q1",first:40,second:55,third:60,forth:46},{category:"2015 Q2",first:30,second:78,third:69,forth:24},{category:"2015 Q3",first:27,second:40,third:45,forth:68},{category:"2015 Q4",first:50,second:33,third:22,forth:46}],i("first","Past Year"),i("second","Current Year"),i("third","Target"),i("forth","Industry Average"),this.chart2=t},t.prototype.getChartProfitability2=function(){Ns(du),Ns(fu);var t=Bs("chartprofitabilityanalysis2",Tl);t.paddingBottom=50,t.cursor=new hu,t.scrollbarX=new as;var e={},i=t.xAxes.push(new Vl);i.dataFields.category="category",i.renderer.minGridDistance=60,i.renderer.grid.template.location=0,i.dataItems.template.text="{realName}",i.adapter.add("tooltipText",(function(t,e){return i.tooltipDataItem.dataContext.realName}));var n=t.yAxes.push(new ml);n.tooltip.disabled=!0,n.min=0;var a=t.series.push(new wc);a.columns.template.width=ue(80),a.tooltipText="{provider}: {realName}, {valueY}",a.dataFields.categoryX="category",a.dataFields.valueY="value";var o=t.yAxes.push(new ml);o.renderer.opposite=!0,o.syncWithAxis=n,o.tooltip.disabled=!0;var s=t.series.push(new Dl);s.tooltipText="{valueY}",s.dataFields.categoryX="category",s.dataFields.valueY="quantity",s.yAxis=o,s.bullets.push(new ou),s.stroke=t.colors.getIndex(13),s.fill=s.stroke,s.strokeWidth=2,s.snapTooltip=!0,s.events.on("datavalidated",(function(){s.dataItems.each((function(t){var e=t.dataContext;e.count/2==Math.round(e.count/2)?t.setLocation("categoryX",0):t.setLocation("categoryX",.5)}))})),a.columns.template.adapter.add("fill",(function(i,r){var n=r.dataItem.dataContext.realName;return e[n]||(e[n]=t.colors.next()),r.stroke=e[n],e[n]}));var l=i.axisRanges.template;l.tick.disabled=!1,l.tick.location=0,l.tick.strokeOpacity=.6,l.tick.length=60,l.grid.strokeOpacity=.5,l.label.tooltip=new us,l.label.tooltip.dy=-10,l.label.cloneTooltip=!1;var c=[],u={2017:{"Net Income":10,Revenue:35,quantity:430},2018:{"Net Income":15,Revenue:21,quantity:210},2019:{"Net Income":25,Revenue:31,quantity:265},2020:{"Net Income":12,Revenue:15,quantity:98}};for(var h in u){var p=u[h],d=[],f=0;for(var b in p)"quantity"!=b&&(f++,d.push({category:h+"_"+b,realName:b,value:p[b],provider:h}));d.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0}));var m=Math.floor(f/2);d[m].quantity=p.quantity,d[m].count=f,r.each(d,(function(t){c.push(t)}));var g=i.axisRanges.create();g.category=d[0].category,g.endCategory=d[d.length-1].category,g.label.text=d[0].provider,g.label.dy=30,g.label.truncate=!0,g.label.fontWeight="bold",g.label.tooltipText=d[0].provider,g.label.adapter.add("maxWidth",(function(t,e){var r=e.dataItem,n=i.categoryToPosition(r.category,0),a=i.categoryToPosition(r.endCategory,1),o=i.positionToCoordinate(n);return i.positionToCoordinate(a)-o}))}t.data=c;var y=i.axisRanges.create();y.category=t.data[t.data.length-1].category,y.label.disabled=!0,y.tick.location=1,y.grid.location=1,this.chart2=t},t.prototype.getChartProfitability3=function(){var t=Bs("chartprofitabilityanalysis3",Tl);t.paddingRight=20,t.data=this.dataChart,t.dateFormatter.inputDateFormat="yyyy";var e=t.xAxes.push(new vl);e.renderer.minGridDistance=50,e.baseInterval={timeUnit:"year",count:2},t.yAxes.push(new ml).tooltip.disabled=!0;var i=t.series.push(new Bc);i.dataFields.dateX="year",i.dataFields.valueY="amount",i.tooltipText="{valueY.amount}",i.strokeWidth=3,t.cursor=new hu,t.cursor.xAxis=e,t.cursor.fullWidthLineX=!0,t.cursor.lineX.strokeWidth=0,t.cursor.lineX.fill=t.colors.getIndex(2),t.cursor.lineX.fillOpacity=.1,t.scrollbarX=new as,this.chart3=t},t.prototype.getChartProfitability4=function(){var t=Bs("chartprofitabilityanalysis4",Tl);t.hiddenState.properties.opacity=0;for(var e=[],i=100,r=250,n=1;n<120;n++)i+=Math.round((Math.random()<.5?1:-1)*Math.random()*4),r=Math.round(i+5*Math.random()+n/5-(Math.random()<.5?1:-1)*Math.random()*2),e.push({date:new Date(2018,0,n),open:i,close:r});t.data=e;var a=t.xAxes.push(new vl);t.yAxes.push(new ml).tooltip.disabled=!0;var o=t.series.push(new Dl);o.dataFields.dateX="date",o.dataFields.openValueY="open",o.dataFields.valueY="close",o.tooltipText="open: {openValueY.value} close: {valueY.value}",o.sequencedInterpolation=!0,o.fillOpacity=.3,o.defaultState.transitionDuration=1e3,o.tensionX=.8;var s=t.series.push(new Dl);s.dataFields.dateX="date",s.dataFields.valueY="open",s.sequencedInterpolation=!0,s.defaultState.transitionDuration=1500,s.stroke=t.colors.getIndex(6),s.tensionX=.8,t.cursor=new hu,t.cursor.xAxis=a,t.scrollbarX=new as,this.chart4=t},t.\u0275fac=function(e){return new(e||t)(u.Pb(mu),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-report"]],decls:85,vars:1,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-chart-bar","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartprofitabilityanalysis1",1,"amchart"],["id","chartprofitabilityanalysis2",1,"amchart"],[1,"col-md-12"],[1,"m-0"],[1,"col-md-12","col-lg-5"],[1,"form-group"],[1,"form-control-label"],[1,"form-control","custom-select"],["hidden","","selected",""],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["type","text","bsDaterangepicker","","placeholder","Date range","name","bsDaterangepicker",1,"form-control",3,"bsConfig"],[1,"col-md-12","col-lg-2","d-flex","align-items-center"],["type","button",1,"btn","btn-default"],[1,"col-md-12","col-lg-6"],["id","chartprofitabilityanalysis3",1,"amchart"],["id","chartprofitabilityanalysis4",1,"amchart"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Statutory Reporting "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Net Profit"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",20),u.Qb(23,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h5",18),u.Hc(30,"Net Income"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"div",19),u.Vb(32,"div",20),u.Qb(33,"div",22),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",23),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"h3",24),u.Hc(38,"Reporting Tool"),u.Ub(),u.Ub(),u.Vb(39,"div",19),u.Vb(40,"div",12),u.Vb(41,"div",25),u.Vb(42,"div",26),u.Vb(43,"label",27),u.Hc(44,"Report type"),u.Ub(),u.Vb(45,"select",28),u.Vb(46,"option",29),u.Hc(47,"Please pick"),u.Ub(),u.Vb(48,"option"),u.Hc(49,"Report 1"),u.Ub(),u.Vb(50,"option"),u.Hc(51,"Report 2"),u.Ub(),u.Vb(52,"option"),u.Hc(53,"Report 3"),u.Ub(),u.Vb(54,"option"),u.Hc(55,"Report 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",25),u.Vb(57,"div",26),u.Vb(58,"label",27),u.Hc(59,"Date range"),u.Ub(),u.Vb(60,"div",30),u.Vb(61,"div",31),u.Vb(62,"span",32),u.Qb(63,"i",33),u.Ub(),u.Ub(),u.Qb(64,"input",34),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",35),u.Vb(66,"button",36),u.Hc(67,"Search"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",12),u.Vb(69,"div",37),u.Vb(70,"div",14),u.Vb(71,"div",15),u.Vb(72,"h3",24),u.Hc(73,"Report 1"),u.Ub(),u.Ub(),u.Vb(74,"div",19),u.Vb(75,"div",20),u.Qb(76,"div",38),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(77,"div",37),u.Vb(78,"div",14),u.Vb(79,"div",15),u.Vb(80,"h3",24),u.Hc(81,"Report 2"),u.Ub(),u.Ub(),u.Vb(82,"div",19),u.Vb(83,"div",20),u.Qb(84,"div",39),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(64),u.nc("bsConfig",e.bsDPConfig))},directives:[s.q,s.u,o.e,o.d],styles:[""]}),t}(),th=function(t){br(t,"ColorSet")&&(t.list=[Rr("#65738e"),Rr("#766c91"),Rr("#78566f"),Rr("#523b58"),Rr("#813b3d"),Rr("#bc5e52"),Rr("#ee8b78"),Rr("#f9c885"),Rr("#eba05c"),Rr("#9b5134")],t.minLightness=.2,t.maxLightness=.7,t.reuse=!0)};function eh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Acc No."),u.Ub())}function ih(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function rh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Debit (RM)"),u.Ub())}function nh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function ah(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Credit (RM)"),u.Ub())}function oh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.credit," ")}function sh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Net Movement"),u.Ub())}function lh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function ch(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function uh(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",65),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(159);return e.openModal(r)})),u.Vb(1,"span",66),u.Qb(2,"i",67),u.Ub(),u.Ub(),u.Vb(3,"button",68),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",66),u.Qb(5,"i",69),u.Ub(),u.Ub()}}function hh(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",70),u.Vb(1,"h6",71),u.Hc(2," General Ledger "),u.Ub(),u.Vb(3,"button",72),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",73),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",74),u.Vb(7,"div",11),u.Vb(8,"div",34),u.Vb(9,"div",75),u.Vb(10,"div",76),u.Vb(11,"div",77),u.Vb(12,"div",11),u.Vb(13,"div",34),u.Qb(14,"img",78),u.Ub(),u.Ub(),u.Qb(15,"br"),u.Vb(16,"div",11),u.Vb(17,"div",34),u.Vb(18,"h2"),u.Hc(19," invoice"),u.Qb(20,"br"),u.Vb(21,"span",79),u.Hc(22,"order #1082"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(23,"hr"),u.Vb(24,"div",11),u.Vb(25,"div",25),u.Vb(26,"address"),u.Vb(27,"strong"),u.Hc(28,"Billed To:"),u.Ub(),u.Qb(29,"br"),u.Hc(30," Twitter, Inc."),u.Qb(31,"br"),u.Hc(32," 795 Folsom Ave, Suite 600"),u.Qb(33,"br"),u.Hc(34," San Francisco, CA 94107"),u.Qb(35,"br"),u.Vb(36,"abbr",80),u.Hc(37,"P:"),u.Ub(),u.Hc(38," (123) 456-7890 "),u.Ub(),u.Ub(),u.Vb(39,"div",81),u.Vb(40,"address"),u.Vb(41,"strong"),u.Hc(42,"Shipped To:"),u.Ub(),u.Qb(43,"br"),u.Hc(44," Elaine Hernandez"),u.Qb(45,"br"),u.Hc(46," P. Sherman 42,"),u.Qb(47,"br"),u.Hc(48," Wallaby Way, Sidney"),u.Qb(49,"br"),u.Vb(50,"abbr",80),u.Hc(51,"P:"),u.Ub(),u.Hc(52," (123) 345-6789 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"div",11),u.Vb(54,"div",25),u.Vb(55,"address"),u.Vb(56,"strong"),u.Hc(57,"Payment Method:"),u.Ub(),u.Qb(58,"br"),u.Hc(59," Visa ending **** 1234"),u.Qb(60,"br"),u.Hc(61," ali.imran@gmail.com"),u.Qb(62,"br"),u.Ub(),u.Ub(),u.Vb(63,"div",81),u.Vb(64,"address"),u.Vb(65,"strong"),u.Hc(66,"Order Date:"),u.Ub(),u.Qb(67,"br"),u.Hc(68," 17/06/2020 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",11),u.Vb(70,"div",82),u.Vb(71,"h3"),u.Hc(72,"ORDER SUMMARY"),u.Ub(),u.Vb(73,"table",83),u.Vb(74,"thead"),u.Vb(75,"tr",84),u.Vb(76,"td"),u.Vb(77,"strong"),u.Hc(78,"#"),u.Ub(),u.Ub(),u.Vb(79,"td",85),u.Vb(80,"strong"),u.Hc(81,"PROJECT"),u.Ub(),u.Ub(),u.Vb(82,"td",85),u.Vb(83,"strong"),u.Hc(84,"HRS"),u.Ub(),u.Ub(),u.Vb(85,"td",86),u.Vb(86,"strong"),u.Hc(87,"RATE"),u.Ub(),u.Ub(),u.Vb(88,"td",86),u.Vb(89,"strong"),u.Hc(90,"SUBTOTAL"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(91,"tbody"),u.Vb(92,"tr"),u.Vb(93,"td"),u.Hc(94,"1"),u.Ub(),u.Vb(95,"td"),u.Vb(96,"strong"),u.Hc(97,"Template Design"),u.Ub(),u.Qb(98,"br"),u.Ub(),u.Vb(99,"td",85),u.Hc(100,"15"),u.Ub(),u.Vb(101,"td",85),u.Hc(102,"RM75"),u.Ub(),u.Vb(103,"td",86),u.Hc(104,"RM1,125.00"),u.Ub(),u.Ub(),u.Vb(105,"tr"),u.Vb(106,"td"),u.Hc(107,"2"),u.Ub(),u.Vb(108,"td"),u.Vb(109,"strong"),u.Hc(110,"Template Development"),u.Ub(),u.Qb(111,"br"),u.Ub(),u.Vb(112,"td",85),u.Hc(113,"15"),u.Ub(),u.Vb(114,"td",85),u.Hc(115,"RM75"),u.Ub(),u.Vb(116,"td",86),u.Hc(117,"RM1,125.00"),u.Ub(),u.Ub(),u.Vb(118,"tr",84),u.Vb(119,"td"),u.Hc(120,"3"),u.Ub(),u.Vb(121,"td"),u.Vb(122,"strong"),u.Hc(123,"Testing"),u.Ub(),u.Qb(124,"br"),u.Ub(),u.Vb(125,"td",85),u.Hc(126,"2"),u.Ub(),u.Vb(127,"td",85),u.Hc(128,"RM75"),u.Ub(),u.Vb(129,"td",86),u.Hc(130,"RM150.00"),u.Ub(),u.Ub(),u.Vb(131,"tr"),u.Qb(132,"td",87),u.Vb(133,"td",86),u.Vb(134,"strong"),u.Hc(135,"SST"),u.Ub(),u.Ub(),u.Vb(136,"td",86),u.Vb(137,"strong"),u.Hc(138,"N/A"),u.Ub(),u.Ub(),u.Ub(),u.Vb(139,"tr"),u.Qb(140,"td",87),u.Vb(141,"td",86),u.Vb(142,"strong"),u.Hc(143,"Total"),u.Ub(),u.Ub(),u.Vb(144,"td",86),u.Vb(145,"strong"),u.Hc(146,"RM2,400.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(147,"div",11),u.Vb(148,"div",88),u.Qb(149,"img",89),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(150,"div",90),u.Vb(151,"button",91),u.dc("click",(function(t){return u.yc(i),u.hc().notification()})),u.Hc(152," Send Notification "),u.Ub(),u.Vb(153,"button",92),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(154," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(14),u.nc("src",r.imgLogo,u.Ac),u.Cb(135),u.nc("src",r.imgLogo1,u.Ac)}}var ph=function(){return{isAnimated:!0,containerClass:"theme-red"}},dh=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),fh=function(){function t(t,e){this.zone=t,this.modalService=e,this.bsValue=new Date,this.maxDate=new Date,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750"}],this.SelectionType=dh,this.maxDate.setDate(this.maxDate.getDate()+7),this.bsRangeValue=[this.bsValue,this.maxDate],this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartGeneralLedger1(),t.getChartGeneralLedger2()}))},t.prototype.getChartGeneralLedger1=function(){Ns(th),Ns(fu);var t=Bs("chartgeneral1",tc);t.data=[{country:"Closed",litres:501.9},{country:"Opened",litres:301.9},{country:"Pending",litres:201.1}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartGeneralLedger2=function(){Ns(th),Ns(fu);var t={2016:[{sector:"Pending",size:43},{sector:"Opened",size:123},{sector:"Closed",size:283}],2017:[{sector:"Pending",size:34},{sector:"Opened",size:536},{sector:"Closed",size:744}],2018:[{sector:"Pending",size:57},{sector:"Opened",size:425},{sector:"Closed",size:538}],2019:[{sector:"Pending",size:33},{sector:"Opened",size:357},{sector:"Closed",size:833}],2020:[{sector:"Pending",size:24},{sector:"Opened",size:462},{sector:"Closed",size:649}]},e=Bs("chartgeneral2",tc);e.data=[{sector:"Pending",size:43},{sector:"Opened",size:245},{sector:"Closed",size:568}],e.innerRadius=100;var i=e.seriesContainer.createChild(Ao);i.text="2020",i.horizontalCenter="middle",i.verticalCenter="middle",i.fontSize=30;var r=e.series.push(new Ql);r.dataFields.value="size",r.dataFields.category="sector";var n=2016;!function r(){for(var a=function(){i.text=n;var e=t[n];return++n>2021&&(n=2016),e}(),o=0;o<a.length;o++)e.data[o].size=a[o].size;e.invalidateRawData(),e.setTimeout(r,4e3)}(),this.chart2=e},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-xl"})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.prototype.notification=function(){vu.a.fire({title:"Success",text:"Successfully sent!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-general-ledger"]],decls:160,vars:13,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-alt","text-dark"],[1,"row"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1"],[1,"small","mt-2"],[1,"fas","fa-angle-up","text-success"],[1,"text-success","font-weight-bold"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"container-fluid","mt--6"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartgeneral1",1,"amchart"],["id","chartgeneral2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-5"],[1,"form-group"],[1,"form-control-label"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-calendar-grid-58"],["type","text","bsDaterangepicker","","name","bsDaterangepicker",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control"],["hidden","","selected",""],["value","1"],["value","2"],["value","3"],[1,"col-md-2","text-right","mt-4"],["type","button",1,"btn","btn-default",3,"click"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"grid","invoice"],[1,"grid-body"],[1,"invoice-title"],["alt","","height","35",3,"src"],[1,"small"],["title","Phone"],[1,"col-xl-6","text-right"],[1,"col-md-12"],[1,"table","table-striped"],[1,"line"],[1,"text-center"],[1,"text-right"],["colspan","3"],[1,"col-md-12","text-right","identity"],["alt","","height","250",3,"src"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"General Ledger"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"General Ledger Total"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"2,302"),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Qb(24,"span",21),u.Vb(25,"span",22),u.Hc(26," 28.2%"),u.Ub(),u.Hc(27," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"div",23),u.Vb(29,"div",13),u.Vb(30,"div",14),u.Vb(31,"div",15),u.Vb(32,"div",16),u.Vb(33,"div",17),u.Vb(34,"h2",18),u.Hc(35,"Total of Completed General Ledger"),u.Ub(),u.Vb(36,"h3",19),u.Hc(37,"308"),u.Ub(),u.Ub(),u.Vb(38,"div",20),u.Qb(39,"span",21),u.Vb(40,"span",22),u.Hc(41," 76.2%"),u.Ub(),u.Hc(42," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",23),u.Vb(44,"div",13),u.Vb(45,"div",14),u.Vb(46,"div",15),u.Vb(47,"div",16),u.Vb(48,"div",17),u.Vb(49,"h2",18),u.Hc(50,"Total of Overdue General Ledger"),u.Ub(),u.Vb(51,"h3",19),u.Hc(52,"867"),u.Ub(),u.Ub(),u.Vb(53,"div",20),u.Qb(54,"span",21),u.Vb(55,"span",22),u.Hc(56," 5.12%"),u.Ub(),u.Hc(57," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"div",24),u.Vb(59,"div",11),u.Vb(60,"div",25),u.Vb(61,"div",26),u.Vb(62,"div",27),u.Vb(63,"div",28),u.Vb(64,"div",29),u.Vb(65,"h5",30),u.Hc(66,"No. of Journals"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div",14),u.Vb(68,"div",31),u.Qb(69,"div",32),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(70,"div",25),u.Vb(71,"div",26),u.Vb(72,"div",27),u.Vb(73,"div",28),u.Vb(74,"div",29),u.Vb(75,"h5",30),u.Hc(76,"No. of Accounts"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(77,"div",14),u.Vb(78,"div",31),u.Qb(79,"div",33),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",34),u.Vb(81,"div",26),u.Vb(82,"div",27),u.Vb(83,"div",28),u.Vb(84,"div",29),u.Vb(85,"h5",30),u.Hc(86,"Search Ledger"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(87,"div",14),u.Vb(88,"div",11),u.Vb(89,"div",35),u.Vb(90,"div",36),u.Vb(91,"label",37),u.Hc(92,"Pick Range Date"),u.Ub(),u.Vb(93,"div",38),u.Vb(94,"div",39),u.Vb(95,"span",40),u.Qb(96,"i",41),u.Ub(),u.Ub(),u.Vb(97,"input",42),u.dc("ngModelChange",(function(t){return e.bsRangeValue=t})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(98,"div",35),u.Vb(99,"div",36),u.Vb(100,"label",43),u.Hc(101,"Sort By"),u.Ub(),u.Vb(102,"select",44),u.Vb(103,"option",45),u.Hc(104,"Choose"),u.Ub(),u.Vb(105,"option",46),u.Hc(106,"Debit"),u.Ub(),u.Vb(107,"option",47),u.Hc(108,"Credit"),u.Ub(),u.Vb(109,"option",48),u.Hc(110,"Net Movement"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(111,"div",49),u.Vb(112,"button",50),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(113," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(114,"div",34),u.Vb(115,"div",26),u.Vb(116,"div",27),u.Vb(117,"div",28),u.Vb(118,"div",29),u.Vb(119,"h5",30),u.Hc(120,"General Ledger"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(121,"div",14),u.Vb(122,"div",51),u.Vb(123,"div",11),u.Vb(124,"div",52),u.Vb(125,"div",53),u.Vb(126,"label"),u.Hc(127," Show "),u.Vb(128,"select",54),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(129,"option",55),u.Hc(130,"5"),u.Ub(),u.Vb(131,"option",56),u.Hc(132,"10"),u.Ub(),u.Vb(133,"option",57),u.Hc(134,"15"),u.Ub(),u.Vb(135,"option",58),u.Hc(136,"All"),u.Ub(),u.Ub(),u.Hc(137," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(138,"div",52),u.Vb(139,"div",59),u.Vb(140,"label"),u.Vb(141,"input",60),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(142,"ngx-datatable",61),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(143,"ngx-datatable-column"),u.Fc(144,eh,2,0,"ng-template",62),u.Fc(145,ih,1,1,"ng-template",63),u.Ub(),u.Vb(146,"ngx-datatable-column"),u.Fc(147,rh,2,0,"ng-template",62),u.Fc(148,nh,1,1,"ng-template",63),u.Ub(),u.Vb(149,"ngx-datatable-column"),u.Fc(150,ah,2,0,"ng-template",62),u.Fc(151,oh,1,1,"ng-template",63),u.Ub(),u.Vb(152,"ngx-datatable-column"),u.Fc(153,sh,2,0,"ng-template",62),u.Fc(154,lh,1,1,"ng-template",63),u.Ub(),u.Vb(155,"ngx-datatable-column"),u.Fc(156,ch,2,0,"ng-template",62),u.Fc(157,uh,6,0,"ng-template",63),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(158,hh,155,2,"ng-template",null,64,u.Gc)),2&t&&(u.Cb(97),u.nc("ngModel",e.bsRangeValue)("bsConfig",u.pc(12,ph)),u.Cb(32),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[o.e,s.b,o.d,s.m,s.p,s.q,s.u,l.d,l.b,l.c,l.a],styles:["body[_ngcontent-%COMP%]{margin-top:20px;background:#eee}.invoice[_ngcontent-%COMP%]{padding:30px}.invoice[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;line-height:.8em}.invoice[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-weight:300}.invoice[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:10px;border-color:#ddd}.invoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr.line[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.invoice[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.invoice[_ngcontent-%COMP%]   .identity[_ngcontent-%COMP%]{margin-top:10px;font-size:1.1em;font-weight:300}.invoice[_ngcontent-%COMP%]   .identity[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.grid[_ngcontent-%COMP%]{position:relative;width:100%;background:#fff;color:#666;border-radius:2px;margin-bottom:25px;box-shadow:0 1px 4px rgba(0,0,0,.1)}"]}),t}(),bh=function(t){br(t,"ColorSet")&&(t.list=[Rr("#283250"),Rr("#902c2d"),Rr("#d5433d"),Rr("#f05440")],t.reuse=!1,t.stepOptions={lightness:.05,hue:0},t.passOptions={})};function mh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Budgetary Report"),u.Ub())}function gh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function yh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Total (RM)"),u.Ub())}function vh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function _h(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Session"),u.Ub())}function xh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function wh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Vh(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",58),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(143);return e.openModal1(r)})),u.Vb(1,"span",59),u.Qb(2,"i",60),u.Ub(),u.Ub(),u.Vb(3,"button",61),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",59),u.Qb(5,"i",62),u.Ub(),u.Ub()}}function Ch(t,e){1&t&&u.Hc(0," Input ")}function Ph(t,e){1&t&&u.Hc(0," Review & Submit ")}function Uh(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",63),u.Vb(1,"h6",64),u.Hc(2," Add Report "),u.Ub(),u.Vb(3,"button",65),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",66),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",67),u.Vb(7,"mat-horizontal-stepper",null,68),u.Vb(9,"mat-step",69),u.Vb(10,"form",70),u.Fc(11,Ch,1,0,"ng-template",71),u.Vb(12,"div",12),u.Vb(13,"div",72),u.Vb(14,"div",35),u.Vb(15,"label",73),u.Hc(16," Name of Applicant "),u.Ub(),u.Qb(17,"input",74),u.Ub(),u.Ub(),u.Vb(18,"div",72),u.Vb(19,"div",35),u.Vb(20,"label",73),u.Hc(21," Estimated Total Budget Requested RM "),u.Ub(),u.Qb(22,"input",75),u.Ub(),u.Ub(),u.Vb(23,"div",72),u.Vb(24,"div",35),u.Vb(25,"label",73),u.Hc(26," Account Code "),u.Ub(),u.Qb(27,"input",74),u.Ub(),u.Ub(),u.Vb(28,"div",72),u.Vb(29,"div",35),u.Vb(30,"label",73),u.Hc(31," Target Cost "),u.Ub(),u.Qb(32,"input",74),u.Ub(),u.Ub(),u.Vb(33,"div",72),u.Vb(34,"div",35),u.Vb(35,"label",73),u.Hc(36," Target Sales/Revenue "),u.Ub(),u.Qb(37,"input",74),u.Ub(),u.Ub(),u.Vb(38,"div",72),u.Vb(39,"div",35),u.Vb(40,"label",73),u.Hc(41," Approval by "),u.Ub(),u.Qb(42,"input",74),u.Ub(),u.Ub(),u.Vb(43,"div",72),u.Vb(44,"div",35),u.Vb(45,"label",73),u.Hc(46," Date Approved "),u.Ub(),u.Qb(47,"input",76),u.Ub(),u.Ub(),u.Vb(48,"div",72),u.Vb(49,"div",35),u.Vb(50,"label",73),u.Hc(51," Purpose of Application "),u.Ub(),u.Qb(52,"input",74),u.Ub(),u.Ub(),u.Vb(53,"div",13),u.Vb(54,"div",35),u.Vb(55,"label",73),u.Hc(56," Uploading Supporting Documents "),u.Ub(),u.Vb(57,"div",77),u.Qb(58,"input",78),u.Vb(59,"label",79),u.Hc(60,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div"),u.Vb(62,"button",80),u.Hc(63," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(64,"mat-step",69),u.Vb(65,"form",70),u.Fc(66,Ph,1,0,"ng-template",71),u.Vb(67,"div",12),u.Vb(68,"div",72),u.Vb(69,"div",35),u.Vb(70,"label",73),u.Hc(71," Name of Applicant "),u.Ub(),u.Qb(72,"input",81),u.Ub(),u.Ub(),u.Vb(73,"div",72),u.Vb(74,"div",35),u.Vb(75,"label",73),u.Hc(76," Estimated Total Budget Requested RM "),u.Ub(),u.Qb(77,"input",82),u.Ub(),u.Ub(),u.Vb(78,"div",72),u.Vb(79,"div",35),u.Vb(80,"label",73),u.Hc(81," Account Code "),u.Ub(),u.Qb(82,"input",81),u.Ub(),u.Ub(),u.Vb(83,"div",72),u.Vb(84,"div",35),u.Vb(85,"label",73),u.Hc(86," Target Cost "),u.Ub(),u.Qb(87,"input",81),u.Ub(),u.Ub(),u.Vb(88,"div",72),u.Vb(89,"div",35),u.Vb(90,"label",73),u.Hc(91," Target Sales/Revenue "),u.Ub(),u.Qb(92,"input",81),u.Ub(),u.Ub(),u.Vb(93,"div",72),u.Vb(94,"div",35),u.Vb(95,"label",73),u.Hc(96," Approval by "),u.Ub(),u.Qb(97,"input",81),u.Ub(),u.Ub(),u.Vb(98,"div",72),u.Vb(99,"div",35),u.Vb(100,"label",73),u.Hc(101," Date Approved "),u.Ub(),u.Qb(102,"input",83),u.Ub(),u.Ub(),u.Vb(103,"div",72),u.Vb(104,"div",35),u.Vb(105,"label",73),u.Hc(106," Purpose of Application "),u.Ub(),u.Qb(107,"input",81),u.Ub(),u.Ub(),u.Vb(108,"div",13),u.Vb(109,"div",35),u.Vb(110,"label",73),u.Hc(111," Uploading Supporting Documents "),u.Ub(),u.Vb(112,"div",77),u.Qb(113,"input",84),u.Vb(114,"label",85),u.Hc(115,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(116,"div"),u.Vb(117,"button",86),u.Hc(118," Back "),u.Ub(),u.Vb(119,"button",87),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(120," Submit "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(121,"div",88),u.Vb(122,"button",89),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(123," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(54),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup)}}function Sh(t,e){1&t&&u.Hc(0," Overall Input ")}function Th(t,e){1&t&&u.Hc(0," Review ")}function kh(t,e){1&t&&u.Hc(0," Sign-off ")}function Ih(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",63),u.Vb(1,"h6",64),u.Hc(2," Add Budgetary Report "),u.Ub(),u.Vb(3,"button",65),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef1.hide()})),u.Vb(4,"span",66),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",67),u.Vb(7,"mat-horizontal-stepper",null,68),u.Vb(9,"mat-step",69),u.Vb(10,"form",70),u.Fc(11,Sh,1,0,"ng-template",71),u.Vb(12,"div",12),u.Vb(13,"div",72),u.Vb(14,"div",35),u.Vb(15,"label",73),u.Hc(16," Name of Applicant "),u.Ub(),u.Qb(17,"input",74),u.Ub(),u.Ub(),u.Vb(18,"div",72),u.Vb(19,"div",35),u.Vb(20,"label",73),u.Hc(21," Estimated Total Budget Requested RM "),u.Ub(),u.Qb(22,"input",75),u.Ub(),u.Ub(),u.Vb(23,"div",72),u.Vb(24,"div",35),u.Vb(25,"label",73),u.Hc(26," Account Code "),u.Ub(),u.Qb(27,"input",74),u.Ub(),u.Ub(),u.Vb(28,"div",72),u.Vb(29,"div",35),u.Vb(30,"label",73),u.Hc(31," Target Cost "),u.Ub(),u.Qb(32,"input",74),u.Ub(),u.Ub(),u.Vb(33,"div",72),u.Vb(34,"div",35),u.Vb(35,"label",73),u.Hc(36," Target Sales/Revenue "),u.Ub(),u.Qb(37,"input",74),u.Ub(),u.Ub(),u.Vb(38,"div",72),u.Vb(39,"div",35),u.Vb(40,"label",73),u.Hc(41," Approval by "),u.Ub(),u.Qb(42,"input",74),u.Ub(),u.Ub(),u.Vb(43,"div",72),u.Vb(44,"div",35),u.Vb(45,"label",73),u.Hc(46," Date Approved "),u.Ub(),u.Qb(47,"input",76),u.Ub(),u.Ub(),u.Vb(48,"div",72),u.Vb(49,"div",35),u.Vb(50,"label",73),u.Hc(51," Purpose of Application "),u.Ub(),u.Qb(52,"input",74),u.Ub(),u.Ub(),u.Vb(53,"div",13),u.Vb(54,"div",35),u.Vb(55,"label",73),u.Hc(56," Uploading Supporting Documents "),u.Ub(),u.Vb(57,"div",77),u.Qb(58,"input",78),u.Vb(59,"label",79),u.Hc(60,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div"),u.Vb(62,"button",80),u.Hc(63," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(64,"mat-step",69),u.Vb(65,"form",70),u.Fc(66,Th,1,0,"ng-template",71),u.Vb(67,"div",12),u.Vb(68,"div",90),u.Vb(69,"div",35),u.Vb(70,"label",73),u.Hc(71," Budget Line 1 (RM) "),u.Ub(),u.Qb(72,"input",91),u.Ub(),u.Ub(),u.Vb(73,"div",92),u.Vb(74,"div",93),u.Qb(75,"input",94),u.Vb(76,"label",95),u.Hc(77,"Approve"),u.Ub(),u.Ub(),u.Vb(78,"div",93),u.Qb(79,"input",96),u.Vb(80,"label",97),u.Hc(81,"Reject"),u.Ub(),u.Ub(),u.Vb(82,"div",93),u.Qb(83,"input",98),u.Vb(84,"label",99),u.Hc(85,"Approve with condition"),u.Ub(),u.Ub(),u.Vb(86,"div",35),u.Vb(87,"label",73),u.Hc(88," Comments "),u.Ub(),u.Qb(89,"textarea",100),u.Ub(),u.Ub(),u.Vb(90,"div",90),u.Vb(91,"div",35),u.Vb(92,"label",73),u.Hc(93," Budget Line 2 (RM) "),u.Ub(),u.Qb(94,"input",91),u.Ub(),u.Ub(),u.Vb(95,"div",92),u.Vb(96,"div",93),u.Qb(97,"input",101),u.Vb(98,"label",102),u.Hc(99,"Approve"),u.Ub(),u.Ub(),u.Vb(100,"div",93),u.Qb(101,"input",103),u.Vb(102,"label",104),u.Hc(103,"Reject"),u.Ub(),u.Ub(),u.Vb(104,"div",93),u.Qb(105,"input",105),u.Vb(106,"label",106),u.Hc(107,"Approve with condition"),u.Ub(),u.Ub(),u.Vb(108,"div",35),u.Vb(109,"label",73),u.Hc(110," Comments "),u.Ub(),u.Qb(111,"textarea",100),u.Ub(),u.Ub(),u.Vb(112,"div",90),u.Vb(113,"div",35),u.Vb(114,"label",73),u.Hc(115," Budget Line 3 (RM) "),u.Ub(),u.Qb(116,"input",91),u.Ub(),u.Ub(),u.Vb(117,"div",92),u.Vb(118,"div",93),u.Qb(119,"input",107),u.Vb(120,"label",108),u.Hc(121,"Approve"),u.Ub(),u.Ub(),u.Vb(122,"div",93),u.Qb(123,"input",109),u.Vb(124,"label",110),u.Hc(125,"Reject"),u.Ub(),u.Ub(),u.Vb(126,"div",93),u.Qb(127,"input",111),u.Vb(128,"label",112),u.Hc(129,"Approve with condition"),u.Ub(),u.Ub(),u.Vb(130,"div",35),u.Vb(131,"label",73),u.Hc(132," Comments "),u.Ub(),u.Qb(133,"textarea",100),u.Ub(),u.Ub(),u.Vb(134,"div",72),u.Vb(135,"div",35),u.Vb(136,"label",73),u.Hc(137," Total Budget (RM) "),u.Ub(),u.Qb(138,"input",91),u.Ub(),u.Ub(),u.Ub(),u.Vb(139,"div"),u.Vb(140,"button",86),u.Hc(141," Back "),u.Ub(),u.Vb(142,"button",80),u.Hc(143," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(144,"mat-step",69),u.Vb(145,"form",70),u.Fc(146,kh,1,0,"ng-template",71),u.Vb(147,"div",12),u.Vb(148,"div",113),u.Vb(149,"div",35),u.Vb(150,"label",73),u.Hc(151," Budget Line 1 (RM) "),u.Ub(),u.Qb(152,"input",91),u.Ub(),u.Ub(),u.Vb(153,"div",113),u.Vb(154,"div",35),u.Vb(155,"label",73),u.Hc(156," Budget Line 2 (RM) "),u.Ub(),u.Qb(157,"input",91),u.Ub(),u.Ub(),u.Vb(158,"div",113),u.Vb(159,"div",35),u.Vb(160,"label",73),u.Hc(161," Budget Line 3 (RM) "),u.Ub(),u.Qb(162,"input",91),u.Ub(),u.Ub(),u.Vb(163,"div",113),u.Vb(164,"div",35),u.Vb(165,"label",73),u.Vb(166,"b"),u.Hc(167," Total Budget (RM) "),u.Ub(),u.Ub(),u.Qb(168,"input",91),u.Ub(),u.Ub(),u.Vb(169,"div",114),u.Vb(170,"div",35),u.Vb(171,"label",73),u.Hc(172," Uploading Digital Signature "),u.Ub(),u.Vb(173,"div",77),u.Qb(174,"input",115),u.Vb(175,"label",85),u.Hc(176,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(177,"div"),u.Vb(178,"button",86),u.Hc(179," Back "),u.Ub(),u.Vb(180,"button",87),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal1("saved")})),u.Hc(181," Submit "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(182,"div",88),u.Vb(183,"button",89),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef1.hide()})),u.Hc(184," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(54),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup),u.Cb(79),u.nc("stepControl",r.thirdFormGroup),u.Cb(1),u.nc("formGroup",r.thirdFormGroup)}}var Ah=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Oh=function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750"}],this.SelectionType=Ah,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartPlanningControl1()}))},t.prototype.getChartPlanningControl1=function(){Ns(bh),Ns(fu);var t=Bs("chartplanningcontrol1",Oc);t.data=[{country:"Jan",year2017:3.5,year2018:4.2},{country:"Feb",year2017:1.7,year2018:3.1},{country:"Mar",year2017:2.8,year2018:2.9},{country:"Apr",year2017:2.6,year2018:2.3},{country:"May",year2017:1.4,year2018:2.1},{country:"June",year2017:2.6,year2018:4.9},{country:"July",year2017:6.4,year2018:7.2},{country:"Aug",year2017:8,year2018:7.1},{country:"Sep",year2017:7.3,year2018:8.1},{country:"Oct",year2017:7.6,year2018:9.2},{country:"Nov",year2017:2,year2018:3.5},{country:"Dec",year2017:7.2,year2018:10.1}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30;var i=t.yAxes.push(new ml);i.title.text="Budget (RM)",i.renderer.labels.template.adapter.add("text",(function(t){return t+"%"}));var r=t.series.push(new Ac);r.dataFields.valueY="year2017",r.dataFields.categoryX="country",r.name="Forecast",r.clustered=!1,r.columns.template.tooltipText="Forecast Budget in {country} : [bold]{valueY}[/]",r.columns.template.fillOpacity=.9;var n=t.series.push(new Ac);n.dataFields.valueY="year2018",n.dataFields.categoryX="country",n.name="Actual",n.clustered=!1,n.columns.template.tooltipText="Actual Budget in {country} : [bold]{valueY}[/]",this.chart1=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.successSwal1=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef1.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]})},t.prototype.openModal1=function(t){this.modalRef1=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",s.t.required]})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-planning-budgetary-control"]],decls:144,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-balance-scale","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartplanningcontrol1",1,"amchart"],[1,"col-lg-4"],[1,"card","border-light","shadow-sm"],[1,"row","d-block","d-xl-flex","align-items-center","text-center"],[1,"col-12","px-xl-0"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1"],[1,"small","mt-2"],[1,"fas","fa-angle-up","text-success"],[1,"text-success","font-weight-bold"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"form-group"],[1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["addNew",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"col-xl-6"],[1,"form-control-label"],["placeholder","Type here...","type","text",1,"form-control"],["placeholder","Type here...","type","number",1,"form-control"],["placeholder","Type here...","type","date",1,"form-control"],[1,"custom-file"],["type","file","id","customFileLangplanningmodal1","lang","en",1,"custom-file-input"],["for","customFileLangplanningmodal1",1,"custom-file-label"],["mat-button","","matStepperNext","",1,"btn","btn-default"],["placeholder","Type here...","type","text","disabled","",1,"form-control"],["placeholder","Type here...","type","number","disabled","",1,"form-control"],["placeholder","2020-01-01","type","date","disabled","",1,"form-control"],["type","file","id","customFileLangplanningmodal2","lang","en","disabled","",1,"custom-file-input"],["for","customFileLangplanningmodal2",1,"custom-file-label"],["mat-button","","matStepperPrevious","",1,"btn","btn-danger"],["mat-button","",1,"btn","btn-default",3,"click"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"],[1,"col-xl-4"],["placeholder","0000","type","number",1,"form-control"],[1,"col-xl-8"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","id","radioplanningmodal1","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal1",1,"custom-control-label"],["type","radio","id","radioplanningmodal2","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal2",1,"custom-control-label"],["type","radio","id","radioplanningmodal3","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal3",1,"custom-control-label"],["rows","3",1,"form-control"],["type","radio","id","radioplanningmodal4","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal4",1,"custom-control-label"],["type","radio","id","radioplanningmodal5","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal5",1,"custom-control-label"],["type","radio","id","radioplanningmodal6","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal6",1,"custom-control-label"],["type","radio","id","radioplanningmodal7","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal7",1,"custom-control-label"],["type","radio","id","radioplanningmodal8","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal8",1,"custom-control-label"],["type","radio","id","radioplanningmodal9","name","customRadioInline1",1,"custom-control-input"],["for","radioplanningmodal9",1,"custom-control-label"],[1,"col-xl-7"],[1,"col-xl-7","mt","-4"],["type","file","id","customFileLangplanningmodal2","lang","en",1,"custom-file-input"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Budget Setup & Performance Reporting "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Forecast vs Actual Budget"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",20),u.Qb(23,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(24,"div",22),u.Vb(25,"div",23),u.Vb(26,"div",19),u.Vb(27,"div",24),u.Vb(28,"div",25),u.Vb(29,"div",26),u.Vb(30,"h2",27),u.Hc(31,"Budgetary Proposal"),u.Ub(),u.Vb(32,"h3",28),u.Hc(33,"10"),u.Ub(),u.Ub(),u.Vb(34,"div",29),u.Qb(35,"span",30),u.Vb(36,"span",31),u.Hc(37,"28.2%"),u.Ub(),u.Hc(38," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",22),u.Vb(40,"div",23),u.Vb(41,"div",19),u.Vb(42,"div",24),u.Vb(43,"div",25),u.Vb(44,"div",26),u.Vb(45,"h2",27),u.Hc(46,"Successful Budgetary"),u.Ub(),u.Vb(47,"h3",28),u.Hc(48,"7"),u.Ub(),u.Ub(),u.Vb(49,"div",29),u.Qb(50,"span",30),u.Vb(51,"span",31),u.Hc(52,"76.2%"),u.Ub(),u.Hc(53," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(54,"div",22),u.Vb(55,"div",23),u.Vb(56,"div",19),u.Vb(57,"div",24),u.Vb(58,"div",25),u.Vb(59,"div",26),u.Vb(60,"h2",27),u.Hc(61,"Failed Budgetary"),u.Ub(),u.Vb(62,"h3",28),u.Hc(63,"3"),u.Ub(),u.Ub(),u.Vb(64,"div",29),u.Qb(65,"span",30),u.Vb(66,"span",31),u.Hc(67,"5.12%"),u.Ub(),u.Hc(68," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",13),u.Vb(70,"div",14),u.Vb(71,"div",15),u.Vb(72,"div",16),u.Vb(73,"div",32),u.Vb(74,"h5",18),u.Hc(75,"List of Budgetary Reports"),u.Ub(),u.Ub(),u.Vb(76,"div",33),u.Vb(77,"button",34),u.dc("click",(function(t){u.yc(i);var r=u.wc(141);return e.openModal(r)})),u.Hc(78," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(79,"div",19),u.Vb(80,"div",12),u.Vb(81,"div",13),u.Vb(82,"div",35),u.Vb(83,"label"),u.Hc(84,"Search Project"),u.Ub(),u.Vb(85,"select",36),u.Vb(86,"option",37),u.Hc(87,"Choose"),u.Ub(),u.Vb(88,"option",38),u.Hc(89,"Session"),u.Ub(),u.Vb(90,"option",39),u.Hc(91,"Department"),u.Ub(),u.Vb(92,"option",40),u.Hc(93,"Division"),u.Ub(),u.Vb(94,"option",41),u.Hc(95,"Title"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(96,"div",42),u.Vb(97,"button",34),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(98," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(99,"div",13),u.Vb(100,"div",14),u.Vb(101,"div",15),u.Vb(102,"div",16),u.Vb(103,"div",17),u.Vb(104,"h5",18),u.Hc(105,"Budgetary Report"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(106,"div",19),u.Vb(107,"div",43),u.Vb(108,"div",12),u.Vb(109,"div",44),u.Vb(110,"div",45),u.Vb(111,"label"),u.Hc(112," Show "),u.Vb(113,"select",46),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(114,"option",47),u.Hc(115,"5"),u.Ub(),u.Vb(116,"option",48),u.Hc(117,"10"),u.Ub(),u.Vb(118,"option",49),u.Hc(119,"15"),u.Ub(),u.Vb(120,"option",50),u.Hc(121,"All"),u.Ub(),u.Ub(),u.Hc(122," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(123,"div",44),u.Vb(124,"div",51),u.Vb(125,"label"),u.Vb(126,"input",52),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(127,"ngx-datatable",53),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(128,"ngx-datatable-column"),u.Fc(129,mh,2,0,"ng-template",54),u.Fc(130,gh,1,1,"ng-template",55),u.Ub(),u.Vb(131,"ngx-datatable-column"),u.Fc(132,yh,2,0,"ng-template",54),u.Fc(133,vh,1,1,"ng-template",55),u.Ub(),u.Vb(134,"ngx-datatable-column"),u.Fc(135,_h,2,0,"ng-template",54),u.Fc(136,xh,1,1,"ng-template",55),u.Ub(),u.Vb(137,"ngx-datatable-column"),u.Fc(138,wh,2,0,"ng-template",54),u.Fc(139,Vh,6,0,"ng-template",55),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(140,Uh,124,4,"ng-template",null,56,u.Gc),u.Fc(142,Ih,185,6,"ng-template",null,57,u.Gc)}2&t&&(u.Cb(114),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,ie,te,s.v,s.n,s.g,qt,re,ne],styles:[""]}),t}(),Dh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveLineSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Ol),Mh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveLineSeries",e.connectEnds=!1,e.bulletsContainer.mask=new mo,e.topOffset=.2,e.bottomOffset=.2,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new Dh},e.prototype.getPoint=function(t,e,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=this.yAxis.renderer,l=Oe(this.yAxis.getY(t,i,n,o),-s.radius*(1+this.bottomOffset),-s.innerRadius*(1+this.topOffset)),c=this.xAxis.getX(t,e,r,a),u=this.xAxis.getY(t,e,r,a),h=this.xAxis.getAngle(t,e,r,a);return{x:c+l*Fe(h),y:u+l*De(h)}},e.prototype.addPoints=function(t,e,i,r,n){var a=this.getPoint(e,i,r,e.locations[i],e.locations[r]);a&&t.push(a)},e.prototype.getMaskPath=function(){var t=this.yAxis.renderer.getPositionRangePath(this.yAxis.start,this.yAxis.end),e=this.bulletsContainer;return this.chart&&this.chart.maskBullets?(e.mask||(e.mask=new mo),e.mask.path=t):e.mask=void 0,t},e.prototype.drawSegment=function(e,i,r){this.connectEnds&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),t.prototype.drawSegment.call(this,e,i,r)},Object.defineProperty(e.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(t){this.setPropertyValue("connectEnds",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topOffset",{get:function(){return this.getPropertyValue("topOffset")},set:function(t){this.setPropertyValue("topOffset",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomOffset",{get:function(){return this.getPropertyValue("bottomOffset")},set:function(t){this.setPropertyValue("bottomOffset",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionBulletReal=function(t,e,i){var r=this.xAxis,n=this.yAxis;(e<r.start||e>r.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},e.prototype.setXAxis=function(e){t.prototype.setXAxis.call(this,e),this.updateRendererRefs()},e.prototype.setYAxis=function(e){t.prototype.setYAxis.call(this,e),this.updateRendererRefs()},e.prototype.updateRendererRefs=function(){var t=this.xAxis.renderer,e=this.yAxis.renderer;t.axisRendererY=e,e.axisRendererX=t},e}(Dl);fr.registeredClasses.CurveLineSeries=Mh,fr.registeredClasses.CurveLineSeriesDataItem=Dh;var Fh=function(t){function e(){var e=t.call(this)||this;return e.pixelRadiusReal=0,e.autoScaleScale=1,e.layout="none",e.autoScale=!0,e.autoCenter=!0,e.isMeasured=!1,e.className="AxisRendererCurveX",e.line.strokeOpacity=1,e.precisionStep=10,e.points=[{x:-300,y:0},{x:300,y:0}],e._tempSprite=e.createChild(mo),e._tempSprite.visible=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.polyspline.distance},enumerable:!0,configurable:!0}),e.prototype.updateAxisLine=function(){this.line.path=this.polyspline.path},Object.defineProperty(e.prototype,"polyspline",{get:function(){var t=this.getPropertyValue("polyspline");return t||((t=this.createChild($o)).tensionX=1,t.tensionY=1,this.polyspline=t),t},set:function(t){this.setPropertyValue("polyspline",t,!0),t.parent=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoScale",{get:function(){return this.getPropertyValue("autoScale")},set:function(t){this.setPropertyValue("autoScale",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoCenter",{get:function(){return this.getPropertyValue("autoCenter")},set:function(t){this.setPropertyValue("autoCenter",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"precisionStep",{get:function(){return this.getPropertyValue("precisionStep")},set:function(t){this.setPropertyValue("precisionStep",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"points",{get:function(){return this.getPropertyValue("points")},set:function(t){this.setPropertyValue("points",t,!0)&&(this._pointsChanged=!0,this.polyspline.segments=[t])},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(e){var i=this;if(t.prototype.setAxis.call(this,e),e&&e.chart){var r=e.chart;this._disposers.push(r.curveContainer.events.on("positionchanged",(function(){i.handleSizeChange()}))),this._disposers.push(r.events.on("maxsizechanged",(function(){i.handleSizeChange()})))}},e.prototype.handleSizeChange=function(){if(this._pointsChanged){var t=this.axis.getPositionRangePath(0,1);this._tempSprite.path=t,this._pointsChanged=!1}if(this.points){var e=this.axis.chart,i=e.curveContainer,r=e.plotContainer.maxWidth-i.pixelPaddingLeft-i.pixelPaddingRight,n=e.plotContainer.maxHeight-i.pixelPaddingTop-i.pixelPaddingBottom,a=this._tempSprite.element.getBBox(),o={x:0,y:0};this.autoCenter&&(o={x:a.x+a.width/2,y:a.y+a.height/2});var s=1;this.autoScale&&(s=Re(r/a.width,n/a.height));var l=[];oi(this.points,(function(t){l.push({x:(t.x-o.x)*s,y:(t.y-o.y)*s})})),this.polyspline.segments=[l]}},e.prototype.positionToPoint=function(t,e){var i=this.axis,r=this.polyspline.positionToPoint(t=(t-i.start)/(i.end-i.start),!0);r.angle+=90;var n=this.axisRendererY;if(we(e)&&n){var a=n.positionToPoint(e).y;r.x+=a*Fe(r.angle),r.y+=a*De(r.angle)}return r},e.prototype.positionToAngle=function(t){var e=this.axis;return t=Ee(0,(t-e.start)/(e.end-e.start)),this.polyspline.positionToPoint(t,!0).angle+90},e.prototype.updateGridElement=function(t,e,i){t.element&&(e+=(i-e)*t.location,t.zIndex=0,t.path=this.getGridPath(e),this.toggleVisibility(t,e,0,1))},e.prototype.getGridPath=function(t){var e=this.positionToPoint(t),i=e.angle,r=this.axisRendererY;if(r){var n=-r.radius,a=-r.innerRadius;return jo({x:e.x+a*Fe(i),y:e.y+a*De(i)})+zo({x:e.x+n*Fe(i),y:e.y+n*De(i)})}return""},e.prototype.updateTickElement=function(t,e){if(t.element){var i=this.positionToPoint(e),r=i.angle,n=t.length;t.inside&&(n*=-1),t.path=jo({x:i.x,y:i.y})+zo({x:i.x+n*Fe(r),y:i.y+n*De(r)}),this.toggleVisibility(t,e,0,1)}},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);t.x=n.x,t.y=n.y,t.zIndex=2,this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.getPositionRangePath=function(t,e){var i="",r=this.axisRendererY;if(r){if(t>e){var n=t;t=e,e=n}var a=r.axis.start,o=r.axis.end,s=this.axis.start,l=this.axis.end;if(t<=s&&e<=s||t>=l&&e>=l)return i;if(t=Oe(t,s,l),(e=Oe(e,s,l))==s||t==l)return i;if(e==t)return i;var c=0|Ie(r.positionToPoint(a).y,1),u=0|Ie(r.positionToPoint(o).y,1),h=this.positionToPoint(t),p=h.angle;i=jo(h);for(var d=Math.ceil(this.axisLength/this.precisionStep*(e-t)/(l-s)),f=0;f<=d;f++)i+=zo({x:(h=this.positionToPoint(t+f/d*(e-t))).x+c*Fe(p=h.angle),y:h.y+c*De(p)});for(f=d;f>=0;f--)i+=zo({x:(h=this.positionToPoint(t+f/d*(e-t))).x+u*Fe(p=h.angle),y:h.y+u*De(p)});i+=" Z"}return i},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location);var n=this.positionToPoint(e+=(i-e)*r);t.moveTo({x:n.x,y:n.y}),this.toggleVisibility(t,e,0,1)},e.prototype.updateBreakElement=function(t){var e=this.axisRendererY;if(e){var i=t.startPosition,r=t.endPosition,n=this.positionToAngle(i),a=this.positionToPoint(i),o=this.positionToAngle(r),s=this.positionToPoint(r),l=t.startLine,c=t.endLine,u=t.fillShape,h=-e.radius+t.pixelMarginTop,p=-e.innerRadius-t.pixelMarginBottom,d={x:a.x+p*Fe(n),y:a.y+p*De(n)},f={x:a.x+h*Fe(n),y:a.y+h*De(n)},b={x:s.x+p*Fe(o),y:s.y+p*De(o)},m={x:s.x+h*Fe(o),y:s.y+h*De(o)};l.path=jo(d)+fs(d,f,l.waveLength,l.waveHeight,l.tension,!0),c.path=jo(m)+fs(m,b,c.waveLength,c.waveHeight,c.tension,!0);var g=jo(d);g+=fs(d,f,u.waveLength,u.waveHeight,u.tension,!0);for(var y=Math.ceil(this.axisLength/this.precisionStep*(r-i)/(this.axis.end-this.axis.start)),v=0;v<=y;v++)g+=zo({x:(_=this.positionToPoint(i+v/y*(r-i))).x+h*Fe(x=_.angle),y:_.y+h*De(x)});for(g+=fs(m,b,u.waveLength,u.waveHeight,u.tension,!0),v=y;v>=0;v--){var _,x;g+=zo({x:(_=this.positionToPoint(i+v/y*(r-i))).x+p*Fe(x=_.angle),y:_.y+p*De(x)})}u.path=g,this.toggleVisibility(t.startLine,t.startPosition,0,1),this.toggleVisibility(t.endLine,t.endPosition,0,1)}},e.prototype.toAxisPosition=function(t){return t},e.prototype.coordinateToPosition=function(e,i){var r=this.polyspline.allPoints,n=this.polyspline.getClosestPointIndex({x:e,y:i});return t.prototype.coordinateToPosition.call(this,n/(r.length-1)*this.axisLength)},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"inversed",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(_l);fr.registeredClasses.AxisRendererCurveX=Fh;var Eh=function(t){function e(){var e=t.call(this)||this;return e._chart=new Oi,e.className="AxisRendererCurveY",e.isMeasured=!1,e.minGridDistance=30,e.isMeasured=!1,e.layout="none",e.radius=40,e.innerRadius=-40,e.line.strokeOpacity=0,e.labels.template.horizontalCenter="right",e._disposers.push(e._chart),e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},Object.defineProperty(e.prototype,"axisLength",{get:function(){return Math.abs(this.radius-this.innerRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPropertyValue("innerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){return{x:0,y:this.positionToCoordinate(t)}},e.prototype.updateAxisLine=function(){var t=this.axisRendererX;if(t){var e=t.axis,i=t.positionToPoint(e.start+(e.end-e.start)*this.axisLocation),r=i.angle,n=-this.radius,a=-this.innerRadius;this.line.path=jo({x:a*Fe(r),y:a*De(r)})+zo({x:n*Fe(r),y:n*De(r)}),this.line.moveTo(i);var o=this.axis.title;o.moveTo({x:i.x+n/2*Fe(r),y:i.y+n/2*De(r)}),o.rotation=r-180}},e.prototype.updateGridElement=function(t,e,i){this.axisRendererX&&((e+=(i-e)*t.location)>=0&&e<=1&&(t.path=this.getGridPath(e)),this.positionItem(t,{x:0,y:0}),this.toggleVisibility(t,e,0,1))},e.prototype.getGridPath=function(t){var e=this.axisRendererX,i="";if(e&&we(t)){for(var r=Ie(this.positionToPoint(t).y,1),n=e.positionToPoint(e.axis.start),a=n.angle,o=Math.ceil(e.axisLength/e.precisionStep),s=e.axis.start,l=e.axis.end,c=0;c<=o;c++)i+=zo({x:(n=e.positionToPoint(s+c/o*(l-s))).x+r*Fe(a=n.angle),y:n.y+r*De(a)});i=i.replace("L","M")}return i},e.prototype.updateLabelElement=function(t,e,i,r){ge(r)||(r=t.location);var n=this.positionToPoint(e+=(i-e)*r).y,a=this.axisRendererX;if(a){var o=a.axis,s=a.positionToPoint(o.start+(o.end-o.start)*this.axisLocation),l=s.angle;s.x+=n*Fe(l),s.y+=n*De(l),this.positionItem(t,s),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)}},e.prototype.updateTickElement=function(t,e){if(t.element){var i=this.axisRendererX;if(i){var r=i.positionToPoint(this.axisLocation),n=r.angle,a=this.positionToPoint(e).y;r.x+=a*Fe(n),r.y+=a*De(n),n=Qe(n+90),t.pixelPerfect=n/90==Math.round(n/90);var o=t.length;t.inside&&(o*=-1),t.path=jo({x:0,y:0})+zo({x:o*Fe(n),y:o*De(n)}),this.positionItem(t,r),this.toggleVisibility(t,e,0,1)}}},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof pl&&(r=t.location),e+=(i-e)*r;var n=this.axisRendererX;if(n){var a=n.positionToPoint(this.axisLocation),o=a.angle,s=this.positionToPoint(e).y;a.x+=s*Fe(o),a.y+=s*De(o),o=Qe(o+90),this.positionItem(t,a),this.toggleVisibility(t,e,0,1)}},e.prototype.updateBaseGridElement=function(){},e.prototype.fitsToBounds=function(t){return!0},e.prototype.getPositionRangePath=function(t,e){var i="",r=this.axisRendererX;if(r){var n=r.axis.start,a=r.axis.end,o=this.axis.start,s=this.axis.end;if(t<=o&&e<=o||t>=s&&e>=s)return i;t=Oe(t,o,s),e=Oe(e,o,s);var l=Ie(this.positionToPoint(t).y,1),c=Ie(this.positionToPoint(e).y,1);if(he(l)||he(c))return"";var u=r.positionToPoint(n),h=u.angle;i=jo(u);for(var p=Math.ceil(r.axisLength/r.precisionStep),d=0;d<=p;d++)i+=zo({x:(u=r.positionToPoint(n+d/p*(a-n))).x+l*Fe(h=u.angle),y:u.y+l*De(h)});for(d=p;d>=0;d--)i+=zo({x:(u=r.positionToPoint(n+d/p*(a-n))).x+c*Fe(h=u.angle),y:u.y+c*De(h)});i+=" Z"}return i},e.prototype.updateBreakElement=function(t){this.axisRendererX&&(t.fillShape.path=this.getPositionRangePath(t.startPosition,t.endPosition),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.toggleVisibility(t.endLine,t.endPosition,0,1))},e.prototype.createBreakSprites=function(t){t.startLine=new bs,t.endLine=new bs,t.fillShape=new bs},e.prototype.updateTooltip=function(){},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return Ie(-this.innerRadius-(e.renderer.inversed?(e.end-t)*i:(t-e.start)*i),4)},Object.defineProperty(e.prototype,"axisLocation",{get:function(){return this.getPropertyValue("axisLocation")},set:function(t){this.setPropertyValue("axisLocation",t),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i&&(i.isMeasured=!1,i.horizontalCenter="middle",i.verticalCenter="bottom")}},e.prototype.coordinateToPosition=function(e,i){var r=this.axisRendererX,n=e;if(r){var a=r.polyspline.allPoints[r.polyspline.getClosestPointIndex({x:i,y:e})],o=a.angle-90;n=je({x:a.x+this.innerRadius*Fe(o),y:a.y+this.innerRadius*De(o)},{x:i,y:e})}return t.prototype.coordinateToPosition.call(this,n)},e.prototype.toAxisPosition=function(t){return t},e}(dl);fr.registeredClasses.AxisRendererCurveY=Eh;var Rh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveChartDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Sl),Lh=function(t){function e(){var e=t.call(this)||this;e._axisRendererX=Fh,e._axisRendererY=Eh,e.className="CurveChart";var i=e.plotContainer.createChild(yo);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.curveContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer.parent=i,e._cursorContainer=i,e._bulletMask=void 0,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ge(this.readerTitle)},e.prototype.processAxis=function(e){t.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.curveContainer,i.toBack()},e.prototype.processConfig=function(e){if(e&&(ge(e.cursor)&&!ge(e.cursor.type)&&(e.cursor.type="CurveCursor"),ge(e.series)&&Ce(e.series)))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"CurveLineSeries";t.prototype.processConfig.call(this,e)},e.prototype.createSeries=function(){return new Mh},e.prototype.updateXAxis=function(t){t&&t.processRenderer()},e.prototype.updateYAxis=function(t){t&&t.processRenderer()},e.prototype.hasLicense=function(){if(!t.prototype.hasLicense.call(this))return!1;for(var e=0;e<Nn.licenses.length;e++)if(Nn.licenses[e].match(/^TL.{5,}/i))return!0;return!1},e}(Tl);fr.registeredClasses.CurveChart=Lh,function(t){Object(h.d)((function(){var e=t.call(this)||this;return e.className="SerpentineChartDataItem",e.applyTheme(),e}),t)}(Rh);var Hh=function(t){function e(){var e=t.call(this)||this;return e.className="SerpentineChart",e.orientation="vertical",e.levelCount=3,e.yAxisRadius=ue(25),e.yAxisInnerRadius=ue(-25),e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"levelCount",{get:function(){return this.getPropertyValue("levelCount")},set:function(t){this.setPropertyValue("levelCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisRadius",{get:function(){return this.getPropertyValue("yAxisRadius")},set:function(t){this.setPropertyValue("yAxisRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisInnerRadius",{get:function(){return this.getPropertyValue("yAxisInnerRadius")},set:function(t){this.setPropertyValue("yAxisInnerRadius",t,!0)},enumerable:!0,configurable:!0}),e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.curveContainer,i=this.plotContainer.maxWidth-e.pixelPaddingLeft-e.pixelPaddingRight,r=this.plotContainer.maxHeight-e.pixelPaddingTop-e.pixelPaddingBottom,n=0;this.yAxes.each((function(t){n=Ee(t.renderer.radius,n)})),i-=2*n,r-=2*n;var a,o=[],s=this.levelCount;if("vertical"==this.orientation){a=Re(r/(s-1)/2,i/2),r=Re(a*(s-1)*2,r);for(var l=0;l<this.levelCount;l++)if(l%2==0){o.push({x:-i/2+a,y:-r/2+r/(s-1)*l}),o.push({x:i/2-a,y:-r/2+r/(s-1)*l});var c={x:i/2-a,y:-r/2+r/(s-1)*(l+.5)};if(l<this.levelCount-1)for(var u=0;u<50;u++)o.push({x:c.x+a*Fe(f=u/50*180-90),y:c.y+a*De(f)})}else if(o.push({x:i/2-a,y:-r/2+r/(s-1)*l}),o.push({x:-i/2+a,y:-r/2+r/(s-1)*l}),c={x:-i/2+a,y:-r/2+r/(s-1)*(l+.5)},l<this.levelCount-1)for(var h=0;h<50;h++)o.push({x:c.x+a*Fe(f=-90-h/50*180),y:c.y+a*De(f)})}else for(a=Re(i/(s-1)/2,r/2),i=Re(a*(s-1)*2,i),l=0;l<this.levelCount;l++)if(l%2==0){if(o.push({y:-r/2+a,x:-i/2+i/(s-1)*l}),o.push({y:r/2-a,x:-i/2+i/(s-1)*l}),c={y:r/2-a,x:-i/2+i/(s-1)*(l+.5)},l<this.levelCount-1)for(var p=0;p<50;p++)o.push({y:c.y+a*Fe(f=p/50*180-90),x:c.x+a*De(f)})}else if(o.push({y:r/2-a,x:-i/2+i/(s-1)*l}),o.push({y:-r/2+a,x:-i/2+i/(s-1)*l}),c={y:-r/2+a,x:-i/2+i/(s-1)*(l+.5)},l<this.levelCount-1)for(var d=0;d<50;d++){var f;o.push({y:c.y+a*Fe(f=-90-d/50*180),x:c.x+a*De(f)})}this.xAxes.each((function(t){t.renderer.points=o,t.renderer.autoScale=!1,t.renderer.autoCenter=!1,t.renderer.polyspline.tensionX=1,t.renderer.polyspline.tensionY=1}));var b=Gr(this.yAxisInnerRadius,2*a),m=Gr(this.yAxisRadius,2*a);this.yAxes.each((function(t){t.renderer.radius=m,t.renderer.innerRadius=b}))},e.prototype.updateYAxis=function(e){t.prototype.updateYAxis.call(this,e),e.innerRadius=void 0,e.radius=void 0},e}(Lh);fr.registeredClasses.SerpentineChart=Hh,function(t){Object(h.d)((function(){var e=t.call(this)||this;return e.className="SpiralChartDataItem",e.applyTheme(),e}),t)}(Rh);var jh=function(t){function e(){var e=t.call(this)||this;return e.className="SpiralChart",e.levelCount=3,e.precisionStep=5,e.startAngle=0,e.endAngle=0,e.innerRadius=ue(25),e.yAxisRadius=ue(35),e.yAxisInnerRadius=ue(-35),e.inversed=!1,e.applyTheme(),e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"levelCount",{get:function(){return this.getPropertyValue("levelCount")},set:function(t){this.setPropertyValue("levelCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusStep",{get:function(){return this.getPropertyValue("radiusStep")},set:function(t){this.setPropertyValue("radiusStep",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"precisionStep",{get:function(){return this.getPropertyValue("precisionStep")},set:function(t){this.setPropertyValue("precisionStep",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPropertyValue("innerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisRadius",{get:function(){return this.getPropertyValue("yAxisRadius")},set:function(t){this.setPropertyValue("yAxisRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisInnerRadius",{get:function(){return this.getPropertyValue("yAxisInnerRadius")},set:function(t){this.setPropertyValue("yAxisInnerRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t,!0)},enumerable:!0,configurable:!0}),e.prototype.validate=function(){t.prototype.validate.call(this);var e=this.curveContainer,i=Re(this.plotContainer.maxWidth-e.pixelPaddingLeft-e.pixelPaddingRight,this.plotContainer.maxHeight-e.pixelPaddingTop-e.pixelPaddingBottom)/2,r=this.radiusStep,n=Gr(this.innerRadius,i);we(r)||(r=(i-n)/this.levelCount);var a=function(t,e,i,r,n,a,o,s,l){we(s)||(s=0),we(s)||(l=s);for(var c=n+.01,u=s*Se,h=[];c<i+o;){var p=a;if(p/2>c&&(p=2*c),(u+=2*Math.asin(p/2/c))*Te>l+(i-n)/o*360)break;var d=u*Te,f={x:0+c*Math.cos(u),y:0+c*r/i*Math.sin(u)};h.push(f),c=n+d/360*o}return h.shift(),h}(0,0,i,i,n,this.precisionStep,r,this.startAngle,this.endAngle),o=Gr(this.yAxisInnerRadius,r),s=Gr(this.yAxisRadius,r);this.inversed&&a.reverse(),this.xAxes.each((function(t){t.renderer.points=a,t.renderer.autoScale=!1,t.renderer.autoCenter=!1,t.renderer.polyspline.tensionX=1,t.renderer.polyspline.tensionY=1})),this.yAxes.each((function(t){t.renderer.radius=s,t.renderer.innerRadius=o}))},e.prototype.updateYAxis=function(e){t.prototype.updateYAxis.call(this,e),e.innerRadius=void 0,e.radius=void 0},e}(Lh);fr.registeredClasses.SpiralChart=jh;var zh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveColumn",e}return Object(h.d)(e,t),e.prototype.createAssets=function(){this.curveColumn=this.createChild(mo),this.CurveColumn=this.curveColumn,this.curveColumn.shouldClone=!1,this.curveColumn.strokeOpacity=void 0,this.column=this.curveColumn},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.curveColumn&&this.curveColumn.copyFrom(e.curveColumn)},e}(_c);fr.registeredClasses.CurveColumn=zh;var Bh=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(xc),Nh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveColumnSeries",e.bulletsContainer.mask=new mo,e.topOffset=.2,e.bottomOffset=.2,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createColumnTemplate=function(){return new zh},e.prototype.validateDataElementReal=function(t){var e=this,i=this.yField,r=this.yOpenField,n=this.xField,a=this.xOpenField,o=this.getStartLocation(t),s=this.getEndLocation(t),l=this.columns.template,c=l.percentWidth,u=l.percentHeight;he(c)&&(c=100);var h,p=[],d=this.xAxis,f=this.yAxis,b=d.renderer;if(this.baseAxis==this.xAxis){o+=x=Ie((s-o)*(1-c/100)/2,5);var m=((s-=x)-o)/(Math.ceil(this.xAxis.axisLength/b.precisionStep/(this.endIndex-this.startIndex))+2),g=t.locations[r],y=t.locations[i];if(this.yAxis instanceof ml)this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(g=0,y=0);else if(this.yAxis instanceof Vl&&!he(u)){y=0,g=1;var v=Ie((1-u/100)/2,5);y+=v,g-=v}for(var _=o;_<=s;_+=m)_>s&&(_=s),p.push(this.getPoint(t,n,i,_,y));for(p.push(this.getPoint(t,n,i,s,y)),_=s;_>=o;_-=m)_<o&&(_=o),p.push(this.getPoint(t,a,r,_,g));p.push(this.getPoint(t,a,r,o,g)),h=this.getPoint(t,n,i,o+(s-o)/2,.5)}else{var x;o+=x=Ie((s-o)*(1-u/100)/2,5),s-=x;var w={start:d.start,end:d.end},V={start:f.start,end:f.end},C=t.locations[n],P=t.locations[a];this.xAxis instanceof ml&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(C=0,P=0);var U=d.getPositionX(t,a,P,"valueX",w),S=d.getPositionX(t,n,C,"valueX",w),T=f.getPositionY(t,r,o,"valueY",V),k=f.getPositionY(t,i,s,"valueY",V);if(m=(S-U)/(Math.ceil(d.axisLength/b.precisionStep*(S-U)/(d.end-d.start))+2),S>U){for(_=U;_<=S;_+=m)_>S&&(_=S),p.push(d.renderer.positionToPoint(_,T));for(p.push(d.renderer.positionToPoint(S,T)),_=S;_>=U;_-=m)_<U&&(_=U),p.push(d.renderer.positionToPoint(_,k));p.push(d.renderer.positionToPoint(U,k))}h=d.renderer.positionToPoint(U+(S-U)/2,T+(k-T)/2)}var I=t.column;I||(I=this.columns.create(),t.column=I,t.addSprite(I),this.setColumnStates(I),I.paper=this.paper);var A=I.curveColumn;p.length>0&&p.push(p[0]),A.path=function(t){if(!t||0==t.length)return"";var e=jo(t[0]);if(t&&t.length>0)for(var i=1;i<t.length;i++)e+=zo(t[i]);return e}(p),I.__disabled=!1,I.parent=this.columnsContainer,I.tooltipX=h.x,I.tooltipY=h.y,I.curveColumn.tooltipX=h.x,I.curveColumn.tooltipY=h.y,this.axisRanges.each((function(i){var r=t.rangesColumns.getKey(i.uid);r||((r=e.columns.create()).dataItem&&bi(r.dataItem.sprites,r),t.addSprite(r),r.paper=e.paper,e.setColumnStates(r),t.rangesColumns.setKey(i.uid,r)),r.curveColumn.path=A.path,r.__disabled=!1,r.parent=i.contents}))},e.prototype.getPoint=function(t,e,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=this.yAxis.renderer,l=Oe(this.yAxis.getY(t,i,n,o),-s.radius*(1+this.topOffset),-s.innerRadius*(1+this.bottomOffset)),c={start:this.xAxis.start,end:this.xAxis.end},u=this.xAxis.getX(t,e,r,a,c),h=this.xAxis.getY(t,e,r,a,c),p=this.xAxis.getAngle(t,e,r,a,c);return{x:u+l*Fe(p),y:h+l*De(p)}},e.prototype.getMaskPath=function(){var t=this.yAxis.renderer,e=t.getPositionRangePath(t.axis.start,t.axis.end),i=this.bulletsContainer;return this.chart&&this.chart.maskBullets?(i.mask||(i.mask=new mo),i.mask.path=e):i.mask=void 0,e},Object.defineProperty(e.prototype,"topOffset",{get:function(){return this.getPropertyValue("topOffset")},set:function(t){this.setPropertyValue("topOffset",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomOffset",{get:function(){return this.getPropertyValue("bottomOffset")},set:function(t){this.setPropertyValue("bottomOffset",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionBulletReal=function(t,e,i){var r=this.xAxis,n=this.yAxis;(e<r.start||e>r.end||i<n.start||i>n.end)&&(t.visible=!1),t.moveTo(this.xAxis.renderer.positionToPoint(e,i))},e.prototype.setXAxis=function(e){t.prototype.setXAxis.call(this,e),this.updateRendererRefs()},e.prototype.setYAxis=function(e){t.prototype.setYAxis.call(this,e),this.updateRendererRefs()},e.prototype.updateRendererRefs=function(){var t=this.xAxis.renderer,e=this.yAxis.renderer;t.axisRendererY=e,e.axisRendererX=t},e}(wc);fr.registeredClasses.CurveColumnSeries=Nh,fr.registeredClasses.CurveColumnSeriesDataItem=Bh;var Xh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveStepLineSeriesDataItem",e.applyTheme(),e}return Object(h.d)(e,t),e}(Dh),Wh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveStepLineSeries",e.startLocation=0,e.endLocation=1,e.applyTheme(),e}return Object(h.d)(e,t),e.prototype.createDataItem=function(){return new Xh},e.prototype.addPoints=function(t,e,i,r,n){var a=this.startLocation,o=this.endLocation;n&&(a=this.endLocation,o=this.startLocation);var s=this.xAxis,l=this.yAxis,c=this._previousPosition,u={start:s.start,end:s.end},h={start:l.start,end:l.end},p=s.renderer;if(this.baseAxis==this.xAxis){var d=Math.ceil(this.xAxis.axisLength/p.precisionStep/(this.endIndex-this.startIndex))+2,f=Math.abs(o-a)/d;if(this.xAxis instanceof vl){var b=e.index;if(n){var m=this.dataItems.getIndex(b-1),g=this.xAxis.baseDuration;m&&(y=m.dateX.getTime())<(v=e.dateX.getTime())-g&&(o-=(v-y)/g-1)}else{var y,v;m=this.dataItems.getIndex(b+1),g=this.xAxis.baseDuration,m&&(y=m.dateX.getTime())>(v=e.dateX.getTime())+g&&(o+=(y-v)/g-1)}}if(n){for(var _=a;_>=o;_-=f)_<o&&(_=o),t.push(this.getPoint(e,i,r,_,e.locations[r]));t.push(this.getPoint(e,i,r,o,e.locations[r]))}else{for(_=a;_<=o;_+=f)_>o&&(_=o),t.push(this.getPoint(e,i,r,_,e.locations[r]));t.push(this.getPoint(e,i,r,o,e.locations[r]))}}else{var x=s.getPositionX(e,i,e.locations[i],"valueX",u),w=l.getPositionY(e,r,a,"valueY",h);if(we(c))if(d=Math.ceil(s.axisLength/p.precisionStep*(x-c)/(s.end-s.start))+2,f=Math.abs((x-c)/d),x>c)for(_=c;_<=x;_+=f)_>x&&(_=x),t.push(s.renderer.positionToPoint(_,w));else if(x<c)for(_=c;_>=x;_-=f)_<x&&(_=x),t.push(s.renderer.positionToPoint(_,w));var V=this.getPoint(e,i,r,e.locations[i],a);V&&t.push(V);var C=this.getPoint(e,i,r,e.locations[i],o);C&&t.push(C),this._previousPosition=x}},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e}(Mh);fr.registeredClasses.CurveStepLineSeries=Wh,fr.registeredClasses.CurveStepLineSeriesDataItem=Xh;var Gh=function(t){function e(){var e=t.call(this)||this;return e.className="CurveCursor",e.applyTheme(),e.mask=void 0,e}return Object(h.d)(e,t),e.prototype.fitsToBounds=function(t){if(this.xAxis&&this.yAxis){var e=this.xAxis.renderer,i=this.yAxis.renderer,r=e.polyspline.getClosestPointIndex(t),n=je(t,e.polyspline.allPoints[r]);return!(n>=Math.abs(i.radius)&&n>=Math.abs(i.innerRadius))}},e.prototype.triggerMoveReal=function(e){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),t.prototype.triggerMoveReal.call(this,e)},e.prototype.updateLineX=function(t){var e=this.lineX,i=this.xAxis;if(i||(this.xAxis=this.chart.xAxes.getIndex(0),i=this.xAxis),e&&e.visible&&!e.disabled&&i){var r=i.renderer.pointToPosition(t);e.path=i.renderer.getGridPath(Oe(r,i.start,i.end))}},e.prototype.updateLineY=function(t){var e=this.lineY,i=this.yAxis;if(i||(this.yAxis=this.chart.yAxes.getIndex(0),i=this.yAxis),e&&e.visible&&!e.disabled&&i){var r=i.renderer.pointToPosition(t);e.path=i.renderer.getGridPath(Oe(r,i.start,i.end))}},e.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint,e=this.xAxis,i=this.yAxis;if(e&&i&&t){var r=this.point,n=this.selection;n.x=0,n.y=0;var a="",o=this.behavior;if("zoomX"==o||"selectX"==o){var s=e.renderer.pointToPosition(t),l=e.renderer.pointToPosition(r);a+=e.renderer.getPositionRangePath(s,l),s=e.toGlobalPosition(s),l=e.toGlobalPosition(l),this.xRange={start:Math.min(s,l),end:Math.max(l,s)}}else"zoomY"!=o&&"selectY"!=o||(s=i.renderer.pointToPosition(t),l=i.renderer.pointToPosition(r),a+=i.renderer.getPositionRangePath(s,l),s=i.toGlobalPosition(s),l=i.toGlobalPosition(l),this.yRange={start:Math.min(s,l),end:Math.max(l,s)});n.path=a}else this.selection.hide()}},e.prototype.getPositions=function(){this.xAxis&&(this.xPosition=this.xAxis.toGlobalPosition(this.xAxis.renderer.pointToPosition(this.point))),this.yAxis&&(this.yPosition=this.yAxis.toGlobalPosition(this.yAxis.renderer.pointToPosition(this.point)))},e.prototype.updatePoint=function(t){},e.prototype.handleXTooltipPosition=function(t){if(this.xAxis.cursorTooltipEnabled){var e=this.xAxis.tooltip;this.updateLineX(bn({x:e.pixelX,y:e.pixelY},this))}},e.prototype.handleYTooltipPosition=function(t){if(this.yAxis.cursorTooltipEnabled){var e=this.yAxis.tooltip;this.updateLineY(bn({x:e.pixelX,y:e.pixelY},this))}},e.prototype.updateLinePositions=function(t){},e.prototype.getRanges=function(){},e.prototype.updateSize=function(){},e.prototype.fixPoint=function(t){return t},e}(hu);function Yh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Program ID"),u.Ub())}function qh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function Kh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Name"),u.Ub())}function Jh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.name," ")}function Zh(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Type"),u.Ub())}function Qh(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.type," ")}function $h(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function tp(t,e){1&t&&(u.Vb(0,"span",50),u.Hc(1,"Active"),u.Ub())}function ep(t,e){1&t&&(u.Vb(0,"span",51),u.Hc(1,"Unactive"),u.Ub())}function ip(t,e){if(1&t&&(u.Fc(0,tp,2,0,"span",48),u.Fc(1,ep,2,0,"span",49)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}function rp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function np(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",52),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(107);return e.openModal(r)})),u.Vb(1,"span",53),u.Qb(2,"i",54),u.Ub(),u.Ub(),u.Vb(3,"button",55),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",53),u.Qb(5,"i",56),u.Ub(),u.Ub()}}function ap(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",57),u.Vb(1,"h6",58),u.Hc(2," Add Account Receivable "),u.Ub(),u.Vb(3,"button",59),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",60),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",61),u.Vb(7,"form"),u.Vb(8,"div",12),u.Vb(9,"div",62),u.Vb(10,"div",63),u.Vb(11,"label",64),u.Hc(12,"Program ID"),u.Ub(),u.Qb(13,"input",65),u.Ub(),u.Ub(),u.Vb(14,"div",62),u.Vb(15,"div",63),u.Vb(16,"label",66),u.Hc(17,"Name"),u.Ub(),u.Qb(18,"input",67),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",12),u.Vb(21,"div",62),u.Vb(22,"div",63),u.Vb(23,"label",68),u.Hc(24,"Type"),u.Ub(),u.Vb(25,"select",69),u.Vb(26,"option",29),u.Hc(27,"Choose"),u.Ub(),u.Vb(28,"option",30),u.Hc(29,"One"),u.Ub(),u.Vb(30,"option",31),u.Hc(31,"Two"),u.Ub(),u.Vb(32,"option",32),u.Hc(33,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",62),u.Vb(35,"div",63),u.Vb(36,"p",70),u.Hc(37,"Status"),u.Ub(),u.Vb(38,"div",71),u.Qb(39,"input",72),u.Vb(40,"label",73),u.Hc(41," Active "),u.Ub(),u.Ub(),u.Vb(42,"div",71),u.Qb(43,"input",74),u.Vb(44,"label",75),u.Hc(45," Inactive "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"form"),u.Vb(47,"div",12),u.Vb(48,"div",76),u.Vb(49,"div",63),u.Vb(50,"label",77),u.Hc(51,"Description"),u.Ub(),u.Qb(52,"textarea",78),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"div",79),u.Vb(54,"button",80),u.dc("click",(function(t){u.yc(i);var e=u.hc();return e.successSwal(e.saved)})),u.Hc(55," Save "),u.Ub(),u.Vb(56,"button",81),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(57," Close "),u.Ub(),u.Ub()}}fr.registeredClasses.CurveCursor=Gh;var op=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),sp=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"active",type:"Part time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time"}],this.SelectionType=op,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartActivities1(),t.getChartActivities2()}))},t.prototype.getChartActivities1=function(){Ns(du),Ns(fu);var t=Bs("chartactivitiescosting1",Tl);t.colors.step=2,t.legend=new Js,t.legend.position="top",t.legend.paddingBottom=20,t.legend.labels.template.maxWidth=500;var e=t.xAxes.push(new Vl);function i(e,i){var n=t.series.push(new wc);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=i,n.events.on("hidden",r),n.events.on("shown",r);var a=n.bullets.push(new uc);return a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=Rr("#ffffff"),n}function r(){var i=t.series.getIndex(0),r=1-e.renderer.cellStartLocation-(1-e.renderer.cellEndLocation);if(i.dataItems.length>1){var n=e.getX(i.dataItems.getIndex(0),"categoryX"),a=(e.getX(i.dataItems.getIndex(1),"categoryX")-n)/t.series.length*r;if(we(a)){var o=t.series.length/2,s=0;t.series.each((function(e){e.isHidden||e.isHiding?e.dummyData=t.series.indexOf(e):(e.dummyData=s,s++)}));var l=s/2;t.series.each((function(e){var i=t.series.indexOf(e),r=(e.dummyData-i+o-l)*a;e.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing),e.bulletsContainer.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing)}))}}}e.dataFields.category="category",e.renderer.cellStartLocation=.1,e.renderer.cellEndLocation=.9,e.renderer.grid.template.location=0,t.yAxes.push(new ml).min=0,t.data=[{category:"Jan",first:40,second:55,third:60},{category:"Feb",first:34,second:56,third:65},{category:"Mar",first:56,second:54,third:87},{category:"Apr",first:46,second:57,third:75},{category:"May",first:42,second:52,third:46},{category:"June",first:85,second:74,third:53},{category:"July",first:40,second:55,third:60},{category:"Aug",first:74,second:79,third:68},{category:"Sep",first:30,second:78,third:69},{category:"Oct",first:27,second:40,third:45},{category:"Nov",first:50,second:33,third:22},{category:"Dec",first:30,second:78,third:69}],i("first","Succesful Projects"),i("second","Pending Projects"),i("third","In Progress Progress"),this.chart1=t},t.prototype.getChartActivities2=function(){Ns(du),Ns(fu);var t=Bs("chartactivitiescosting2",Hh);t.curveContainer.padding(20,20,20,20),t.levelCount=8,t.orientation="horizontal",t.fontSize=11;var e=new Fs;e.saturation=.6,t.data=[{category:"Project #1",start:"2016-01-10",end:"2016-01-13",color:e.getIndex(0),task:"Gathering requirements"},{category:"Project #1",start:"2016-02-05",end:"2016-04-18",color:e.getIndex(0),task:"Development"},{category:"Project #2",start:"2016-01-08",end:"2016-01-10",color:e.getIndex(5),task:"Gathering requirements"},{category:"Project #2",start:"2016-01-12",end:"2016-01-15",color:e.getIndex(5),task:"Producing specifications"},{category:"Project #2",start:"2016-01-16",end:"2016-02-05",color:e.getIndex(5),task:"Development"},{category:"Project #2",start:"2016-02-10",end:"2016-02-18",color:e.getIndex(5),task:"Testing and QA"},{category:"",task:""},{category:"Project #3",start:"2016-01-01",end:"2016-01-19",color:e.getIndex(9),task:"Gathering requirements"},{category:"Project #3",start:"2016-02-01",end:"2016-02-10",color:e.getIndex(9),task:"Producing specifications"},{category:"Project #3",start:"2016-03-10",end:"2016-04-15",color:e.getIndex(9),task:"Development"},{category:"Project #3",start:"2016-04-20",end:"2016-04-30",color:e.getIndex(9),task:"Testing and QA"},{category:"Project #4",start:"2016-01-15",end:"2016-02-12",color:e.getIndex(15),task:"Gathering requirements"},{category:"Project #4",start:"2016-02-25",end:"2016-03-10",color:e.getIndex(15),task:"Development"},{category:"Project #4",start:"2016-03-23",end:"2016-04-29",color:e.getIndex(15),task:"Testing and QA"}],t.dateFormatter.dateFormat="yyyy-MM-dd",t.dateFormatter.inputDateFormat="yyyy-MM-dd";var i=t.yAxes.push(new Vl);i.dataFields.category="category",i.renderer.grid.template.disabled=!0,i.renderer.labels.template.paddingRight=25,i.renderer.minGridDistance=10,i.renderer.innerRadius=-60,i.renderer.radius=60;var r=t.xAxes.push(new vl);r.renderer.minGridDistance=70,r.baseInterval={count:1,timeUnit:"day"},r.renderer.tooltipLocation=0,r.startLocation=-.5,r.renderer.line.strokeDasharray="1,4",r.renderer.line.strokeOpacity=.7,r.tooltip.background.fillOpacity=.2,r.tooltip.background.cornerRadius=5,r.tooltip.label.fill=(new ma).getFor("alternativeBackground"),r.tooltip.label.paddingTop=7;var n=r.renderer.labels.template;n.verticalCenter="middle",n.fillOpacity=.7,n.background.fill=(new ma).getFor("background"),n.background.fillOpacity=1,n.padding(7,7,7,7);var a=i.renderer.labels.template;a.horizontalCenter="left",a.adapter.add("rotation",(function(t,e){var i=r.valueToPosition(r.min);return r.renderer.positionToAngle(i)+90}));var o=t.series.push(new Nh);o.columns.template.height=ue(20),o.columns.template.tooltipText="{task}: [bold]{openDateX}[/] - [bold]{dateX}[/]",o.dataFields.openDateX="start",o.dataFields.dateX="end",o.dataFields.categoryY="category",o.columns.template.propertyFields.fill="color",o.columns.template.propertyFields.stroke="color",o.columns.template.strokeOpacity=0;var s=new ou;o.bullets.push(s),s.circle.radius=3,s.circle.strokeOpacity=0,s.propertyFields.fill="color",s.locationX=0;var l=new ou;o.bullets.push(l),l.circle.radius=3,l.circle.strokeOpacity=0,l.propertyFields.fill="color",l.locationX=1,t.scrollbarX=new as,t.scrollbarX.align="center",t.scrollbarX.width=ue(90);var c=new Gh;t.cursor=c,c.xAxis=r,c.yAxis=i,c.lineY.disabled=!0,c.lineX.strokeDasharray="1,4",c.lineX.strokeOpacity=1,r.renderer.tooltipLocation2=0,i.cursorTooltipEnabled=!1,this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-activities-project-costing"]],decls:108,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-invoice-dollar","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartactivitiescosting1",1,"amchart"],["id","chartactivitiescosting2",1,"amchart"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"form-group"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-warning"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","exampleProgramID"],["type","total","id","exampleTotal","placeholder","eg PRG-CS-240",1,"form-control"],["for","exampleName"],["type","text","placeholder","eg Short Term Program","id","exampleName",1,"form-control"],["for","type1",1,"my-1","mr-2"],["id","type2","aria-label","Default select example",1,"form-select"],[1,"font-weight-bold"],[1,"form-check"],["type","radio","name","exampleRadios3","id","exampleRadios3","value","option3","checked","",1,"form-check-input"],["for","exampleRadios3",1,"form-check-label"],["type","radio","name","exampleRadios4","id","exampleRadios4","value","option4","checked","",1,"form-check-input"],["for","exampleRadios4",1,"form-check-label"],[1,"col-12"],["for","textarea2"],["placeholder","Enter your message...","id","textarea2","rows","2",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Activities & Project Costing "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Number of Projects"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",20),u.Qb(23,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h5",18),u.Hc(30,"Projects Progress"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"div",19),u.Vb(32,"div",20),u.Qb(33,"div",22),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",13),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",23),u.Vb(39,"h5",18),u.Hc(40,"List of Programs"),u.Ub(),u.Ub(),u.Vb(41,"div",24),u.Vb(42,"button",25),u.dc("click",(function(t){u.yc(i);var r=u.wc(107);return e.openModal(r)})),u.Hc(43," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(44,"div",19),u.Vb(45,"div",12),u.Vb(46,"div",13),u.Vb(47,"div",26),u.Vb(48,"label",27),u.Hc(49,"Search Project"),u.Ub(),u.Vb(50,"select",28),u.Vb(51,"option",29),u.Hc(52,"Choose"),u.Ub(),u.Vb(53,"option",30),u.Hc(54,"Type"),u.Ub(),u.Vb(55,"option",31),u.Hc(56,"Status"),u.Ub(),u.Vb(57,"option",32),u.Hc(58,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(59,"div",33),u.Vb(60,"button",25),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(61," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",13),u.Vb(63,"div",14),u.Vb(64,"div",15),u.Vb(65,"div",16),u.Vb(66,"div",17),u.Vb(67,"h5",18),u.Hc(68,"List View of Projects"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",19),u.Vb(70,"div",34),u.Vb(71,"div",12),u.Vb(72,"div",35),u.Vb(73,"div",36),u.Vb(74,"label"),u.Hc(75," Show "),u.Vb(76,"select",37),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(77,"option",38),u.Hc(78,"5"),u.Ub(),u.Vb(79,"option",39),u.Hc(80,"10"),u.Ub(),u.Vb(81,"option",40),u.Hc(82,"15"),u.Ub(),u.Vb(83,"option",41),u.Hc(84,"All"),u.Ub(),u.Ub(),u.Hc(85," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(86,"div",35),u.Vb(87,"div",42),u.Vb(88,"label"),u.Vb(89,"input",43),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"ngx-datatable",44),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(91,"ngx-datatable-column"),u.Fc(92,Yh,2,0,"ng-template",45),u.Fc(93,qh,1,1,"ng-template",46),u.Ub(),u.Vb(94,"ngx-datatable-column"),u.Fc(95,Kh,2,0,"ng-template",45),u.Fc(96,Jh,1,1,"ng-template",46),u.Ub(),u.Vb(97,"ngx-datatable-column"),u.Fc(98,Zh,2,0,"ng-template",45),u.Fc(99,Qh,1,1,"ng-template",46),u.Ub(),u.Vb(100,"ngx-datatable-column"),u.Fc(101,$h,2,0,"ng-template",45),u.Fc(102,ip,2,2,"ng-template",46),u.Ub(),u.Vb(103,"ngx-datatable-column"),u.Fc(104,rp,2,0,"ng-template",45),u.Fc(105,np,6,0,"ng-template",46),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(106,ap,58,0,"ng-template",null,47,u.Gc)}2&t&&(u.Cb(77),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o],styles:[""]}),t}();function lp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Payer ID"),u.Ub())}function cp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function up(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 1 (RM)"),u.Ub())}function hp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function pp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 2 (RM)"),u.Ub())}function dp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.credit," ")}function fp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 3 (RM)"),u.Ub())}function bp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function mp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function gp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",63),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(183);return e.openModal(r)})),u.Vb(1,"span",64),u.Qb(2,"i",65),u.Ub(),u.Ub(),u.Vb(3,"button",66),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",64),u.Qb(5,"i",67),u.Ub(),u.Ub()}}function yp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",68),u.Vb(1,"h6",69),u.Hc(2," Add Budgetary Report "),u.Ub(),u.Vb(3,"button",70),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",71),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",72),u.Vb(7,"form"),u.Vb(8,"div",22),u.Vb(9,"div",73),u.Vb(10,"div",74),u.Vb(11,"label",75),u.Hc(12,"Receive by"),u.Ub(),u.Vb(13,"select",76),u.Vb(14,"option",44),u.Hc(15,"Choose"),u.Ub(),u.Vb(16,"option",45),u.Hc(17,"One"),u.Ub(),u.Vb(18,"option",46),u.Hc(19,"Two"),u.Ub(),u.Vb(20,"option",47),u.Hc(21,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(22,"div",73),u.Vb(23,"div",74),u.Vb(24,"label",77),u.Hc(25,"Acc No."),u.Ub(),u.Qb(26,"input",78),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(27,"form"),u.Vb(28,"div",22),u.Vb(29,"div",73),u.Vb(30,"div",74),u.Vb(31,"label",79),u.Hc(32,"Date"),u.Ub(),u.Vb(33,"div",80),u.Vb(34,"span",81),u.Qb(35,"span",82),u.Ub(),u.Qb(36,"input",83),u.Ub(),u.Ub(),u.Ub(),u.Vb(37,"div",73),u.Vb(38,"div",74),u.Vb(39,"label",84),u.Hc(40,"Final Date"),u.Ub(),u.Vb(41,"div",80),u.Vb(42,"span",81),u.Qb(43,"span",82),u.Ub(),u.Qb(44,"input",85),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"form"),u.Vb(46,"div",22),u.Vb(47,"div",73),u.Vb(48,"div",74),u.Vb(49,"label",86),u.Hc(50,"Invoice No."),u.Ub(),u.Qb(51,"input",87),u.Ub(),u.Ub(),u.Vb(52,"div",73),u.Vb(53,"div",74),u.Vb(54,"label",88),u.Hc(55,"Brand"),u.Ub(),u.Vb(56,"select",89),u.Vb(57,"option",44),u.Hc(58,"Choose"),u.Ub(),u.Vb(59,"option",45),u.Hc(60,"One"),u.Ub(),u.Vb(61,"option",46),u.Hc(62,"Two"),u.Ub(),u.Vb(63,"option",47),u.Hc(64,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"form"),u.Vb(66,"div",22),u.Vb(67,"div",73),u.Vb(68,"div",74),u.Vb(69,"label",90),u.Hc(70,"Currency"),u.Ub(),u.Vb(71,"select",91),u.Vb(72,"option",44),u.Hc(73,"Choose"),u.Ub(),u.Vb(74,"option",45),u.Hc(75,"One"),u.Ub(),u.Vb(76,"option",46),u.Hc(77,"Two"),u.Ub(),u.Vb(78,"option",47),u.Hc(79,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",73),u.Vb(81,"div",74),u.Vb(82,"label",92),u.Hc(83,"Total (RM)"),u.Ub(),u.Qb(84,"input",93),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(85,"div",94),u.Vb(86,"button",35),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(87," Save "),u.Ub(),u.Vb(88,"button",95),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(89," Close "),u.Ub(),u.Ub()}}var vp=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),_p=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"320.80",name:"John",status:"active",type:"Full time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"active",type:"Part time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time"}],this.SelectionType=vp,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartAccountRecei1(),t.getChartAccountRecei2()}))},t.prototype.getChartAccountRecei1=function(){Ns(du),Ns(fu);var t=Bs("chartaccRecei1",tc);t.data=[{country:"Overdue Invoices",litres:501.9},{country:"Open Invoices",litres:301.9},{country:"Paid Invoices",litres:201.1}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartAccountRecei2=function(){Ns(du),Ns(fu);var t=Bs("chartaccRecei2",Tl);t.padding(40,40,40,40);var e=t.yAxes.push(new Vl);e.renderer.grid.template.location=0,e.dataFields.category="network",e.renderer.minGridDistance=1,e.renderer.inversed=!0,e.renderer.grid.template.disabled=!0,t.xAxes.push(new ml).min=0;var i=t.series.push(new wc);i.dataFields.categoryY="network",i.dataFields.valueX="MAU",i.tooltipText="{valueX.value}",i.columns.template.strokeOpacity=0,i.columns.template.column.cornerRadiusBottomRight=5,i.columns.template.column.cornerRadiusTopRight=5;var r=i.bullets.push(new uc);r.label.horizontalCenter="left",r.label.dx=10,r.label.text="{values.valueX.workingValue.formatNumber('#.0as')}",r.locationX=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),e.sortBySeries=i,t.data=[{network:"31-60 Days",MAU:34},{network:"61-90 Days",MAU:23},{network:"1-30 Days",MAU:20},{network:"90+ Days",MAU:14}],this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-account-receivable"]],decls:184,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-download","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-5","col-lg-3","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","text-success","mb-1"],[1,"col-sm-3","col-md-6","col-lg-3","mb-4"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartaccRecei1",1,"amchart"],["id","chartaccRecei2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-xl-3"],[1,"form-group"],["for","example-date-input",1,"form-control-label"],["type","date","placeholder","2021-01-01","id","example-date-input",1,"form-control"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","from1"],["id","from1",1,"form-control"],["for","accno"],["type","text","placeholder","eg 273634347","id","accno",1,"form-control"],["for","date2"],[1,"input-group"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["data-datepicker","","id","date2","type","text","placeholder","Choose date","required","",1,"form-control"],["for","finaldate"],["data-datepicker","","id","finaldate","type","text","placeholder","Choose date","required","",1,"form-control"],["for","invoiceno"],["type","text","placeholder","eg INV8347384","id","invoiceno",1,"form-control"],["for","brand1"],["id","brand1",1,"form-control"],["for","currency1"],["id","currency1",1,"form-control"],["for","total2"],["type","text","placeholder","eg 1726","id","total2",1,"form-control"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Account Receivable"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Payable Account"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"RM3828"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h2",18),u.Hc(30,"Overdue Cost"),u.Ub(),u.Vb(31,"h3",19),u.Hc(32,"RM2017"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",20),u.Vb(34,"div",13),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",17),u.Vb(39,"h2",18),u.Hc(40,"Percent of Overdue"),u.Ub(),u.Vb(41,"h3",19),u.Hc(42,"527"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",20),u.Vb(44,"div",13),u.Vb(45,"div",14),u.Vb(46,"div",15),u.Vb(47,"div",16),u.Vb(48,"div",17),u.Vb(49,"h2",18),u.Hc(50,"Cash on Hands"),u.Ub(),u.Vb(51,"h3",19),u.Hc(52,"RM229"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"div",21),u.Vb(54,"div",22),u.Vb(55,"div",23),u.Vb(56,"div",24),u.Vb(57,"div",25),u.Vb(58,"div",26),u.Vb(59,"div",27),u.Vb(60,"h5",28),u.Hc(61,"Invoice by Status"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",14),u.Vb(63,"div",29),u.Qb(64,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",23),u.Vb(66,"div",24),u.Vb(67,"div",25),u.Vb(68,"div",26),u.Vb(69,"div",27),u.Vb(70,"h5",28),u.Hc(71,"Account Payable Age"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(72,"div",14),u.Vb(73,"div",29),u.Qb(74,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(75,"div",32),u.Vb(76,"div",24),u.Vb(77,"div",25),u.Vb(78,"div",26),u.Vb(79,"div",33),u.Vb(80,"h5",28),u.Hc(81,"List of Account"),u.Ub(),u.Ub(),u.Vb(82,"div",34),u.Vb(83,"button",35),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(84," Export "),u.Ub(),u.Vb(85,"button",36),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(86," Upload "),u.Ub(),u.Vb(87,"button",37),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(88," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",14),u.Vb(90,"div",22),u.Vb(91,"div",38),u.Vb(92,"div",39),u.Vb(93,"label",40),u.Hc(94,"Date"),u.Ub(),u.Qb(95,"input",41),u.Ub(),u.Ub(),u.Vb(96,"div",38),u.Vb(97,"div",39),u.Vb(98,"label",42),u.Hc(99,"Shown by"),u.Ub(),u.Vb(100,"select",43),u.Vb(101,"option",44),u.Hc(102,"Choose"),u.Ub(),u.Vb(103,"option",45),u.Hc(104,"Date"),u.Ub(),u.Vb(105,"option",46),u.Hc(106,"Final Date"),u.Ub(),u.Vb(107,"option",47),u.Hc(108,"Brand"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(109,"div",38),u.Vb(110,"div",39),u.Vb(111,"label",42),u.Hc(112,"Sort by"),u.Ub(),u.Vb(113,"select",43),u.Vb(114,"option",44),u.Hc(115,"Choose"),u.Ub(),u.Vb(116,"option",45),u.Hc(117,"Type"),u.Ub(),u.Vb(118,"option",46),u.Hc(119,"Status"),u.Ub(),u.Vb(120,"option",47),u.Hc(121,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(122,"div",38),u.Vb(123,"div",39),u.Vb(124,"label",42),u.Hc(125,"Receive by"),u.Ub(),u.Vb(126,"select",43),u.Vb(127,"option",44),u.Hc(128,"Choose"),u.Ub(),u.Vb(129,"option",45),u.Hc(130,"Type"),u.Ub(),u.Vb(131,"option",46),u.Hc(132,"Status"),u.Ub(),u.Vb(133,"option",47),u.Hc(134,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(135,"div",48),u.Vb(136,"button",37),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(137," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(138,"div",32),u.Vb(139,"div",24),u.Vb(140,"div",25),u.Vb(141,"div",26),u.Vb(142,"div",27),u.Vb(143,"h5",28),u.Hc(144,"List of Account Receivable"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(145,"div",14),u.Vb(146,"div",49),u.Vb(147,"div",22),u.Vb(148,"div",50),u.Vb(149,"div",51),u.Vb(150,"label"),u.Hc(151," Show "),u.Vb(152,"select",52),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(153,"option",53),u.Hc(154,"5"),u.Ub(),u.Vb(155,"option",54),u.Hc(156,"10"),u.Ub(),u.Vb(157,"option",55),u.Hc(158,"15"),u.Ub(),u.Vb(159,"option",56),u.Hc(160,"All"),u.Ub(),u.Ub(),u.Hc(161," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(162,"div",50),u.Vb(163,"div",57),u.Vb(164,"label"),u.Vb(165,"input",58),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(166,"ngx-datatable",59),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(167,"ngx-datatable-column"),u.Fc(168,lp,2,0,"ng-template",60),u.Fc(169,cp,1,1,"ng-template",61),u.Ub(),u.Vb(170,"ngx-datatable-column"),u.Fc(171,up,2,0,"ng-template",60),u.Fc(172,hp,1,1,"ng-template",61),u.Ub(),u.Vb(173,"ngx-datatable-column"),u.Fc(174,pp,2,0,"ng-template",60),u.Fc(175,dp,1,1,"ng-template",61),u.Ub(),u.Vb(176,"ngx-datatable-column"),u.Fc(177,fp,2,0,"ng-template",60),u.Fc(178,bp,1,1,"ng-template",61),u.Ub(),u.Vb(179,"ngx-datatable-column"),u.Fc(180,mp,2,0,"ng-template",60),u.Fc(181,gp,6,0,"ng-template",61),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(182,yp,90,0,"ng-template",null,62,u.Gc)}2&t&&(u.Cb(153),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}();function xp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Type"),u.Ub())}function wp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.type," ")}function Vp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date"),u.Ub())}function Cp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function Pp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Processed by"),u.Ub())}function Up(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.status," ")}function Sp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Register"),u.Ub())}function Tp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.reg," ")}function kp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Description"),u.Ub())}function Ip(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.desc," ")}function Ap(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Amount (RM)"),u.Ub())}function Op(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function Dp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Mp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",54),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(148);return e.openModal(r)})),u.Vb(1,"span",55),u.Qb(2,"i",56),u.Ub(),u.Ub(),u.Vb(3,"button",57),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",55),u.Qb(5,"i",58),u.Ub(),u.Ub()}}function Fp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",59),u.Vb(1,"h6",60),u.Hc(2," Add Petty Cash Transaction "),u.Ub(),u.Vb(3,"button",61),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",62),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",63),u.Vb(7,"form"),u.Vb(8,"div",12),u.Vb(9,"div",64),u.Vb(10,"div",65),u.Vb(11,"label",66),u.Hc(12,"Type"),u.Ub(),u.Vb(13,"select",67),u.Vb(14,"option",35),u.Hc(15,"Choose"),u.Ub(),u.Vb(16,"option",36),u.Hc(17,"Cash In"),u.Ub(),u.Vb(18,"option",37),u.Hc(19,"Cash Out"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(20,"div",64),u.Vb(21,"div",65),u.Vb(22,"label",68),u.Hc(23,"Amount"),u.Ub(),u.Qb(24,"input",69),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"form"),u.Vb(26,"div",12),u.Vb(27,"div",64),u.Vb(28,"div",65),u.Vb(29,"label",70),u.Hc(30,"Register"),u.Ub(),u.Vb(31,"select",71),u.Vb(32,"option",35),u.Hc(33,"Choose"),u.Ub(),u.Vb(34,"option",36),u.Hc(35,"Register 1"),u.Ub(),u.Vb(36,"option",37),u.Hc(37,"Register 2"),u.Ub(),u.Vb(38,"option",38),u.Hc(39,"Register 3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(40,"div",64),u.Vb(41,"div",65),u.Vb(42,"label",72),u.Hc(43,"Description"),u.Ub(),u.Qb(44,"textarea",73),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"div",74),u.Vb(46,"button",26),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(47," Save "),u.Ub(),u.Vb(48,"button",75),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(49," Close "),u.Ub(),u.Ub()}}var Ep=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Rp=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"320.80",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Cleaning supplies"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"Owner",type:"Cash Out",reg:"Register 2",desc:"Testing"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Sara",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Staff coffee"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"Owner",type:"Cash Out",reg:"Register 2",desc:"Staff coffee"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Cleaning supplies"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"Owner",type:"Cash Out",reg:"Register 5",desc:"Testing"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Neymar",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Cleaning supplies"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"Owner",type:"Cash Out",reg:"Register 5",desc:"Staff coffee"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"Owner",type:"Cash Out",reg:"Register 3",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Cleaning supplies"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"Owner",type:"Cash Out",reg:"Register 6",desc:"Cleaning supplies"}],this.SelectionType=Ep,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartPettyCash1(),t.getChartPettyCash2()}))},t.prototype.getChartPettyCash1=function(){Ns(du),Ns(fu);var t=Bs("chartpettycash1",tc);t.data=[{country:"Cash In",litres:501.9},{country:"Cash Out",litres:301.9}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartPettyCash2=function(){Ns(du),Ns(fu);var t=Bs("chartpettycash2",Tl);t.data=[{country:"Jan",visits:2025},{country:"Feb",visits:1882},{country:"Mar",visits:1809},{country:"Apr",visits:1322},{country:"May",visits:1122},{country:"June",visits:1114},{country:"July",visits:984},{country:"Aug",visits:711},{country:"Sep",visits:665},{country:"Oct",visits:580},{country:"Nov",visits:443},{country:"Dec",visits:441}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.adapter.add("dy",(function(t,e){return 2==(e.dataItem&&2&e.dataItem.index)?t+25:t})),t.yAxes.push(new ml);var i=t.series.push(new wc);i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.name="Visits",i.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",i.columns.template.fillOpacity=.8;var r=i.columns.template;r.strokeWidth=2,r.strokeOpacity=1,this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-petty-cash"]],decls:149,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-money-bill","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartpettycash1",1,"amchart"],["id","chartpettycash2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-xl-3"],[1,"form-group"],["for","example-date-input",1,"form-control-label"],["type","date","placeholder","2021-01-01","id","example-date-input",1,"form-control"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","type3"],["id","type3",1,"form-control"],["for","amount2"],["type","number","placeholder","eg 123.34","id","amount2",1,"form-control"],["for","register2"],["id","register2",1,"form-control"],["for","textarea6"],["placeholder","Enter your message...","id","textarea6","rows","1",1,"form-control"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Cash Management"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Petty Cash"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",20),u.Qb(23,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h5",18),u.Hc(30,"Petty Cash Distribution"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"div",19),u.Vb(32,"div",20),u.Qb(33,"div",22),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",23),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",24),u.Vb(39,"h5",18),u.Hc(40,"List of Account"),u.Ub(),u.Ub(),u.Vb(41,"div",25),u.Vb(42,"button",26),u.dc("click",(function(t){u.yc(i);var r=u.wc(148);return e.openModal(r)})),u.Hc(43," Export "),u.Ub(),u.Vb(44,"button",27),u.dc("click",(function(t){u.yc(i);var r=u.wc(148);return e.openModal(r)})),u.Hc(45," Upload "),u.Ub(),u.Vb(46,"button",28),u.dc("click",(function(t){u.yc(i);var r=u.wc(148);return e.openModal(r)})),u.Hc(47," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(48,"div",19),u.Vb(49,"div",12),u.Vb(50,"div",29),u.Vb(51,"div",30),u.Vb(52,"label",31),u.Hc(53,"Date"),u.Ub(),u.Qb(54,"input",32),u.Ub(),u.Ub(),u.Vb(55,"div",29),u.Vb(56,"div",30),u.Vb(57,"label",33),u.Hc(58,"Shown by"),u.Ub(),u.Vb(59,"select",34),u.Vb(60,"option",35),u.Hc(61,"Choose"),u.Ub(),u.Vb(62,"option",36),u.Hc(63,"Date"),u.Ub(),u.Vb(64,"option",37),u.Hc(65,"Final Date"),u.Ub(),u.Vb(66,"option",38),u.Hc(67,"Brand"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",29),u.Vb(69,"div",30),u.Vb(70,"label",33),u.Hc(71,"Sort by"),u.Ub(),u.Vb(72,"select",34),u.Vb(73,"option",35),u.Hc(74,"Choose"),u.Ub(),u.Vb(75,"option",36),u.Hc(76,"Type"),u.Ub(),u.Vb(77,"option",37),u.Hc(78,"Status"),u.Ub(),u.Vb(79,"option",38),u.Hc(80,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(81,"div",29),u.Vb(82,"div",30),u.Vb(83,"label",33),u.Hc(84,"Receive by"),u.Ub(),u.Vb(85,"select",34),u.Vb(86,"option",35),u.Hc(87,"Choose"),u.Ub(),u.Vb(88,"option",36),u.Hc(89,"Type"),u.Ub(),u.Vb(90,"option",37),u.Hc(91,"Status"),u.Ub(),u.Vb(92,"option",38),u.Hc(93,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(94,"div",39),u.Vb(95,"button",28),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(96," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(97,"div",23),u.Vb(98,"div",14),u.Vb(99,"div",15),u.Vb(100,"div",16),u.Vb(101,"div",17),u.Vb(102,"h5",18),u.Hc(103,"List View of Cash Transaction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(104,"div",19),u.Vb(105,"div",40),u.Vb(106,"div",12),u.Vb(107,"div",41),u.Vb(108,"div",42),u.Vb(109,"label"),u.Hc(110," Show "),u.Vb(111,"select",43),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(112,"option",44),u.Hc(113,"5"),u.Ub(),u.Vb(114,"option",45),u.Hc(115,"10"),u.Ub(),u.Vb(116,"option",46),u.Hc(117,"15"),u.Ub(),u.Vb(118,"option",47),u.Hc(119,"All"),u.Ub(),u.Ub(),u.Hc(120," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(121,"div",41),u.Vb(122,"div",48),u.Vb(123,"label"),u.Vb(124,"input",49),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(125,"ngx-datatable",50),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(126,"ngx-datatable-column"),u.Fc(127,xp,2,0,"ng-template",51),u.Fc(128,wp,1,1,"ng-template",52),u.Ub(),u.Vb(129,"ngx-datatable-column"),u.Fc(130,Vp,2,0,"ng-template",51),u.Fc(131,Cp,1,1,"ng-template",52),u.Ub(),u.Vb(132,"ngx-datatable-column"),u.Fc(133,Pp,2,0,"ng-template",51),u.Fc(134,Up,1,1,"ng-template",52),u.Ub(),u.Vb(135,"ngx-datatable-column"),u.Fc(136,Sp,2,0,"ng-template",51),u.Fc(137,Tp,1,1,"ng-template",52),u.Ub(),u.Vb(138,"ngx-datatable-column"),u.Fc(139,kp,2,0,"ng-template",51),u.Fc(140,Ip,1,1,"ng-template",52),u.Ub(),u.Vb(141,"ngx-datatable-column"),u.Fc(142,Ap,2,0,"ng-template",51),u.Fc(143,Op,1,1,"ng-template",52),u.Ub(),u.Vb(144,"ngx-datatable-column"),u.Fc(145,Dp,2,0,"ng-template",51),u.Fc(146,Mp,6,0,"ng-template",52),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(147,Fp,50,0,"ng-template",null,53,u.Gc)}2&t&&(u.Cb(112),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}();function Lp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Payer ID"),u.Ub())}function Hp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function jp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 1 (RM)"),u.Ub())}function zp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function Bp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 2 (RM)"),u.Ub())}function Np(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.credit," ")}function Xp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Month 3 (RM)"),u.Ub())}function Wp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function Gp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Yp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",63),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(183);return e.openModal(r)})),u.Vb(1,"span",64),u.Qb(2,"i",65),u.Ub(),u.Ub(),u.Vb(3,"button",66),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",64),u.Qb(5,"i",67),u.Ub(),u.Ub()}}function qp(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",68),u.Vb(1,"h6",69),u.Hc(2," Add Account Payable "),u.Ub(),u.Vb(3,"button",70),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",71),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",72),u.Vb(7,"form"),u.Vb(8,"div",22),u.Vb(9,"div",73),u.Vb(10,"div",74),u.Vb(11,"label",75),u.Hc(12,"From"),u.Ub(),u.Vb(13,"select",76),u.Vb(14,"option",44),u.Hc(15,"Choose"),u.Ub(),u.Vb(16,"option",45),u.Hc(17,"One"),u.Ub(),u.Vb(18,"option",46),u.Hc(19,"Two"),u.Ub(),u.Vb(20,"option",47),u.Hc(21,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(22,"div",73),u.Vb(23,"div",74),u.Vb(24,"label",77),u.Hc(25,"Acc No."),u.Ub(),u.Qb(26,"input",78),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(27,"form"),u.Vb(28,"div",22),u.Vb(29,"div",73),u.Vb(30,"div",74),u.Vb(31,"label",79),u.Hc(32,"Date"),u.Ub(),u.Vb(33,"div",80),u.Vb(34,"span",81),u.Qb(35,"span",82),u.Ub(),u.Qb(36,"input",83),u.Ub(),u.Ub(),u.Ub(),u.Vb(37,"div",73),u.Vb(38,"div",74),u.Vb(39,"label",84),u.Hc(40,"Final Date"),u.Ub(),u.Vb(41,"div",80),u.Vb(42,"span",81),u.Qb(43,"span",82),u.Ub(),u.Qb(44,"input",85),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"form"),u.Vb(46,"div",22),u.Vb(47,"div",73),u.Vb(48,"div",74),u.Vb(49,"label",86),u.Hc(50,"Invoice No."),u.Ub(),u.Qb(51,"input",87),u.Ub(),u.Ub(),u.Vb(52,"div",73),u.Vb(53,"div",74),u.Vb(54,"label",88),u.Hc(55,"Brand"),u.Ub(),u.Vb(56,"select",89),u.Vb(57,"option",44),u.Hc(58,"Choose"),u.Ub(),u.Vb(59,"option",45),u.Hc(60,"One"),u.Ub(),u.Vb(61,"option",46),u.Hc(62,"Two"),u.Ub(),u.Vb(63,"option",47),u.Hc(64,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"form"),u.Vb(66,"div",22),u.Vb(67,"div",73),u.Vb(68,"div",74),u.Vb(69,"label",90),u.Hc(70,"Currency"),u.Ub(),u.Vb(71,"select",91),u.Vb(72,"option",44),u.Hc(73,"Choose"),u.Ub(),u.Vb(74,"option",45),u.Hc(75,"One"),u.Ub(),u.Vb(76,"option",46),u.Hc(77,"Two"),u.Ub(),u.Vb(78,"option",47),u.Hc(79,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",73),u.Vb(81,"div",74),u.Vb(82,"label",92),u.Hc(83,"Total (RM)"),u.Ub(),u.Qb(84,"input",93),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(85,"div",94),u.Vb(86,"button",35),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(87," Save "),u.Ub(),u.Vb(88,"button",95),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(89," Close "),u.Ub(),u.Ub()}}var Kp=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Jp=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"320.80",name:"John",status:"active",type:"Full time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"active",type:"Part time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time"}],this.SelectionType=Kp,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartAccountRecei1(),t.getChartAccountRecei2()}))},t.prototype.getChartAccountRecei1=function(){Ns(du),Ns(fu);var t=Bs("chartaccPay1",tc);t.data=[{country:"Overdue Invoices",litres:501.9},{country:"Open Invoices",litres:301.9},{country:"Paid Invoices",litres:201.1}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartAccountRecei2=function(){Ns(du),Ns(fu);var t=Bs("chartaccPay2",Tl);t.padding(40,40,40,40);var e=t.yAxes.push(new Vl);e.renderer.grid.template.location=0,e.dataFields.category="network",e.renderer.minGridDistance=1,e.renderer.inversed=!0,e.renderer.grid.template.disabled=!0,t.xAxes.push(new ml).min=0;var i=t.series.push(new wc);i.dataFields.categoryY="network",i.dataFields.valueX="MAU",i.tooltipText="{valueX.value}",i.columns.template.strokeOpacity=0,i.columns.template.column.cornerRadiusBottomRight=5,i.columns.template.column.cornerRadiusTopRight=5;var r=i.bullets.push(new uc);r.label.horizontalCenter="left",r.label.dx=10,r.label.text="{values.valueX.workingValue.formatNumber('#.0as')}",r.locationX=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),e.sortBySeries=i,t.data=[{network:"31-60 Days",MAU:34},{network:"61-90 Days",MAU:23},{network:"1-30 Days",MAU:20},{network:"90+ Days",MAU:14}],this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-account-payable"]],decls:184,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-invoice","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-5","col-lg-3","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","text-success","mb-1"],[1,"col-sm-3","col-md-6","col-lg-3","mb-4"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartaccPay1",1,"amchart"],["id","chartaccPay2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-xl-3"],[1,"form-group"],["for","example-date-input",1,"form-control-label"],["type","date","placeholder","2021-01-01","id","example-date-input",1,"form-control"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","from4"],["id","from4",1,"form-control"],["for","accno2"],["type","text","placeholder","eg 273634347","id","accno2",1,"form-control"],["for","date6"],[1,"input-group"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["data-datepicker","","id","date6","type","text","placeholder","Choose date","required","",1,"form-control"],["for","finaldate3"],["data-datepicker","","id","finaldate3","type","text","placeholder","Choose date","required","",1,"form-control"],["for","invoiceno3"],["type","text","placeholder","eg INV8347384","id","invoiceno3",1,"form-control"],["for","brand3"],["id","brand3",1,"form-control"],["for","currency3"],["id","currency3",1,"form-control"],["for","total4"],["type","text","placeholder","eg 1726","id","total4",1,"form-control"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Account Payable"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Payable Account"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"RM3828"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h2",18),u.Hc(30,"Overdue Cost"),u.Ub(),u.Vb(31,"h3",19),u.Hc(32,"RM2017"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",20),u.Vb(34,"div",13),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",17),u.Vb(39,"h2",18),u.Hc(40,"Percent of Overdue"),u.Ub(),u.Vb(41,"h3",19),u.Hc(42,"527"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",20),u.Vb(44,"div",13),u.Vb(45,"div",14),u.Vb(46,"div",15),u.Vb(47,"div",16),u.Vb(48,"div",17),u.Vb(49,"h2",18),u.Hc(50,"Cash on Hands"),u.Ub(),u.Vb(51,"h3",19),u.Hc(52,"RM229"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"div",21),u.Vb(54,"div",22),u.Vb(55,"div",23),u.Vb(56,"div",24),u.Vb(57,"div",25),u.Vb(58,"div",26),u.Vb(59,"div",27),u.Vb(60,"h5",28),u.Hc(61,"Invoice by Status"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",14),u.Vb(63,"div",29),u.Qb(64,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",23),u.Vb(66,"div",24),u.Vb(67,"div",25),u.Vb(68,"div",26),u.Vb(69,"div",27),u.Vb(70,"h5",28),u.Hc(71,"Account Payable Age"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(72,"div",14),u.Vb(73,"div",29),u.Qb(74,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(75,"div",32),u.Vb(76,"div",24),u.Vb(77,"div",25),u.Vb(78,"div",26),u.Vb(79,"div",33),u.Vb(80,"h5",28),u.Hc(81,"List of Account"),u.Ub(),u.Ub(),u.Vb(82,"div",34),u.Vb(83,"button",35),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(84," Export "),u.Ub(),u.Vb(85,"button",36),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(86," Upload "),u.Ub(),u.Vb(87,"button",37),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(88," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",14),u.Vb(90,"div",22),u.Vb(91,"div",38),u.Vb(92,"div",39),u.Vb(93,"label",40),u.Hc(94,"Date"),u.Ub(),u.Qb(95,"input",41),u.Ub(),u.Ub(),u.Vb(96,"div",38),u.Vb(97,"div",39),u.Vb(98,"label",42),u.Hc(99,"Shown by"),u.Ub(),u.Vb(100,"select",43),u.Vb(101,"option",44),u.Hc(102,"Choose"),u.Ub(),u.Vb(103,"option",45),u.Hc(104,"Date"),u.Ub(),u.Vb(105,"option",46),u.Hc(106,"Final Date"),u.Ub(),u.Vb(107,"option",47),u.Hc(108,"Brand"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(109,"div",38),u.Vb(110,"div",39),u.Vb(111,"label",42),u.Hc(112,"Sort by"),u.Ub(),u.Vb(113,"select",43),u.Vb(114,"option",44),u.Hc(115,"Choose"),u.Ub(),u.Vb(116,"option",45),u.Hc(117,"Type"),u.Ub(),u.Vb(118,"option",46),u.Hc(119,"Status"),u.Ub(),u.Vb(120,"option",47),u.Hc(121,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(122,"div",38),u.Vb(123,"div",39),u.Vb(124,"label",42),u.Hc(125,"Receive by"),u.Ub(),u.Vb(126,"select",43),u.Vb(127,"option",44),u.Hc(128,"Choose"),u.Ub(),u.Vb(129,"option",45),u.Hc(130,"Type"),u.Ub(),u.Vb(131,"option",46),u.Hc(132,"Status"),u.Ub(),u.Vb(133,"option",47),u.Hc(134,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(135,"div",48),u.Vb(136,"button",37),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(137," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(138,"div",32),u.Vb(139,"div",24),u.Vb(140,"div",25),u.Vb(141,"div",26),u.Vb(142,"div",27),u.Vb(143,"h5",28),u.Hc(144,"List of Account Payable"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(145,"div",14),u.Vb(146,"div",49),u.Vb(147,"div",22),u.Vb(148,"div",50),u.Vb(149,"div",51),u.Vb(150,"label"),u.Hc(151," Show "),u.Vb(152,"select",52),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(153,"option",53),u.Hc(154,"5"),u.Ub(),u.Vb(155,"option",54),u.Hc(156,"10"),u.Ub(),u.Vb(157,"option",55),u.Hc(158,"15"),u.Ub(),u.Vb(159,"option",56),u.Hc(160,"All"),u.Ub(),u.Ub(),u.Hc(161," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(162,"div",50),u.Vb(163,"div",57),u.Vb(164,"label"),u.Vb(165,"input",58),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(166,"ngx-datatable",59),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(167,"ngx-datatable-column"),u.Fc(168,Lp,2,0,"ng-template",60),u.Fc(169,Hp,1,1,"ng-template",61),u.Ub(),u.Vb(170,"ngx-datatable-column"),u.Fc(171,jp,2,0,"ng-template",60),u.Fc(172,zp,1,1,"ng-template",61),u.Ub(),u.Vb(173,"ngx-datatable-column"),u.Fc(174,Bp,2,0,"ng-template",60),u.Fc(175,Np,1,1,"ng-template",61),u.Ub(),u.Vb(176,"ngx-datatable-column"),u.Fc(177,Xp,2,0,"ng-template",60),u.Fc(178,Wp,1,1,"ng-template",61),u.Ub(),u.Vb(179,"ngx-datatable-column"),u.Fc(180,Gp,2,0,"ng-template",60),u.Fc(181,Yp,6,0,"ng-template",61),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(182,qp,90,0,"ng-template",null,62,u.Gc)}2&t&&(u.Cb(153),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}();function Zp(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Description"),u.Ub())}function Qp(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.desc," ")}function $p(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Code"),u.Ub())}function td(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function ed(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Purchase Date"),u.Ub())}function id(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function rd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Book Value (RM)"),u.Ub())}function nd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function ad(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Acquisition Cost (RM)"),u.Ub())}function od(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.credit," ")}function sd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Remaining Life (Years)"),u.Ub())}function ld(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function cd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function ud(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",63),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(179);return e.openModal(r)})),u.Vb(1,"span",64),u.Qb(2,"i",65),u.Ub(),u.Ub(),u.Vb(3,"button",66),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",64),u.Qb(5,"i",67),u.Ub(),u.Ub()}}function hd(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",68),u.Vb(1,"h6",69),u.Hc(2," Edit Fixed Asset "),u.Ub(),u.Vb(3,"button",70),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",71),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",72),u.Vb(7,"form"),u.Vb(8,"div",22),u.Vb(9,"div",73),u.Vb(10,"div",74),u.Vb(11,"label",75),u.Hc(12,"Code"),u.Ub(),u.Qb(13,"input",76),u.Ub(),u.Ub(),u.Vb(14,"div",73),u.Vb(15,"div",74),u.Vb(16,"label",77),u.Hc(17,"Value"),u.Ub(),u.Qb(18,"input",78),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",22),u.Vb(21,"div",79),u.Vb(22,"div",74),u.Vb(23,"label",80),u.Hc(24,"Department"),u.Ub(),u.Vb(25,"select",81),u.Vb(26,"option",44),u.Hc(27,"Choose"),u.Ub(),u.Vb(28,"option",45),u.Hc(29,"Register 1"),u.Ub(),u.Vb(30,"option",46),u.Hc(31,"Register 2"),u.Ub(),u.Vb(32,"option",47),u.Hc(33,"Register 3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",79),u.Vb(35,"div",74),u.Vb(36,"label",82),u.Hc(37,"Period"),u.Ub(),u.Qb(38,"input",83),u.Ub(),u.Ub(),u.Vb(39,"div",79),u.Vb(40,"div",74),u.Vb(41,"label",84),u.Hc(42,"Day/Month/Year"),u.Ub(),u.Vb(43,"select",85),u.Vb(44,"option",44),u.Hc(45,"Choose"),u.Ub(),u.Vb(46,"option",45),u.Hc(47,"Day"),u.Ub(),u.Vb(48,"option",46),u.Hc(49,"Year"),u.Ub(),u.Vb(50,"option",47),u.Hc(51,"Month"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"form"),u.Vb(53,"div",22),u.Vb(54,"div",86),u.Vb(55,"div",74),u.Vb(56,"label",87),u.Hc(57,"Description"),u.Ub(),u.Qb(58,"textarea",88),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(59,"div",89),u.Vb(60,"button",35),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(61," Save "),u.Ub(),u.Vb(62,"button",90),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(63," Close "),u.Ub(),u.Ub()}}var pd=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),dd=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"5",start:"2011/04/25",salary:"320.80",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"3",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Cleaning supplies"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"4",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"Owner",type:"Cash Out",reg:"Register 2",desc:"Testing"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"5",start:"2012/03/29",salary:"$433,060",name:"Sara",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Staff coffee"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"9",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"Owner",type:"Cash Out",reg:"Register 2",desc:"Staff coffee"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"14",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Cleaning supplies"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"8",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"4",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"Owner",type:"Cash Out",reg:"Register 5",desc:"Testing"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"5",start:"2012/03/29",salary:"$433,060",name:"Neymar",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Cleaning supplies"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"3",start:"2008/11/28",salary:"$162,700",name:"John",status:"Owner",type:"Cash Out",reg:"Register 5",desc:"Staff coffee"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"9",start:"2011/04/25",salary:"$320,800",name:"John",status:"Owner",type:"Cash Out",reg:"Register 3",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"42",start:"2009/01/12",salary:"$86,000",name:"John",status:"Owner",type:"Cash Out",reg:"Register 4",desc:"Cleaning supplies"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"2",start:"2012/03/29",salary:"$433,060",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"9",start:"2008/11/28",salary:"$162,700",name:"John",status:"Owner",type:"Cash Out",reg:"Register 1",desc:"Testing"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"42",start:"2009/01/12",salary:"$385,750",name:"John",status:"Owner",type:"Cash Out",reg:"Register 6",desc:"Cleaning supplies"}],this.SelectionType=pd,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartFixedAsset1(),t.getChartFixedAsset2()}))},t.prototype.getChartFixedAsset1=function(){Ns(du),Ns(fu);var t=Bs("chartfixedasset1",Tl);t.scrollbarX=new as,t.data=[{country:"Check-out",visits:3025},{country:"Check-in",visits:1882},{country:"Pending",visits:1809},{country:"Maintenance",visits:1322}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartFixedAsset2=function(){Ns(du),Ns(fu);var t=Bs("chartfixedasset2",tc);t.hiddenState.properties.opacity=0,t.data=[{country:"Lithuania",value:401},{country:"Czech Republic",value:300},{country:"Ireland",value:200},{country:"Germany",value:165},{country:"Australia",value:139},{country:"Austria",value:128}],t.radius=ue(70),t.innerRadius=ue(40),t.startAngle=180,t.endAngle=360;var e=t.series.push(new Ql);e.dataFields.value="value",e.dataFields.category="country",e.slices.template.cornerRadius=10,e.slices.template.innerCornerRadius=7,e.slices.template.draggable=!0,e.slices.template.inert=!0,e.alignLabels=!1,e.hiddenState.properties.startAngle=90,e.hiddenState.properties.endAngle=90,t.legend=new Js,this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-fixed-asset"]],decls:180,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-screwdriver","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1","text-success"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartfixedasset1",1,"amchart"],["id","chartfixedasset2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-xl-3"],[1,"form-group"],["for","example-date-input",1,"form-control-label"],["type","date","placeholder","2021-01-01","id","example-date-input",1,"form-control"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","code"],["type","text","placeholder","eg HGY8283","id","code",1,"form-control"],["for","value1"],["type","text","placeholder","eg 372.89","id","value1",1,"form-control"],[1,"col-4"],["for","department2"],["id","department2",1,"form-control"],["for","period1"],["type","text","placeholder","eg 6","id","period1",1,"form-control"],["for","period2"],["id","period2",1,"form-control"],[1,"col-12"],["for","textarea4"],["placeholder","Enter your message...","id","textarea4","rows","2",1,"form-control"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Fixed Asset"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Assets Overdue"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"10"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h2",18),u.Hc(30,"Assets Due Soon"),u.Ub(),u.Vb(31,"h3",19),u.Hc(32,"7"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",20),u.Vb(34,"div",13),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",17),u.Vb(39,"h2",18),u.Hc(40,"Insurance Expiring"),u.Ub(),u.Vb(41,"h3",19),u.Hc(42,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",21),u.Vb(44,"div",22),u.Vb(45,"div",23),u.Vb(46,"div",24),u.Vb(47,"div",25),u.Vb(48,"div",26),u.Vb(49,"div",27),u.Vb(50,"h5",28),u.Hc(51,"Asset Status"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",14),u.Vb(53,"div",29),u.Qb(54,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(55,"div",23),u.Vb(56,"div",24),u.Vb(57,"div",25),u.Vb(58,"div",26),u.Vb(59,"div",27),u.Vb(60,"h5",28),u.Hc(61,"Asset Condition"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",14),u.Vb(63,"div",29),u.Qb(64,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",32),u.Vb(66,"div",24),u.Vb(67,"div",25),u.Vb(68,"div",26),u.Vb(69,"div",33),u.Vb(70,"h5",28),u.Hc(71,"List of Account"),u.Ub(),u.Ub(),u.Vb(72,"div",34),u.Vb(73,"button",35),u.dc("click",(function(t){u.yc(i);var r=u.wc(179);return e.openModal(r)})),u.Hc(74," Export "),u.Ub(),u.Vb(75,"button",36),u.dc("click",(function(t){u.yc(i);var r=u.wc(179);return e.openModal(r)})),u.Hc(76," Upload "),u.Ub(),u.Vb(77,"button",37),u.dc("click",(function(t){u.yc(i);var r=u.wc(179);return e.openModal(r)})),u.Hc(78," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(79,"div",14),u.Vb(80,"div",22),u.Vb(81,"div",38),u.Vb(82,"div",39),u.Vb(83,"label",40),u.Hc(84,"Date"),u.Ub(),u.Qb(85,"input",41),u.Ub(),u.Ub(),u.Vb(86,"div",38),u.Vb(87,"div",39),u.Vb(88,"label",42),u.Hc(89,"Shown by"),u.Ub(),u.Vb(90,"select",43),u.Vb(91,"option",44),u.Hc(92,"Choose"),u.Ub(),u.Vb(93,"option",45),u.Hc(94,"Date"),u.Ub(),u.Vb(95,"option",46),u.Hc(96,"Final Date"),u.Ub(),u.Vb(97,"option",47),u.Hc(98,"Brand"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(99,"div",38),u.Vb(100,"div",39),u.Vb(101,"label",42),u.Hc(102,"Sort by"),u.Ub(),u.Vb(103,"select",43),u.Vb(104,"option",44),u.Hc(105,"Choose"),u.Ub(),u.Vb(106,"option",45),u.Hc(107,"Type"),u.Ub(),u.Vb(108,"option",46),u.Hc(109,"Status"),u.Ub(),u.Vb(110,"option",47),u.Hc(111,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(112,"div",38),u.Vb(113,"div",39),u.Vb(114,"label",42),u.Hc(115,"Receive by"),u.Ub(),u.Vb(116,"select",43),u.Vb(117,"option",44),u.Hc(118,"Choose"),u.Ub(),u.Vb(119,"option",45),u.Hc(120,"Type"),u.Ub(),u.Vb(121,"option",46),u.Hc(122,"Status"),u.Ub(),u.Vb(123,"option",47),u.Hc(124,"Name"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(125,"div",48),u.Vb(126,"button",37),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(127," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(128,"div",32),u.Vb(129,"div",24),u.Vb(130,"div",25),u.Vb(131,"div",26),u.Vb(132,"div",27),u.Vb(133,"h5",28),u.Hc(134,"List of Fixed Assets"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(135,"div",14),u.Vb(136,"div",49),u.Vb(137,"div",22),u.Vb(138,"div",50),u.Vb(139,"div",51),u.Vb(140,"label"),u.Hc(141," Show "),u.Vb(142,"select",52),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(143,"option",53),u.Hc(144,"5"),u.Ub(),u.Vb(145,"option",54),u.Hc(146,"10"),u.Ub(),u.Vb(147,"option",55),u.Hc(148,"15"),u.Ub(),u.Vb(149,"option",56),u.Hc(150,"All"),u.Ub(),u.Ub(),u.Hc(151," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(152,"div",50),u.Vb(153,"div",57),u.Vb(154,"label"),u.Vb(155,"input",58),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(156,"ngx-datatable",59),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(157,"ngx-datatable-column"),u.Fc(158,Zp,2,0,"ng-template",60),u.Fc(159,Qp,1,1,"ng-template",61),u.Ub(),u.Vb(160,"ngx-datatable-column"),u.Fc(161,$p,2,0,"ng-template",60),u.Fc(162,td,1,1,"ng-template",61),u.Ub(),u.Vb(163,"ngx-datatable-column"),u.Fc(164,ed,2,0,"ng-template",60),u.Fc(165,id,1,1,"ng-template",61),u.Ub(),u.Vb(166,"ngx-datatable-column"),u.Fc(167,rd,2,0,"ng-template",60),u.Fc(168,nd,1,1,"ng-template",61),u.Ub(),u.Vb(169,"ngx-datatable-column"),u.Fc(170,ad,2,0,"ng-template",60),u.Fc(171,od,1,1,"ng-template",61),u.Ub(),u.Vb(172,"ngx-datatable-column"),u.Fc(173,sd,2,0,"ng-template",60),u.Fc(174,ld,1,1,"ng-template",61),u.Ub(),u.Vb(175,"ngx-datatable-column"),u.Fc(176,cd,2,0,"ng-template",60),u.Fc(177,ud,6,0,"ng-template",61),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(178,hd,64,0,"ng-template",null,62,u.Gc)}2&t&&(u.Cb(143),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}();function fd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Vendor ID"),u.Ub())}function bd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function md(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Company Name"),u.Ub())}function gd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.reg," ")}function yd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Category"),u.Ub())}function vd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function _d(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Scale"),u.Ub())}function xd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.scale," ")}function wd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Experience (Years)"),u.Ub())}function Vd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.status," ")}function Cd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Pd(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",70),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(204);return e.openModal(r)})),u.Vb(1,"span",71),u.Qb(2,"i",72),u.Ub(),u.Ub(),u.Vb(3,"button",73),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",71),u.Qb(5,"i",74),u.Ub(),u.Ub()}}function Ud(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",75),u.Vb(1,"h6",76),u.Hc(2," Edit Vendor "),u.Ub(),u.Vb(3,"button",77),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",78),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",79),u.Vb(7,"form"),u.Vb(8,"div",26),u.Vb(9,"div",80),u.Vb(10,"div",81),u.Vb(11,"label",82),u.Hc(12,"Vendor ID"),u.Ub(),u.Qb(13,"input",83),u.Ub(),u.Ub(),u.Vb(14,"div",80),u.Vb(15,"div",81),u.Vb(16,"label",84),u.Hc(17,"Company Name"),u.Ub(),u.Qb(18,"input",85),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",26),u.Vb(21,"div",80),u.Vb(22,"div",81),u.Vb(23,"label",86),u.Hc(24,"Category"),u.Ub(),u.Vb(25,"select",87),u.Vb(26,"option",48),u.Hc(27,"Choose"),u.Ub(),u.Vb(28,"option",49),u.Hc(29,"1"),u.Ub(),u.Vb(30,"option",50),u.Hc(31,"2"),u.Ub(),u.Vb(32,"option",51),u.Hc(33,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",80),u.Vb(35,"div",81),u.Vb(36,"label",88),u.Hc(37,"Scale"),u.Ub(),u.Vb(38,"select",89),u.Vb(39,"option",48),u.Hc(40,"Choose"),u.Ub(),u.Vb(41,"option",49),u.Hc(42,"1"),u.Ub(),u.Vb(43,"option",50),u.Hc(44,"2"),u.Ub(),u.Vb(45,"option",51),u.Hc(46,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(47,"form"),u.Vb(48,"div",26),u.Vb(49,"div",80),u.Vb(50,"div",81),u.Vb(51,"label",90),u.Hc(52,"Experience"),u.Ub(),u.Qb(53,"input",91),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(54,"div",92),u.Vb(55,"button",93),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(56," Save "),u.Ub(),u.Vb(57,"button",94),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(58," Close "),u.Ub(),u.Ub()}}function Sd(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",75),u.Vb(1,"h6",76),u.Hc(2," Add New Vendor "),u.Ub(),u.Vb(3,"button",77),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",78),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",79),u.Vb(7,"form"),u.Vb(8,"div",26),u.Vb(9,"div",80),u.Vb(10,"div",81),u.Vb(11,"label",82),u.Hc(12,"Vendor ID"),u.Ub(),u.Qb(13,"input",83),u.Ub(),u.Ub(),u.Vb(14,"div",80),u.Vb(15,"div",81),u.Vb(16,"label",84),u.Hc(17,"Company Name"),u.Ub(),u.Qb(18,"input",85),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",26),u.Vb(21,"div",80),u.Vb(22,"div",81),u.Vb(23,"label",86),u.Hc(24,"Category"),u.Ub(),u.Vb(25,"select",87),u.Vb(26,"option",48),u.Hc(27,"Choose"),u.Ub(),u.Vb(28,"option",49),u.Hc(29,"1"),u.Ub(),u.Vb(30,"option",50),u.Hc(31,"2"),u.Ub(),u.Vb(32,"option",51),u.Hc(33,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",80),u.Vb(35,"div",81),u.Vb(36,"label",88),u.Hc(37,"Scale"),u.Ub(),u.Vb(38,"select",89),u.Vb(39,"option",48),u.Hc(40,"Choose"),u.Ub(),u.Vb(41,"option",49),u.Hc(42,"1"),u.Ub(),u.Vb(43,"option",50),u.Hc(44,"2"),u.Ub(),u.Vb(45,"option",51),u.Hc(46,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(47,"form"),u.Vb(48,"div",26),u.Vb(49,"div",80),u.Vb(50,"div",81),u.Vb(51,"label",90),u.Hc(52,"Experience"),u.Ub(),u.Qb(53,"input",91),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(54,"div",92),u.Vb(55,"button",93),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(56," Save "),u.Ub(),u.Vb(57,"button",94),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(58," Close "),u.Ub(),u.Ub()}}var Td=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),kd=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"1111",start:"2011/04/25",category:"1",name:"John",status:"12",type:"Cash Out",reg:"Company 1",desc:"Testing",scale:"Big"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"1112",start:"2011/07/25",category:"2",name:"Ahmad",status:"4",type:"Cash Out",reg:"Company 1",desc:"Cleaning supplies",scale:"Small"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"1113",start:"2009/01/12",category:"3",name:"Trish",status:"6",type:"Cash Out",reg:"Company 2",desc:"Testing",scale:"Big"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"1114",start:"2012/03/29",category:"4",name:"Sara",status:"9",type:"Cash Out",reg:"Company 4",desc:"Staff coffee",scale:"Big"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"1115",start:"2008/11/28",category:"5",name:"Malek",status:"3",type:"Cash Out",reg:"Company 2",desc:"Staff coffee",scale:"Medium"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"1116",start:"2011/07/25",category:"6",name:"Cheng Hong",status:"14",type:"Cash Out",reg:"Company 1",desc:"Cleaning supplies",scale:"Medium"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"1117",start:"2008/11/28",category:"7",name:"Arumugam",status:"23",type:"Cash Out",reg:"Company 1",desc:"Testing",scale:"Small"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"1118",start:"2009/01/12",category:"8",name:"Ronaldo",status:"9",type:"Cash Out",reg:"Company 5",desc:"Testing",scale:"Small"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"1119",start:"2012/03/29",category:"9",name:"Neymar",status:"3",type:"Cash Out",reg:"Company 4",desc:"Cleaning supplies",scale:"Big"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"1121",start:"2008/11/28",category:"10",name:"John",status:"4",type:"Cash Out",reg:"Company 5",desc:"Staff coffee",scale:"Medium"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"1122",start:"2011/04/25",category:"1",name:"John",status:"11",type:"Cash Out",reg:"Company 3",desc:"Testing",scale:"Big"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"1123",start:"2009/01/12",category:"2",name:"John",status:"6",type:"Cash Out",reg:"Company 4",desc:"Cleaning supplies",scale:"Medium"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"1124",start:"2012/03/29",category:"3",name:"John",status:"3",type:"Cash Out",reg:"Company 1",desc:"Testing",scale:"Small"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"1125",start:"2008/11/28",category:"4",name:"John",status:"19",type:"Cash Out",reg:"Company 1",desc:"Testing",scale:"Big"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"1126",start:"2009/01/12",category:"5",name:"John",status:"12",type:"Cash Out",reg:"Company 6",desc:"Cleaning supplies",scale:"Medium"}],this.SelectionType=Td,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-procurement-vendor-list"]],decls:207,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1","text-success"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"h3","mb-1","text-danger"],[1,"h3","mb-1","text-primary"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"table-responsive"],[1,"table","table-centered","table-nowrap","mb-0","rounded"],[1,"thead-light"],[1,"progress",2,"height","20px"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","95%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","55%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-secondary",2,"width","76%"],[1,"text-dark"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-gray",2,"width","64%"],[1,"col-md-6"],[1,"col-xl-6"],[1,"form-group"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-md-6","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["addNew",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","vendorid"],["type","text","placeholder","eg 23","id","vendorid",1,"form-control"],["for","companyname2"],["type","text","placeholder","eg Maju","id","companyname2",1,"form-control"],["for","category3"],["id","category3",1,"form-control"],["for","scale3"],["id","scale3",1,"form-control"],["for","experience"],["type","text","placeholder","eg 7 years","id","experience",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Vendor List"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Vendor List "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h2",20),u.Hc(25,"Contracted"),u.Ub(),u.Vb(26,"h3",21),u.Hc(27,"64%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"div",22),u.Vb(29,"div",15),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h2",20),u.Hc(35,"Unlisted"),u.Ub(),u.Vb(36,"h3",23),u.Hc(37,"45%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(38,"div",22),u.Vb(39,"div",15),u.Vb(40,"div",16),u.Vb(41,"div",17),u.Vb(42,"div",18),u.Vb(43,"div",19),u.Vb(44,"h2",20),u.Hc(45,"Vendors"),u.Ub(),u.Vb(46,"h3",24),u.Hc(47,"81%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(48,"div",25),u.Vb(49,"div",26),u.Vb(50,"div",27),u.Vb(51,"div",28),u.Vb(52,"div",29),u.Vb(53,"div",30),u.Vb(54,"div",31),u.Vb(55,"h5",32),u.Hc(56," Rate of Contract Compliance by Vendors Category "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(57,"div",16),u.Vb(58,"div",33),u.Vb(59,"table",34),u.Vb(60,"thead",35),u.Vb(61,"tr"),u.Vb(62,"th"),u.Hc(63,"CATEGORY & TOP VENDORS"),u.Ub(),u.Vb(64,"th"),u.Hc(65,"# VENDORS"),u.Ub(),u.Vb(66,"th"),u.Hc(67,"SHARE OF MANAGED VENDORS BY CATEGORY"),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"tbody"),u.Vb(69,"tr"),u.Vb(70,"td"),u.Hc(71,"Category 6"),u.Ub(),u.Vb(72,"td"),u.Hc(73,"28"),u.Ub(),u.Vb(74,"td"),u.Vb(75,"div",36),u.Vb(76,"div",37),u.Hc(77," 25% "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(78,"tr"),u.Vb(79,"td"),u.Hc(80,"Category 6"),u.Ub(),u.Vb(81,"td"),u.Hc(82,"28"),u.Ub(),u.Vb(83,"td"),u.Vb(84,"div",36),u.Vb(85,"div",38),u.Hc(86," 95% "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(87,"tr"),u.Vb(88,"td"),u.Hc(89,"Category 6"),u.Ub(),u.Vb(90,"td"),u.Hc(91,"28"),u.Ub(),u.Vb(92,"td"),u.Vb(93,"div",36),u.Vb(94,"div",39),u.Hc(95," 55% "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(96,"tr"),u.Vb(97,"td"),u.Hc(98,"Category 6"),u.Ub(),u.Vb(99,"td"),u.Hc(100,"28"),u.Ub(),u.Vb(101,"td"),u.Vb(102,"div",36),u.Vb(103,"div",40),u.Vb(104,"div",41),u.Hc(105,"76%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(106,"tr"),u.Vb(107,"td"),u.Hc(108,"Category 6"),u.Ub(),u.Vb(109,"td"),u.Hc(110,"28"),u.Ub(),u.Vb(111,"td"),u.Vb(112,"div",36),u.Vb(113,"div",42),u.Hc(114," 64% "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(115,"div",27),u.Vb(116,"div",28),u.Vb(117,"div",29),u.Vb(118,"div",30),u.Vb(119,"div",43),u.Vb(120,"h5",32),u.Hc(121,"Search Vendor"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(122,"div",16),u.Vb(123,"div",26),u.Vb(124,"div",44),u.Vb(125,"div",45),u.Vb(126,"label",46),u.Hc(127,"Category"),u.Ub(),u.Vb(128,"select",47),u.Vb(129,"option",48),u.Hc(130,"Choose"),u.Ub(),u.Vb(131,"option",49),u.Hc(132,"1"),u.Ub(),u.Vb(133,"option",50),u.Hc(134,"2"),u.Ub(),u.Vb(135,"option",51),u.Hc(136,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(137,"div",44),u.Vb(138,"div",45),u.Vb(139,"label",46),u.Hc(140,"Scale"),u.Ub(),u.Vb(141,"select",47),u.Vb(142,"option",48),u.Hc(143,"Choose"),u.Ub(),u.Vb(144,"option",49),u.Hc(145,"Big"),u.Ub(),u.Vb(146,"option",50),u.Hc(147,"Medium"),u.Ub(),u.Vb(148,"option",51),u.Hc(149,"Small"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(150,"div",52),u.Vb(151,"button",53),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(152," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(153,"div",27),u.Vb(154,"div",28),u.Vb(155,"div",29),u.Vb(156,"div",30),u.Vb(157,"div",43),u.Vb(158,"h5",32),u.Hc(159,"List of Vendor"),u.Ub(),u.Ub(),u.Vb(160,"div",54),u.Vb(161,"button",53),u.dc("click",(function(t){u.yc(i);var r=u.wc(206);return e.openModal(r)})),u.Hc(162," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(163,"div",16),u.Vb(164,"div",55),u.Vb(165,"div",26),u.Vb(166,"div",56),u.Vb(167,"div",57),u.Vb(168,"label"),u.Hc(169," Show "),u.Vb(170,"select",58),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(171,"option",59),u.Hc(172,"5"),u.Ub(),u.Vb(173,"option",60),u.Hc(174,"10"),u.Ub(),u.Vb(175,"option",61),u.Hc(176,"15"),u.Ub(),u.Vb(177,"option",62),u.Hc(178,"All"),u.Ub(),u.Ub(),u.Hc(179," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(180,"div",56),u.Vb(181,"div",63),u.Vb(182,"label"),u.Vb(183,"input",64),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(184,"ngx-datatable",65),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(185,"ngx-datatable-column"),u.Fc(186,fd,2,0,"ng-template",66),u.Fc(187,bd,1,1,"ng-template",67),u.Ub(),u.Vb(188,"ngx-datatable-column"),u.Fc(189,md,2,0,"ng-template",66),u.Fc(190,gd,1,1,"ng-template",67),u.Ub(),u.Vb(191,"ngx-datatable-column"),u.Fc(192,yd,2,0,"ng-template",66),u.Fc(193,vd,1,1,"ng-template",67),u.Ub(),u.Vb(194,"ngx-datatable-column"),u.Fc(195,_d,2,0,"ng-template",66),u.Fc(196,xd,1,1,"ng-template",67),u.Ub(),u.Vb(197,"ngx-datatable-column"),u.Fc(198,wd,2,0,"ng-template",66),u.Fc(199,Vd,1,1,"ng-template",67),u.Ub(),u.Vb(200,"ngx-datatable-column"),u.Fc(201,Cd,2,0,"ng-template",66),u.Fc(202,Pd,6,0,"ng-template",67),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(203,Ud,59,0,"ng-template",null,68,u.Gc),u.Fc(205,Sd,59,0,"ng-template",null,69,u.Gc)}2&t&&(u.Cb(171),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}();function Id(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Proccurement ID"),u.Ub())}function Ad(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function Od(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Title"),u.Ub())}function Dd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.title," ")}function Md(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date"),u.Ub())}function Fd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function Ed(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function Rd(t,e){1&t&&(u.Vb(0,"span",63),u.Hc(1,"Approved"),u.Ub())}function Ld(t,e){1&t&&(u.Vb(0,"span",64),u.Hc(1,"Rejected"),u.Ub())}function Hd(t,e){if(1&t&&(u.Fc(0,Rd,2,0,"span",61),u.Fc(1,Ld,2,0,"span",62)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}function jd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function zd(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",65),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(148);return e.openModal(r)})),u.Vb(1,"span",66),u.Qb(2,"i",67),u.Ub(),u.Ub(),u.Vb(3,"button",68),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",66),u.Qb(5,"i",69),u.Ub(),u.Ub()}}function Bd(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",70),u.Vb(1,"h6",71),u.Hc(2," Add Procurement "),u.Ub(),u.Vb(3,"button",72),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",73),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",74),u.Vb(7,"form"),u.Vb(8,"div",27),u.Vb(9,"div",75),u.Vb(10,"div",76),u.Vb(11,"label",77),u.Hc(12,"Procurement ID"),u.Ub(),u.Qb(13,"input",78),u.Ub(),u.Ub(),u.Vb(14,"div",75),u.Vb(15,"div",76),u.Vb(16,"label",79),u.Hc(17,"Title"),u.Ub(),u.Qb(18,"input",80),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",27),u.Vb(21,"div",75),u.Vb(22,"div",76),u.Vb(23,"label",81),u.Hc(24,"Data 1"),u.Ub(),u.Vb(25,"div",82),u.Qb(26,"input",83),u.Vb(27,"label",84),u.Vb(28,"span",85),u.Hc(29,"Choose file..."),u.Ub(),u.Vb(30,"span",86),u.Hc(31,"Browse"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(32,"div",75),u.Vb(33,"div",76),u.Vb(34,"label",87),u.Hc(35,"Data 2"),u.Ub(),u.Vb(36,"div",82),u.Qb(37,"input",88),u.Vb(38,"label",89),u.Vb(39,"span",85),u.Hc(40,"Choose file..."),u.Ub(),u.Vb(41,"span",86),u.Hc(42,"Browse"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"form"),u.Vb(44,"div",27),u.Vb(45,"div",75),u.Vb(46,"div",76),u.Vb(47,"label",90),u.Hc(48,"Data 3"),u.Ub(),u.Vb(49,"div",82),u.Qb(50,"input",91),u.Vb(51,"label",92),u.Vb(52,"span",85),u.Hc(53,"Choose file..."),u.Ub(),u.Vb(54,"span",86),u.Hc(55,"Browse"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",75),u.Vb(57,"div",76),u.Vb(58,"label",93),u.Hc(59,"Data 4"),u.Ub(),u.Vb(60,"div",82),u.Qb(61,"input",94),u.Vb(62,"label",95),u.Vb(63,"span",85),u.Hc(64,"Choose file..."),u.Ub(),u.Vb(65,"span",86),u.Hc(66,"Browse"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"form"),u.Vb(68,"div",27),u.Vb(69,"div",96),u.Vb(70,"div",76),u.Vb(71,"label",97),u.Hc(72,"Data 5"),u.Ub(),u.Vb(73,"div",82),u.Qb(74,"input",98),u.Vb(75,"label",99),u.Vb(76,"span",85),u.Hc(77,"Choose file..."),u.Ub(),u.Vb(78,"span",86),u.Hc(79,"Browse"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"p"),u.Hc(81,"Procurement Process"),u.Ub(),u.Vb(82,"form"),u.Vb(83,"div",27),u.Vb(84,"div",75),u.Vb(85,"div",76),u.Vb(86,"fieldset"),u.Vb(87,"label"),u.Hc(88,"Status"),u.Ub(),u.Vb(89,"div",100),u.Qb(90,"input",101),u.Vb(91,"label",102),u.Hc(92," Approved "),u.Ub(),u.Ub(),u.Vb(93,"div",100),u.Qb(94,"input",103),u.Vb(95,"label",104),u.Hc(96," Rejected "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(97,"div",75),u.Vb(98,"div",76),u.Vb(99,"label",105),u.Hc(100,"Note"),u.Ub(),u.Qb(101,"textarea",106),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(102,"div",107),u.Vb(103,"button",108),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(104," Save "),u.Ub(),u.Vb(105,"button",109),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(106," Close "),u.Ub(),u.Ub()}}var Nd=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Xd=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time",title:"Otter, north american river"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"active",type:"Full time",title:"Asian false vampire bat"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time",title:"Pelican, australian"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time",title:"Spotted-tailed quoll"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"active",type:"Part time",title:"Blue-cheeked cordon"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time",title:"Blue-cheeked cordon"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon"}],this.SelectionType=Nd,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartAnalysis1()}))},t.prototype.getChartAnalysis1=function(){Ns(du),Ns(fu);var t=Bs("chartanalysis1",Tl);t.data=[{date:"2019-07-27",value:13},{date:"2019-07-28",value:11},{date:"2019-07-29",value:15},{date:"2019-07-30",value:16},{date:"2019-07-31",value:18},{date:"2019-08-01",value:13},{date:"2019-08-02",value:22},{date:"2019-08-03",value:23},{date:"2019-08-04",value:20},{date:"2019-08-05",value:17},{date:"2019-08-06",value:16},{date:"2019-08-07",value:18},{date:"2019-08-08",value:21},{date:"2019-08-09",value:26},{date:"2019-08-10",value:24},{date:"2019-08-11",value:29},{date:"2019-08-12",value:32},{date:"2019-08-13",value:18},{date:"2019-08-14",value:24},{date:"2019-08-15",value:22},{date:"2019-08-16",value:18},{date:"2019-08-17",value:19},{date:"2019-08-18",value:14},{date:"2019-08-19",value:15},{date:"2019-08-20",value:12},{date:"2019-08-21",value:8},{date:"2019-08-22",value:9},{date:"2019-08-23",value:8},{date:"2019-08-24",value:7},{date:"2019-08-25",value:5},{date:"2019-08-26",value:11},{date:"2019-08-27",value:13},{date:"2019-08-28",value:18},{date:"2019-08-29",value:20},{date:"2019-08-30",value:29},{date:"2019-08-31",value:33},{date:"2019-09-01",value:42},{date:"2019-09-02",value:35},{date:"2019-09-03",value:31},{date:"2019-09-04",value:47},{date:"2019-09-05",value:52},{date:"2019-09-06",value:46},{date:"2019-09-07",value:41},{date:"2019-09-08",value:43},{date:"2019-09-09",value:40},{date:"2019-09-10",value:39},{date:"2019-09-11",value:34},{date:"2019-09-12",value:29},{date:"2019-09-13",value:34},{date:"2019-09-14",value:37},{date:"2019-09-15",value:42},{date:"2019-09-16",value:49},{date:"2019-09-17",value:46},{date:"2019-09-18",value:47},{date:"2019-09-19",value:55},{date:"2019-09-20",value:59},{date:"2019-09-21",value:58},{date:"2019-09-22",value:57},{date:"2019-09-23",value:61},{date:"2019-09-24",value:59},{date:"2019-09-25",value:67},{date:"2019-09-26",value:65},{date:"2019-09-27",value:61},{date:"2019-09-28",value:66},{date:"2019-09-29",value:69},{date:"2019-09-30",value:71},{date:"2019-10-01",value:67},{date:"2019-10-02",value:63},{date:"2019-10-03",value:46},{date:"2019-10-04",value:32},{date:"2019-10-05",value:21},{date:"2019-10-06",value:18},{date:"2019-10-07",value:21},{date:"2019-10-08",value:28},{date:"2019-10-09",value:27},{date:"2019-10-10",value:36},{date:"2019-10-11",value:33},{date:"2019-10-12",value:31},{date:"2019-10-13",value:30},{date:"2019-10-14",value:34},{date:"2019-10-15",value:38},{date:"2019-10-16",value:37},{date:"2019-10-17",value:44},{date:"2019-10-18",value:49},{date:"2019-10-19",value:53},{date:"2019-10-20",value:57},{date:"2019-10-21",value:60},{date:"2019-10-22",value:61},{date:"2019-10-23",value:69},{date:"2019-10-24",value:67},{date:"2019-10-25",value:72},{date:"2019-10-26",value:77},{date:"2019-10-27",value:75},{date:"2019-10-28",value:70},{date:"2019-10-29",value:72},{date:"2019-10-30",value:70},{date:"2019-10-31",value:72},{date:"2019-11-01",value:73},{date:"2019-11-02",value:67},{date:"2019-11-03",value:68},{date:"2019-11-04",value:65},{date:"2019-11-05",value:71},{date:"2019-11-06",value:75},{date:"2019-11-07",value:74},{date:"2019-11-08",value:71},{date:"2019-11-09",value:76},{date:"2019-11-10",value:77},{date:"2019-11-11",value:81},{date:"2019-11-12",value:83},{date:"2019-11-13",value:80},{date:"2019-11-14",value:81},{date:"2019-11-15",value:87},{date:"2019-11-16",value:82},{date:"2019-11-17",value:86},{date:"2019-11-18",value:80},{date:"2019-11-19",value:87},{date:"2019-11-20",value:83},{date:"2019-11-21",value:85},{date:"2019-11-22",value:84},{date:"2019-11-23",value:82},{date:"2019-11-24",value:73},{date:"2019-11-25",value:71},{date:"2019-11-26",value:75},{date:"2019-11-27",value:79},{date:"2019-11-28",value:70},{date:"2019-11-29",value:73},{date:"2019-11-30",value:61},{date:"2019-12-01",value:62},{date:"2019-12-02",value:66},{date:"2019-12-03",value:65},{date:"2019-12-04",value:73},{date:"2019-12-05",value:79},{date:"2019-12-06",value:78},{date:"2019-12-07",value:78},{date:"2019-12-08",value:78},{date:"2019-12-09",value:74},{date:"2019-12-10",value:73},{date:"2019-12-11",value:75},{date:"2019-12-12",value:70},{date:"2019-12-13",value:77},{date:"2019-12-14",value:67},{date:"2019-12-15",value:62},{date:"2019-12-16",value:64},{date:"2019-12-17",value:61},{date:"2019-12-18",value:59},{date:"2019-12-19",value:53},{date:"2019-12-20",value:54},{date:"2019-12-21",value:56},{date:"2019-12-22",value:59},{date:"2019-12-23",value:58},{date:"2019-12-24",value:55},{date:"2019-12-25",value:52},{date:"2019-12-26",value:54},{date:"2019-12-27",value:50},{date:"2019-12-28",value:50},{date:"2019-12-29",value:51},{date:"2019-12-30",value:52},{date:"2019-12-31",value:58},{date:"2020-01-01",value:60},{date:"2020-01-02",value:67},{date:"2020-01-03",value:64},{date:"2020-01-04",value:66},{date:"2020-01-05",value:60},{date:"2020-01-06",value:63},{date:"2020-01-07",value:61},{date:"2020-01-08",value:60},{date:"2020-01-09",value:65},{date:"2020-01-10",value:75},{date:"2020-01-11",value:77},{date:"2020-01-12",value:78},{date:"2020-01-13",value:70},{date:"2020-01-14",value:70},{date:"2020-01-15",value:73},{date:"2020-01-16",value:71},{date:"2020-01-17",value:74},{date:"2020-01-18",value:78},{date:"2020-01-19",value:85},{date:"2020-01-20",value:82},{date:"2020-01-21",value:83},{date:"2020-01-22",value:88},{date:"2020-01-23",value:85},{date:"2020-01-24",value:85},{date:"2020-01-25",value:80},{date:"2020-01-26",value:87},{date:"2020-01-27",value:84},{date:"2020-01-28",value:83},{date:"2020-01-29",value:84},{date:"2020-01-30",value:81}],t.dateFormatter.inputDateFormat="yyyy-MM-dd";var e=t.xAxes.push(new vl),i=(t.yAxes.push(new ml),t.series.push(new Dl));i.dataFields.valueY="value",i.dataFields.dateX="date",i.tooltipText="{value}",i.strokeWidth=2,i.minBulletDistance=15,i.tooltip.background.cornerRadius=20,i.tooltip.background.strokeOpacity=0,i.tooltip.pointerOrientation="vertical",i.tooltip.label.minWidth=40,i.tooltip.label.minHeight=40,i.tooltip.label.textAlign="middle",i.tooltip.label.textValign="middle";var r=i.bullets.push(new ou);r.circle.strokeWidth=2,r.circle.radius=4,r.circle.fill=Rr("#fff"),r.states.create("hover").properties.scale=1.3,t.cursor=new hu,t.cursor.behavior="panXY",t.cursor.xAxis=e,t.cursor.snapToSeries=i,t.scrollbarY=new as,t.scrollbarY.parent=t.leftAxesContainer,t.scrollbarY.toBack();var n=new Ul;n.series.push(i),t.scrollbarX=n,t.scrollbarX.parent=t.bottomAxesContainer,e.start=.79,e.keepSelection=!0,this.chart1=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-procurement-analysis"]],decls:149,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1"],[1,"small","mt-2"],[1,"fas","fa-angle-up","text-success"],[1,"text-success","font-weight-bold"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartanalysis1",1,"amchart"],[1,"col-md-6"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"form-group"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-warning"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","procurementid"],["type","text","placeholder","eg RB-CS-240","id","procurementid",1,"form-control"],["for","title2"],["type","text","placeholder","eg Otter","id","title2",1,"form-control"],["for","data1"],[1,"form-file","mb-3"],["type","file","id","customFile1",1,"form-file-input"],["for","customFile1",1,"form-file-label"],[1,"form-file-text"],[1,"form-file-button"],["for","data2"],["type","file","id","customFile2",1,"form-file-input"],["for","customFile2",1,"form-file-label"],["for","data3"],["type","file","id","customFile3",1,"form-file-input"],["for","customFile3",1,"form-file-label"],["for","data4"],["type","file","id","customFile4",1,"form-file-input"],["for","customFile4",1,"form-file-label"],[1,"col-12"],["for","data5"],["type","file","id","customFile5",1,"form-file-input"],["for","customFile5",1,"form-file-label"],[1,"form-check"],["type","radio","name","exampleRadios","id","exampleRadios1","value","option1","checked","",1,"form-check-input"],["for","exampleRadios1",1,"form-check-label"],["type","radio","name","exampleRadios","id","exampleRadios2","value","option2",1,"form-check-input"],["for","exampleRadios2",1,"form-check-label"],["for","textarea5"],["placeholder","Enter your message...","id","textarea5","rows","2",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Analysis"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Analysis "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h2",20),u.Hc(25,"Total of Procurement"),u.Ub(),u.Vb(26,"h3",21),u.Hc(27,"RM1276.09"),u.Ub(),u.Ub(),u.Vb(28,"div",22),u.Qb(29,"span",23),u.Vb(30,"span",24),u.Hc(31,"41.2%"),u.Ub(),u.Hc(32," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",25),u.Vb(34,"div",15),u.Vb(35,"div",16),u.Vb(36,"div",17),u.Vb(37,"div",18),u.Vb(38,"div",19),u.Vb(39,"h2",20),u.Hc(40,"Approved Procurement"),u.Ub(),u.Vb(41,"h3",21),u.Hc(42,"RM987.23"),u.Ub(),u.Ub(),u.Vb(43,"div",22),u.Qb(44,"span",23),u.Vb(45,"span",24),u.Hc(46,"41.1%"),u.Ub(),u.Hc(47," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(48,"div",25),u.Vb(49,"div",15),u.Vb(50,"div",16),u.Vb(51,"div",17),u.Vb(52,"div",18),u.Vb(53,"div",19),u.Vb(54,"h2",20),u.Hc(55,"Rejected Procurement"),u.Ub(),u.Vb(56,"h3",21),u.Hc(57,"RM182.98"),u.Ub(),u.Ub(),u.Vb(58,"div",22),u.Qb(59,"span",23),u.Vb(60,"span",24),u.Hc(61,"11.11%"),u.Ub(),u.Hc(62," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(63,"div",26),u.Vb(64,"div",27),u.Vb(65,"div",28),u.Vb(66,"div",29),u.Vb(67,"div",30),u.Vb(68,"div",31),u.Vb(69,"div",32),u.Vb(70,"h5",33),u.Hc(71,"Procurement Amount Distribution"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(72,"div",16),u.Vb(73,"div",34),u.Qb(74,"div",35),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(75,"div",28),u.Vb(76,"div",29),u.Vb(77,"div",30),u.Vb(78,"div",31),u.Vb(79,"div",36),u.Vb(80,"h5",33),u.Hc(81,"List of Budgetary Reports"),u.Ub(),u.Ub(),u.Vb(82,"div",37),u.Vb(83,"button",38),u.dc("click",(function(t){u.yc(i);var r=u.wc(148);return e.openModal(r)})),u.Hc(84," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(85,"div",16),u.Vb(86,"div",27),u.Vb(87,"div",28),u.Vb(88,"div",39),u.Vb(89,"label",40),u.Hc(90,"Search Procurement"),u.Ub(),u.Vb(91,"select",41),u.Vb(92,"option",42),u.Hc(93,"Choose"),u.Ub(),u.Vb(94,"option",43),u.Hc(95,"One"),u.Ub(),u.Vb(96,"option",44),u.Hc(97,"Two"),u.Ub(),u.Vb(98,"option",45),u.Hc(99,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(100,"div",46),u.Vb(101,"button",38),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(102," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(103,"div",28),u.Vb(104,"div",29),u.Vb(105,"div",30),u.Vb(106,"div",31),u.Vb(107,"div",32),u.Vb(108,"h5",33),u.Hc(109,"List of Fixed Assets"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(110,"div",16),u.Vb(111,"div",47),u.Vb(112,"div",27),u.Vb(113,"div",48),u.Vb(114,"div",49),u.Vb(115,"label"),u.Hc(116," Show "),u.Vb(117,"select",50),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(118,"option",51),u.Hc(119,"5"),u.Ub(),u.Vb(120,"option",52),u.Hc(121,"10"),u.Ub(),u.Vb(122,"option",53),u.Hc(123,"15"),u.Ub(),u.Vb(124,"option",54),u.Hc(125,"All"),u.Ub(),u.Ub(),u.Hc(126," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(127,"div",48),u.Vb(128,"div",55),u.Vb(129,"label"),u.Vb(130,"input",56),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(131,"ngx-datatable",57),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(132,"ngx-datatable-column"),u.Fc(133,Id,2,0,"ng-template",58),u.Fc(134,Ad,1,1,"ng-template",59),u.Ub(),u.Vb(135,"ngx-datatable-column"),u.Fc(136,Od,2,0,"ng-template",58),u.Fc(137,Dd,1,1,"ng-template",59),u.Ub(),u.Vb(138,"ngx-datatable-column"),u.Fc(139,Md,2,0,"ng-template",58),u.Fc(140,Fd,1,1,"ng-template",59),u.Ub(),u.Vb(141,"ngx-datatable-column"),u.Fc(142,Ed,2,0,"ng-template",58),u.Fc(143,Hd,2,2,"ng-template",59),u.Ub(),u.Vb(144,"ngx-datatable-column"),u.Fc(145,jd,2,0,"ng-template",58),u.Fc(146,zd,6,0,"ng-template",59),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(147,Bd,107,0,"ng-template",null,60,u.Gc)}2&t&&(u.Cb(118),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o],styles:[""]}),t}();function Wd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Category"),u.Ub())}function Gd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function Yd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Year"),u.Ub())}function qd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.year," ")}function Kd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Quarter"),u.Ub())}function Jd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function Zd(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date of Reports"),u.Ub())}function Qd(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function $d(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function tf(t,e){1&t&&(u.Vb(0,"span",54),u.Hc(1,"Approved"),u.Ub())}function ef(t,e){1&t&&(u.Vb(0,"span",55),u.Hc(1,"Rejected"),u.Ub())}function rf(t,e){if(1&t&&(u.Fc(0,tf,2,0,"span",52),u.Fc(1,ef,2,0,"span",53)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}function nf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Total (RM)"),u.Ub())}function af(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function of(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function sf(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",56),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(159);return e.openModal(r)})),u.Vb(1,"span",57),u.Qb(2,"i",58),u.Ub(),u.Ub(),u.Vb(3,"button",59),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",57),u.Qb(5,"i",60),u.Ub(),u.Ub()}}function lf(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",61),u.Vb(1,"h6",62),u.Hc(2," Add Sales Report "),u.Ub(),u.Vb(3,"button",63),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",64),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",65),u.Vb(7,"form"),u.Vb(8,"div",12),u.Vb(9,"div",66),u.Vb(10,"div",67),u.Vb(11,"label",68),u.Hc(12,"Company Name"),u.Ub(),u.Qb(13,"input",69),u.Ub(),u.Ub(),u.Vb(14,"div",66),u.Vb(15,"div",67),u.Vb(16,"label",70),u.Hc(17,"Category"),u.Ub(),u.Vb(18,"select",71),u.Vb(19,"option",31),u.Hc(20,"Choose"),u.Ub(),u.Vb(21,"option",32),u.Hc(22,"Small"),u.Ub(),u.Vb(23,"option",33),u.Hc(24,"Big"),u.Ub(),u.Vb(25,"option",34),u.Hc(26,"Medium"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(27,"form"),u.Vb(28,"div",12),u.Vb(29,"div",72),u.Vb(30,"div",67),u.Vb(31,"label",73),u.Hc(32,"Year"),u.Ub(),u.Vb(33,"select",74),u.Vb(34,"option",31),u.Hc(35,"Choose"),u.Ub(),u.Vb(36,"option",32),u.Hc(37,"1"),u.Ub(),u.Vb(38,"option",33),u.Hc(39,"2"),u.Ub(),u.Vb(40,"option",34),u.Hc(41,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(42,"div",72),u.Vb(43,"div",67),u.Vb(44,"label",75),u.Hc(45,"Quarter"),u.Ub(),u.Vb(46,"select",76),u.Vb(47,"option",31),u.Hc(48,"Choose"),u.Ub(),u.Vb(49,"option",32),u.Hc(50,"1"),u.Ub(),u.Vb(51,"option",33),u.Hc(52,"2"),u.Ub(),u.Vb(53,"option",34),u.Hc(54,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(55,"div",72),u.Vb(56,"div",67),u.Vb(57,"fieldset"),u.Vb(58,"label"),u.Hc(59,"Status"),u.Ub(),u.Vb(60,"div",77),u.Qb(61,"input",78),u.Vb(62,"label",79),u.Hc(63," Approved "),u.Ub(),u.Ub(),u.Vb(64,"div",77),u.Qb(65,"input",80),u.Vb(66,"label",81),u.Hc(67," Rejected "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"form"),u.Vb(69,"div",12),u.Vb(70,"div",66),u.Vb(71,"div",67),u.Vb(72,"label",82),u.Hc(73,"Person in Charge"),u.Ub(),u.Qb(74,"input",83),u.Ub(),u.Ub(),u.Vb(75,"div",66),u.Vb(76,"div",67),u.Vb(77,"label",84),u.Hc(78,"Date of Report"),u.Ub(),u.Vb(79,"div",85),u.Vb(80,"span",86),u.Qb(81,"span",87),u.Ub(),u.Qb(82,"input",88),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(83,"form"),u.Vb(84,"div",12),u.Vb(85,"div",89),u.Vb(86,"div",67),u.Vb(87,"label",90),u.Hc(88,"Remarks by Report Creator"),u.Ub(),u.Qb(89,"textarea",91),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"div",92),u.Vb(91,"button",93),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("downloaded")})),u.Hc(92," Download Report "),u.Ub(),u.Vb(93,"button",94),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(94," Close "),u.Ub(),u.Ub()}}var cf=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),uf=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2011"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time",title:"Otter, north american river",category:"2",year:"2011"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"active",type:"Full time",title:"Asian false vampire bat",category:"3",year:"2009"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time",title:"Pelican, australian",category:"3",year:"2019"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time",title:"Spotted-tailed quoll",category:"1",year:"2008"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2011"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2008"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"active",type:"Part time",title:"Blue-cheeked cordon",category:"3",year:"2009"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time",title:"Blue-cheeked cordon",category:"1",year:"2019"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2008"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2011"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2009"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2019"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"3",year:"2008"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2009"}],this.SelectionType=cf,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartSalesDistribution1(),t.getChartSalesDistribution2(),t.getChartSalesDistribution3(),t.getChartSalesDistribution4()}))},t.prototype.getChartSalesDistribution1=function(){Ns(bh),Ns(fu);var t=Bs("chartsales1",Tl);t.scrollbarX=new as,t.data=[{country:"Jan",visits:3025},{country:"Feb",visits:1882},{country:"Mar",visits:1809},{country:"Apr",visits:1322},{country:"May",visits:1122},{country:"June",visits:1114},{country:"July",visits:984},{country:"Aug",visits:711},{country:"Sep",visits:665},{country:"Oct",visits:580},{country:"Nov",visits:443},{country:"Dec",visits:441}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartSalesDistribution2=function(){Ns(bh),Ns(fu);var t=Bs("chartsales2",rc);t.hiddenState.properties.opacity=0,t.data=[{country:"Online",litres:501.9},{country:"Reseller",litres:301.9},{country:"Special Order",litres:201.1},{country:"Order",litres:165.8}],t.innerRadius=80;var e=t.series.push(new ic);e.dataFields.value="litres",e.dataFields.category="country",this.chart2=t},t.prototype.getChartSalesDistribution3=function(){Ns(bh),Ns(fu);var t=Bs("chartsales3",Tl);t.padding(40,40,40,40);var e=t.yAxes.push(new Vl);e.renderer.grid.template.location=0,e.dataFields.category="network",e.renderer.minGridDistance=1,e.renderer.inversed=!0,e.renderer.grid.template.disabled=!0,t.xAxes.push(new ml).min=0;var i=t.series.push(new wc);i.dataFields.categoryY="network",i.dataFields.valueX="MAU",i.tooltipText="{valueX.value}",i.columns.template.strokeOpacity=0,i.columns.template.column.cornerRadiusBottomRight=5,i.columns.template.column.cornerRadiusTopRight=5;var r=i.bullets.push(new uc);r.label.horizontalCenter="left",r.label.dx=10,r.label.text="{values.valueX.workingValue.formatNumber('#.0as')}",r.locationX=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),e.sortBySeries=i,t.data=[{network:"Johor",MAU:6255},{network:"Kedah",MAU:4300},{network:"Kelantan",MAU:7e3},{network:"Melaka",MAU:2465},{network:"N.Sembilan",MAU:3550},{network:"Pahang",MAU:8500},{network:"P.Pinang",MAU:4240},{network:"Perak",MAU:9295},{network:"Perlis",MAU:8600},{network:"Sabah",MAU:5310},{network:"Sarawak",MAU:1433},{network:"Selangor",MAU:1900}],this.chart3=t},t.prototype.getChartSalesDistribution4=function(){Ns(bh),Ns(fu);var t=Bs("chartsales4",Tl);t.padding(40,40,40,40);var e=t.yAxes.push(new Vl);e.renderer.grid.template.location=0,e.dataFields.category="network",e.renderer.minGridDistance=1,e.renderer.inversed=!0,e.renderer.grid.template.disabled=!0,t.xAxes.push(new ml).min=0;var i=t.series.push(new wc);i.dataFields.categoryY="network",i.dataFields.valueX="MAU",i.tooltipText="{valueX.value}",i.columns.template.strokeOpacity=0,i.columns.template.column.cornerRadiusBottomRight=5,i.columns.template.column.cornerRadiusTopRight=5;var r=i.bullets.push(new uc);r.label.horizontalCenter="left",r.label.dx=10,r.label.text="{values.valueX.workingValue.formatNumber('#.0as')}",r.locationX=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),e.sortBySeries=i,t.data=[{network:"1",MAU:9465},{network:"2",MAU:7465},{network:"3",MAU:5675},{network:"4",MAU:3223}],this.chart4=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-sales-distribution"]],decls:160,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-chart-line","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartsales1",1,"amchart"],["id","chartsales2",1,"amchart"],["id","chartsales3",1,"amchart"],["id","chartsales4",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"col-xl-4"],[1,"form-group"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-md-6","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-warning"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","companyname3"],["type","text","placeholder","eg MAJU","id","companyname3",1,"form-control"],["for","category5"],["id","category5",1,"form-control"],[1,"col-4"],["for","year2"],["id","year2",1,"form-control"],["for","quarter2"],["id","quarter2",1,"form-control"],[1,"form-check"],["type","radio","name","exampleRadios","id","exampleRadios1","value","option1","checked","",1,"form-check-input"],["for","exampleRadios1",1,"form-check-label"],["type","radio","name","exampleRadios","id","exampleRadios2","value","option2",1,"form-check-input"],["for","exampleRadios2",1,"form-check-label"],["for","pic1"],["type","text","placeholder","eg Mrs Ilya","id","pic1",1,"form-control"],["for","dateofreport"],[1,"input-group"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["data-datepicker","","id","dateofreport","type","text","placeholder","Choose date","required","",1,"form-control"],[1,"col-12"],["for","textarea6"],["placeholder","Enter your message...","id","textarea6","rows","2",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Sales & Service Taxes "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Sales Per Month"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",20),u.Qb(23,"div",21),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h5",18),u.Hc(30,"Sales Per Sale Channel"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"div",19),u.Vb(32,"div",20),u.Qb(33,"div",22),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",13),u.Vb(35,"div",14),u.Vb(36,"div",15),u.Vb(37,"div",16),u.Vb(38,"div",17),u.Vb(39,"h5",18),u.Hc(40,"Sales Per State"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(41,"div",19),u.Vb(42,"div",20),u.Qb(43,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(44,"div",13),u.Vb(45,"div",14),u.Vb(46,"div",15),u.Vb(47,"div",16),u.Vb(48,"div",17),u.Vb(49,"h5",18),u.Hc(50,"Sales Per Product Category"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(51,"div",19),u.Vb(52,"div",20),u.Qb(53,"div",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(54,"div",25),u.Vb(55,"div",14),u.Vb(56,"div",15),u.Vb(57,"div",16),u.Vb(58,"div",26),u.Vb(59,"h5",18),u.Hc(60,"Search Sales Report"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div",19),u.Vb(62,"div",12),u.Vb(63,"div",27),u.Vb(64,"div",28),u.Vb(65,"label",29),u.Hc(66,"Category"),u.Ub(),u.Vb(67,"select",30),u.Vb(68,"option",31),u.Hc(69,"Choose"),u.Ub(),u.Vb(70,"option",32),u.Hc(71,"One"),u.Ub(),u.Vb(72,"option",33),u.Hc(73,"Two"),u.Ub(),u.Vb(74,"option",34),u.Hc(75,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(76,"div",27),u.Vb(77,"div",28),u.Vb(78,"label",29),u.Hc(79,"Year"),u.Ub(),u.Vb(80,"select",30),u.Vb(81,"option",31),u.Hc(82,"Choose"),u.Ub(),u.Vb(83,"option",32),u.Hc(84,"One"),u.Ub(),u.Vb(85,"option",33),u.Hc(86,"Two"),u.Ub(),u.Vb(87,"option",34),u.Hc(88,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",27),u.Vb(90,"div",28),u.Vb(91,"label",29),u.Hc(92,"Quarter"),u.Ub(),u.Vb(93,"select",30),u.Vb(94,"option",31),u.Hc(95,"Choose"),u.Ub(),u.Vb(96,"option",32),u.Hc(97,"One"),u.Ub(),u.Vb(98,"option",33),u.Hc(99,"Two"),u.Ub(),u.Vb(100,"option",34),u.Hc(101,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(102,"div",35),u.Vb(103,"button",36),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(104," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(105,"div",25),u.Vb(106,"div",14),u.Vb(107,"div",15),u.Vb(108,"div",16),u.Vb(109,"div",26),u.Vb(110,"h5",18),u.Hc(111,"Sales Report"),u.Ub(),u.Ub(),u.Vb(112,"div",37),u.Vb(113,"button",36),u.dc("click",(function(t){u.yc(i);var r=u.wc(159);return e.openModal(r)})),u.Hc(114," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(115,"div",19),u.Vb(116,"div",38),u.Vb(117,"div",12),u.Vb(118,"div",39),u.Vb(119,"div",40),u.Vb(120,"label"),u.Hc(121," Show "),u.Vb(122,"select",41),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(123,"option",42),u.Hc(124,"5"),u.Ub(),u.Vb(125,"option",43),u.Hc(126,"10"),u.Ub(),u.Vb(127,"option",44),u.Hc(128,"15"),u.Ub(),u.Vb(129,"option",45),u.Hc(130,"All"),u.Ub(),u.Ub(),u.Hc(131," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(132,"div",39),u.Vb(133,"div",46),u.Vb(134,"label"),u.Vb(135,"input",47),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(136,"ngx-datatable",48),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(137,"ngx-datatable-column"),u.Fc(138,Wd,2,0,"ng-template",49),u.Fc(139,Gd,1,1,"ng-template",50),u.Ub(),u.Vb(140,"ngx-datatable-column"),u.Fc(141,Yd,2,0,"ng-template",49),u.Fc(142,qd,1,1,"ng-template",50),u.Ub(),u.Vb(143,"ngx-datatable-column"),u.Fc(144,Kd,2,0,"ng-template",49),u.Fc(145,Jd,1,1,"ng-template",50),u.Ub(),u.Vb(146,"ngx-datatable-column"),u.Fc(147,Zd,2,0,"ng-template",49),u.Fc(148,Qd,1,1,"ng-template",50),u.Ub(),u.Vb(149,"ngx-datatable-column"),u.Fc(150,$d,2,0,"ng-template",49),u.Fc(151,rf,2,2,"ng-template",50),u.Ub(),u.Vb(152,"ngx-datatable-column"),u.Fc(153,nf,2,0,"ng-template",49),u.Fc(154,af,1,1,"ng-template",50),u.Ub(),u.Vb(155,"ngx-datatable-column"),u.Fc(156,of,2,0,"ng-template",49),u.Fc(157,sf,6,0,"ng-template",50),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(158,lf,95,0,"ng-template",null,51,u.Gc)}2&t&&(u.Cb(123),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o],styles:[""]}),t}(),hf=function(){function t(t,e){this.mockService=t,this.zone=e,this.bsDPConfig={isAnimated:!0,containerClass:"theme-default"},this.dataChart=[],this.dataChart2=[],this.dataChart3=[],this.getData()}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose()),t.chart5&&(console.log("Chart disposed"),t.chart5.dispose())}))},t.prototype.getData=function(){var t=this;this.mockService.getAll("admin-report/report-data-1.json").subscribe((function(e){t.dataChart=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-2.json").subscribe((function(e){t.dataChart2=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-3.json").subscribe((function(e){t.dataChart3=e}),(function(){}),(function(){t.getCharts()}))}))}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartProductionPlanningExecution1(),t.getChartProductionPlanningExecution2(),t.getChartProductionPlanningExecution3(),t.getChartProductionPlanningExecution4(),t.getChartProductionPlanningExecution5()}))},t.prototype.getChartProductionPlanningExecution1=function(){Ns(bh),Ns(fu);var t=Bs("chartproplanexe1",Oc);t.data=[{country:"Machine A",visits:45},{country:"Machine B",visits:88},{country:"Machine C",visits:76}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.labels.template.rotation=270,e.renderer.labels.template.hideOversized=!1,e.renderer.minGridDistance=20,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.tooltip.label.rotation=270,e.tooltip.label.horizontalCenter="right",e.tooltip.label.verticalCenter="middle";var i=t.yAxes.push(new ml);i.title.text="Countries",i.title.fontWeight="bold";var r=t.series.push(new Ac);r.dataFields.valueY="visits",r.dataFields.categoryX="country",r.name="Visits",r.tooltipText="{categoryX}: [bold]{valueY}[/]",r.columns.template.fillOpacity=.8;var n=r.columns.template;n.strokeWidth=2,n.strokeOpacity=1,n.stroke=Rr("#FFFFFF"),n.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),n.adapter.add("stroke",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,t.cursor.lineX.strokeOpacity=0,t.cursor.lineY.strokeOpacity=0,this.chart1=t},t.prototype.getChartProductionPlanningExecution2=function(){Ns(bh),Ns(fu);var t=Bs("chartproplanexe2",Oc);t.data=[{country:"Machine A",visits:46},{country:"Machine B",visits:57},{country:"Machine C",visits:68}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.labels.template.rotation=270,e.renderer.labels.template.hideOversized=!1,e.renderer.minGridDistance=20,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.tooltip.label.rotation=270,e.tooltip.label.horizontalCenter="right",e.tooltip.label.verticalCenter="middle";var i=t.yAxes.push(new ml);i.title.text="Countries",i.title.fontWeight="bold";var r=t.series.push(new Ac);r.dataFields.valueY="visits",r.dataFields.categoryX="country",r.name="Visits",r.tooltipText="{categoryX}: [bold]{valueY}[/]",r.columns.template.fillOpacity=.8;var n=r.columns.template;n.strokeWidth=2,n.strokeOpacity=1,n.stroke=Rr("#FFFFFF"),n.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),n.adapter.add("stroke",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,t.cursor.lineX.strokeOpacity=0,t.cursor.lineY.strokeOpacity=0,this.chart2=t},t.prototype.getChartProductionPlanningExecution3=function(){Ns(bh),Ns(fu);var t=Bs("chartproplanexe3",Oc);t.data=[{country:"Jan",year2017:3.5,year2018:4.2},{country:"Feb",year2017:1.7,year2018:3.1},{country:"Mar",year2017:2.8,year2018:2.9},{country:"Apr",year2017:2.6,year2018:2.3},{country:"May",year2017:1.4,year2018:2.1},{country:"June",year2017:2.6,year2018:4.9},{country:"July",year2017:6.4,year2018:7.2},{country:"Aug",year2017:8,year2018:7.1},{country:"Sep",year2017:9.9,year2018:10.1},{country:"Oct",year2017:3.4,year2018:4.2},{country:"Nov",year2017:8,year2018:6.2},{country:"Dec",year2017:4.2,year2018:5.8}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30;var i=t.yAxes.push(new ml);i.title.text="GDP growth rate",i.renderer.labels.template.adapter.add("text",(function(t){return t+"%"}));var r=t.series.push(new Ac);r.dataFields.valueY="year2017",r.dataFields.categoryX="country",r.name="Year 2017",r.clustered=!1,r.columns.template.tooltipText="Planned in {country} : [bold]{valueY}[/]",r.columns.template.fillOpacity=.9;var n=t.series.push(new Ac);n.dataFields.valueY="year2018",n.dataFields.categoryX="country",n.name="Year 2018",n.clustered=!1,n.columns.template.tooltipText="Actual in {country} : [bold]{valueY}[/]",this.chart3=t},t.prototype.getChartProductionPlanningExecution4=function(){var t=Bs("chartproplanexe4",Tl);t.paddingRight=20,t.data=this.dataChart,t.dateFormatter.inputDateFormat="yyyy";var e=t.xAxes.push(new vl);e.renderer.minGridDistance=50,e.baseInterval={timeUnit:"year",count:2},t.yAxes.push(new ml).tooltip.disabled=!0;var i=t.series.push(new Bc);i.dataFields.dateX="year",i.dataFields.valueY="amount",i.tooltipText="{valueY.amount}",i.strokeWidth=3,t.cursor=new hu,t.cursor.xAxis=e,t.cursor.fullWidthLineX=!0,t.cursor.lineX.strokeWidth=0,t.cursor.lineX.fill=t.colors.getIndex(2),t.cursor.lineX.fillOpacity=.1,t.scrollbarX=new as,this.chart4=t},t.prototype.getChartProductionPlanningExecution5=function(){var t=Bs("chartproplanexe5",Tl);t.hiddenState.properties.opacity=0;for(var e=[],i=100,r=250,n=1;n<120;n++)i+=Math.round((Math.random()<.5?1:-1)*Math.random()*4),r=Math.round(i+5*Math.random()+n/5-(Math.random()<.5?1:-1)*Math.random()*2),e.push({date:new Date(2018,0,n),open:i,close:r});t.data=e;var a=t.xAxes.push(new vl);t.yAxes.push(new ml).tooltip.disabled=!0;var o=t.series.push(new Dl);o.dataFields.dateX="date",o.dataFields.openValueY="open",o.dataFields.valueY="close",o.tooltipText="open: {openValueY.value} close: {valueY.value}",o.sequencedInterpolation=!0,o.fillOpacity=.3,o.defaultState.transitionDuration=1e3,o.tensionX=.8;var s=t.series.push(new Dl);s.dataFields.dateX="date",s.dataFields.valueY="open",s.sequencedInterpolation=!0,s.defaultState.transitionDuration=1500,s.stroke=t.colors.getIndex(6),s.tensionX=.8,t.cursor=new hu,t.cursor.xAxis=a,t.scrollbarX=new as,this.chart5=t},t.\u0275fac=function(e){return new(e||t)(u.Pb(mu),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-production-planning-execution"]],decls:144,vars:1,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-edit","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1"],[1,"small","mt-2"],[1,"fas","fa-angle-down","text-danger"],[1,"text-danger","font-weight-bold"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"fas","fa-angle-up","text-success"],[1,"text-success","font-weight-bold"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartproplanexe1",1,"amchart"],["id","chartproplanexe2",1,"amchart"],[1,"col-xl-12"],["id","chartproplanexe3",1,"amchart"],[1,"m-0"],[1,"col-md-6"],[1,"form-group"],[1,"form-control-label"],[1,"form-control","custom-select"],["hidden","","selected",""],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["type","text","bsDaterangepicker","","placeholder","Date range","name","bsDaterangepicker",1,"form-control",3,"bsConfig"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-default"],["id","chartproplanexe4",1,"amchart"],["id","chartproplanexe5",1,"amchart"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Product, Planning & Execution "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Unit YTD"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"235,467"),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Qb(24,"span",21),u.Vb(25,"span",22),u.Hc(26,"-5.1%"),u.Ub(),u.Hc(27," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"div",23),u.Vb(29,"div",13),u.Vb(30,"div",14),u.Vb(31,"div",15),u.Vb(32,"div",16),u.Vb(33,"div",17),u.Vb(34,"h2",18),u.Hc(35,"Units Lost"),u.Ub(),u.Vb(36,"h3",19),u.Hc(37,"380"),u.Ub(),u.Ub(),u.Vb(38,"div",20),u.Qb(39,"span",24),u.Vb(40,"span",25),u.Hc(41,"1%"),u.Ub(),u.Hc(42," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",23),u.Vb(44,"div",13),u.Vb(45,"div",14),u.Vb(46,"div",15),u.Vb(47,"div",16),u.Vb(48,"div",17),u.Vb(49,"h2",18),u.Hc(50,"Productivity"),u.Ub(),u.Vb(51,"h3",19),u.Hc(52,"80.15%"),u.Ub(),u.Ub(),u.Vb(53,"div",20),u.Qb(54,"span",24),u.Vb(55,"span",25),u.Hc(56,"4%"),u.Ub(),u.Hc(57," Since last month "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"div",26),u.Vb(59,"div",27),u.Vb(60,"div",28),u.Vb(61,"div",29),u.Vb(62,"div",30),u.Vb(63,"div",31),u.Vb(64,"div",32),u.Vb(65,"h5",33),u.Hc(66,"Production Rate: Machine"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div",14),u.Vb(68,"div",34),u.Qb(69,"div",35),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(70,"div",28),u.Vb(71,"div",29),u.Vb(72,"div",30),u.Vb(73,"div",31),u.Vb(74,"div",32),u.Vb(75,"h5",33),u.Hc(76,"Overall Productivity: YTD"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(77,"div",14),u.Vb(78,"div",34),u.Qb(79,"div",36),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",37),u.Vb(81,"div",29),u.Vb(82,"div",30),u.Vb(83,"div",31),u.Vb(84,"div",32),u.Vb(85,"h5",33),u.Hc(86,"Planned vs Actual"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(87,"div",14),u.Vb(88,"div",34),u.Qb(89,"div",38),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"div",37),u.Vb(91,"div",29),u.Vb(92,"div",30),u.Vb(93,"h3",39),u.Hc(94,"Reporting Tool"),u.Ub(),u.Ub(),u.Vb(95,"div",14),u.Vb(96,"div",27),u.Vb(97,"div",40),u.Vb(98,"div",41),u.Vb(99,"label",42),u.Hc(100,"Report type"),u.Ub(),u.Vb(101,"select",43),u.Vb(102,"option",44),u.Hc(103,"Please pick"),u.Ub(),u.Vb(104,"option"),u.Hc(105,"Report 1"),u.Ub(),u.Vb(106,"option"),u.Hc(107,"Report 2"),u.Ub(),u.Vb(108,"option"),u.Hc(109,"Report 3"),u.Ub(),u.Vb(110,"option"),u.Hc(111,"Report 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(112,"div",40),u.Vb(113,"div",41),u.Vb(114,"label",42),u.Hc(115,"Date range"),u.Ub(),u.Vb(116,"div",45),u.Vb(117,"div",46),u.Vb(118,"span",47),u.Qb(119,"i",48),u.Ub(),u.Ub(),u.Qb(120,"input",49),u.Ub(),u.Ub(),u.Ub(),u.Vb(121,"div",50),u.Vb(122,"button",51),u.Hc(123,"Search"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(124,"div",28),u.Vb(125,"div",29),u.Vb(126,"div",30),u.Vb(127,"div",31),u.Vb(128,"div",32),u.Vb(129,"h5",33),u.Hc(130,"Report 1"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(131,"div",14),u.Vb(132,"div",34),u.Qb(133,"div",52),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(134,"div",28),u.Vb(135,"div",29),u.Vb(136,"div",30),u.Vb(137,"div",31),u.Vb(138,"div",32),u.Vb(139,"h5",33),u.Hc(140,"Report 2"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(141,"div",14),u.Vb(142,"div",34),u.Qb(143,"div",53),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(120),u.nc("bsConfig",e.bsDPConfig))},directives:[s.q,s.u,o.e,o.d],styles:[""]}),t}();function pf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Category"),u.Ub())}function df(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function ff(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Batch"),u.Ub())}function bf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function mf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Location"),u.Ub())}function gf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.location," ")}function yf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date Created"),u.Ub())}function vf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function _f(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Quantity"),u.Ub())}function xf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function wf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function Vf(t,e){1&t&&(u.Vb(0,"span",68),u.Hc(1,"Available"),u.Ub())}function Cf(t,e){1&t&&(u.Vb(0,"span",69),u.Hc(1,"In Production"),u.Ub())}function Pf(t,e){1&t&&(u.Vb(0,"span",70),u.Hc(1,"Diminished"),u.Ub())}function Uf(t,e){if(1&t&&(u.Fc(0,Vf,2,0,"span",65),u.Fc(1,Cf,2,0,"span",66),u.Fc(2,Pf,2,0,"span",67)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","inproduction"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}function Sf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Tf(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",71),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(240);return e.openModal(r)})),u.Vb(1,"span",72),u.Qb(2,"i",73),u.Ub(),u.Ub(),u.Vb(3,"button",74),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",72),u.Qb(5,"i",75),u.Ub(),u.Ub()}}function kf(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",76),u.Vb(1,"h6",77),u.Hc(2," Edit List of Account "),u.Ub(),u.Vb(3,"button",78),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",79),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",80),u.Vb(7,"form"),u.Vb(8,"div",25),u.Vb(9,"div",81),u.Vb(10,"div",82),u.Vb(11,"label",83),u.Hc(12,"Program ID"),u.Ub(),u.Qb(13,"input",84),u.Ub(),u.Ub(),u.Vb(14,"div",81),u.Vb(15,"div",82),u.Vb(16,"label",85),u.Hc(17,"Name"),u.Ub(),u.Qb(18,"input",86),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"form"),u.Vb(20,"div",25),u.Vb(21,"div",81),u.Vb(22,"div",82),u.Vb(23,"label",87),u.Hc(24,"Type"),u.Ub(),u.Vb(25,"select",88),u.Vb(26,"option",44),u.Hc(27,"Choose"),u.Ub(),u.Vb(28,"option",45),u.Hc(29,"One"),u.Ub(),u.Vb(30,"option",46),u.Hc(31,"Two"),u.Ub(),u.Vb(32,"option",47),u.Hc(33,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(34,"div",81),u.Vb(35,"div",82),u.Vb(36,"p",89),u.Hc(37,"Status"),u.Ub(),u.Vb(38,"div",90),u.Qb(39,"input",91),u.Vb(40,"label",92),u.Hc(41," Active "),u.Ub(),u.Ub(),u.Vb(42,"div",90),u.Qb(43,"input",93),u.Vb(44,"label",94),u.Hc(45," Inactive "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"form"),u.Vb(47,"div",25),u.Vb(48,"div",95),u.Vb(49,"div",82),u.Vb(50,"label",96),u.Hc(51,"Description"),u.Ub(),u.Qb(52,"textarea",97),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"div",98),u.Vb(54,"button",99),u.dc("click",(function(t){return u.yc(i),u.hc().confirm()})),u.Hc(55," Save "),u.Ub(),u.Vb(56,"button",100),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(57," Close "),u.Ub(),u.Ub()}}var If=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Af=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2011",location:"Perak"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Full time",title:"Otter, north american river",category:"2",year:"2011",location:"Kedah"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"inproduction",type:"Full time",title:"Asian false vampire bat",category:"3",year:"2009",location:"Selangor"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Part time",title:"Pelican, australian",category:"3",year:"2019",location:"Kelantan"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Part time",title:"Spotted-tailed quoll",category:"1",year:"2008",location:"Perlis"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2011",location:"Pulau Pinang"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2008",location:"Terengganu"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"inproduction",type:"Part time",title:"Blue-cheeked cordon",category:"3",year:"2009",location:"Pahang"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Part time",title:"Blue-cheeked cordon",category:"1",year:"2019",location:"Kuala Lumpur"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"inproduction",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2008",location:"Melaka"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2011",location:"Negeri Sembilan"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2009",location:"Johor"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"1",year:"2019",location:"Sabah"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"inproduction",type:"Full time",title:"Blue-cheeked cordon",category:"3",year:"2008",location:"Sarawak"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Full time",title:"Blue-cheeked cordon",category:"2",year:"2009",location:"Labuan"}],this.SelectionType=If,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartIventoryControl1(),t.getChartIventoryControl2()}))},t.prototype.getChartIventoryControl1=function(){Ns(du),Ns(fu);var t=Bs("chartiventory1",tc);t.data=[{country:"Fruits",litres:501.9},{country:"Vegetables",litres:301.9},{country:"Palm Oil",litres:201.1},{country:"Cereals",litres:165.8}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.innerRadius=ue(50),e.ticks.template.disabled=!0,e.labels.template.disabled=!0;var i=new Ss;i.brightnesses.push(-.8,-.8,-.5,0,-.5),e.slices.template.fillModifier=i,e.slices.template.strokeModifier=i,e.slices.template.strokeOpacity=.4,e.slices.template.strokeWidth=0,t.legend=new Js,t.legend.position="right",this.chart1=t},t.prototype.getChartIventoryControl2=function(){Ns(du),Ns(fu);var t=Bs("chartiventory2",Oc);t.paddingBottom=30,t.angle=35,t.data=[{country:"<3 Days",visits:2025},{country:"3-7 Days",visits:1882},{country:"8-14 Days",visits:1809},{country:"15-28 Days",visits:1322}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=20,e.renderer.inside=!0,e.renderer.grid.template.disabled=!0;var i=e.renderer.labels.template;i.rotation=-90,i.horizontalCenter="left",i.verticalCenter="middle",i.dy=10,i.inside=!1,t.yAxes.push(new ml).renderer.grid.template.disabled=!0;var r=t.series.push(new iu);r.dataFields.valueY="visits",r.dataFields.categoryX="country";var n=r.columns.template;n.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),n.adapter.add("stroke",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),this.chart2=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-inventory-control"]],decls:241,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-desktop","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-4","mb-4"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","text-info","mb-1"],[1,"small","mt-2"],[1,"col-sm-3","col-md-6","col-lg-4"],[1,"h3","text-success","mb-1"],[1,"h3","text-danger","mb-1"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartiventory1",1,"amchart"],["id","chartiventory2",1,"amchart"],[1,"col-xl-12"],[1,"col-md-6"],[1,"table-responsive"],[1,"table","table-centered","table-nowrap","mb-0","rounded"],[1,"thead-light"],[1,"col-xl-4"],[1,"form-group"],["for","exampleFormControlSelect2"],["id","exampleFormControlSelect2",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-xl-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-md-6","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["createUser",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-primary",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-primary"],[1,"badge","badge-pill","badge-danger"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],["for","exampleProgramID"],["type","total","id","exampleTotal","placeholder","eg PRG-CS-240",1,"form-control"],["for","exampleName"],["type","text","placeholder","eg Short Term Program","id","exampleName",1,"form-control"],["for","type1",1,"my-1","mr-2"],["id","type2","aria-label","Default select example",1,"form-select"],[1,"font-weight-bold"],[1,"form-check"],["type","radio","name","exampleRadios3","id","exampleRadios3","value","option3","checked","",1,"form-check-input"],["for","exampleRadios3",1,"form-check-label"],["type","radio","name","exampleRadios4","id","exampleRadios4","value","option4","checked","",1,"form-check-input"],["for","exampleRadios4",1,"form-check-label"],[1,"col-12"],["for","textarea2"],["placeholder","Enter your message...","id","textarea2","rows","2",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Inventory Control"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Inventory Turnover"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"17.0"),u.Ub(),u.Ub(),u.Vb(23,"div",20),u.Hc(24,"Target: 13.0"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"div",21),u.Vb(26,"div",13),u.Vb(27,"div",14),u.Vb(28,"div",15),u.Vb(29,"div",16),u.Vb(30,"div",17),u.Vb(31,"h2",18),u.Hc(32,"Average OOS Rate"),u.Ub(),u.Vb(33,"h3",22),u.Hc(34,"4.0%"),u.Ub(),u.Ub(),u.Vb(35,"div",20),u.Hc(36,"Target: 2.0%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(37,"div",21),u.Vb(38,"div",13),u.Vb(39,"div",14),u.Vb(40,"div",15),u.Vb(41,"div",16),u.Vb(42,"div",17),u.Vb(43,"h2",18),u.Hc(44,"Average OTIF Rate"),u.Ub(),u.Vb(45,"h3",23),u.Hc(46,"81.0%"),u.Ub(),u.Ub(),u.Vb(47,"div",20),u.Hc(48,"Target: 90.0%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",24),u.Vb(50,"div",25),u.Vb(51,"div",26),u.Vb(52,"div",27),u.Vb(53,"div",28),u.Vb(54,"div",29),u.Vb(55,"div",30),u.Vb(56,"h5",31),u.Hc(57," Average Inventory Value by Product Category "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"div",14),u.Vb(59,"div",32),u.Qb(60,"div",33),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(61,"div",26),u.Vb(62,"div",27),u.Vb(63,"div",28),u.Vb(64,"div",29),u.Vb(65,"div",30),u.Vb(66,"h5",31),u.Hc(67,"Products Sold within Freshness Date"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",14),u.Vb(69,"div",32),u.Qb(70,"div",34),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(71,"div",35),u.Vb(72,"div",27),u.Vb(73,"div",28),u.Vb(74,"div",29),u.Vb(75,"div",36),u.Vb(76,"h5",31),u.Hc(77,"Sales Order"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(78,"div",14),u.Vb(79,"div",37),u.Vb(80,"table",38),u.Vb(81,"thead",39),u.Vb(82,"tr"),u.Vb(83,"th"),u.Hc(84,"CHANNEL"),u.Ub(),u.Vb(85,"th"),u.Hc(86,"DRAFT"),u.Ub(),u.Vb(87,"th"),u.Hc(88,"CONFIRMED"),u.Ub(),u.Vb(89,"th"),u.Hc(90,"PACKED"),u.Ub(),u.Vb(91,"th"),u.Hc(92,"SHIPPED"),u.Ub(),u.Vb(93,"th"),u.Hc(94,"INVOICED"),u.Ub(),u.Ub(),u.Ub(),u.Vb(95,"tbody"),u.Vb(96,"tr"),u.Vb(97,"td"),u.Hc(98,"Others"),u.Ub(),u.Vb(99,"td"),u.Hc(100,"0"),u.Ub(),u.Vb(101,"td"),u.Hc(102,"42"),u.Ub(),u.Vb(103,"td"),u.Hc(104,"5"),u.Ub(),u.Vb(105,"td"),u.Hc(106,"27"),u.Ub(),u.Vb(107,"td"),u.Hc(108,"75"),u.Ub(),u.Ub(),u.Vb(109,"tr"),u.Vb(110,"td"),u.Hc(111,"Etsy"),u.Ub(),u.Vb(112,"td"),u.Hc(113,"0"),u.Ub(),u.Vb(114,"td"),u.Hc(115,"3"),u.Ub(),u.Vb(116,"td"),u.Hc(117,"0"),u.Ub(),u.Vb(118,"td"),u.Hc(119,"6"),u.Ub(),u.Vb(120,"td"),u.Hc(121,"6"),u.Ub(),u.Ub(),u.Vb(122,"tr"),u.Vb(123,"td"),u.Hc(124,"Shopify"),u.Ub(),u.Vb(125,"td"),u.Hc(126,"0"),u.Ub(),u.Vb(127,"td"),u.Hc(128,"12"),u.Ub(),u.Vb(129,"td"),u.Hc(130,"0"),u.Ub(),u.Vb(131,"td"),u.Hc(132,"0"),u.Ub(),u.Vb(133,"td"),u.Hc(134,"2"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(135,"div",35),u.Vb(136,"div",27),u.Vb(137,"div",28),u.Vb(138,"div",29),u.Vb(139,"div",36),u.Vb(140,"h5",31),u.Hc(141,"Search Physical Inventory"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(142,"div",14),u.Vb(143,"div",25),u.Vb(144,"div",40),u.Vb(145,"div",41),u.Vb(146,"label",42),u.Hc(147,"Category"),u.Ub(),u.Vb(148,"select",43),u.Vb(149,"option",44),u.Hc(150,"Choose"),u.Ub(),u.Vb(151,"option",45),u.Hc(152,"1"),u.Ub(),u.Vb(153,"option",46),u.Hc(154,"2"),u.Ub(),u.Vb(155,"option",47),u.Hc(156,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(157,"div",40),u.Vb(158,"div",41),u.Vb(159,"label",42),u.Hc(160,"Batch"),u.Ub(),u.Vb(161,"select",43),u.Vb(162,"option",44),u.Hc(163,"Choose"),u.Ub(),u.Vb(164,"option",45),u.Hc(165,"One"),u.Ub(),u.Vb(166,"option",46),u.Hc(167,"Two"),u.Ub(),u.Vb(168,"option",47),u.Hc(169,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(170,"div",40),u.Vb(171,"div",41),u.Vb(172,"label",42),u.Hc(173,"Status"),u.Ub(),u.Vb(174,"select",43),u.Vb(175,"option",44),u.Hc(176,"Choose"),u.Ub(),u.Vb(177,"option",45),u.Hc(178,"Available"),u.Ub(),u.Vb(179,"option",46),u.Hc(180,"In Production"),u.Ub(),u.Vb(181,"option",47),u.Hc(182,"Diminished"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(183,"div",48),u.Vb(184,"button",49),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(185," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(186,"div",35),u.Vb(187,"div",27),u.Vb(188,"div",28),u.Vb(189,"div",29),u.Vb(190,"div",36),u.Vb(191,"h5",31),u.Hc(192,"Physical Inventory"),u.Ub(),u.Ub(),u.Vb(193,"div",50),u.Vb(194,"button",49),u.dc("click",(function(t){u.yc(i);var r=u.wc(240);return e.openModal(r)})),u.Hc(195," Add New "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(196,"div",14),u.Vb(197,"div",51),u.Vb(198,"div",25),u.Vb(199,"div",52),u.Vb(200,"div",53),u.Vb(201,"label"),u.Hc(202," Show "),u.Vb(203,"select",54),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(204,"option",55),u.Hc(205,"5"),u.Ub(),u.Vb(206,"option",56),u.Hc(207,"10"),u.Ub(),u.Vb(208,"option",57),u.Hc(209,"15"),u.Ub(),u.Vb(210,"option",58),u.Hc(211,"All"),u.Ub(),u.Ub(),u.Hc(212," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(213,"div",52),u.Vb(214,"div",59),u.Vb(215,"label"),u.Vb(216,"input",60),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(217,"ngx-datatable",61),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(218,"ngx-datatable-column"),u.Fc(219,pf,2,0,"ng-template",62),u.Fc(220,df,1,1,"ng-template",63),u.Ub(),u.Vb(221,"ngx-datatable-column"),u.Fc(222,ff,2,0,"ng-template",62),u.Fc(223,bf,1,1,"ng-template",63),u.Ub(),u.Vb(224,"ngx-datatable-column"),u.Fc(225,mf,2,0,"ng-template",62),u.Fc(226,gf,1,1,"ng-template",63),u.Ub(),u.Vb(227,"ngx-datatable-column"),u.Fc(228,yf,2,0,"ng-template",62),u.Fc(229,vf,1,1,"ng-template",63),u.Ub(),u.Vb(230,"ngx-datatable-column"),u.Fc(231,_f,2,0,"ng-template",62),u.Fc(232,xf,1,1,"ng-template",63),u.Ub(),u.Vb(233,"ngx-datatable-column"),u.Fc(234,wf,2,0,"ng-template",62),u.Fc(235,Uf,3,3,"ng-template",63),u.Ub(),u.Vb(236,"ngx-datatable-column"),u.Fc(237,Sf,2,0,"ng-template",62),u.Fc(238,Tf,6,0,"ng-template",63),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(239,kf,58,0,"ng-template",null,64,u.Gc)}2&t&&(u.Cb(204),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o],styles:[""]}),t}();function Of(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Type"),u.Ub())}function Df(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.type," ")}function Mf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Name"),u.Ub())}function Ff(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.name," ")}function Ef(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Amount (RM)"),u.Ub())}function Rf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function Lf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Total (RM)"),u.Ub())}function Hf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.credit," ")}function jf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function zf(t,e){1&t&&(u.Vb(0,"span",50),u.Hc(1,"Paid"),u.Ub())}function Bf(t,e){1&t&&(u.Vb(0,"span",51),u.Hc(1,"Pending"),u.Ub())}function Nf(t,e){1&t&&(u.Vb(0,"span",52),u.Hc(1,"Overdue"),u.Ub())}function Xf(t,e){if(1&t&&(u.Fc(0,zf,2,0,"span",47),u.Fc(1,Bf,2,0,"span",48),u.Fc(2,Nf,2,0,"span",49)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","inproduction"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}function Wf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Gf(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",53),u.dc("click",(function(t){u.yc(i);var e=u.hc();return e.openModal(e.createUser)})),u.Vb(1,"span",54),u.Qb(2,"i",55),u.Ub(),u.Ub(),u.Vb(3,"button",56),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",54),u.Qb(5,"i",57),u.Ub(),u.Ub()}}var Yf=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),qf=function(){function t(t,e){this.zone=t,this.modalService=e,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"1",year:"2011",location:"Perak"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Ahmad",status:"unactive",type:"Invoice",title:"Otter, north american river",category:"2",year:"2011",location:"Kedah"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Trish",status:"inproduction",type:"Invoice",title:"Asian false vampire bat",category:"3",year:"2009",location:"Selangor"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Sara",status:"active",type:"Invoice",title:"Pelican, australian",category:"3",year:"2019",location:"Kelantan"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Malek",status:"unactive",type:"Invoice",title:"Spotted-tailed quoll",category:"1",year:"2008",location:"Perlis"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Invoice",title:"Blue-cheeked cordon",category:"2",year:"2011",location:"Pulau Pinang"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"Arumugam",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"1",year:"2008",location:"Terengganu"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"Ronaldo",status:"inproduction",type:"Invoice",title:"Blue-cheeked cordon",category:"3",year:"2009",location:"Pahang"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"Neymar",status:"unactive",type:"Invoice",title:"Blue-cheeked cordon",category:"1",year:"2019",location:"Kuala Lumpur"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"inproduction",type:"Invoice",title:"Blue-cheeked cordon",category:"1",year:"2008",location:"Melaka"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"2",year:"2011",location:"Negeri Sembilan"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000",name:"John",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"2",year:"2009",location:"Johor"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2019/03/29",salary:"$433,060",name:"John",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"1",year:"2019",location:"Sabah"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700",name:"John",status:"inproduction",type:"Invoice",title:"Blue-cheeked cordon",category:"3",year:"2008",location:"Sarawak"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750",name:"John",status:"active",type:"Invoice",title:"Blue-cheeked cordon",category:"2",year:"2009",location:"Labuan"}],this.SelectionType=Yf,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartProductionCosting1(),t.getChartProductionCosting2(),t.getChartProductionCosting3()}))},t.prototype.getChartProductionCosting1=function(){Ns(du),Ns(fu);var t=Bs("chartproductioncosting1",Tl);t.scrollbarX=new as,t.data=[{country:"2017",visits:2025},{country:"2018",visits:1882},{country:"2019",visits:1809},{country:"2020",visits:1322}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartProductionCosting2=function(){Ns(du),Ns(fu);var t=Bs("chartproductioncosting2",rc);t.hiddenState.properties.opacity=0,t.legend=new Js,t.data=[{country:"Client",litres:501.9},{country:"Staff",litres:165.8},{country:"Scheduled",litres:139.9}],t.innerRadius=100;var e=t.series.push(new ic);e.dataFields.value="litres",e.dataFields.category="country",this.chart2=t},t.prototype.getChartProductionCosting3=function(){Ns(du),Ns(fu);var t=Bs("chartproductioncosting3",Oc);t.data=[{country:"Sun",visits:3025},{country:"Mon",visits:7882},{country:"Tue",visits:6809},{country:"Wed",visits:8322},{country:"Thu",visits:9122},{country:"Fri",visits:6114},{country:"Sat",visits:8984}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.labels.template.rotation=270,e.renderer.labels.template.hideOversized=!1,e.renderer.minGridDistance=20,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.tooltip.label.rotation=270,e.tooltip.label.horizontalCenter="right",e.tooltip.label.verticalCenter="middle";var i=t.yAxes.push(new ml);i.title.text="Countries",i.title.fontWeight="bold";var r=t.series.push(new Ac);r.dataFields.valueY="visits",r.dataFields.categoryX="country",r.name="Visits",r.tooltipText="{categoryX}: [bold]{valueY}[/]",r.columns.template.fillOpacity=.8;var n=r.columns.template;n.strokeWidth=2,n.strokeOpacity=1,n.stroke=Rr("#FFFFFF"),n.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),n.adapter.add("stroke",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,t.cursor.lineX.strokeOpacity=0,t.cursor.lineY.strokeOpacity=0,this.chart3=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-production-costing-material-ledger"]],decls:112,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-file-invoice","text-dark"],[1,"row","justify-content-md-center"],[1,"col-sm-3","col-md-6","col-lg-14","mb-3"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","text-center","px-xl-0"],[1,"d-none","d-sm-block"],[1,"h4"],[1,"h3","mb-1","text-success"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"chart"],["id","chartproductioncosting1",1,"amchart"],["id","chartproductioncosting2",1,"amchart"],[1,"col-xl-12"],["id","chartproductioncosting3",1,"amchart"],[1,"col-md-6"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-primary",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-primary"],[1,"badge","badge-pill","badge-danger"],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Product Costing & Material Ledger "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h2",18),u.Hc(20,"Total Volume"),u.Ub(),u.Vb(21,"h3",19),u.Hc(22,"RM1,029.97"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(23,"div",12),u.Vb(24,"div",13),u.Vb(25,"div",14),u.Vb(26,"div",15),u.Vb(27,"div",16),u.Vb(28,"div",17),u.Vb(29,"h2",18),u.Hc(30,"Average Transaction"),u.Ub(),u.Vb(31,"h3",19),u.Hc(32,"RM9,283.23"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",20),u.Vb(34,"div",21),u.Vb(35,"div",22),u.Vb(36,"div",23),u.Vb(37,"div",24),u.Vb(38,"div",25),u.Vb(39,"div",26),u.Vb(40,"h5",27),u.Hc(41,"Total Payment Volume"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(42,"div",14),u.Vb(43,"div",28),u.Qb(44,"div",29),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"div",22),u.Vb(46,"div",23),u.Vb(47,"div",24),u.Vb(48,"div",25),u.Vb(49,"div",26),u.Vb(50,"h5",27),u.Hc(51,"Payment Source"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",14),u.Vb(53,"div",28),u.Qb(54,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(55,"div",31),u.Vb(56,"div",23),u.Vb(57,"div",24),u.Vb(58,"div",25),u.Vb(59,"div",26),u.Vb(60,"h5",27),u.Hc(61,"Weekly Transaction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(62,"div",14),u.Vb(63,"div",28),u.Qb(64,"div",32),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",31),u.Vb(66,"div",23),u.Vb(67,"div",24),u.Vb(68,"div",25),u.Vb(69,"div",33),u.Vb(70,"h5",27),u.Hc(71,"List of Transaction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(72,"div",14),u.Vb(73,"div",34),u.Vb(74,"div",21),u.Vb(75,"div",35),u.Vb(76,"div",36),u.Vb(77,"label"),u.Hc(78," Show "),u.Vb(79,"select",37),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(80,"option",38),u.Hc(81,"5"),u.Ub(),u.Vb(82,"option",39),u.Hc(83,"10"),u.Ub(),u.Vb(84,"option",40),u.Hc(85,"15"),u.Ub(),u.Vb(86,"option",41),u.Hc(87,"All"),u.Ub(),u.Ub(),u.Hc(88," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",35),u.Vb(90,"div",42),u.Vb(91,"label"),u.Vb(92,"input",43),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(93,"ngx-datatable",44),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(94,"ngx-datatable-column"),u.Fc(95,Of,2,0,"ng-template",45),u.Fc(96,Df,1,1,"ng-template",46),u.Ub(),u.Vb(97,"ngx-datatable-column"),u.Fc(98,Mf,2,0,"ng-template",45),u.Fc(99,Ff,1,1,"ng-template",46),u.Ub(),u.Vb(100,"ngx-datatable-column"),u.Fc(101,Ef,2,0,"ng-template",45),u.Fc(102,Rf,1,1,"ng-template",46),u.Ub(),u.Vb(103,"ngx-datatable-column"),u.Fc(104,Lf,2,0,"ng-template",45),u.Fc(105,Hf,1,1,"ng-template",46),u.Ub(),u.Vb(106,"ngx-datatable-column"),u.Fc(107,jf,2,0,"ng-template",45),u.Fc(108,Xf,3,3,"ng-template",46),u.Ub(),u.Vb(109,"ngx-datatable-column"),u.Fc(110,Wf,2,0,"ng-template",45),u.Fc(111,Gf,6,0,"ng-template",46),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(80),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l],styles:[""]}),t}();function Kf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date of Transaction"),u.Ub())}function Jf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.dateTrans," ")}function Zf(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date of Application"),u.Ub())}function Qf(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.dateAppli," ")}function $f(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Date of Approval"),u.Ub())}function tb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.dateAppro," ")}function eb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Category"),u.Ub())}function ib(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function rb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"More Info"),u.Ub())}function nb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.moreInfo," ")}function ab(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Status"),u.Ub())}function ob(t,e){1&t&&(u.Vb(0,"span",64),u.Hc(1,"Paid"),u.Ub())}function sb(t,e){1&t&&(u.Vb(0,"span",65),u.Hc(1,"Pending"),u.Ub())}function lb(t,e){if(1&t&&(u.Fc(0,ob,2,0,"span",62),u.Fc(1,sb,2,0,"span",63)),2&t){var i=e.row;u.nc("ngIf","active"==i.status),u.Cb(1),u.nc("ngIf","unactive"==i.status)}}var cb=function(){return{isAnimated:!0,containerClass:"theme-red"}};function ub(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",66),u.Vb(1,"h6",67),u.Hc(2," Submit a New Claim "),u.Ub(),u.Vb(3,"button",68),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",69),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",70),u.Vb(7,"form"),u.Vb(8,"div",13),u.Vb(9,"div",71),u.Vb(10,"div",72),u.Vb(11,"label"),u.Hc(12,"Date of Transaction"),u.Ub(),u.Vb(13,"div",73),u.Vb(14,"div",33),u.Vb(15,"span",34),u.Qb(16,"i",35),u.Ub(),u.Ub(),u.Qb(17,"input",74),u.Ub(),u.Ub(),u.Ub(),u.Vb(18,"div",71),u.Vb(19,"div",72),u.Vb(20,"label",75),u.Hc(21,"Category"),u.Ub(),u.Vb(22,"select",76),u.Vb(23,"option",39),u.Hc(24,"Choose"),u.Ub(),u.Vb(25,"option",40),u.Hc(26,"Small"),u.Ub(),u.Vb(27,"option",41),u.Hc(28,"Big"),u.Ub(),u.Vb(29,"option",42),u.Hc(30,"Medium"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(31,"form"),u.Vb(32,"div",13),u.Vb(33,"div",71),u.Vb(34,"div",72),u.Vb(35,"label",77),u.Hc(36,"Total Receipt Amount"),u.Ub(),u.Vb(37,"div",32),u.Vb(38,"span",34),u.Hc(39,"MYR"),u.Ub(),u.Qb(40,"input",78),u.Ub(),u.Ub(),u.Ub(),u.Vb(41,"div",71),u.Vb(42,"div",72),u.Vb(43,"label",79),u.Hc(44,"Tax Invoice / Receipt #"),u.Ub(),u.Qb(45,"input",80),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"form"),u.Vb(47,"div",13),u.Vb(48,"div",81),u.Vb(49,"div",72),u.Vb(50,"label",82),u.Hc(51,"Notes about this claim"),u.Ub(),u.Qb(52,"textarea",83),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(53,"form"),u.Vb(54,"div",84),u.Qb(55,"input",85),u.Vb(56,"label",86),u.Hc(57,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(58,"div",87),u.Vb(59,"button",88),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("created")})),u.Hc(60," Create "),u.Ub(),u.Vb(61,"button",89),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(62," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(17),u.nc("bsValue",r.bsValue)("bsConfig",u.pc(2,cb))}}var hb=function(){function t(t,e){this.zone=t,this.modalService=e,this.bsValue=new Date,this.maxDate=new Date,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",dateTrans:"2009/01/12",dateAppli:"2011/07/25",dateAppro:"2011/04/25",salary:"$320,800",name:"John",status:"active",type:"Full time",moreInfo:"Blue-cheeked cordon",category:"1",year:"2011"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",dateTrans:"2012/03/29",dateAppli:"2011/05/23",dateAppro:"2011/07/25",salary:"$433,060",name:"Sara",status:"active",type:"Part time",moreInfo:"Pelican, australian",category:"3",year:"2019"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",dateAppro:"2011/07/25",dateTrans:"2008/11/28",dateAppli:"2009/01/12",salary:"$170,750",name:"Cheng Hong",status:"unactive",type:"Full time",moreInfo:"Blue-cheeked cordon",category:"2",year:"2011"}],this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})})),this.maxDate.setDate(this.maxDate.getDate()+7),this.bsRangeValue=[this.bsValue,this.maxDate]}return t.prototype.ngOnInit=function(){},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,this.modalConfig)},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-claim"]],decls:179,vars:13,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-hand-holding-usd","text-dark"],[1,"col-lg-6","col-5","text-right"],[1,"btn","btn-md","btn-default","text-white",3,"click"],[1,"row"],[1,"col-sm-3","col-md-6","col-lg-2"],[1,"card","border-light","shadow-sm"],[1,"card-body"],[1,"row","d-block","d-xl-flex","align-items-center"],[1,"col-12","px-xl-0","text-center"],[1,"d-none","d-sm-block"],[1,"h5"],[1,"h4","mt-4","text-success"],[1,"container-fluid","mt--6"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"h3","mt-2","mb-0"],[1,"col-xl-4"],[1,"form-group"],[1,"form-control-label"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-calendar-grid-58"],["type","text","bsDaterangepicker","","name","bsDaterangepicker",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],["for","claimCategory"],["id","claimCategory",1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],["for","claimType"],["id","claimType",1,"form-control"],[1,"col-xl-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["claim",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-warning"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],[1,"input-group","input-group-alternative"],["type","text","placeholder","Datepicker","bsDatepicker","",1,"form-control",3,"bsValue","bsConfig"],["for","category5"],["id","category5",1,"form-control"],["for","dateofreport"],["type","number","value","0.00","id","example-number-input",1,"form-control"],["for","pic1"],["type","text","placeholder","eg Mrs Ilya","id","pic1",1,"form-control"],[1,"col-12"],["for","textarea6"],["placeholder","Enter your message...","id","textarea6","rows","3",1,"form-control"],[1,"custom-file"],["type","file","id","customFileLang","lang","en",1,"custom-file-input"],["for","customFileLang",1,"custom-file-label"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Claim"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"a",12),u.dc("click",(function(t){u.yc(i);var r=u.wc(178);return e.openModal(r)})),u.Hc(14," New Claim "),u.Ub(),u.Ub(),u.Ub(),u.Vb(15,"div",13),u.Vb(16,"div",14),u.Vb(17,"div",15),u.Vb(18,"div",16),u.Vb(19,"div",17),u.Vb(20,"div",18),u.Vb(21,"div",19),u.Vb(22,"h2",20),u.Hc(23,"Total amount of pending claims:"),u.Ub(),u.Vb(24,"h3",21),u.Hc(25,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",14),u.Vb(27,"div",15),u.Vb(28,"div",16),u.Vb(29,"div",17),u.Vb(30,"div",18),u.Vb(31,"div",19),u.Vb(32,"h2",20),u.Hc(33,"Total amount of approved + paid:"),u.Ub(),u.Vb(34,"h3",21),u.Hc(35,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",14),u.Vb(37,"div",15),u.Vb(38,"div",16),u.Vb(39,"div",17),u.Vb(40,"div",18),u.Vb(41,"div",19),u.Vb(42,"h2",20),u.Hc(43,"Total amount of rejected claims:"),u.Ub(),u.Vb(44,"h3",21),u.Hc(45,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",14),u.Vb(47,"div",15),u.Vb(48,"div",16),u.Vb(49,"div",17),u.Vb(50,"div",18),u.Vb(51,"div",19),u.Vb(52,"h2",20),u.Hc(53,"Total claims amount excl. SST:"),u.Ub(),u.Vb(54,"h3",21),u.Hc(55,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",14),u.Vb(57,"div",15),u.Vb(58,"div",16),u.Vb(59,"div",17),u.Vb(60,"div",18),u.Vb(61,"div",19),u.Vb(62,"h2",20),u.Hc(63,"Total SST "),u.Qb(64,"br"),u.Hc(65,"amount:"),u.Ub(),u.Vb(66,"h3",21),u.Hc(67,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",14),u.Vb(69,"div",15),u.Vb(70,"div",16),u.Vb(71,"div",17),u.Vb(72,"div",18),u.Vb(73,"div",19),u.Vb(74,"h2",20),u.Vb(75,"b"),u.Hc(76,"Total claims "),u.Qb(77,"br"),u.Hc(78,"amount:"),u.Ub(),u.Ub(),u.Vb(79,"h3",21),u.Hc(80,"MYR 0.00"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(81,"div",22),u.Vb(82,"div",13),u.Vb(83,"div",23),u.Vb(84,"div",24),u.Vb(85,"div",25),u.Vb(86,"div",26),u.Vb(87,"div",27),u.Vb(88,"h5",28),u.Hc(89,"Search Claim Report"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"div",16),u.Vb(91,"div",13),u.Vb(92,"div",29),u.Vb(93,"div",30),u.Vb(94,"label",31),u.Hc(95,"Pick Range Date"),u.Ub(),u.Vb(96,"div",32),u.Vb(97,"div",33),u.Vb(98,"span",34),u.Qb(99,"i",35),u.Ub(),u.Ub(),u.Vb(100,"input",36),u.dc("ngModelChange",(function(t){return e.bsRangeValue=t})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(101,"div",29),u.Vb(102,"div",30),u.Vb(103,"label",37),u.Hc(104,"Category"),u.Ub(),u.Vb(105,"select",38),u.Vb(106,"option",39),u.Hc(107,"Choose"),u.Ub(),u.Vb(108,"option",40),u.Hc(109,"One"),u.Ub(),u.Vb(110,"option",41),u.Hc(111,"Two"),u.Ub(),u.Vb(112,"option",42),u.Hc(113,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(114,"div",29),u.Vb(115,"div",30),u.Vb(116,"label",43),u.Hc(117,"Claim Type"),u.Ub(),u.Vb(118,"select",44),u.Vb(119,"option",39),u.Hc(120,"Choose"),u.Ub(),u.Vb(121,"option",40),u.Hc(122,"One"),u.Ub(),u.Vb(123,"option",41),u.Hc(124,"Two"),u.Ub(),u.Vb(125,"option",42),u.Hc(126,"Three"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(127,"div",45),u.Vb(128,"button",46),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(129," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(130,"div",23),u.Vb(131,"div",24),u.Vb(132,"div",25),u.Vb(133,"div",26),u.Vb(134,"div",47),u.Vb(135,"h5",28),u.Hc(136,"Claim Data Report"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(137,"div",16),u.Vb(138,"div",48),u.Vb(139,"div",13),u.Vb(140,"div",49),u.Vb(141,"div",50),u.Vb(142,"label"),u.Hc(143," Show "),u.Vb(144,"select",51),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(145,"option",52),u.Hc(146,"5"),u.Ub(),u.Vb(147,"option",53),u.Hc(148,"10"),u.Ub(),u.Vb(149,"option",54),u.Hc(150,"15"),u.Ub(),u.Vb(151,"option",55),u.Hc(152,"All"),u.Ub(),u.Ub(),u.Hc(153," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(154,"div",49),u.Vb(155,"div",56),u.Vb(156,"label"),u.Vb(157,"input",57),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(158,"ngx-datatable",58),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(159,"ngx-datatable-column"),u.Fc(160,Kf,2,0,"ng-template",59),u.Fc(161,Jf,1,1,"ng-template",60),u.Ub(),u.Vb(162,"ngx-datatable-column"),u.Fc(163,Zf,2,0,"ng-template",59),u.Fc(164,Qf,1,1,"ng-template",60),u.Ub(),u.Vb(165,"ngx-datatable-column"),u.Fc(166,$f,2,0,"ng-template",59),u.Fc(167,tb,1,1,"ng-template",60),u.Ub(),u.Vb(168,"ngx-datatable-column"),u.Fc(169,eb,2,0,"ng-template",59),u.Fc(170,ib,1,1,"ng-template",60),u.Ub(),u.Vb(171,"ngx-datatable-column"),u.Fc(172,rb,2,0,"ng-template",59),u.Fc(173,nb,1,1,"ng-template",60),u.Ub(),u.Vb(174,"ngx-datatable-column"),u.Fc(175,ab,2,0,"ng-template",59),u.Fc(176,lb,2,2,"ng-template",60),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(177,ub,63,3,"ng-template",null,61,u.Gc)}2&t&&(u.Cb(100),u.nc("ngModel",e.bsRangeValue)("bsConfig",u.pc(12,cb)),u.Cb(45),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[o.e,s.b,o.d,s.m,s.p,s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o,o.b,o.a],styles:[""]}),t}();Ns(fu);var pb=function(){function t(t,e){this.mockService=t,this.zone=e,this.dataChart=[],this.dataChart2=[],this.dataChart3=[],this.bsDPConfig={isAnimated:!0,containerClass:"theme-default"},this.getData()}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart&&t.chart.dispose(),t.chart1&&t.chart1.dispose(),t.chart2&&t.chart2.dispose(),t.chart3&&t.chart3.dispose()}))},t.prototype.getData=function(){var t=this;this.mockService.getAll("admin-report/report-data-1.json").subscribe((function(e){t.dataChart=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-2.json").subscribe((function(e){t.dataChart2=e}),(function(){}),(function(){t.mockService.getAll("admin-report/report-data-3.json").subscribe((function(e){t.dataChart3=e}),(function(){}),(function(){t.getCharts()}))}))}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChart(),t.getChart1(),t.getChart2(),t.getChart3()}))},t.prototype.getChart=function(){var t=Bs("chartreportdiv1",Tl);t.paddingRight=20,t.data=this.dataChart,t.dateFormatter.inputDateFormat="yyyy";var e=t.xAxes.push(new vl);e.renderer.minGridDistance=50,e.baseInterval={timeUnit:"year",count:2},t.yAxes.push(new ml).tooltip.disabled=!0;var i=t.series.push(new Bc);i.dataFields.dateX="year",i.dataFields.valueY="amount",i.tooltipText="{valueY.amount}",i.strokeWidth=3,t.cursor=new hu,t.cursor.xAxis=e,t.cursor.fullWidthLineX=!0,t.cursor.lineX.strokeWidth=0,t.cursor.lineX.fill=t.colors.getIndex(2),t.cursor.lineX.fillOpacity=.1,t.scrollbarX=new as,this.chart=t},t.prototype.getChart1=function(){var t=Bs("chartreportdiv2",Tl);t.hiddenState.properties.opacity=0;for(var e=[],i=100,r=250,n=1;n<120;n++)i+=Math.round((Math.random()<.5?1:-1)*Math.random()*4),r=Math.round(i+5*Math.random()+n/5-(Math.random()<.5?1:-1)*Math.random()*2),e.push({date:new Date(2018,0,n),open:i,close:r});t.data=e;var a=t.xAxes.push(new vl);t.yAxes.push(new ml).tooltip.disabled=!0;var o=t.series.push(new Dl);o.dataFields.dateX="date",o.dataFields.openValueY="open",o.dataFields.valueY="close",o.tooltipText="open: {openValueY.value} close: {valueY.value}",o.sequencedInterpolation=!0,o.fillOpacity=.3,o.defaultState.transitionDuration=1e3,o.tensionX=.8;var s=t.series.push(new Dl);s.dataFields.dateX="date",s.dataFields.valueY="open",s.sequencedInterpolation=!0,s.defaultState.transitionDuration=1500,s.stroke=t.colors.getIndex(6),s.tensionX=.8,t.cursor=new hu,t.cursor.xAxis=a,t.scrollbarX=new as,this.chart1=t},t.prototype.getChart2=function(){var t=Bs("chartreportdiv3",Tl);t.data=this.dataChart2;var e=t.xAxes.push(new ml);e.title.text="X Axis",e.renderer.minGridDistance=40,t.yAxes.push(new ml).title.text="Y Axis";var i=t.series.push(new Dl);i.dataFields.valueY="ay",i.dataFields.valueX="ax",i.strokeOpacity=0;var r=t.series.push(new Dl);r.dataFields.valueY="by",r.dataFields.valueX="bx",r.strokeOpacity=0;var n=i.bullets.push(new Ys).createChild(ps);n.horizontalCenter="middle",n.verticalCenter="middle",n.strokeWidth=0,n.fill=t.colors.getIndex(0),n.direction="top",n.width=12,n.height=12;var a=r.bullets.push(new Ys).createChild(ps);a.horizontalCenter="middle",a.verticalCenter="middle",a.rotation=180,a.strokeWidth=0,a.fill=t.colors.getIndex(3),a.direction="top",a.width=12,a.height=12;var o=t.series.push(new Dl);o.dataFields.valueY="value2",o.dataFields.valueX="value",o.strokeWidth=2,o.stroke=t.colors.getIndex(0),o.strokeOpacity=.7,o.data=[{value:1,value2:2},{value:12,value2:11}];var s=t.series.push(new Dl);s.dataFields.valueY="value2",s.dataFields.valueX="value",s.strokeWidth=2,s.stroke=t.colors.getIndex(3),s.strokeOpacity=.7,s.data=[{value:1,value2:1},{value:12,value2:19}],t.scrollbarX=new as,t.scrollbarY=new as,this.chart2=t},t.prototype.getChart3=function(){var t=Bs("chartreportdiv4",Tl);t.data=this.dataChart3,t.dateFormatter.inputDateFormat="yyyy-MM-dd";var e=t.xAxes.push(new vl),i=(t.yAxes.push(new ml),t.series.push(new Dl));i.dataFields.valueY="value",i.dataFields.dateX="date",i.tooltipText="{value}",i.strokeWidth=2,i.minBulletDistance=15,i.tooltip.background.cornerRadius=20,i.tooltip.background.strokeOpacity=0,i.tooltip.pointerOrientation="vertical",i.tooltip.label.minWidth=40,i.tooltip.label.minHeight=40,i.tooltip.label.textAlign="middle",i.tooltip.label.textValign="middle";var r=i.bullets.push(new ou);r.circle.strokeWidth=2,r.circle.radius=4,r.circle.fill=Rr("#fff"),r.states.create("hover").properties.scale=1.3,t.cursor=new hu,t.cursor.behavior="panXY",t.cursor.xAxis=e,t.cursor.snapToSeries=i,t.scrollbarY=new as,t.scrollbarY.parent=t.leftAxesContainer,t.scrollbarY.toBack();var n=new Ul;n.series.push(i),t.scrollbarX=n,t.scrollbarX.parent=t.bottomAxesContainer,e.start=.79,e.keepSelection=!0,this.chart3=t},t.\u0275fac=function(e){return new(e||t)(u.Pb(mu),u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-report123"]],decls:82,vars:1,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-chart-bar","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"m-0"],[1,"card-body"],[1,"col-md-12","col-lg-5"],[1,"form-group"],[1,"form-control-label"],[1,"form-control","custom-select"],["hidden","","selected",""],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"far","fa-calendar-alt"],["type","text","bsDaterangepicker","","placeholder","Date range","name","bsDaterangepicker",1,"form-control",3,"bsConfig"],[1,"col-md-12","col-lg-2","d-flex","align-items-center"],["type","button",1,"btn","btn-default"],[1,"col-md-12","col-lg-6"],[1,"chart"],["id","chartreportdiv1",1,"amchart"],["id","chartreportdiv2",1,"amchart"],["id","chartreportdiv3",1,"amchart"],["id","chartreportdiv4",1,"amchart"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Reporting"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"h3",16),u.Hc(18,"Reporting Tool"),u.Ub(),u.Ub(),u.Vb(19,"div",17),u.Vb(20,"div",12),u.Vb(21,"div",18),u.Vb(22,"div",19),u.Vb(23,"label",20),u.Hc(24,"Report type"),u.Ub(),u.Vb(25,"select",21),u.Vb(26,"option",22),u.Hc(27,"Please pick"),u.Ub(),u.Vb(28,"option"),u.Hc(29,"Report 1"),u.Ub(),u.Vb(30,"option"),u.Hc(31,"Report 2"),u.Ub(),u.Vb(32,"option"),u.Hc(33,"Report 3"),u.Ub(),u.Vb(34,"option"),u.Hc(35,"Report 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",18),u.Vb(37,"div",19),u.Vb(38,"label",20),u.Hc(39,"Date range"),u.Ub(),u.Vb(40,"div",23),u.Vb(41,"div",24),u.Vb(42,"span",25),u.Qb(43,"i",26),u.Ub(),u.Ub(),u.Qb(44,"input",27),u.Ub(),u.Ub(),u.Ub(),u.Vb(45,"div",28),u.Vb(46,"button",29),u.Hc(47,"Search"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(48,"div",12),u.Vb(49,"div",30),u.Vb(50,"div",14),u.Vb(51,"div",15),u.Vb(52,"h3",16),u.Hc(53,"Report 1"),u.Ub(),u.Ub(),u.Vb(54,"div",17),u.Vb(55,"div",31),u.Qb(56,"div",32),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(57,"div",30),u.Vb(58,"div",14),u.Vb(59,"div",15),u.Vb(60,"h3",16),u.Hc(61,"Report 2"),u.Ub(),u.Ub(),u.Vb(62,"div",17),u.Vb(63,"div",31),u.Qb(64,"div",33),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",12),u.Vb(66,"div",30),u.Vb(67,"div",14),u.Vb(68,"div",15),u.Vb(69,"h3",16),u.Hc(70,"Report 3"),u.Ub(),u.Ub(),u.Vb(71,"div",17),u.Vb(72,"div",31),u.Qb(73,"div",34),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(74,"div",30),u.Vb(75,"div",14),u.Vb(76,"div",15),u.Vb(77,"h3",16),u.Hc(78,"Report 4"),u.Ub(),u.Ub(),u.Vb(79,"div",17),u.Vb(80,"div",31),u.Qb(81,"div",35),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(44),u.nc("bsConfig",e.bsDPConfig))},directives:[s.q,s.u,o.e,o.d],styles:[""]}),t}(),db=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Jb({type:t,selectors:[["app-procurement-notice"]],decls:17,vars:0,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Notice"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Notice "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub())},styles:[""]}),t}(),fb=(i("cSvJ"),i("SZB9")),bb=i("iOEq"),mb=i("Gbwi"),gb=["staticTabs"],yb=["modalAdd"],vb=["modalEdit"];function _b(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Type of RFx "),u.Ub())}function xb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.type," ")}function wb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Category "),u.Ub())}function Vb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function Cb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," RFx Date "),u.Ub())}function Pb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.date," ")}function Ub(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Announcement Status"),u.Ub())}function Sb(t,e){1&t&&(u.Vb(0,"span",78),u.Hc(1,"Opened"),u.Ub())}function Tb(t,e){1&t&&(u.Vb(0,"span",79),u.Hc(1,"Draft"),u.Ub())}function kb(t,e){1&t&&(u.Vb(0,"span",80),u.Hc(1,"Archived"),u.Ub())}function Ib(t,e){1&t&&(u.Vb(0,"span",81),u.Hc(1,"Closed"),u.Ub())}function Ab(t,e){if(1&t&&(u.Fc(0,Sb,2,0,"span",74),u.Fc(1,Tb,2,0,"span",75),u.Fc(2,kb,2,0,"span",76),u.Fc(3,Ib,2,0,"span",77)),2&t){var i=e.row;u.nc("ngIf","opened"==i.status),u.Cb(1),u.nc("ngIf","draft"==i.status),u.Cb(1),u.nc("ngIf","archived"==i.status),u.Cb(1),u.nc("ngIf","closed"==i.status)}}function Ob(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Action "),u.Ub())}function Db(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",82),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(183);return e.openModal(r)})),u.Vb(1,"span",83),u.Qb(2,"i",84),u.Ub(),u.Ub(),u.Vb(3,"button",85),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",83),u.Qb(5,"i",86),u.Ub(),u.Ub()}}var Mb=function(t){return{active:t}};function Fb(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",87),u.Vb(1,"form",88),u.Vb(2,"div",27),u.Vb(3,"label",28),u.Hc(4," Event title "),u.Ub(),u.Vb(5,"input",89),u.dc("change",(function(t){return u.yc(i),u.hc().getNewEventTitle(t)})),u.Ub(),u.Ub(),u.Vb(6,"div",90),u.Vb(7,"label",91),u.Hc(8," Status color "),u.Ub(),u.Vb(9,"div",92),u.Vb(10,"label",93),u.Vb(11,"input",94),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-info"})),u.Ub(),u.Ub(),u.Vb(12,"label",95),u.Vb(13,"input",96),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-warning"})),u.Ub(),u.Ub(),u.Vb(14,"label",97),u.Vb(15,"input",98),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-danger"})),u.Ub(),u.Ub(),u.Vb(16,"label",99),u.Vb(17,"input",100),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-success"})),u.Ub(),u.Ub(),u.Vb(18,"label",101),u.Vb(19,"input",102),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-default"})),u.Ub(),u.Ub(),u.Vb(20,"label",103),u.Vb(21,"input",104),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-primary"})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(22,"input",105),u.Qb(23,"input",106),u.Ub(),u.Ub(),u.Vb(24,"div",107),u.Vb(25,"button",108),u.dc("click",(function(t){return u.yc(i),u.hc().addNewEvent()})),u.Hc(26," Add event "),u.Ub(),u.Vb(27,"button",109),u.dc("click",(function(t){return u.yc(i),u.hc().addModal.hide()})),u.Hc(28," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(10),u.nc("ngClass",u.qc(6,Mb,"bg-info"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(8,Mb,"bg-warning"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(10,Mb,"bg-danger"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(12,Mb,"bg-success"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(14,Mb,"bg-default"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(16,Mb,"bg-primary"===r.radios))}}function Eb(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",87),u.Vb(1,"form",110),u.Vb(2,"div",27),u.Vb(3,"label",28),u.Hc(4," Event title "),u.Ub(),u.Vb(5,"input",111),u.dc("change",(function(t){return u.yc(i),u.hc().getNewEventTitle(t)})),u.Ub(),u.Ub(),u.Vb(6,"div",27),u.Vb(7,"label",91),u.Hc(8," Status color "),u.Ub(),u.Vb(9,"div",112),u.Vb(10,"label",93),u.Vb(11,"input",94),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-info"})),u.Ub(),u.Ub(),u.Vb(12,"label",95),u.Vb(13,"input",96),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-warning"})),u.Ub(),u.Ub(),u.Vb(14,"label",97),u.Vb(15,"input",98),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-danger"})),u.Ub(),u.Ub(),u.Vb(16,"label",99),u.Vb(17,"input",100),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-success"})),u.Ub(),u.Ub(),u.Vb(18,"label",101),u.Vb(19,"input",102),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-default"})),u.Ub(),u.Ub(),u.Vb(20,"label",103),u.Vb(21,"input",104),u.dc("click",(function(t){return u.yc(i),u.hc().radios="bg-primary"})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(22,"div",27),u.Vb(23,"label",28),u.Hc(24," Description "),u.Ub(),u.Vb(25,"textarea",113),u.dc("change",(function(t){return u.yc(i),u.hc().getNewEventDescription(t)})),u.Ub(),u.Qb(26,"i",114),u.Ub(),u.Qb(27,"input",115),u.Ub(),u.Ub(),u.Vb(28,"div",107),u.Vb(29,"button",116),u.dc("click",(function(t){return u.yc(i),u.hc().updateEvent()})),u.Hc(30," Update "),u.Ub(),u.Vb(31,"button",117),u.dc("click",(function(t){return u.yc(i),u.hc().deleteEventSweetAlert()})),u.Hc(32," Delete "),u.Ub(),u.Vb(33,"button",118),u.dc("click",(function(t){return u.yc(i),u.hc().editModal.hide()})),u.Hc(34," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(5),u.oc("value",r.eventTitle),u.Cb(5),u.nc("ngClass",u.qc(8,Mb,"bg-info"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(10,Mb,"bg-warning"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(12,Mb,"bg-danger"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(14,Mb,"bg-success"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(16,Mb,"bg-default"===r.radios)),u.Cb(2),u.nc("ngClass",u.qc(18,Mb,"bg-primary"===r.radios)),u.Cb(5),u.oc("value",r.eventDescription)}}function Rb(t,e){1&t&&u.Hc(0," General Inquiry ")}function Lb(t,e){1&t&&u.Hc(0," RFx Attachment ")}function Hb(t,e){1&t&&u.Hc(0," Schedule ")}function jb(t,e){1&t&&u.Hc(0," Review ")}function zb(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",119),u.Vb(1,"h6",120),u.Hc(2," Add New Asset "),u.Ub(),u.Vb(3,"button",121),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",122),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",87),u.Vb(7,"mat-horizontal-stepper",null,123),u.Vb(9,"mat-step",124),u.Vb(10,"form",125),u.Fc(11,Rb,1,0,"ng-template",126),u.Vb(12,"div",14),u.Vb(13,"div",15),u.Vb(14,"div",27),u.Vb(15,"label",28),u.Hc(16,"Type of RFx"),u.Ub(),u.Vb(17,"select",29),u.Vb(18,"option",30),u.Hc(19,"Please Pick"),u.Ub(),u.Vb(20,"option",31),u.Hc(21,"RFI"),u.Ub(),u.Vb(22,"option",32),u.Hc(23,"RFP"),u.Ub(),u.Vb(24,"option",33),u.Hc(25,"RFQ"),u.Ub(),u.Vb(26,"option",34),u.Hc(27,"Direct Quote"),u.Ub(),u.Vb(28,"option",35),u.Hc(29,"Reverse Auction"),u.Ub(),u.Vb(30,"option",36),u.Hc(31,"Forward Auction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(32,"div",15),u.Vb(33,"div",27),u.Vb(34,"label",28),u.Hc(35,"Category"),u.Ub(),u.Vb(36,"select",29),u.Vb(37,"option",30),u.Hc(38,"Please Pick"),u.Ub(),u.Vb(39,"option",31),u.Hc(40,"ICT"),u.Ub(),u.Vb(41,"option",32),u.Hc(42,"Asset Maintenance"),u.Ub(),u.Vb(43,"option",33),u.Hc(44,"Asset"),u.Ub(),u.Vb(45,"option",34),u.Hc(46,"Category 1"),u.Ub(),u.Vb(47,"option",35),u.Hc(48,"Category 2"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",15),u.Vb(50,"div",27),u.Vb(51,"label",28),u.Hc(52,"Title"),u.Ub(),u.Qb(53,"input",127),u.Ub(),u.Ub(),u.Vb(54,"div",15),u.Vb(55,"div",27),u.Vb(56,"label",28),u.Hc(57,"Budget Category"),u.Ub(),u.Vb(58,"select",29),u.Vb(59,"option",30),u.Hc(60,"Please Pick"),u.Ub(),u.Vb(61,"option",31),u.Hc(62,"Budget Category 2021/1"),u.Ub(),u.Vb(63,"option",32),u.Hc(64,"Budget Category 2021/2"),u.Ub(),u.Vb(65,"option",33),u.Hc(66,"Budget Category 2021/3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div"),u.Vb(68,"button",128),u.Hc(69," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(70,"mat-step",124),u.Vb(71,"form",125),u.Fc(72,Lb,1,0,"ng-template",126),u.Vb(73,"div",14),u.Vb(74,"div",15),u.Vb(75,"div",27),u.Vb(76,"label",28),u.Hc(77," Project Collaborator "),u.Ub(),u.Qb(78,"input",127),u.Ub(),u.Ub(),u.Vb(79,"div",15),u.Vb(80,"div",27),u.Vb(81,"label",28),u.Hc(82," Contact Details "),u.Ub(),u.Qb(83,"input",129),u.Ub(),u.Ub(),u.Vb(84,"div",15),u.Vb(85,"div",27),u.Vb(86,"label",28),u.Hc(87," Upload Attachment "),u.Ub(),u.Vb(88,"div",130),u.Qb(89,"input",131),u.Vb(90,"label",132),u.Hc(91,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(92,"div",15),u.Vb(93,"div",27),u.Vb(94,"label",28),u.Hc(95," Vendor List "),u.Ub(),u.Vb(96,"select",29),u.Vb(97,"option",30),u.Hc(98,"Please Pick"),u.Ub(),u.Vb(99,"option",31),u.Hc(100,"Vendor List 1"),u.Ub(),u.Vb(101,"option",32),u.Hc(102,"Vendor List 2"),u.Ub(),u.Vb(103,"option",33),u.Hc(104,"Vendor List 3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(105,"div"),u.Vb(106,"button",133),u.Hc(107," Back "),u.Ub(),u.Vb(108,"button",128),u.Hc(109," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(110,"mat-step",124),u.Vb(111,"form",125),u.Fc(112,Hb,1,0,"ng-template",126),u.Vb(113,"div",14),u.Vb(114,"div",15),u.Vb(115,"div",27),u.Vb(116,"label",28),u.Hc(117," RFx Open date "),u.Ub(),u.Qb(118,"input",134),u.Ub(),u.Ub(),u.Vb(119,"div",15),u.Vb(120,"div",27),u.Vb(121,"label",28),u.Hc(122," RFx Closing Date "),u.Ub(),u.Qb(123,"input",134),u.Ub(),u.Ub(),u.Vb(124,"div",15),u.Vb(125,"div",27),u.Vb(126,"label",28),u.Hc(127," RFX Closing Time "),u.Ub(),u.Qb(128,"input",135),u.Ub(),u.Ub(),u.Ub(),u.Vb(129,"div"),u.Vb(130,"button",133),u.Hc(131," Back "),u.Ub(),u.Vb(132,"button",128),u.Hc(133," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(134,"mat-step",124),u.Vb(135,"form",125),u.Fc(136,jb,1,0,"ng-template",126),u.Vb(137,"div",14),u.Vb(138,"div",15),u.Vb(139,"div",27),u.Vb(140,"label",28),u.Hc(141,"Type of RFx"),u.Ub(),u.Vb(142,"select",29),u.Vb(143,"option",30),u.Hc(144,"Please Pick"),u.Ub(),u.Vb(145,"option",31),u.Hc(146,"RFI"),u.Ub(),u.Vb(147,"option",32),u.Hc(148,"RFP"),u.Ub(),u.Vb(149,"option",33),u.Hc(150,"RFQ"),u.Ub(),u.Vb(151,"option",34),u.Hc(152,"Direct Quote"),u.Ub(),u.Vb(153,"option",35),u.Hc(154,"Reverse Auction"),u.Ub(),u.Vb(155,"option",36),u.Hc(156,"Forward Auction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(157,"div",15),u.Vb(158,"div",27),u.Vb(159,"label",28),u.Hc(160,"Category"),u.Ub(),u.Vb(161,"select",29),u.Vb(162,"option",30),u.Hc(163,"Please Pick"),u.Ub(),u.Vb(164,"option",31),u.Hc(165,"ICT"),u.Ub(),u.Vb(166,"option",32),u.Hc(167,"Asset Maintenance"),u.Ub(),u.Vb(168,"option",33),u.Hc(169,"Asset"),u.Ub(),u.Vb(170,"option",34),u.Hc(171,"Category 1"),u.Ub(),u.Vb(172,"option",35),u.Hc(173,"Category 2"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(174,"div",15),u.Vb(175,"div",27),u.Vb(176,"label",28),u.Hc(177,"Title"),u.Ub(),u.Qb(178,"input",127),u.Ub(),u.Ub(),u.Vb(179,"div",15),u.Vb(180,"div",27),u.Vb(181,"label",28),u.Hc(182,"Budget Category"),u.Ub(),u.Vb(183,"select",29),u.Vb(184,"option",30),u.Hc(185,"Please Pick"),u.Ub(),u.Vb(186,"option",31),u.Hc(187,"Budget Category 2021/1"),u.Ub(),u.Vb(188,"option",32),u.Hc(189,"Budget Category 2021/2"),u.Ub(),u.Vb(190,"option",33),u.Hc(191,"Budget Category 2021/3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(192,"div",15),u.Vb(193,"div",27),u.Vb(194,"label",28),u.Hc(195," Project Collaborator "),u.Ub(),u.Qb(196,"input",127),u.Ub(),u.Ub(),u.Vb(197,"div",15),u.Vb(198,"div",27),u.Vb(199,"label",28),u.Hc(200," Contact Details "),u.Ub(),u.Qb(201,"input",129),u.Ub(),u.Ub(),u.Vb(202,"div",15),u.Vb(203,"div",27),u.Vb(204,"label",28),u.Hc(205," Upload Attachment "),u.Ub(),u.Vb(206,"div",130),u.Qb(207,"input",131),u.Vb(208,"label",132),u.Hc(209,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(210,"div",15),u.Vb(211,"div",27),u.Vb(212,"label",28),u.Hc(213," Vendor List "),u.Ub(),u.Vb(214,"select",29),u.Vb(215,"option",30),u.Hc(216,"Please Pick"),u.Ub(),u.Vb(217,"option",31),u.Hc(218,"Vendor List 1"),u.Ub(),u.Vb(219,"option",32),u.Hc(220,"Vendor List 2"),u.Ub(),u.Vb(221,"option",33),u.Hc(222,"Vendor List 3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(223,"div",15),u.Vb(224,"div",27),u.Vb(225,"label",28),u.Hc(226," RFx Open Date "),u.Ub(),u.Qb(227,"input",134),u.Ub(),u.Ub(),u.Vb(228,"div",15),u.Vb(229,"div",27),u.Vb(230,"label",28),u.Hc(231," RFx Closing Date "),u.Ub(),u.Qb(232,"input",134),u.Ub(),u.Ub(),u.Vb(233,"div",15),u.Vb(234,"div",27),u.Vb(235,"label",28),u.Hc(236," RFX Closing Time "),u.Ub(),u.Qb(237,"input",135),u.Ub(),u.Ub(),u.Qb(238,"br"),u.Qb(239,"br"),u.Vb(240,"div",15),u.Vb(241,"div",27),u.Vb(242,"label",28),u.Hc(243," Auto Generated RFx No. "),u.Ub(),u.Qb(244,"input",136),u.Ub(),u.Ub(),u.Ub(),u.Vb(245,"div"),u.Vb(246,"button",133),u.Hc(247," Back "),u.Ub(),u.Vb(248,"button",137),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal1("saved")})),u.Hc(249," Submit "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(250,"div",107),u.Vb(251,"button",138),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(252," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(60),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup),u.Cb(39),u.nc("stepControl",r.thirdFormGroup),u.Cb(1),u.nc("formGroup",r.thirdFormGroup),u.Cb(23),u.nc("stepControl",r.forthFormGroup),u.Cb(1),u.nc("formGroup",r.forthFormGroup)}}var Bb=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Nb=function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",date:"2011/04/25",salary:"$320,800",type:"RFI",category:"ICT",status:"opened"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",date:"2011/07/25",salary:"$170,750",type:"RFP",category:"Asset",status:"draft"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"RFQ",category:"Asset Maintenance",status:"archived"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"Direct Quote",category:"Asset",status:"closed"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"Reverse Auction",category:"ICT",status:"opened"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",date:"2011/07/25",salary:"$170,750",type:"Forward Auctio",category:"Asset Maintenance",status:"closed"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"RFI",category:"ICT",status:"draft"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"RFP",category:"Asset",status:"closed"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"RFQ",category:"Asset",status:"opened"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"Reverse Auction",category:"Asset Maintenance",status:"draft"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",date:"2011/04/25",salary:"$320,800",type:"Forward Auction",category:"ICT",status:"archived"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"Direct Quote",category:"Asset",status:"opened"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"RFI",category:"Asset Maintenance",status:"draft"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"RFQ",category:"ICT",status:"draft"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$385,750",type:"RFP",category:"ICT",status:"opened"}],this.SelectionType=Bb,this.default={keyboard:!0,class:"modal-dialog-centered modal-secondary"},this.radios="bg-danger",this.eventTitle=void 0,this.today=new Date,this.y=this.today.getFullYear(),this.m=this.today.getMonth(),this.d=this.today.getDate(),this.events=[{id:0,title:"Lunch meeting",start:"2018-11-21",end:"2018-11-22",className:"bg-orange"},{id:1,title:"Call with Dave",start:new Date(this.y,this.m,1),allDay:!0,className:"bg-red",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:2,title:"Lunch meeting",start:new Date(this.y,this.m,this.d-1,10,30),allDay:!0,className:"bg-orange",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:3,title:"All day conference",start:new Date(this.y,this.m,this.d+7,12,0),allDay:!0,className:"bg-green",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:4,title:"Meeting with Mary",start:new Date(this.y,this.m,this.d-2),allDay:!0,className:"bg-blue",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:5,title:"Winter Hackaton",start:new Date(this.y,this.m,this.d+1,19,0),allDay:!0,className:"bg-red",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:6,title:"Digital event",start:new Date(this.y,this.m,21),allDay:!0,className:"bg-warning",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:7,title:"Marketing event",start:new Date(this.y,this.m,21),allDay:!0,className:"bg-purple",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:8,title:"Dinner with Family",start:new Date(this.y,this.m,19),allDay:!0,className:"bg-red",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:9,title:"Black Friday",start:new Date(this.y,this.m,23),allDay:!0,className:"bg-blue",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."},{id:10,title:"Cyber Week",start:new Date(this.y,this.m,2),allDay:!0,className:"bg-yellow",description:"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."}],this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.selectTab=function(t){this.staticTabs.tabs[t].active=!0},t.prototype.ngOnInit=function(){this.getCharts(),this.initCalendar()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartStrategicSourcing1(),t.getChartStrategicSourcing2()}))},t.prototype.getChartStrategicSourcing1=function(){Ns(bh),Ns(fu);var t=Bs("chartdivstrategicsourcing1",Tl);t.scrollbarX=new as,t.data=[{country:"January",visits:3025},{country:"February",visits:1882},{country:"March",visits:1809},{country:"April",visits:1322},{country:"May",visits:1122},{country:"June",visits:1114},{country:"July",visits:984},{country:"August",visits:711},{country:"September",visits:665},{country:"October",visits:580},{country:"November",visits:443},{country:"December",visits:441}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartStrategicSourcing2=function(){Ns(bh),Ns(fu);var t=Bs("chartdivstrategicsourcing2",tc);t.data=[{country:"RFI",litres:59},{country:"RFP",litres:39},{country:"RFQ",litres:21},{country:"Direct Quote",litres:16},{country:"Reverse Auction",litres:13},{country:"FOrward Auction",litres:12}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeWidth=2,e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,this.chart2=t},t.prototype.changeView=function(t){this.calendar.changeView(t)},t.prototype.initCalendar=function(){var t=this;this.calendar=new fb.a(document.getElementById("calendarAdminStrategicSourcing"),{plugins:[mb.a,bb.a],defaultView:"dayGridMonth",selectable:!0,editable:!0,events:this.events,views:{month:{titleFormat:{month:"long",year:"numeric"}},agendaWeek:{titleFormat:{month:"long",year:"numeric",day:"numeric"}},agendaDay:{titleFormat:{month:"short",year:"numeric",day:"numeric"}}},select:function(e){t.addModal=t.modalService.show(t.modalAdd,t.default),t.startDate=e.startStr,t.endDate=e.endStr},eventClick:function(e){var i=e.event;t.eventId=i.id,t.eventTitle=i.title,t.eventDescription=i.extendedProps.description,t.radios="bg-danger",t.event=i,t.editModal=t.modalService.show(t.modalEdit,t.default)}}),this.calendar.render()},t.prototype.getNewEventTitle=function(t){this.eventTitle=t.target.value},t.prototype.getNewEventDescription=function(t){this.eventDescription=t.target.value},t.prototype.addNewEvent=function(){this.events.push({title:this.eventTitle,start:this.startDate,end:this.endDate,className:this.radios,id:this.events.length}),this.calendar.addEvent({title:this.eventTitle,start:this.startDate,end:this.endDate,className:this.radios,id:this.events.length}),this.addModal.hide(),this.radios="bg-danger",this.eventTitle=void 0,this.eventDescription=void 0,this.eventId=void 0,this.event=void 0},t.prototype.deleteEventSweetAlert=function(){var t=this;this.editModal.hide(),vu.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonClass:"btn btn-danger",cancelButtonClass:"btn btn-secondary",confirmButtonText:"Yes, delete it!",buttonsStyling:!1}).then((function(e){e.value&&(t.events=t.events.filter((function(e){return e.id+""!==t.eventId})),t.initCalendar(),vu.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",confirmButtonClass:"btn btn-primary",buttonsStyling:!1}))})),this.radios="bg-danger",this.eventTitle=void 0,this.eventDescription=void 0,this.eventId=void 0,this.event=void 0},t.prototype.updateEvent=function(){var t=this;this.events=this.events.map((function(e,i){return e.id+""==t.eventId+""?Object(h.a)(Object(h.a)({},e),{title:t.eventTitle,className:t.radios,description:t.eventDescription}):e})),this.radios="bg-danger",this.eventTitle=void 0,this.eventDescription=void 0,this.eventId=void 0,this.event=void 0,this.initCalendar(),this.editModal.hide()},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.successSwal1=function(){vu.a.fire({title:"Success",text:"Successfully !",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",s.t.required]}),this.forthFormGroup=this._formBuilder.group({forthCtrl:["",s.t.required]})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-strategic-sourcing"]],viewQuery:function(t,e){var i;1&t&&(u.Mc(gb,!0),u.Mc(yb,!0),u.Mc(vb,!0)),2&t&&(u.vc(i=u.ec())&&(e.staticTabs=i.first),u.vc(i=u.ec())&&(e.modalAdd=i.first),u.vc(i=u.ec())&&(e.modalEdit=i.first))},decls:184,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartdivstrategicsourcing1",1,"amchart"],["id","chartdivstrategicsourcing2",1,"amchart"],[1,"col-xl-12"],[1,"col-lg-3"],[1,"form-group"],[1,"form-control-label"],[1,"form-control"],["hidden","","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["placeholder","2021-01-01","type","date",1,"form-control"],[1,"col-lg-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-7"],[1,"h3","m-0"],[1,"col-5","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],[1,"card","card-calendar"],[1,"h3","mb-0"],[1,"col","text-right"],["href","javascript:void(0)",1,"fullcalendar-btn-prev","btn","btn-sm","btn-neutral",3,"click"],[1,"fas","fa-angle-left"],["href","javascript:void(0)",1,"fullcalendar-btn-next","btn","btn-sm","btn-neutral",3,"click"],[1,"fas","fa-angle-right"],["data-calendar-view","month","href","javascript:void(0)",1,"btn","btn-sm","btn-neutral",3,"click"],["data-calendar-view","basicWeek","href","javascript:void(0)",1,"btn","btn-sm","btn-neutral",3,"click"],["data-calendar-view","basicDay","href","javascript:void(0)",1,"btn","btn-sm","btn-neutral",3,"click"],[1,"card-body","p-0"],["data-toggle","calendar","id","calendarAdminStrategicSourcing",1,"calendar"],["aria-hidden","true","aria-labelledby","new-event-label","id","new-event","role","dialog","tabindex","-1",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-secondary"],["modalAdd",""],["aria-hidden","true","aria-labelledby","edit-event-label","id","edit-event","role","dialog","tabindex","-1",1,"modal","fade"],["modalEdit",""],["addNew",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-primary",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-primary"],[1,"badge","badge-pill","badge-warning"],[1,"badge","badge-pill","badge-danger"],["type","button","title","View",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-body"],[1,"new-event--form"],["id","new-event--title","placeholder","Event Title","type","text",1,"form-control","form-control-alternative","new-event--title",3,"change"],[1,"form-group","mb-0"],[1,"form-control-label","d-block","mb-3"],["data-toggle","buttons",1,"btn-group","btn-group-toggle","btn-group-colors","event-tag"],[1,"btn","bg-info",3,"ngClass"],["autocomplete","off","checked","checked","name","event-tag","type","radio","value","bg-info",3,"click"],[1,"btn","bg-warning",3,"ngClass"],["autocomplete","off","name","event-tag","type","radio","value","bg-warning",3,"click"],[1,"btn","bg-danger",3,"ngClass"],["autocomplete","off","name","event-tag","type","radio","value","bg-danger",3,"click"],[1,"btn","bg-success",3,"ngClass"],["autocomplete","off","name","event-tag","type","radio","value","bg-success",3,"click"],[1,"btn","bg-default",3,"ngClass"],["autocomplete","off","name","event-tag","type","radio","value","bg-default",3,"click"],[1,"btn","bg-primary",3,"ngClass"],["autocomplete","off","name","event-tag","type","radio","value","bg-primary",3,"click"],["type","hidden",1,"new-event--start"],["type","hidden",1,"new-event--end"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","new-event--add",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-link","ml-auto",3,"click"],[1,"edit-event--form"],["placeholder","Event Title","type","text",1,"form-control","form-control-alternative","edit-event--title",3,"value","change"],["data-toggle","buttons",1,"btn-group","btn-group-toggle","btn-group-colors","event-tag","mb-0"],["placeholder","Event Desctiption",1,"form-control","form-control-alternative","edit-event--description","textarea-autosize",3,"value","change"],[1,"form-group--bar"],["type","hidden",1,"edit-event--id"],["data-calendar","update",1,"btn","btn-primary",3,"click"],["data-calendar","delete",1,"btn","btn-danger",3,"click"],["data-dismiss","modal",1,"btn","btn-link","ml-auto",3,"click"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["placeholder","Type here...","type","text",1,"form-control"],["mat-button","","matStepperNext","",1,"btn","btn-default"],["placeholder","Type here...","type","tel",1,"form-control"],[1,"custom-file"],["type","file","lang","en",1,"custom-file-input"],[1,"custom-file-label"],["mat-button","","matStepperPrevious","",1,"btn","btn-danger"],["placeholder","Type here...","type","date",1,"form-control"],["placeholder","Type here...","type","time",1,"form-control"],["value","RFI20210616ICT","type","text","disabled","",1,"form-control"],["mat-button","",1,"btn","btn-default",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Strategic Sourcing"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Strategic Sourcing "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h5",20),u.Hc(25,"No. of RFx per Month"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",21),u.Vb(27,"div",22),u.Qb(28,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(29,"div",15),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h5",20),u.Hc(35,"Type of RFx"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",21),u.Vb(37,"div",22),u.Qb(38,"div",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",25),u.Vb(40,"div",16),u.Vb(41,"div",17),u.Vb(42,"div",18),u.Vb(43,"div",19),u.Vb(44,"h5",20),u.Hc(45,"Find RFx"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",21),u.Vb(47,"div",14),u.Vb(48,"div",26),u.Vb(49,"div",27),u.Vb(50,"label",28),u.Hc(51,"Type of RFx"),u.Ub(),u.Vb(52,"select",29),u.Vb(53,"option",30),u.Hc(54,"Please Pick"),u.Ub(),u.Vb(55,"option",31),u.Hc(56,"RFI"),u.Ub(),u.Vb(57,"option",32),u.Hc(58,"RFP"),u.Ub(),u.Vb(59,"option",33),u.Hc(60,"RFQ"),u.Ub(),u.Vb(61,"option",34),u.Hc(62,"Direct Quote"),u.Ub(),u.Vb(63,"option",35),u.Hc(64,"Reverse Auction"),u.Ub(),u.Vb(65,"option",36),u.Hc(66,"Forward Auction"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div",26),u.Vb(68,"div",27),u.Vb(69,"label",28),u.Hc(70,"Category"),u.Ub(),u.Vb(71,"select",29),u.Vb(72,"option",30),u.Hc(73,"Please Pick"),u.Ub(),u.Vb(74,"option",31),u.Hc(75,"ICT"),u.Ub(),u.Vb(76,"option",32),u.Hc(77,"Asset Maintenance"),u.Ub(),u.Vb(78,"option",33),u.Hc(79,"Asset"),u.Ub(),u.Vb(80,"option",34),u.Hc(81,"Category 1"),u.Ub(),u.Vb(82,"option",35),u.Hc(83,"Category 2"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(84,"div",26),u.Vb(85,"div",27),u.Vb(86,"label",28),u.Hc(87,"RFx Date"),u.Ub(),u.Qb(88,"input",37),u.Ub(),u.Ub(),u.Vb(89,"div",26),u.Vb(90,"div",27),u.Vb(91,"label",28),u.Hc(92,"Announcement Status"),u.Ub(),u.Vb(93,"select",29),u.Vb(94,"option",30),u.Hc(95,"Please Pick"),u.Ub(),u.Vb(96,"option",31),u.Hc(97,"Opened"),u.Ub(),u.Vb(98,"option",32),u.Hc(99,"Closed"),u.Ub(),u.Vb(100,"option",33),u.Hc(101,"Draft"),u.Ub(),u.Vb(102,"option",34),u.Hc(103,"Archived"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(104,"div",38),u.Vb(105,"button",39),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(106," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(107,"div",25),u.Vb(108,"div",16),u.Vb(109,"div",17),u.Vb(110,"div",18),u.Vb(111,"div",40),u.Vb(112,"h5",41),u.Hc(113,"Call List"),u.Ub(),u.Ub(),u.Vb(114,"div",42),u.Vb(115,"button",39),u.dc("click",(function(t){u.yc(i);var r=u.wc(183);return e.openModal(r)})),u.Hc(116," New Call "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(117,"div",21),u.Vb(118,"div",43),u.Vb(119,"div",14),u.Vb(120,"div",44),u.Vb(121,"div",45),u.Vb(122,"label"),u.Hc(123," Show "),u.Vb(124,"select",46),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(125,"option",47),u.Hc(126,"5"),u.Ub(),u.Vb(127,"option",48),u.Hc(128,"10"),u.Ub(),u.Vb(129,"option",49),u.Hc(130,"15"),u.Ub(),u.Vb(131,"option",50),u.Hc(132,"All"),u.Ub(),u.Ub(),u.Hc(133," records "),u.Ub(),u.Ub(),u.Ub(),u.Vb(134,"div",44),u.Vb(135,"div",51),u.Vb(136,"label"),u.Vb(137,"input",52),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(138,"ngx-datatable",53),u.Vb(139,"ngx-datatable-column"),u.Fc(140,_b,2,0,"ng-template",54),u.Fc(141,xb,1,1,"ng-template",55),u.Ub(),u.Vb(142,"ngx-datatable-column"),u.Fc(143,wb,2,0,"ng-template",54),u.Fc(144,Vb,1,1,"ng-template",55),u.Ub(),u.Vb(145,"ngx-datatable-column"),u.Fc(146,Cb,2,0,"ng-template",54),u.Fc(147,Pb,1,1,"ng-template",55),u.Ub(),u.Vb(148,"ngx-datatable-column"),u.Fc(149,Ub,2,0,"ng-template",54),u.Fc(150,Ab,4,4,"ng-template",55),u.Ub(),u.Vb(151,"ngx-datatable-column"),u.Fc(152,Ob,2,0,"ng-template",54),u.Fc(153,Db,6,0,"ng-template",55),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(154,"div",25),u.Vb(155,"div",56),u.Vb(156,"div",17),u.Vb(157,"div",18),u.Vb(158,"div",19),u.Vb(159,"h5",57),u.Hc(160,"RFx Event"),u.Ub(),u.Ub(),u.Vb(161,"div",58),u.Vb(162,"a",59),u.dc("click",(function(t){return e.calendar.next()})),u.Qb(163,"i",60),u.Ub(),u.Vb(164,"a",61),u.dc("click",(function(t){return e.calendar.prev()})),u.Qb(165,"i",62),u.Ub(),u.Vb(166,"a",63),u.dc("click",(function(t){return e.changeView("dayGridMonth")})),u.Hc(167," Month "),u.Ub(),u.Vb(168,"a",64),u.dc("click",(function(t){return e.changeView("dayGridWeek")})),u.Hc(169," Week "),u.Ub(),u.Vb(170,"a",65),u.dc("click",(function(t){return e.changeView("dayGridDay")})),u.Hc(171," Day "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(172,"div",66),u.Qb(173,"div",67),u.Ub(),u.Ub(),u.Vb(174,"div",68),u.Vb(175,"div",69),u.Fc(176,Fb,29,18,"ng-template",null,70,u.Gc),u.Ub(),u.Ub(),u.Vb(178,"div",71),u.Vb(179,"div",69),u.Fc(180,Eb,35,20,"ng-template",null,72,u.Gc),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(182,zb,253,8,"ng-template",null,73,u.Gc)}2&t&&(u.Cb(125),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,s.v,s.n,s.o,n.j,ie,te,s.g,qt,re,ne],styles:[""]}),t}(),Xb=i("f07x"),Wb=["staticTabs"];function Gb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," PR Category "),u.Ub())}function Yb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function qb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," PR Date "),u.Ub())}function Kb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.date," ")}function Jb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," PR Approval Due Date "),u.Ub())}function Zb(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.duedate," ")}function Qb(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"PR Status"),u.Ub())}function $b(t,e){1&t&&(u.Vb(0,"span",72),u.Hc(1,"Active"),u.Ub())}function tm(t,e){1&t&&(u.Vb(0,"span",73),u.Hc(1,"Draft"),u.Ub())}function em(t,e){1&t&&(u.Vb(0,"span",74),u.Hc(1,"Archived"),u.Ub())}function im(t,e){1&t&&(u.Vb(0,"span",75),u.Hc(1,"Pending"),u.Ub())}function rm(t,e){1&t&&(u.Vb(0,"span",76),u.Hc(1,"Closed"),u.Ub())}function nm(t,e){if(1&t&&(u.Fc(0,$b,2,0,"span",67),u.Fc(1,tm,2,0,"span",68),u.Fc(2,em,2,0,"span",69),u.Fc(3,im,2,0,"span",70),u.Fc(4,rm,2,0,"span",71)),2&t){var i=e.row;u.nc("ngIf","opened"==i.status),u.Cb(1),u.nc("ngIf","draft"==i.status),u.Cb(1),u.nc("ngIf","archived"==i.status),u.Cb(1),u.nc("ngIf","pending"==i.status),u.Cb(1),u.nc("ngIf","closed"==i.status)}}function am(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Action "),u.Ub())}function om(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",77),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(192);return e.openModal(r)})),u.Vb(1,"span",78),u.Qb(2,"i",79),u.Ub(),u.Ub(),u.Vb(3,"button",80),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",78),u.Qb(5,"i",81),u.Ub(),u.Ub()}}function sm(t,e){1&t&&u.Hc(0," PR General Info ")}function lm(t,e){1&t&&u.Hc(0," Budget Reference ")}function cm(t,e){1&t&&u.Hc(0," PR Review ")}function um(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",82),u.Vb(1,"h6",83),u.Hc(2," Add New PR "),u.Ub(),u.Vb(3,"button",84),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",85),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",86),u.Vb(7,"mat-horizontal-stepper",null,87),u.Vb(9,"mat-step",88),u.Vb(10,"form",89),u.Fc(11,sm,1,0,"ng-template",90),u.Vb(12,"div",14),u.Vb(13,"div",15),u.Vb(14,"div",38),u.Vb(15,"label",39),u.Hc(16,"PR ID"),u.Ub(),u.Qb(17,"input",91),u.Ub(),u.Ub(),u.Vb(18,"div",15),u.Vb(19,"div",38),u.Vb(20,"label",39),u.Hc(21,"Category"),u.Ub(),u.Vb(22,"select",40),u.Vb(23,"option",41),u.Hc(24,"Please Pick"),u.Ub(),u.Vb(25,"option",42),u.Hc(26,"Category 1"),u.Ub(),u.Vb(27,"option",43),u.Hc(28,"Category 2"),u.Ub(),u.Vb(29,"option",44),u.Hc(30,"Category 3"),u.Ub(),u.Vb(31,"option",45),u.Hc(32,"Category 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(33,"div",15),u.Vb(34,"div",38),u.Vb(35,"label",39),u.Hc(36,"PR Date"),u.Ub(),u.Qb(37,"input",92),u.Ub(),u.Ub(),u.Vb(38,"div",15),u.Vb(39,"div",38),u.Vb(40,"label",39),u.Hc(41,"PR Due Date"),u.Ub(),u.Qb(42,"input",92),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div"),u.Vb(44,"button",93),u.Hc(45," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"mat-step",88),u.Vb(47,"form",89),u.Fc(48,lm,1,0,"ng-template",90),u.Vb(49,"div",14),u.Vb(50,"div",15),u.Vb(51,"div",38),u.Vb(52,"label",39),u.Hc(53," Budget Category "),u.Ub(),u.Vb(54,"select",40),u.Vb(55,"option",41),u.Hc(56,"Please Pick"),u.Ub(),u.Vb(57,"option",42),u.Hc(58,"Category 1"),u.Ub(),u.Vb(59,"option",43),u.Hc(60,"Category 2"),u.Ub(),u.Vb(61,"option",44),u.Hc(62,"Category 3"),u.Ub(),u.Vb(63,"option",45),u.Hc(64,"Category 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(65,"div",15),u.Vb(66,"div",38),u.Vb(67,"label",39),u.Hc(68," Budget Status "),u.Ub(),u.Vb(69,"select",40),u.Vb(70,"option",41),u.Hc(71,"Please Pick"),u.Ub(),u.Vb(72,"option",42),u.Hc(73,"Active"),u.Ub(),u.Vb(74,"option",43),u.Hc(75,"Pending"),u.Ub(),u.Vb(76,"option",44),u.Hc(77,"Terminated"),u.Ub(),u.Vb(78,"option",45),u.Hc(79,"Archived"),u.Ub(),u.Vb(80,"option",47),u.Hc(81,"Draft"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(82,"div",15),u.Vb(83,"div",38),u.Vb(84,"label",39),u.Hc(85,"Allocation (RM)"),u.Ub(),u.Qb(86,"input",94),u.Ub(),u.Ub(),u.Ub(),u.Vb(87,"div"),u.Vb(88,"button",95),u.Hc(89," Back "),u.Ub(),u.Vb(90,"button",93),u.Hc(91," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(92,"mat-step",88),u.Vb(93,"form",89),u.Fc(94,cm,1,0,"ng-template",90),u.Vb(95,"div",14),u.Vb(96,"div",36),u.Vb(97,"div",16),u.Vb(98,"div",96),u.Vb(99,"h5",97),u.Hc(100,"Activity feed"),u.Ub(),u.Ub(),u.Vb(101,"div",98),u.Vb(102,"div",99),u.Vb(103,"a",9),u.Qb(104,"img",100),u.Ub(),u.Vb(105,"div",101),u.Vb(106,"a",102),u.Hc(107," John Snow "),u.Ub(),u.Vb(108,"small",103),u.Hc(109," 3 days ago "),u.Ub(),u.Ub(),u.Ub(),u.Vb(110,"div",104),u.Vb(111,"button",105),u.Vb(112,"span",78),u.Qb(113,"i",106),u.Ub(),u.Vb(114,"span",107),u.Hc(115," Follow "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(116,"div",21),u.Vb(117,"p",108),u.Hc(118," Personal profiles are the perfect way for you to grab their attention and persuade recruiters to continue reading your CV because you\u2019re telling them from the off exactly why they should hire you. "),u.Ub(),u.Vb(119,"div",109),u.Vb(120,"div",110),u.Vb(121,"div",111),u.Vb(122,"a",112),u.Qb(123,"i",113),u.Vb(124,"span",114),u.Hc(125," 150 "),u.Ub(),u.Ub(),u.Vb(126,"a",9),u.Qb(127,"i",115),u.Vb(128,"span",114),u.Hc(129," 36 "),u.Ub(),u.Ub(),u.Vb(130,"a",9),u.Qb(131,"i",116),u.Vb(132,"span",114),u.Hc(133," 12 "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(134,"div",117),u.Vb(135,"div",118),u.Vb(136,"div",119),u.Vb(137,"a",120),u.Qb(138,"img",121),u.Ub(),u.Vb(139,"a",122),u.Qb(140,"img",123),u.Ub(),u.Vb(141,"a",124),u.Qb(142,"img",123),u.Ub(),u.Ub(),u.Vb(143,"small",125),u.Hc(144," and 30+ more "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(145,"div",126),u.Vb(146,"div",127),u.Qb(147,"img",128),u.Vb(148,"div",129),u.Vb(149,"div",130),u.Vb(150,"h6",131),u.Hc(151,"Michael Lewis"),u.Ub(),u.Vb(152,"p",132),u.Hc(153," Cras sit amet nibh libero nulla vel metus scelerisque ante sollicitudin. Cras purus odio vestibulum in vulputate viverra turpis. "),u.Ub(),u.Vb(154,"div",111),u.Vb(155,"a",112),u.Qb(156,"i",113),u.Vb(157,"span",114),u.Hc(158," 3 likes "),u.Ub(),u.Ub(),u.Vb(159,"a",9),u.Qb(160,"i",116),u.Vb(161,"span",114),u.Hc(162," 2 shares "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(163,"div",127),u.Qb(164,"img",128),u.Vb(165,"div",129),u.Vb(166,"div",130),u.Vb(167,"h6",131),u.Hc(168,"Jessica Stones"),u.Ub(),u.Vb(169,"p",132),u.Hc(170," Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. "),u.Ub(),u.Vb(171,"div",111),u.Vb(172,"a",112),u.Qb(173,"i",113),u.Vb(174,"span",114),u.Hc(175," 10 likes "),u.Ub(),u.Ub(),u.Vb(176,"a",9),u.Qb(177,"i",116),u.Vb(178,"span",114),u.Hc(179," 1 share "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(180,"hr"),u.Vb(181,"div",133),u.Qb(182,"img",134),u.Vb(183,"div",129),u.Vb(184,"form"),u.Qb(185,"textarea",135),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(186,"div"),u.Vb(187,"button",95),u.Hc(188," Back "),u.Ub(),u.Vb(189,"button",136),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("sent")})),u.Hc(190," Send Notification to Vendor "),u.Ub(),u.Vb(191,"button",137),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("ongoing printing")})),u.Hc(192," Print "),u.Ub(),u.Vb(193,"button",138),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("rejected")})),u.Hc(194," Reject "),u.Ub(),u.Vb(195,"button",139),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal1("approved")})),u.Hc(196," Approve "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(197,"div",140),u.Vb(198,"button",141),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(199," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(36),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup),u.Cb(45),u.nc("stepControl",r.thirdFormGroup),u.Cb(1),u.nc("formGroup",r.thirdFormGroup)}}var hm=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),pm=function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",date:"2011/04/25",salary:"$320,800",type:"RFI",category:"Category 1",status:"opened",duedate:"2012/06/25"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",date:"2011/07/25",salary:"$170,750",type:"RFP",category:"Category 3",status:"pending",duedate:"2015/03/21"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"RFQ",category:"Category 2",status:"archived",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"Direct Quote",category:"Category 4",status:"closed",duedate:"2013/06/13"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"Category 3",category:"Category 3",status:"draft",duedate:"2011/02/03"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",date:"2011/07/25",salary:"$170,750",type:"Forward Auctio",category:"Category 3",status:"closed",duedate:"2012/09/30"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"RFI",category:"Category 1",status:"pending",duedate:"2009/11/25"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"RFP",category:"Category 2",status:"closed",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"RFQ",category:"Category 1",status:"opened",duedate:"2014/06/12"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"Reverse Auction",category:"Category 3",status:"draft",duedate:"2011/07/25"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",date:"2011/04/25",salary:"$320,800",type:"Forward Auction",category:"Category 1",status:"pending",duedate:"2011/11/30"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$86,000",type:"Direct Quote",category:"Category 4",status:"opened",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",date:"2012/03/29",salary:"$433,060",type:"RFI",category:"Category 2",status:"draft",duedate:"2014/03/25"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",date:"2008/11/28",salary:"$162,700",type:"RFQ",category:"Category 4",status:"draft",duedate:"2011/07/25"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",date:"2009/01/12",salary:"$385,750",type:"RFP",category:"Category 1",status:"opened",duedate:"2011/07/25"}],this.SelectionType=hm,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.selectTab=function(t){this.staticTabs.tabs[t].active=!0},t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartDivAdminProManage1(),t.getChartDivAdminProManage2(),t.getChartDivAdminProManage3()}))},t.prototype.getChartDivAdminProManage1=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadminprocurementmanagement1",Tl);t.scrollbarX=new as,t.data=[{country:"January",visits:3025},{country:"February",visits:1882},{country:"March",visits:1809},{country:"April",visits:1322},{country:"May",visits:1122},{country:"June",visits:1114},{country:"July",visits:984},{country:"August",visits:711},{country:"September",visits:665},{country:"October",visits:580},{country:"November",visits:443},{country:"December",visits:441}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartDivAdminProManage2=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadminprocurementmanagement2",tc);t.data=[{country:"Category 1",litres:59},{country:"Category 2",litres:39},{country:"Category 3",litres:21},{country:"Category 4",litres:16}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeWidth=2,e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,this.chart2=t},t.prototype.getChartDivAdminProManage3=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadminprocurementmanagement3",rc);t.hiddenState.properties.opacity=0,t.legend=new Js,t.data=[{country:"Active",litres:59},{country:"Pending",litres:30},{country:"Terminated",litres:21},{country:"Archived",litres:16},{country:"Draft",litres:9}];var e=t.series.push(new ic);e.dataFields.value="litres",e.dataFields.category="country",this.chart3=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.successSwal1=function(){vu.a.fire({title:"Success",text:"Successfully !",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",s.t.required]})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-procurement-management"]],viewQuery:function(t,e){var i;1&t&&u.Mc(Wb,!0),2&t&&u.vc(i=u.ec())&&(e.staticTabs=i.first)},decls:193,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-12"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartdivadminprocurementmanagement1",1,"amchart"],["id","chartdivadminprocurementmanagement2",1,"amchart"],["id","chartdivadminprocurementmanagement3",1,"amchart"],[1,"col-md-6"],[1,"card","card-stats"],[1,"card-body","bg-info"],[1,"trycent","col"],[1,"card-title","display-1","text-uppercase","mb-0"],[1,"h5","font-weight-bold","mb-0"],[1,"mt-3","mb-0"],[1,"text-yellow"],[1,"fas","fa-exclamation-triangle"],[1,"text-nowrap"],[1,"col-xl-12"],[1,"col-lg-3"],[1,"form-group"],[1,"form-control-label"],[1,"form-control"],["hidden","","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["placeholder","2021-01-01","type","date",1,"form-control"],["value","5"],[1,"col-lg-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-7"],[1,"h3","m-0"],[1,"col-5","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["addNew",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-primary",4,"ngIf"],["class","badge badge-pill badge-info",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-primary"],[1,"badge","badge-pill","badge-info"],[1,"badge","badge-pill","badge-warning"],[1,"badge","badge-pill","badge-danger"],["type","button","title","View",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["placeholder","Type here...","type","text",1,"form-control"],["placeholder","Type here...","type","date",1,"form-control"],["mat-button","","matStepperNext","",1,"btn","btn-default"],["placeholder","0000","type","number",1,"form-control"],["mat-button","","matStepperPrevious","",1,"btn","btn-danger"],[1,"card-header"],[1,"h3","mb-0"],[1,"card-header","d-flex","align-items-center"],[1,"d-flex","align-items-center"],["src","assets/img/default/avatar.png",1,"avatar"],[1,"mx-3"],["href","javascript:void(0)",1,"text-dark","font-weight-600","text-sm"],[1,"d-block","text-muted"],[1,"text-right","ml-auto"],["type","button",1,"btn","btn-sm","btn-primary","btn-icon"],[1,"ni","ni-fat-add"],[1,"btn-inner--text"],[1,"mb-4"],[1,"row","align-items-center","my-3","pb-3","border-bottom"],[1,"col-sm-6"],[1,"icon-actions"],["href","javascript:void(0)",1,"like","active"],[1,"ni","ni-like-2"],[1,"text-muted"],[1,"ni","ni-chat-round"],[1,"ni","ni-curved-next"],[1,"col-sm-6","d-none","d-sm-block"],[1,"d-flex","align-items-center","justify-content-sm-end"],[1,"avatar-group"],["tooltip","Jessica Rowland","placement","top","href","javascript:void(0)",1,"avatar","avatar-xs","rounded-circle"],["alt","Image placeholder","src","assets/img/default/avatar.png"],["tooltip","Audrey Love","placement","top","href","javascript:void(0)",1,"avatar","avatar-xs","rounded-circle"],["alt","Image placeholder","src","assets/img/default/avatar.png",1,"rounded-circle"],["tooltip","Michael Lewis","placement","top","href","javascript:void(0)",1,"avatar","avatar-xs","rounded-circle"],[1,"pl-2","font-weight-bold"],[1,"mb-1"],[1,"media","media-comment"],["alt","Image placeholder","src","assets/img/default/avatar.png",1,"avatar","avatar-lg","media-comment-avatar","rounded-circle"],[1,"media-body"],[1,"media-comment-text"],[1,"h5","mt-0"],[1,"text-sm","lh-160"],[1,"media","align-items-center"],["alt","Image placeholder","src","assets/img/default/avatar.png",1,"avatar","avatar-lg","rounded-circle","mr-4"],["placeholder","Write your comment","rows","3",1,"form-control"],["mat-button","",1,"btn","btn-default",3,"click"],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",1,"btn","btn-success",3,"click"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Procurement Management "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Procurement Management "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h5",20),u.Hc(25,"No. of PR per Month"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",21),u.Vb(27,"div",22),u.Qb(28,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(29,"div",15),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h5",20),u.Hc(35,"PR Category"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",21),u.Vb(37,"div",22),u.Qb(38,"div",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",15),u.Vb(40,"div",16),u.Vb(41,"div",17),u.Vb(42,"div",18),u.Vb(43,"div",19),u.Vb(44,"h5",20),u.Hc(45,"PR Status"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",21),u.Vb(47,"div",22),u.Qb(48,"div",25),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",15),u.Vb(50,"div",16),u.Vb(51,"div",17),u.Vb(52,"div",18),u.Vb(53,"div",19),u.Vb(54,"h5",20),u.Hc(55,"PR to Review"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",21),u.Vb(57,"div",14),u.Vb(58,"div",26),u.Vb(59,"div",27),u.Vb(60,"div",28),u.Vb(61,"div",14),u.Vb(62,"div",29),u.Vb(63,"h1",30),u.Hc(64," 6 "),u.Ub(),u.Vb(65,"span",31),u.Hc(66," PR without milestone "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(67,"div",26),u.Vb(68,"div",27),u.Vb(69,"div",28),u.Vb(70,"div",14),u.Vb(71,"div",29),u.Vb(72,"h1",30),u.Hc(73," 10 "),u.Ub(),u.Vb(74,"span",31),u.Hc(75," PR without tasks "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(76,"div",29),u.Vb(77,"p",32),u.Vb(78,"span",33),u.Qb(79,"i",34),u.Ub(),u.Vb(80,"span",35),u.Hc(81," You have "),u.Vb(82,"strong"),u.Hc(83,"6 PR"),u.Ub(),u.Hc(84," without future milestones and "),u.Qb(85,"br"),u.Vb(86,"strong"),u.Hc(87,"10 PR"),u.Ub(),u.Hc(88," without assigned tasks "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",36),u.Vb(90,"div",16),u.Vb(91,"div",17),u.Vb(92,"div",18),u.Vb(93,"div",19),u.Vb(94,"h5",20),u.Hc(95,"Find PR"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(96,"div",21),u.Vb(97,"div",14),u.Vb(98,"div",37),u.Vb(99,"div",38),u.Vb(100,"label",39),u.Hc(101,"PR Category"),u.Ub(),u.Vb(102,"select",40),u.Vb(103,"option",41),u.Hc(104,"Please Pick"),u.Ub(),u.Vb(105,"option",42),u.Hc(106,"Category 1"),u.Ub(),u.Vb(107,"option",43),u.Hc(108,"Category 2"),u.Ub(),u.Vb(109,"option",44),u.Hc(110,"Category 3"),u.Ub(),u.Vb(111,"option",45),u.Hc(112,"Category 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(113,"div",37),u.Vb(114,"div",38),u.Vb(115,"label",39),u.Hc(116,"PR Date"),u.Ub(),u.Qb(117,"input",46),u.Ub(),u.Ub(),u.Vb(118,"div",37),u.Vb(119,"div",38),u.Vb(120,"label",39),u.Hc(121,"PR Approval Due Date"),u.Ub(),u.Qb(122,"input",46),u.Ub(),u.Ub(),u.Vb(123,"div",37),u.Vb(124,"div",38),u.Vb(125,"label",39),u.Hc(126,"PR Status"),u.Ub(),u.Vb(127,"select",40),u.Vb(128,"option",41),u.Hc(129,"Please Pick"),u.Ub(),u.Vb(130,"option",42),u.Hc(131,"Active"),u.Ub(),u.Vb(132,"option",43),u.Hc(133,"Pending"),u.Ub(),u.Vb(134,"option",44),u.Hc(135,"Draft"),u.Ub(),u.Vb(136,"option",45),u.Hc(137,"Archived"),u.Ub(),u.Vb(138,"option",47),u.Hc(139,"Terminated"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(140,"div",48),u.Vb(141,"button",49),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(142," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(143,"div",36),u.Vb(144,"div",16),u.Vb(145,"div",17),u.Vb(146,"div",18),u.Vb(147,"div",50),u.Vb(148,"h5",51),u.Hc(149,"Call List"),u.Ub(),u.Ub(),u.Vb(150,"div",52),u.Vb(151,"button",49),u.dc("click",(function(t){u.yc(i);var r=u.wc(192);return e.openModal(r)})),u.Hc(152," New PR "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(153,"div",21),u.Vb(154,"div",53),u.Vb(155,"div",14),u.Vb(156,"div",54),u.Vb(157,"div",55),u.Vb(158,"label"),u.Hc(159," Show "),u.Vb(160,"select",56),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(161,"option",57),u.Hc(162,"5"),u.Ub(),u.Vb(163,"option",58),u.Hc(164,"10"),u.Ub(),u.Vb(165,"option",59),u.Hc(166,"15"),u.Ub(),u.Vb(167,"option",60),u.Hc(168,"All"),u.Ub(),u.Ub(),u.Hc(169," records "),u.Ub(),u.Ub(),u.Ub(),u.Vb(170,"div",54),u.Vb(171,"div",61),u.Vb(172,"label"),u.Vb(173,"input",62),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(174,"ngx-datatable",63),u.Vb(175,"ngx-datatable-column"),u.Fc(176,Gb,2,0,"ng-template",64),u.Fc(177,Yb,1,1,"ng-template",65),u.Ub(),u.Vb(178,"ngx-datatable-column"),u.Fc(179,qb,2,0,"ng-template",64),u.Fc(180,Kb,1,1,"ng-template",65),u.Hc(181,"date "),u.Ub(),u.Vb(182,"ngx-datatable-column"),u.Fc(183,Jb,2,0,"ng-template",64),u.Fc(184,Zb,1,1,"ng-template",65),u.Ub(),u.Vb(185,"ngx-datatable-column"),u.Fc(186,Qb,2,0,"ng-template",64),u.Fc(187,nm,5,5,"ng-template",65),u.Ub(),u.Vb(188,"ngx-datatable-column"),u.Fc(189,am,2,0,"ng-template",64),u.Fc(190,om,6,0,"ng-template",65),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(191,um,200,6,"ng-template",null,66,u.Gc)}2&t&&(u.Cb(161),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,ie,te,s.v,s.n,s.g,qt,re,ne,Xb.a,s.o],styles:[".trycent[_ngcontent-%COMP%]{text-align:center}.card-body[_ngcontent-%COMP%]{border-radius:10px!important}"]}),t}(),dm=["staticTabs"];function fm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Type of Tender"),u.Ub())}function bm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.type," ")}function mm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Tender Category "),u.Ub())}function gm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.category," ")}function ym(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Tender Date "),u.Ub())}function vm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.date," ")}function _m(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Tender Duration (Month) "),u.Ub())}function xm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.netMove," ")}function wm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Announcement Status"),u.Ub())}function Vm(t,e){1&t&&(u.Vb(0,"span",63),u.Hc(1,"Active"),u.Ub())}function Cm(t,e){1&t&&(u.Vb(0,"span",64),u.Hc(1,"Draft"),u.Ub())}function Pm(t,e){1&t&&(u.Vb(0,"span",65),u.Hc(1,"Archived"),u.Ub())}function Um(t,e){1&t&&(u.Vb(0,"span",66),u.Hc(1,"Pending"),u.Ub())}function Sm(t,e){1&t&&(u.Vb(0,"span",67),u.Hc(1,"Closed"),u.Ub())}function Tm(t,e){if(1&t&&(u.Fc(0,Vm,2,0,"span",58),u.Fc(1,Cm,2,0,"span",59),u.Fc(2,Pm,2,0,"span",60),u.Fc(3,Um,2,0,"span",61),u.Fc(4,Sm,2,0,"span",62)),2&t){var i=e.row;u.nc("ngIf","opened"==i.status),u.Cb(1),u.nc("ngIf","draft"==i.status),u.Cb(1),u.nc("ngIf","archived"==i.status),u.Cb(1),u.nc("ngIf","pending"==i.status),u.Cb(1),u.nc("ngIf","closed"==i.status)}}function km(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1," Action "),u.Ub())}function Im(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",68),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(175);return e.openModal(r)})),u.Vb(1,"span",69),u.Qb(2,"i",70),u.Ub(),u.Ub(),u.Vb(3,"button",71),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",69),u.Qb(5,"i",72),u.Ub(),u.Ub()}}function Am(t,e){1&t&&u.Hc(0," General Info ")}function Om(t,e){1&t&&u.Hc(0," Submission Details ")}function Dm(t,e){1&t&&u.Hc(0," Evaluation ")}function Mm(t,e){1&t&&u.Hc(0," Report Submission ")}function Fm(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",73),u.Vb(1,"h6",74),u.Hc(2," Add New Tender "),u.Ub(),u.Vb(3,"button",75),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",76),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",77),u.Vb(7,"mat-horizontal-stepper",null,78),u.Vb(9,"mat-step",79),u.Vb(10,"form",80),u.Fc(11,Am,1,0,"ng-template",81),u.Vb(12,"div",14),u.Vb(13,"div",15),u.Vb(14,"div",29),u.Vb(15,"label",30),u.Hc(16,"Tender Category"),u.Ub(),u.Vb(17,"select",31),u.Vb(18,"option",32),u.Hc(19,"Please Pick"),u.Ub(),u.Vb(20,"option",33),u.Hc(21,"Category 1"),u.Ub(),u.Vb(22,"option",34),u.Hc(23,"Category 2"),u.Ub(),u.Vb(24,"option",35),u.Hc(25,"Category 3"),u.Ub(),u.Vb(26,"option",36),u.Hc(27,"Category 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(28,"div",15),u.Vb(29,"div",29),u.Vb(30,"label",30),u.Hc(31,"Tender Opening Date"),u.Ub(),u.Qb(32,"input",82),u.Ub(),u.Ub(),u.Vb(33,"div",15),u.Vb(34,"div",29),u.Vb(35,"label",30),u.Hc(36,"Tender Closing Date"),u.Ub(),u.Qb(37,"input",82),u.Ub(),u.Ub(),u.Vb(38,"div",15),u.Vb(39,"div",29),u.Vb(40,"label",30),u.Hc(41,"Budget Category"),u.Ub(),u.Vb(42,"select",31),u.Vb(43,"option",32),u.Hc(44,"Please Pick"),u.Ub(),u.Vb(45,"option",33),u.Hc(46,"Budget Category 2021/1"),u.Ub(),u.Vb(47,"option",34),u.Hc(48,"Budget Category 2021/2"),u.Ub(),u.Vb(49,"option",35),u.Hc(50,"Budget Category 2021/3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(51,"div"),u.Vb(52,"button",83),u.Hc(53," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(54,"mat-step",79),u.Vb(55,"form",80),u.Fc(56,Om,1,0,"ng-template",81),u.Vb(57,"div",14),u.Vb(58,"div",15),u.Vb(59,"div",29),u.Vb(60,"label",30),u.Hc(61," Project Collaborator "),u.Ub(),u.Qb(62,"input",84),u.Ub(),u.Ub(),u.Vb(63,"div",15),u.Vb(64,"div",29),u.Vb(65,"label",30),u.Hc(66," Contact Details "),u.Ub(),u.Qb(67,"input",85),u.Ub(),u.Ub(),u.Vb(68,"div",15),u.Vb(69,"div",29),u.Vb(70,"label",30),u.Hc(71," Upload Attachment "),u.Ub(),u.Vb(72,"div",86),u.Qb(73,"input",87),u.Vb(74,"label",88),u.Hc(75,"Select file"),u.Ub(),u.Ub(),u.Vb(76,"select",89),u.Vb(77,"option",32),u.Hc(78,"Please Pick"),u.Ub(),u.Vb(79,"option",33),u.Hc(80,".pdf"),u.Ub(),u.Vb(81,"option",34),u.Hc(82,".docx"),u.Ub(),u.Vb(83,"option",35),u.Hc(84,".xlsx"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(85,"div"),u.Vb(86,"button",90),u.Hc(87," Back "),u.Ub(),u.Vb(88,"button",83),u.Hc(89," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(90,"mat-step",79),u.Vb(91,"form",80),u.Fc(92,Dm,1,0,"ng-template",81),u.Vb(93,"div",14),u.Vb(94,"div",15),u.Vb(95,"div",29),u.Vb(96,"label",30),u.Hc(97," Tender Proposal Opening Date"),u.Ub(),u.Qb(98,"input",82),u.Ub(),u.Ub(),u.Vb(99,"div",15),u.Vb(100,"div",29),u.Vb(101,"label",30),u.Hc(102," Assign Tender Opening Officers"),u.Ub(),u.Vb(103,"select",31),u.Vb(104,"option",32),u.Hc(105,"Please Pick"),u.Ub(),u.Vb(106,"option",33),u.Hc(107,"Team 1"),u.Ub(),u.Vb(108,"option",34),u.Hc(109,"Team 2"),u.Ub(),u.Vb(110,"option",35),u.Hc(111,"Team 3"),u.Ub(),u.Vb(112,"option",36),u.Hc(113,"Team 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(114,"div",15),u.Vb(115,"div",29),u.Vb(116,"label",30),u.Hc(117," Assign Tender Evaluation Officers"),u.Ub(),u.Vb(118,"select",31),u.Vb(119,"option",32),u.Hc(120,"Please Pick"),u.Ub(),u.Vb(121,"option",33),u.Hc(122,"Team 1"),u.Ub(),u.Vb(123,"option",34),u.Hc(124,"Team 2"),u.Ub(),u.Vb(125,"option",35),u.Hc(126,"Team 3"),u.Ub(),u.Vb(127,"option",36),u.Hc(128,"Team 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(129,"div"),u.Vb(130,"button",90),u.Hc(131," Back "),u.Ub(),u.Vb(132,"button",83),u.Hc(133," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(134,"mat-step",79),u.Vb(135,"form",80),u.Fc(136,Mm,1,0,"ng-template",81),u.Vb(137,"div",14),u.Vb(138,"div",27),u.Vb(139,"div",91),u.Vb(140,"table",92),u.Vb(141,"thead",93),u.Vb(142,"tr"),u.Vb(143,"th",94),u.Hc(144," Vendor "),u.Ub(),u.Vb(145,"th",95),u.Hc(146," Date of Submission "),u.Ub(),u.Vb(147,"th",96),u.Hc(148," Overall Proposal (RM) "),u.Ub(),u.Vb(149,"th",97),u.Hc(150," Technical Compliance "),u.Ub(),u.Ub(),u.Ub(),u.Vb(151,"tbody",98),u.Vb(152,"tr"),u.Vb(153,"th",99),u.Hc(154,"Vendor 1"),u.Ub(),u.Vb(155,"td",100),u.Hc(156,"05/01/2021"),u.Ub(),u.Vb(157,"td",101),u.Hc(158,"1,245,666.00"),u.Ub(),u.Vb(159,"td",102),u.Hc(160,"Yes"),u.Ub(),u.Ub(),u.Vb(161,"tr"),u.Vb(162,"th",99),u.Hc(163,"Vendor 2"),u.Ub(),u.Vb(164,"td",100),u.Hc(165,"23/06/2021"),u.Ub(),u.Vb(166,"td",101),u.Hc(167,"500,000.00"),u.Ub(),u.Vb(168,"td",102),u.Hc(169,"Yes"),u.Ub(),u.Ub(),u.Vb(170,"tr"),u.Vb(171,"th",99),u.Hc(172,"Vendor 3"),u.Ub(),u.Vb(173,"td",100),u.Hc(174,"15/07/2021"),u.Ub(),u.Vb(175,"td",101),u.Hc(176,"900,000.00"),u.Ub(),u.Vb(177,"td",102),u.Hc(178,"No"),u.Ub(),u.Ub(),u.Vb(179,"tr"),u.Vb(180,"th",99),u.Hc(181,"Vendor 4"),u.Ub(),u.Vb(182,"td",100),u.Hc(183,"18/03/2021"),u.Ub(),u.Vb(184,"td",101),u.Hc(185,"1,500,000.00"),u.Ub(),u.Vb(186,"td",102),u.Hc(187,"Yes"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(188,"div"),u.Vb(189,"button",90),u.Hc(190," Back "),u.Ub(),u.Vb(191,"button",103),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("sent")})),u.Hc(192," Send Notification to Vendor "),u.Ub(),u.Vb(193,"button",104),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal1("submitted")})),u.Hc(194," Submit "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(195,"div",105),u.Vb(196,"button",106),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(197," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(44),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup),u.Cb(35),u.nc("stepControl",r.thirdFormGroup),u.Cb(1),u.nc("formGroup",r.thirdFormGroup),u.Cb(43),u.nc("stepControl",r.forthFormGroup),u.Cb(1),u.nc("formGroup",r.forthFormGroup)}}var Em=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),Rm=function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"32",date:"2011/04/25",salary:"$320,800",type:"Opened",category:"Category 1",status:"opened",duedate:"2012/06/25"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"31",date:"2011/07/25",salary:"$170,750",type:"Closed",category:"Category 3",status:"pending",duedate:"2015/03/21"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"42",date:"2009/01/12",salary:"$86,000",type:"Archived",category:"Category 2",status:"archived",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"12",date:"2012/03/29",salary:"$433,060",type:"Draft",category:"Category 4",status:"closed",duedate:"2013/06/13"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"9",date:"2008/11/28",salary:"$162,700",type:"Opened",category:"Category 3",status:"draft",duedate:"2011/02/03"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"34",date:"2011/07/25",salary:"$170,750",type:"Closed",category:"Category 3",status:"closed",duedate:"2012/09/30"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"35",date:"2008/11/28",salary:"$162,700",type:"Archived",category:"Category 1",status:"pending",duedate:"2009/11/25"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"32",date:"2009/01/12",salary:"$86,000",type:"Draft",category:"Category 2",status:"closed",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"22",date:"2012/03/29",salary:"$433,060",type:"Opened",category:"Category 1",status:"opened",duedate:"2014/06/12"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"9",date:"2008/11/28",salary:"$162,700",type:"Closed",category:"Category 3",status:"draft",duedate:"2011/07/25"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"16",date:"2011/04/25",salary:"$320,800",type:"Archived",category:"Category 1",status:"pending",duedate:"2011/11/30"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"42",date:"2009/01/12",salary:"$86,000",type:"Draft",category:"Category 4",status:"opened",duedate:"2011/07/25"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"12",date:"2012/03/29",salary:"$433,060",type:"Opened",category:"Category 2",status:"draft",duedate:"2014/03/25"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"10",date:"2008/11/28",salary:"$162,700",type:"Closed",category:"Category 4",status:"draft",duedate:"2011/07/25"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"46",date:"2009/01/12",salary:"$385,750",type:"Archived",category:"Category 1",status:"opened",duedate:"2011/07/25"}],this.SelectionType=Em,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.selectTab=function(t){this.staticTabs.tabs[t].active=!0},t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartDivAdminTenderManagement1(),t.getChartDivAdminTenderManagement2(),t.getChartDivAdminTenderManagement3(),t.getChartDivAdminTenderManagement4()}))},t.prototype.getChartDivAdminTenderManagement1=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadmintendermanagement1",Tl);t.scrollbarX=new as,t.data=[{country:"January",visits:3025},{country:"February",visits:1882},{country:"March",visits:1809},{country:"April",visits:1322},{country:"May",visits:1122},{country:"June",visits:1114},{country:"July",visits:984},{country:"August",visits:711},{country:"September",visits:665},{country:"October",visits:580},{country:"November",visits:443},{country:"December",visits:441}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart1=t},t.prototype.getChartDivAdminTenderManagement2=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadmintendermanagement2",tc);t.data=[{country:"Category 1",litres:59},{country:"Category 2",litres:39},{country:"Category 3",litres:21},{country:"Category 4",litres:16}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeWidth=2,e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,this.chart2=t},t.prototype.getChartDivAdminTenderManagement3=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadmintendermanagement3",Tl);t.hiddenState.properties.opacity=0,t.data=[{category:"Tender 1",value1:1,value2:5,value3:3},{category:"Tender 2",value1:2,value2:5,value3:3},{category:"Tender 3",value1:3,value2:5,value3:4},{category:"Tender 4",value1:4,value2:5,value3:6},{category:"Tender 5",value1:3,value2:5,value3:4},{category:"Tender 6",value1:2,value2:13,value3:1}],t.colors.step=2,t.padding(30,30,10,30),t.legend=new Js;var e=t.xAxes.push(new Vl);e.dataFields.category="category",e.renderer.grid.template.location=0;var i=t.yAxes.push(new ml);i.min=0,i.max=100,i.strictMinMax=!0,i.calculateTotals=!0,i.renderer.minWidth=50;var r=t.series.push(new wc);r.columns.template.width=ue(80),r.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",r.name="Submitted",r.dataFields.categoryX="category",r.dataFields.valueY="value1",r.dataFields.valueYShow="totalPercent",r.dataItems.template.locations.categoryX=.5,r.stacked=!0,r.tooltip.pointerOrientation="vertical";var n=r.bullets.push(new uc);n.interactionsEnabled=!1,n.label.text="{valueY.totalPercent.formatNumber('#.00')}%",n.label.fill=Rr("#ffffff"),n.locationY=.5;var a=t.series.push(new wc);a.columns.template.width=ue(80),a.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",a.name="Rejected",a.dataFields.categoryX="category",a.dataFields.valueY="value2",a.dataFields.valueYShow="totalPercent",a.dataItems.template.locations.categoryX=.5,a.stacked=!0,a.tooltip.pointerOrientation="vertical";var o=a.bullets.push(new uc);o.interactionsEnabled=!1,o.label.text="{valueY.totalPercent.formatNumber('#.00')}%",o.locationY=.5,o.label.fill=Rr("#ffffff");var s=t.series.push(new wc);s.columns.template.width=ue(80),s.columns.template.tooltipText="{name}: {valueY.totalPercent.formatNumber('#.00')}%",s.name="Pending",s.dataFields.categoryX="category",s.dataFields.valueY="value3",s.dataFields.valueYShow="totalPercent",s.dataItems.template.locations.categoryX=.5,s.stacked=!0,s.tooltip.pointerOrientation="vertical";var l=s.bullets.push(new uc);l.interactionsEnabled=!1,l.label.text="{valueY.totalPercent.formatNumber('#.00')}%",l.locationY=.5,l.label.fill=Rr("#ffffff"),t.scrollbarX=new as,this.chart3=t},t.prototype.getChartDivAdminTenderManagement4=function(){Ns(bh),Ns(fu);var t=Bs("chartdivadmintendermanagement4",rc);t.hiddenState.properties.opacity=0,t.legend=new Js,t.data=[{country:"Approval 1",litres:59},{country:"Approval 2",litres:30},{country:"Final Approval",litres:21},{country:"Rejected",litres:16},{country:"On Hold",litres:9}];var e=t.series.push(new ic);e.dataFields.value="litres",e.dataFields.category="country",this.chart4=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.successSwal1=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",s.t.required]}),this.forthFormGroup=this._formBuilder.group({forthCtrl:["",s.t.required]})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-tender-management"]],viewQuery:function(t,e){var i;1&t&&u.Mc(dm,!0),2&t&&u.vc(i=u.ec())&&(e.staticTabs=i.first)},decls:176,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-12"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-handshake","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartdivadmintendermanagement1",1,"amchart"],["id","chartdivadmintendermanagement2",1,"amchart"],["id","chartdivadmintendermanagement3",1,"amchart"],["id","chartdivadmintendermanagement4",1,"amchart"],[1,"col-xl-12"],[1,"col-lg-3"],[1,"form-group"],[1,"form-control-label"],[1,"form-control"],["hidden","","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["placeholder","2021-01-01","type","date",1,"form-control"],["value","5"],[1,"col-lg-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-7"],[1,"h3","m-0"],[1,"col-5","text-right"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["addNew",""],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-primary",4,"ngIf"],["class","badge badge-pill badge-info",4,"ngIf"],["class","badge badge-pill badge-warning",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-primary"],[1,"badge","badge-pill","badge-info"],[1,"badge","badge-pill","badge-warning"],[1,"badge","badge-pill","badge-danger"],["type","button","title","View",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["placeholder","Type here...","type","date",1,"form-control"],["mat-button","","matStepperNext","",1,"btn","btn-default"],["placeholder","Type here...","type","text",1,"form-control"],["placeholder","Type here...","type","tel",1,"form-control"],[1,"custom-file"],["type","file","lang","en",1,"custom-file-input"],[1,"custom-file-label"],[1,"form-control","mt-2"],["mat-button","","matStepperPrevious","",1,"btn","btn-danger"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["data-sort","vendor","scope","col",1,"sort"],["data-sort","date","scope","col",1,"sort"],["data-sort","proposal","scope","col",1,"sort"],["data-sort","technical","scope","col",1,"sort"],[1,"list"],[1,"vendor"],[1,"date"],[1,"proposal"],[1,"technical"],["mat-button","",1,"btn","btn-default",3,"click"],["mat-button","",1,"btn","btn-success",3,"click"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Tender Management"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Procurement "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Tender Management "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h5",20),u.Hc(25,"No. of Tender Announcement per Month"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",21),u.Vb(27,"div",22),u.Qb(28,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(29,"div",15),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h5",20),u.Hc(35,"Tender Category"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",21),u.Vb(37,"div",22),u.Qb(38,"div",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",15),u.Vb(40,"div",16),u.Vb(41,"div",17),u.Vb(42,"div",18),u.Vb(43,"div",19),u.Vb(44,"h5",20),u.Hc(45,"Vendor's Performance"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",21),u.Vb(47,"div",22),u.Qb(48,"div",25),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",15),u.Vb(50,"div",16),u.Vb(51,"div",17),u.Vb(52,"div",18),u.Vb(53,"div",19),u.Vb(54,"h5",20),u.Hc(55,"Tender Approval"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",21),u.Vb(57,"div",22),u.Qb(58,"div",26),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(59,"div",27),u.Vb(60,"div",16),u.Vb(61,"div",17),u.Vb(62,"div",18),u.Vb(63,"div",19),u.Vb(64,"h5",20),u.Hc(65,"Find Tender"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(66,"div",21),u.Vb(67,"div",14),u.Vb(68,"div",28),u.Vb(69,"div",29),u.Vb(70,"label",30),u.Hc(71,"Type of Tender"),u.Ub(),u.Vb(72,"select",31),u.Vb(73,"option",32),u.Hc(74,"Please Pick"),u.Ub(),u.Vb(75,"option",33),u.Hc(76,"Open"),u.Ub(),u.Vb(77,"option",34),u.Hc(78,"Draft"),u.Ub(),u.Vb(79,"option",35),u.Hc(80,"Archived"),u.Ub(),u.Vb(81,"option",36),u.Hc(82,"Closed"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(83,"div",28),u.Vb(84,"div",29),u.Vb(85,"label",30),u.Hc(86,"Tender Category"),u.Ub(),u.Vb(87,"select",31),u.Vb(88,"option",32),u.Hc(89,"Please Pick"),u.Ub(),u.Vb(90,"option",33),u.Hc(91,"Category 1"),u.Ub(),u.Vb(92,"option",34),u.Hc(93,"Category 2"),u.Ub(),u.Vb(94,"option",35),u.Hc(95,"Category 3"),u.Ub(),u.Vb(96,"option",36),u.Hc(97,"Category 4"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(98,"div",28),u.Vb(99,"div",29),u.Vb(100,"label",30),u.Hc(101,"Tender Date"),u.Ub(),u.Qb(102,"input",37),u.Ub(),u.Ub(),u.Vb(103,"div",28),u.Vb(104,"div",29),u.Vb(105,"label",30),u.Hc(106,"Announcement Status"),u.Ub(),u.Vb(107,"select",31),u.Vb(108,"option",32),u.Hc(109,"Please Pick"),u.Ub(),u.Vb(110,"option",33),u.Hc(111,"Active"),u.Ub(),u.Vb(112,"option",34),u.Hc(113,"Pending"),u.Ub(),u.Vb(114,"option",35),u.Hc(115,"Draft"),u.Ub(),u.Vb(116,"option",36),u.Hc(117,"Archived"),u.Ub(),u.Vb(118,"option",38),u.Hc(119,"Terminated"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(120,"div",39),u.Vb(121,"button",40),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(122," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(123,"div",27),u.Vb(124,"div",16),u.Vb(125,"div",17),u.Vb(126,"div",18),u.Vb(127,"div",41),u.Vb(128,"h5",42),u.Hc(129,"Call List"),u.Ub(),u.Ub(),u.Vb(130,"div",43),u.Vb(131,"button",40),u.dc("click",(function(t){u.yc(i);var r=u.wc(175);return e.openModal(r)})),u.Hc(132," New Tender "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(133,"div",21),u.Vb(134,"div",44),u.Vb(135,"div",14),u.Vb(136,"div",45),u.Vb(137,"div",46),u.Vb(138,"label"),u.Hc(139," Show "),u.Vb(140,"select",47),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(141,"option",48),u.Hc(142,"5"),u.Ub(),u.Vb(143,"option",49),u.Hc(144,"10"),u.Ub(),u.Vb(145,"option",50),u.Hc(146,"15"),u.Ub(),u.Vb(147,"option",51),u.Hc(148,"All"),u.Ub(),u.Ub(),u.Hc(149," records "),u.Ub(),u.Ub(),u.Ub(),u.Vb(150,"div",45),u.Vb(151,"div",52),u.Vb(152,"label"),u.Vb(153,"input",53),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(154,"ngx-datatable",54),u.Vb(155,"ngx-datatable-column"),u.Fc(156,fm,2,0,"ng-template",55),u.Fc(157,bm,1,1,"ng-template",56),u.Ub(),u.Vb(158,"ngx-datatable-column"),u.Fc(159,mm,2,0,"ng-template",55),u.Fc(160,gm,1,1,"ng-template",56),u.Ub(),u.Vb(161,"ngx-datatable-column"),u.Fc(162,ym,2,0,"ng-template",55),u.Fc(163,vm,1,1,"ng-template",56),u.Hc(164,"date "),u.Ub(),u.Vb(165,"ngx-datatable-column"),u.Fc(166,_m,2,0,"ng-template",55),u.Fc(167,xm,1,1,"ng-template",56),u.Ub(),u.Vb(168,"ngx-datatable-column"),u.Fc(169,wm,2,0,"ng-template",55),u.Fc(170,Tm,5,5,"ng-template",56),u.Ub(),u.Vb(171,"ngx-datatable-column"),u.Fc(172,km,2,0,"ng-template",55),u.Fc(173,Im,6,0,"ng-template",56),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(174,Fm,198,8,"ng-template",null,57,u.Gc)}2&t&&(u.Cb(141),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,l.d,l.b,l.c,l.a,n.l,ie,te,s.v,s.n,s.g,qt,re,ne],styles:[""]}),t}(),Lm=function(){function t(t){this.zone=t}return t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartInvestment1(),t.getChartInvestment2(),t.getChartInvestment3(),t.getChartInvestment4()}))},t.prototype.getChartInvestment1=function(){Ns(du),Ns(fu);var t=Bs("chartdivinvestment1",tc);t.hiddenState.properties.opacity=0,t.data=[{country:"Maybank",value:276},{country:"Bank Islam",value:234},{country:"Hong Leong",value:200},{country:"CIMB",value:165},{country:"RHB",value:139},{country:"BSN",value:128}],t.radius=ue(70),t.innerRadius=ue(40),t.startAngle=180,t.endAngle=360;var e=t.series.push(new Ql);e.dataFields.value="value",e.dataFields.category="country",e.slices.template.cornerRadius=10,e.slices.template.innerCornerRadius=7,e.slices.template.draggable=!0,e.slices.template.inert=!0,e.alignLabels=!1,e.hiddenState.properties.startAngle=90,e.hiddenState.properties.endAngle=90,t.legend=new Js,this.chart1=t},t.prototype.getChartInvestment2=function(){Ns(du),Ns(fu);var t=Bs("chartdivinvestment2",Tl);t.colors.step=2,t.legend=new Js,t.legend.position="top",t.legend.paddingBottom=20,t.legend.labels.template.maxWidth=95;var e=t.xAxes.push(new Vl);function i(e,i){var n=t.series.push(new wc);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=i,n.events.on("hidden",r),n.events.on("shown",r);var a=n.bullets.push(new uc);return a.interactionsEnabled=!1,a.dy=30,a.label.text="{valueY}",a.label.fill=Rr("#ffffff"),n}function r(){var i=t.series.getIndex(0),r=1-e.renderer.cellStartLocation-(1-e.renderer.cellEndLocation);if(i.dataItems.length>1){var n=e.getX(i.dataItems.getIndex(0),"categoryX"),a=(e.getX(i.dataItems.getIndex(1),"categoryX")-n)/t.series.length*r;if(we(a)){var o=t.series.length/2,s=0;t.series.each((function(e){e.isHidden||e.isHiding?e.dummyData=t.series.indexOf(e):(e.dummyData=s,s++)}));var l=s/2;t.series.each((function(e){var i=t.series.indexOf(e),r=(e.dummyData-i+o-l)*a;e.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing),e.bulletsContainer.animate({property:"dx",to:r},e.interpolationDuration,e.interpolationEasing)}))}}}e.dataFields.category="category",e.renderer.cellStartLocation=.1,e.renderer.cellEndLocation=.9,e.renderer.grid.template.location=0,t.yAxes.push(new ml).min=0,t.data=[{category:"Jan 2021",first:40,second:55},{category:"Feb 2021",first:30,second:78},{category:"Mar 2021",first:27,second:40},{category:"Apr 2021",first:50,second:33}],i("first","Bank"),i("second","Pengurus Amanah"),this.chart2=t},t.prototype.getChartInvestment3=function(){Ns(du),Ns(fu);var t=Bs("chartdivinvestment3",Tl);function e(e,i,r,n){var a=t.yAxes.push(new ml);0!=t.yAxes.indexOf(a)&&(a.syncWithAxis=t.yAxes.getIndex(0));var o=t.series.push(new Dl);o.dataFields.valueY=e,o.dataFields.dateX="date",o.strokeWidth=2,o.yAxis=a,o.name=i,o.tooltipText="{name}: [bold]{valueY}[/]",o.tensionX=.8,o.showOnInit=!0;var s=new ma;switch(n){case"triangle":var l=o.bullets.push(new Ys);l.width=12,l.height=12,l.horizontalCenter="middle",l.verticalCenter="middle";var c=l.createChild(ps);c.stroke=s.getFor("background"),c.strokeWidth=2,c.direction="top",c.width=12,c.height=12;break;case"rectangle":var u=o.bullets.push(new Ys);u.width=10,u.height=10,u.horizontalCenter="middle",u.verticalCenter="middle";var h=u.createChild(go);h.stroke=s.getFor("background"),h.strokeWidth=2,h.width=10,h.height=10;break;default:var p=o.bullets.push(new ou);p.circle.stroke=s.getFor("background"),p.circle.strokeWidth=2}a.renderer.line.strokeOpacity=1,a.renderer.line.strokeWidth=2,a.renderer.line.stroke=o.stroke,a.renderer.labels.template.fill=o.stroke,a.renderer.opposite=r}t.colors.step=2,t.data=function(){var t=[],e=new Date;e.setDate(e.getDate()-100),e.setHours(0,0,0,0);for(var i=1600,r=2900,n=8700,a=0;a<15;a++){var o=new Date(e);o.setDate(o.getDate()+a),i+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),r+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),n+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),t.push({date:o,visits:i,hits:r,views:n})}return t}(),t.xAxes.push(new vl).renderer.minGridDistance=50,e("visits","Model A",!1,"circle"),e("views","Model B",!0,"triangle"),e("hits","Model C",!0,"rectangle"),t.legend=new Js,t.cursor=new hu,this.chart3=t},t.prototype.getChartInvestment4=function(){Ns(du),Ns(fu);for(var t=Bs("chartdivinvestment4",Tl),e=(t.xAxes.push(new vl),t.yAxes.push(new ml),1);e<=10;e++)i("value"+e,"Account #"+e);function i(e,i){var n=t.series.push(new Dl);n.dataFields.valueY="value"+e,n.dataFields.dateX="date",n.name=i;var a=n.segments.template;a.interactionsEnabled=!0,a.states.create("hover").properties.strokeWidth=3,a.states.create("dimmed").properties.stroke=Rr("#dadada"),a.events.on("over",(function(t){r(t.target.parent.parent.parent)}));for(var o=[],s=Math.round(100*Math.random())+100,l=1;l<100;l++){s+=Math.round((Math.random()<.5?1:-1)*Math.random()*30+l/5);var c={date:new Date(2021,0,l)};c["value"+e]=s,o.push(c)}return n.data=o,n}function r(e){e.toFront(),e.segments.each((function(t){t.setState("hover")})),e.legendDataItem.marker.setState("default"),e.legendDataItem.label.setState("default"),t.series.each((function(t){t!=e&&(t.segments.each((function(t){t.setState("dimmed")})),t.bulletsContainer.setState("dimmed"),t.legendDataItem.marker.setState("dimmed"),t.legendDataItem.label.setState("dimmed"))}))}t.legend=new Js,t.legend.position="right",t.legend.scrollable=!0,t.legend.markers.template.states.create("dimmed").properties.opacity=.3,t.legend.labels.template.states.create("dimmed").properties.opacity=.3,t.legend.itemContainers.template.events.on("over",(function(t){r(t.target.dataItem.dataContext)})),this.chart4=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-investment"]],decls:96,vars:0,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-chart-area","text-dark"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"col-lg-6"],[1,"form-group"],[1,"form-control-label"],["placeholder","Type here...","type","text",1,"form-control"],["placeholder","Type here...","type","number",1,"form-control"],[1,"col-lg-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-xl-6"],[1,"chart"],["id","chartdivinvestment1",1,"amchart"],["id","chartdivinvestment2",1,"amchart"],["id","chartdivinvestment3",1,"amchart"],["id","chartdivinvestment4",1,"amchart"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Investment"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(12,"div",11),u.Vb(13,"div",12),u.Vb(14,"div",13),u.Vb(15,"div",14),u.Vb(16,"div",15),u.Vb(17,"div",16),u.Vb(18,"div",17),u.Vb(19,"h5",18),u.Hc(20,"Investment Register"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(21,"div",19),u.Vb(22,"div",12),u.Vb(23,"div",20),u.Vb(24,"div",21),u.Vb(25,"label",22),u.Hc(26,"Reference Number"),u.Ub(),u.Qb(27,"input",23),u.Ub(),u.Ub(),u.Vb(28,"div",20),u.Vb(29,"div",21),u.Vb(30,"label",22),u.Hc(31,"Source of Funds/Project"),u.Ub(),u.Qb(32,"input",23),u.Ub(),u.Ub(),u.Vb(33,"div",20),u.Vb(34,"div",21),u.Vb(35,"label",22),u.Hc(36,"Bank Name"),u.Ub(),u.Qb(37,"input",23),u.Ub(),u.Ub(),u.Vb(38,"div",20),u.Vb(39,"div",21),u.Vb(40,"label",22),u.Hc(41,"Investment Rate (%)"),u.Ub(),u.Qb(42,"input",24),u.Ub(),u.Ub(),u.Vb(43,"div",20),u.Vb(44,"div",21),u.Vb(45,"label",22),u.Hc(46,"Investment Value (RM)"),u.Ub(),u.Qb(47,"input",24),u.Ub(),u.Ub(),u.Vb(48,"div",20),u.Vb(49,"div",21),u.Vb(50,"label",22),u.Hc(51,"Investment Period (Years)"),u.Ub(),u.Qb(52,"input",24),u.Ub(),u.Ub(),u.Vb(53,"div",25),u.Vb(54,"button",26),u.dc("click",(function(t){return e.successSwal("sent")})),u.Hc(55," Send "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",27),u.Vb(57,"div",14),u.Vb(58,"div",15),u.Vb(59,"div",16),u.Vb(60,"div",17),u.Vb(61,"h5",18),u.Hc(62,"Bank Offer Rate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(63,"div",19),u.Vb(64,"div",28),u.Qb(65,"div",29),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(66,"div",27),u.Vb(67,"div",14),u.Vb(68,"div",15),u.Vb(69,"div",16),u.Vb(70,"div",17),u.Vb(71,"h5",18),u.Hc(72,"Amount of Deposit Available"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(73,"div",19),u.Vb(74,"div",28),u.Qb(75,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(76,"div",13),u.Vb(77,"div",14),u.Vb(78,"div",15),u.Vb(79,"div",16),u.Vb(80,"div",17),u.Vb(81,"h5",18),u.Hc(82,"Profit Projection"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(83,"div",19),u.Vb(84,"div",28),u.Qb(85,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(86,"div",13),u.Vb(87,"div",14),u.Vb(88,"div",15),u.Vb(89,"div",16),u.Vb(90,"div",17),u.Vb(91,"h5",18),u.Hc(92,"Return Performance"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(93,"div",19),u.Vb(94,"div",28),u.Qb(95,"div",32),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub())},styles:[""]}),t}(),Hm=["staticTabs"];function jm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Budgetary Report"),u.Ub())}function zm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function Bm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Total (RM)"),u.Ub())}function Nm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function Xm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Session"),u.Ub())}function Wm(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function Gm(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function Ym(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",71),u.Vb(1,"span",72),u.Qb(2,"i",73),u.Ub(),u.Ub(),u.Vb(3,"button",74),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",72),u.Qb(5,"i",75),u.Ub(),u.Ub()}}function qm(t,e){1&t&&u.Hc(0," Initial Details ")}function Km(t,e){1&t&&u.Hc(0," Location ")}function Jm(t,e){1&t&&u.Hc(0," Profile ")}function Zm(t,e){1&t&&u.Hc(0," Review ")}function Qm(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",76),u.Vb(1,"h6",77),u.Hc(2," Add New Asset "),u.Ub(),u.Vb(3,"button",78),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",79),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",80),u.Vb(7,"mat-horizontal-stepper",null,81),u.Vb(9,"mat-step",82),u.Vb(10,"form",83),u.Fc(11,qm,1,0,"ng-template",84),u.Vb(12,"div",23),u.Vb(13,"div",24),u.Vb(14,"div",40),u.Vb(15,"label",41),u.Hc(16,"Class"),u.Ub(),u.Vb(17,"select",85),u.Vb(18,"option",43),u.Hc(19,"Please Pick"),u.Ub(),u.Vb(20,"option",86),u.Hc(21,"Fixed Asset"),u.Ub(),u.Vb(22,"option",87),u.Hc(23,"Non-Fixed Asset"),u.Ub(),u.Vb(24,"option",88),u.Hc(25,"Consumables"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",24),u.Vb(27,"div",40),u.Vb(28,"label",41),u.Hc(29,"Category"),u.Ub(),u.Vb(30,"select",85),u.Vb(31,"option",43),u.Hc(32,"Please Pick"),u.Ub(),u.Vb(33,"option",86),u.Hc(34,"Motor Vehicle"),u.Ub(),u.Vb(35,"option",87),u.Hc(36,"Furniture"),u.Ub(),u.Vb(37,"option",88),u.Hc(38,"Fittings"),u.Ub(),u.Vb(39,"option",89),u.Hc(40,"Computers"),u.Ub(),u.Vb(41,"option",90),u.Hc(42,"M&E Equipment"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"div",24),u.Vb(44,"div",40),u.Vb(45,"label",41),u.Hc(46,"Parent"),u.Ub(),u.Vb(47,"select",85),u.Vb(48,"option",43),u.Hc(49,"Please Pick"),u.Ub(),u.Vb(50,"option",86),u.Hc(51,"1"),u.Ub(),u.Vb(52,"option",87),u.Hc(53,"2"),u.Ub(),u.Vb(54,"option",88),u.Hc(55,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",24),u.Vb(57,"div",40),u.Vb(58,"label",41),u.Hc(59,"Child"),u.Ub(),u.Vb(60,"select",85),u.Vb(61,"option",43),u.Hc(62,"Please Pick"),u.Ub(),u.Vb(63,"option",86),u.Hc(64,"1"),u.Ub(),u.Vb(65,"option",87),u.Hc(66,"2"),u.Ub(),u.Vb(67,"option",88),u.Hc(68,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(69,"div",24),u.Vb(70,"div",40),u.Vb(71,"label",41),u.Hc(72,"Group Code"),u.Ub(),u.Vb(73,"select",85),u.Vb(74,"option",43),u.Hc(75,"Please Pick"),u.Ub(),u.Vb(76,"option",86),u.Hc(77,"PAC"),u.Ub(),u.Vb(78,"option",87),u.Hc(79,"Lift"),u.Ub(),u.Vb(80,"option",88),u.Hc(81,"Chilled Water"),u.Ub(),u.Vb(82,"option",89),u.Hc(83,"Gen-Diesel"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(84,"div",24),u.Vb(85,"div",40),u.Vb(86,"label",41),u.Hc(87,"System"),u.Ub(),u.Vb(88,"select",85),u.Vb(89,"option",43),u.Hc(90,"Please Pick"),u.Ub(),u.Vb(91,"option",86),u.Hc(92,"PAC"),u.Ub(),u.Vb(93,"option",87),u.Hc(94,"Passenger Lift"),u.Ub(),u.Vb(95,"option",88),u.Hc(96,"Cargo Lift"),u.Ub(),u.Vb(97,"option",89),u.Hc(98,"Service Lift"),u.Ub(),u.Vb(99,"option",90),u.Hc(100,"Cooling Tower"),u.Ub(),u.Vb(101,"option",91),u.Hc(102,"Gen-Diesel"),u.Ub(),u.Vb(103,"option",92),u.Hc(104,"Non-Applicable"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(105,"div",24),u.Vb(106,"div",40),u.Vb(107,"label",41),u.Hc(108,"Date"),u.Ub(),u.Qb(109,"input",93),u.Ub(),u.Ub(),u.Vb(110,"div",24),u.Vb(111,"div",40),u.Vb(112,"label",41),u.Hc(113,"Expected Lifespan (Years)"),u.Ub(),u.Qb(114,"input",94),u.Ub(),u.Ub(),u.Vb(115,"div",32),u.Vb(116,"div",40),u.Vb(117,"label",41),u.Hc(118," Description "),u.Ub(),u.Qb(119,"textarea",95),u.Ub(),u.Ub(),u.Ub(),u.Vb(120,"div"),u.Vb(121,"button",96),u.Hc(122," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(123,"mat-step",82),u.Vb(124,"form",83),u.Fc(125,Km,1,0,"ng-template",84),u.Vb(126,"div",23),u.Vb(127,"div",24),u.Vb(128,"div",40),u.Vb(129,"label",41),u.Hc(130," Premise "),u.Ub(),u.Vb(131,"select",85),u.Vb(132,"option",43),u.Hc(133,"Please Pick"),u.Ub(),u.Vb(134,"option",86),u.Hc(135,"HQ"),u.Ub(),u.Vb(136,"option",87),u.Hc(137,"BO1"),u.Ub(),u.Vb(138,"option",88),u.Hc(139,"BO2"),u.Ub(),u.Vb(140,"option",89),u.Hc(141,"BO3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(142,"div",24),u.Vb(143,"div",40),u.Vb(144,"label",41),u.Hc(145," Block "),u.Ub(),u.Vb(146,"select",85),u.Vb(147,"option",43),u.Hc(148,"Please Pick"),u.Ub(),u.Vb(149,"option",86),u.Hc(150,"A"),u.Ub(),u.Vb(151,"option",87),u.Hc(152,"B"),u.Ub(),u.Vb(153,"option",88),u.Hc(154,"C"),u.Ub(),u.Vb(155,"option",89),u.Hc(156,"D"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(157,"div",24),u.Vb(158,"div",40),u.Vb(159,"label",41),u.Hc(160," Level "),u.Ub(),u.Vb(161,"select",85),u.Vb(162,"option",43),u.Hc(163,"Please Pick"),u.Ub(),u.Vb(164,"option",86),u.Hc(165,"1"),u.Ub(),u.Vb(166,"option",87),u.Hc(167,"2"),u.Ub(),u.Vb(168,"option",88),u.Hc(169,"3"),u.Ub(),u.Vb(170,"option",89),u.Hc(171,"4"),u.Ub(),u.Vb(172,"option",90),u.Hc(173,"5"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(174,"div",24),u.Vb(175,"div",40),u.Vb(176,"label",41),u.Hc(177," Room "),u.Ub(),u.Vb(178,"select",85),u.Vb(179,"option",43),u.Hc(180,"Please Pick"),u.Ub(),u.Vb(181,"option",86),u.Hc(182,"1"),u.Ub(),u.Vb(183,"option",87),u.Hc(184,"2"),u.Ub(),u.Vb(185,"option",88),u.Hc(186,"3"),u.Ub(),u.Vb(187,"option",89),u.Hc(188,"4"),u.Ub(),u.Vb(189,"option",90),u.Hc(190,"5"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(191,"div",32),u.Vb(192,"div",40),u.Vb(193,"label",41),u.Hc(194," Location ID "),u.Ub(),u.Qb(195,"input",97),u.Ub(),u.Ub(),u.Ub(),u.Vb(196,"div"),u.Vb(197,"button",98),u.Hc(198," Back "),u.Ub(),u.Vb(199,"button",96),u.Hc(200," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(201,"mat-step",82),u.Vb(202,"form",83),u.Fc(203,Jm,1,0,"ng-template",84),u.Vb(204,"div",23),u.Vb(205,"div",24),u.Vb(206,"div",40),u.Vb(207,"label",41),u.Hc(208," Name "),u.Ub(),u.Qb(209,"input",46),u.Ub(),u.Ub(),u.Vb(210,"div",24),u.Vb(211,"div",40),u.Vb(212,"label",41),u.Hc(213," Description "),u.Ub(),u.Qb(214,"input",46),u.Ub(),u.Ub(),u.Vb(215,"div",24),u.Vb(216,"div",40),u.Vb(217,"label",41),u.Hc(218," Own/lease "),u.Ub(),u.Qb(219,"input",46),u.Ub(),u.Ub(),u.Vb(220,"div",24),u.Vb(221,"div",40),u.Vb(222,"label",41),u.Hc(223," Date of Purchase "),u.Ub(),u.Qb(224,"input",99),u.Ub(),u.Ub(),u.Vb(225,"div",24),u.Vb(226,"div",40),u.Vb(227,"label",41),u.Hc(228," Date of Commissioning "),u.Ub(),u.Qb(229,"input",99),u.Ub(),u.Ub(),u.Vb(230,"div",24),u.Vb(231,"div",40),u.Vb(232,"label",41),u.Hc(233," Model "),u.Ub(),u.Qb(234,"input",46),u.Ub(),u.Ub(),u.Vb(235,"div",24),u.Vb(236,"div",40),u.Vb(237,"label",41),u.Hc(238," Make "),u.Ub(),u.Qb(239,"input",46),u.Ub(),u.Ub(),u.Vb(240,"div",24),u.Vb(241,"div",40),u.Vb(242,"label",41),u.Hc(243," Serial Number "),u.Ub(),u.Qb(244,"input",46),u.Ub(),u.Ub(),u.Vb(245,"div",24),u.Vb(246,"div",40),u.Vb(247,"label",41),u.Hc(248," Chassis Number "),u.Ub(),u.Qb(249,"input",46),u.Ub(),u.Ub(),u.Vb(250,"div",24),u.Vb(251,"div",40),u.Vb(252,"label",41),u.Hc(253," Manufacture Date "),u.Ub(),u.Qb(254,"input",99),u.Ub(),u.Ub(),u.Vb(255,"div",24),u.Vb(256,"div",40),u.Vb(257,"label",41),u.Hc(258," Warranty Period "),u.Ub(),u.Qb(259,"input",46),u.Ub(),u.Ub(),u.Vb(260,"div",24),u.Vb(261,"div",40),u.Vb(262,"label",41),u.Hc(263," Details of Authorized Agent/Original Equipment Manufacturer "),u.Ub(),u.Qb(264,"input",46),u.Ub(),u.Ub(),u.Vb(265,"div",24),u.Vb(266,"div",40),u.Vb(267,"label",41),u.Hc(268," Lifespan "),u.Ub(),u.Qb(269,"input",46),u.Ub(),u.Ub(),u.Vb(270,"div",24),u.Vb(271,"div",40),u.Vb(272,"label",41),u.Hc(273," Status "),u.Ub(),u.Vb(274,"select",85),u.Vb(275,"option",43),u.Hc(276,"Please Pick"),u.Ub(),u.Vb(277,"option",86),u.Hc(278,"Active"),u.Ub(),u.Vb(279,"option",87),u.Hc(280,"Beyond Economic Repaired"),u.Ub(),u.Vb(281,"option",88),u.Hc(282,"Retired"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(283,"div",24),u.Vb(284,"div",40),u.Vb(285,"label",41),u.Hc(286," Risk Category "),u.Ub(),u.Vb(287,"select",85),u.Vb(288,"option",43),u.Hc(289,"Please Pick"),u.Ub(),u.Vb(290,"option",86),u.Hc(291,"Critical"),u.Ub(),u.Vb(292,"option",87),u.Hc(293,"High"),u.Ub(),u.Vb(294,"option",88),u.Hc(295,"Medium"),u.Ub(),u.Vb(296,"option",89),u.Hc(297,"Low"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(298,"div",24),u.Vb(299,"div",40),u.Vb(300,"label",41),u.Hc(301," Target Uptime "),u.Ub(),u.Qb(302,"input",46),u.Ub(),u.Ub(),u.Vb(303,"div",24),u.Vb(304,"div",40),u.Vb(305,"label",41),u.Hc(306," Date of Decommisioning "),u.Ub(),u.Qb(307,"input",99),u.Ub(),u.Ub(),u.Vb(308,"div",24),u.Vb(309,"div",40),u.Vb(310,"label",41),u.Hc(311," Date of Retire "),u.Ub(),u.Qb(312,"input",46),u.Ub(),u.Ub(),u.Vb(313,"div",24),u.Vb(314,"div",40),u.Vb(315,"label",41),u.Hc(316," Quantity "),u.Ub(),u.Qb(317,"input",100),u.Ub(),u.Ub(),u.Vb(318,"div",24),u.Vb(319,"div",40),u.Vb(320,"label",41),u.Hc(321," Remarks(for any additional information field) "),u.Ub(),u.Qb(322,"input",46),u.Ub(),u.Ub(),u.Vb(323,"div",24),u.Vb(324,"div",40),u.Vb(325,"label",41),u.Hc(326," Upload Photo "),u.Ub(),u.Vb(327,"div",101),u.Qb(328,"input",102),u.Vb(329,"label",103),u.Hc(330,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(331,"div",24),u.Vb(332,"div",40),u.Vb(333,"label",41),u.Hc(334," Upload Catalogue "),u.Ub(),u.Vb(335,"div",101),u.Qb(336,"input",104),u.Vb(337,"label",105),u.Hc(338,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(339,"div",24),u.Vb(340,"div",40),u.Vb(341,"label",41),u.Hc(342," Upload As-Built Drawing "),u.Ub(),u.Vb(343,"div",101),u.Qb(344,"input",106),u.Vb(345,"label",107),u.Hc(346,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(347,"div",24),u.Vb(348,"div",40),u.Vb(349,"label",41),u.Hc(350," Upload Certificate "),u.Ub(),u.Vb(351,"div",101),u.Qb(352,"input",108),u.Vb(353,"label",109),u.Hc(354,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(355,"div",32),u.Vb(356,"div",40),u.Vb(357,"label",41),u.Hc(358," Upload Manual "),u.Ub(),u.Vb(359,"div",101),u.Qb(360,"input",110),u.Vb(361,"label",111),u.Hc(362,"Select file"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(363,"div"),u.Vb(364,"button",98),u.Hc(365," Back "),u.Ub(),u.Vb(366,"button",96),u.Hc(367," Next "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(368,"mat-step",82),u.Vb(369,"form",83),u.Fc(370,Zm,1,0,"ng-template",84),u.Vb(371,"div",112),u.Vb(372,"p"),u.Hc(373,"HQ-B-PAC-1"),u.Ub(),u.Qb(374,"img",113),u.Qb(375,"br"),u.Qb(376,"br"),u.Ub(),u.Vb(377,"div"),u.Vb(378,"button",98),u.Hc(379," Back "),u.Ub(),u.Vb(380,"button",114),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(381," Submit "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(382,"div",115),u.Vb(383,"button",116),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(384," Close "),u.Ub(),u.Ub()}if(2&t){var r=u.hc();u.Cb(9),u.nc("stepControl",r.firstFormGroup),u.Cb(1),u.nc("formGroup",r.firstFormGroup),u.Cb(113),u.nc("stepControl",r.secondFormGroup),u.Cb(1),u.nc("formGroup",r.secondFormGroup),u.Cb(77),u.nc("stepControl",r.thirdFormGroup),u.Cb(1),u.nc("formGroup",r.thirdFormGroup),u.Cb(166),u.nc("stepControl",r.forthFormGroup),u.Cb(1),u.nc("formGroup",r.forthFormGroup)}}var $m=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),tg=function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750"}],this.SelectionType=$m,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.selectTab=function(t){this.staticTabs.tabs[t].active=!0},t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartFixedAssetReg1(),t.getChartFixedAssetReg2(),t.getChartFixedAssetReg3()}))},t.prototype.getChartFixedAssetReg1=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetreg1",tc);t.data=[{country:"Consumables",litres:51},{country:"Fixed Asset",litres:39},{country:"Non-Fixed Asset",litres:21}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartFixedAssetReg2=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetreg2",tc);t.data=[{country:"A",litres:501.9},{country:"B",litres:301.9},{country:"C",litres:201.1},{country:"D",litres:165.8}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart2=t},t.prototype.getChartFixedAssetReg3=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetreg3",Tl);t.scrollbarX=new as,t.data=[{country:"ACMV",visits:3025},{country:"Lift",visits:1882},{country:"Escalator",visits:1809},{country:"Electrical",visits:1322},{country:"CWSP",visits:1122},{country:"FDPS",visits:1114}];var e=t.xAxes.push(new Vl);e.dataFields.category="country",e.renderer.grid.template.location=0,e.renderer.minGridDistance=30,e.renderer.labels.template.horizontalCenter="right",e.renderer.labels.template.verticalCenter="middle",e.renderer.labels.template.rotation=270,e.tooltip.disabled=!0,e.renderer.minHeight=110,t.yAxes.push(new ml).renderer.minWidth=50;var i=t.series.push(new wc);i.sequencedInterpolation=!0,i.dataFields.valueY="visits",i.dataFields.categoryX="country",i.tooltipText="[{categoryX}: bold]{valueY}[/]",i.columns.template.strokeWidth=0,i.tooltip.pointerOrientation="vertical",i.columns.template.column.cornerRadiusTopLeft=10,i.columns.template.column.cornerRadiusTopRight=10,i.columns.template.column.fillOpacity=.8;var r=i.columns.template.column.states.create("hover");r.properties.cornerRadiusTopLeft=0,r.properties.cornerRadiusTopRight=0,r.properties.fillOpacity=1,i.columns.template.adapter.add("fill",(function(e,i){return t.colors.getIndex(i.dataItem.index)})),t.cursor=new hu,this.chart3=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.t.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.t.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",s.t.required]}),this.forthFormGroup=this._formBuilder.group({forthCtrl:["",s.t.required]})},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-fixed-asset-registration"]],viewQuery:function(t,e){var i;1&t&&u.Mc(Hm,!0),2&t&&u.vc(i=u.ec())&&(e.staticTabs=i.first)},decls:257,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-12"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-screwdriver","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","justify-content-md-center"],[1,"col"],[1,"card"],[1,"card-body","text-center"],["width","80%","src","assets/img/brand/budget.png"],["width","80%","src","assets/img/brand/document.png"],["width","80%","src","assets/img/brand/cost.png"],["width","80%","src","assets/img/brand/financial.png"],["width","80%","src","assets/img/brand/money-bag.png"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartdivfixedassetreg1",1,"amchart"],["id","chartdivfixedassetreg2",1,"amchart"],[1,"col-xl-12"],["id","chartdivfixedassetreg3",1,"amchart"],[1,"card-header"],[1,"col-sm-6"],[1,"mb-0"],[1,"col-sm-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-md-3"],[1,"form-group"],[1,"form-control-label"],["data-toggle","select",1,"form-control"],["hidden","","selected",""],["value","Johor"],["value","Kedah"],["placeholder","Type here...","type","text",1,"form-control"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-default",3,"click"],[1,"col-2"],["type","button",1,"btn","btn-outline-default",3,"click"],["staticTabs",""],["heading","Icon View"],[1,"col-md-2"],[2,"background","url('assets/img/brand/2.png')","width","150px","height","150px","background-size","cover","background-position","center"],["type","button",1,"btn","btn-primary",2,"width","150px"],["heading","List View"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["addNew",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"form-control"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["placeholder","Type here...","type","date",1,"form-control"],["placeholder","Type here...","type","number",1,"form-control"],["rows","3",1,"form-control"],["mat-button","","matStepperNext","",1,"btn","btn-default"],["value","HQ-B-1-1","type","text","disabled","",1,"form-control"],["mat-button","","matStepperPrevious","",1,"btn","btn-danger"],["placeholder","2021-01-01","type","date",1,"form-control"],["placeholder","00","type","number",1,"form-control"],[1,"custom-file"],["type","file","id","customFileLangfixedassetreg1","lang","en",1,"custom-file-input"],["for","customFileLangfixedassetreg1",1,"custom-file-label"],["type","file","id","customFileLangfixedassetreg2","lang","en",1,"custom-file-input"],["for","customFileLangfixedassetreg2",1,"custom-file-label"],["type","file","id","customFileLangfixedassetreg3","lang","en",1,"custom-file-input"],["for","customFileLangfixedassetreg3",1,"custom-file-label"],["type","file","id","customFileLangfixedassetreg4","lang","en",1,"custom-file-input"],["for","customFileLangfixedassetreg4",1,"custom-file-label"],["type","file","id","customFileLangfixedassetreg5","lang","en",1,"custom-file-input"],["for","customFileLangfixedassetreg5",1,"custom-file-label"],[1,"try-cent","col"],["width","100px","height","100px","src","assets/img/brand/qrcode.png"],["mat-button","",1,"btn","btn-default",3,"click"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6,"Asset Registration"),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Fixed Asset Managment "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Asset Registration "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Qb(21,"img",17),u.Qb(22,"br"),u.Qb(23,"br"),u.Qb(24,"br"),u.Vb(25,"b"),u.Hc(26,"Allocated"),u.Qb(27,"br"),u.Hc(28,"Asset"),u.Qb(29,"br"),u.Qb(30,"br"),u.Hc(31,"1.5 M"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(32,"div",14),u.Vb(33,"div",15),u.Vb(34,"div",16),u.Qb(35,"img",18),u.Qb(36,"br"),u.Qb(37,"br"),u.Qb(38,"br"),u.Vb(39,"b"),u.Hc(40,"Used Asset Across Portfolio"),u.Qb(41,"br"),u.Qb(42,"br"),u.Hc(43,"900 K"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(44,"div",14),u.Vb(45,"div",15),u.Vb(46,"div",16),u.Qb(47,"img",19),u.Qb(48,"br"),u.Qb(49,"br"),u.Qb(50,"br"),u.Vb(51,"b"),u.Hc(52,"Used Asset Percentage"),u.Qb(53,"br"),u.Qb(54,"br"),u.Hc(55,"70%"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(56,"div",14),u.Vb(57,"div",15),u.Vb(58,"div",16),u.Qb(59,"img",20),u.Qb(60,"br"),u.Qb(61,"br"),u.Qb(62,"br"),u.Vb(63,"b"),u.Hc(64,"Estimated Cost Across Portfolio"),u.Qb(65,"br"),u.Qb(66,"br"),u.Hc(67," 850 K"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(68,"div",14),u.Vb(69,"div",15),u.Vb(70,"div",16),u.Qb(71,"img",21),u.Qb(72,"br"),u.Qb(73,"br"),u.Qb(74,"br"),u.Vb(75,"b"),u.Hc(76,"Actual Cost Across Portfolio"),u.Qb(77,"br"),u.Qb(78,"br"),u.Hc(79,"2.5 M"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(80,"div",22),u.Vb(81,"div",23),u.Vb(82,"div",24),u.Vb(83,"div",15),u.Vb(84,"div",25),u.Vb(85,"div",26),u.Vb(86,"div",14),u.Vb(87,"h5",27),u.Hc(88,"Asset Class"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(89,"div",28),u.Vb(90,"div",29),u.Qb(91,"div",30),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(92,"div",24),u.Vb(93,"div",15),u.Vb(94,"div",25),u.Vb(95,"div",26),u.Vb(96,"div",14),u.Vb(97,"h5",27),u.Hc(98,"Block"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(99,"div",28),u.Vb(100,"div",29),u.Qb(101,"div",31),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(102,"div",32),u.Vb(103,"div",15),u.Vb(104,"div",25),u.Vb(105,"div",26),u.Vb(106,"div",14),u.Vb(107,"h5",27),u.Hc(108,"Asset Category"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(109,"div",28),u.Vb(110,"div",29),u.Qb(111,"div",33),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(112,"div",32),u.Vb(113,"div",15),u.Vb(114,"div",34),u.Vb(115,"div",26),u.Vb(116,"div",35),u.Vb(117,"h3",36),u.Hc(118,"Find Asset"),u.Ub(),u.Ub(),u.Vb(119,"div",37),u.Vb(120,"button",38),u.dc("click",(function(t){u.yc(i);var r=u.wc(256);return e.openModal(r)})),u.Hc(121," New Asset "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(122,"div",28),u.Vb(123,"div",23),u.Vb(124,"div",39),u.Vb(125,"div",40),u.Vb(126,"label",41),u.Hc(127," Class "),u.Ub(),u.Vb(128,"select",42),u.Vb(129,"option",43),u.Hc(130,"Please Pick"),u.Ub(),u.Vb(131,"option",44),u.Hc(132,"Fixed Asset"),u.Ub(),u.Vb(133,"option",45),u.Hc(134,"Non-Fixed Asset"),u.Ub(),u.Vb(135,"option",45),u.Hc(136,"Consumables"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(137,"div",39),u.Vb(138,"div",40),u.Vb(139,"label",41),u.Hc(140," Name "),u.Ub(),u.Qb(141,"input",46),u.Ub(),u.Ub(),u.Vb(142,"div",39),u.Vb(143,"div",40),u.Vb(144,"label",41),u.Hc(145," ID Location "),u.Ub(),u.Qb(146,"input",46),u.Ub(),u.Ub(),u.Vb(147,"div",39),u.Vb(148,"div",40),u.Vb(149,"label",41),u.Hc(150," Owner "),u.Ub(),u.Qb(151,"input",46),u.Ub(),u.Ub(),u.Vb(152,"div",47),u.Vb(153,"button",48),u.dc("click",(function(t){return e.successSwal("searched")})),u.Hc(154," Search "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(155,"div",32),u.Vb(156,"div",15),u.Vb(157,"div",25),u.Vb(158,"div",26),u.Vb(159,"div",49),u.Vb(160,"button",50),u.dc("click",(function(t){return e.selectTab(0)})),u.Hc(161," Icon Vew "),u.Ub(),u.Ub(),u.Vb(162,"div",49),u.Vb(163,"button",50),u.dc("click",(function(t){return e.selectTab(1)})),u.Hc(164," List View "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(165,"div",28),u.Vb(166,"tabset",null,51),u.Vb(168,"tab",52),u.Vb(169,"div",23),u.Vb(170,"div",53),u.Qb(171,"div",54),u.Vb(172,"button",55),u.Hc(173," View "),u.Ub(),u.Ub(),u.Vb(174,"div",53),u.Qb(175,"div",54),u.Vb(176,"button",55),u.Hc(177," View "),u.Ub(),u.Ub(),u.Vb(178,"div",53),u.Qb(179,"div",54),u.Vb(180,"button",55),u.Hc(181," View "),u.Ub(),u.Ub(),u.Vb(182,"div",53),u.Qb(183,"div",54),u.Vb(184,"button",55),u.Hc(185," View "),u.Ub(),u.Ub(),u.Vb(186,"div",53),u.Qb(187,"div",54),u.Vb(188,"button",55),u.Hc(189," View "),u.Ub(),u.Ub(),u.Vb(190,"div",53),u.Qb(191,"div",54),u.Vb(192,"button",55),u.Hc(193," View "),u.Ub(),u.Ub(),u.Ub(),u.Vb(194,"div",23),u.Vb(195,"div",53),u.Qb(196,"div",54),u.Vb(197,"button",55),u.Hc(198," View "),u.Ub(),u.Ub(),u.Vb(199,"div",53),u.Qb(200,"div",54),u.Vb(201,"button",55),u.Hc(202," View "),u.Ub(),u.Ub(),u.Vb(203,"div",53),u.Qb(204,"div",54),u.Vb(205,"button",55),u.Hc(206," View "),u.Ub(),u.Ub(),u.Vb(207,"div",53),u.Qb(208,"div",54),u.Vb(209,"button",55),u.Hc(210," View "),u.Ub(),u.Ub(),u.Vb(211,"div",53),u.Qb(212,"div",54),u.Vb(213,"button",55),u.Hc(214," View "),u.Ub(),u.Ub(),u.Vb(215,"div",53),u.Qb(216,"div",54),u.Vb(217,"button",55),u.Hc(218," View "),u.Ub(),u.Qb(219,"br"),u.Ub(),u.Ub(),u.Ub(),u.Vb(220,"tab",56),u.Vb(221,"div",32),u.Vb(222,"div",57),u.Vb(223,"div",23),u.Vb(224,"div",58),u.Vb(225,"div",59),u.Vb(226,"label"),u.Hc(227," Show "),u.Vb(228,"select",60),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(229,"option",61),u.Hc(230," 5 "),u.Ub(),u.Vb(231,"option",62),u.Hc(232," 10 "),u.Ub(),u.Vb(233,"option",63),u.Hc(234," 15 "),u.Ub(),u.Vb(235,"option",64),u.Hc(236," All "),u.Ub(),u.Ub(),u.Hc(237," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(238,"div",58),u.Vb(239,"div",65),u.Vb(240,"label"),u.Vb(241,"input",66),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(242,"ngx-datatable",67),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(243,"ngx-datatable-column"),u.Fc(244,jm,2,0,"ng-template",68),u.Fc(245,zm,1,1,"ng-template",69),u.Ub(),u.Vb(246,"ngx-datatable-column"),u.Fc(247,Bm,2,0,"ng-template",68),u.Fc(248,Nm,1,1,"ng-template",69),u.Ub(),u.Vb(249,"ngx-datatable-column"),u.Fc(250,Xm,2,0,"ng-template",68),u.Fc(251,Wm,1,1,"ng-template",69),u.Ub(),u.Vb(252,"ngx-datatable-column"),u.Fc(253,Gm,2,0,"ng-template",68),u.Fc(254,Ym,6,0,"ng-template",69),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(255,Qm,385,8,"ng-template",null,70,u.Gc)}2&t&&(u.Cb(229),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[s.q,s.u,a.l,a.j,l.d,l.b,l.c,l.a,ie,te,s.v,s.n,s.g,qt,re,ne],styles:[".try-cent[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;margin-left:auto;margin-right:auto}"]}),t}(),eg=["staticTabs"];function ig(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Asset ID"),u.Ub())}function rg(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.accNo," ")}function ng(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Total (RM)"),u.Ub())}function ag(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.debit," ")}function og(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Session"),u.Ub())}function sg(t,e){1&t&&u.Hc(0),2&t&&u.Jc(" ",e.row.start," ")}function lg(t,e){1&t&&(u.Vb(0,"span"),u.Hc(1,"Action"),u.Ub())}function cg(t,e){if(1&t){var i=u.Wb();u.Vb(0,"button",49),u.dc("click",(function(t){u.yc(i);var e=u.hc(),r=u.wc(150);return e.openModal(r)})),u.Vb(1,"span",50),u.Qb(2,"i",51),u.Ub(),u.Ub(),u.Vb(3,"button",52),u.dc("click",(function(t){return u.yc(i),u.hc().delete()})),u.Vb(4,"span",50),u.Qb(5,"i",53),u.Ub(),u.Ub()}}function ug(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",54),u.Vb(1,"h6",55),u.Hc(2," View Asset "),u.Ub(),u.Vb(3,"button",56),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Vb(4,"span",57),u.Hc(5," \xd7 "),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"div",58),u.Vb(7,"form"),u.Vb(8,"div",14),u.Vb(9,"div",59),u.Vb(10,"div",60),u.Vb(11,"label"),u.Hc(12,"Category"),u.Ub(),u.Vb(13,"select",61),u.Vb(14,"option",62),u.Hc(15,"Choose"),u.Ub(),u.Vb(16,"option",63),u.Hc(17,"1"),u.Ub(),u.Vb(18,"option",64),u.Hc(19,"2"),u.Ub(),u.Vb(20,"option",65),u.Hc(21,"3"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(22,"div",59),u.Vb(23,"div",60),u.Vb(24,"label"),u.Hc(25,"Asset ID"),u.Ub(),u.Qb(26,"input",66),u.Ub(),u.Ub(),u.Vb(27,"div",59),u.Vb(28,"div",60),u.Vb(29,"label"),u.Hc(30,"Company Name"),u.Ub(),u.Qb(31,"input",66),u.Ub(),u.Ub(),u.Vb(32,"div",59),u.Vb(33,"div",60),u.Vb(34,"label"),u.Hc(35,"Year Registered/Installed"),u.Ub(),u.Qb(36,"input",66),u.Ub(),u.Ub(),u.Vb(37,"div",59),u.Vb(38,"div",60),u.Vb(39,"label"),u.Hc(40,"Account Number"),u.Ub(),u.Qb(41,"input",66),u.Ub(),u.Ub(),u.Vb(42,"div",59),u.Vb(43,"div",60),u.Vb(44,"label"),u.Hc(45,"Work Order Serial No."),u.Ub(),u.Qb(46,"input",66),u.Ub(),u.Ub(),u.Vb(47,"div",59),u.Vb(48,"div",60),u.Vb(49,"label"),u.Hc(50,"Depreciation Rate per Year "),u.Ub(),u.Qb(51,"input",66),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",25),u.Vb(53,"div",16),u.Vb(54,"div",21),u.Vb(55,"div",22),u.Qb(56,"div",67),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(57,"div",68),u.Vb(58,"button",69),u.dc("click",(function(t){return u.yc(i),u.hc().successSwal("saved")})),u.Hc(59," Save "),u.Ub(),u.Vb(60,"button",70),u.dc("click",(function(t){return u.yc(i),u.hc().modalRef.hide()})),u.Hc(61," Close "),u.Ub(),u.Ub()}}var hg=function(t){return t.single="single",t.multi="multi",t.multiClick="multiClick",t.cell="cell",t.checkbox="checkbox",t}({}),pg=[{path:"",children:[{path:"dashboard",component:bu},{path:"general-ledger",component:fh},{path:"budget-setup-performance-reporting",component:Oh},{path:"activities-project-costing",component:sp},{path:"account-receivable",component:_p},{path:"cash-management",component:Rp},{path:"account-payable",component:Jp},{path:"fixed-asset",component:dd},{path:"fixed-asset-management",children:[{path:"asset-registration",component:tg},{path:"asset-depreciation-disposal",component:function(){function t(t,e,i){this.zone=t,this.modalService=e,this._formBuilder=i,this.modalConfig={keyboard:!0,class:"modal-dialog-centered"},this.entries=5,this.selected=[],this.temp=[],this.rows=[{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-119-VLJ",debit:"785.51",credit:"795.16",netMove:"314.71",start:"2011/07/25",salary:"$170,750"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-719-MOX",debit:"849.19",credit:"754.16",netMove:"595.03",start:"2011/04/25",salary:"$320,800"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$86,000"},{accNo:"ACC-649-LVT",debit:"919",credit:"703",netMove:"562",start:"2012/03/29",salary:"$433,060"},{accNo:"ACC-120-MJM",debit:"136.34",credit:"916.82",netMove:"983.35",start:"2008/11/28",salary:"$162,700"},{accNo:"ACC-635-KDJ",debit:"107",credit:"22.37",netMove:"426.32",start:"2009/01/12",salary:"$385,750"}],this.SelectionType=hg,this.temp=this.rows.map((function(t,e){return Object(h.a)(Object(h.a)({},t),{id:e})}))}return t.prototype.selectTab=function(t){this.staticTabs.tabs[t].active=!0},t.prototype.ngOnInit=function(){this.getCharts()},t.prototype.ngOnDestroy=function(){var t=this;this.zone.runOutsideAngular((function(){t.chart1&&(console.log("Chart disposed"),t.chart1.dispose()),t.chart2&&(console.log("Chart disposed"),t.chart2.dispose()),t.chart3&&(console.log("Chart disposed"),t.chart3.dispose()),t.chart4&&(console.log("Chart disposed"),t.chart4.dispose())}))},t.prototype.getCharts=function(){var t=this;this.zone.runOutsideAngular((function(){t.getChartFixedAssetDepDis1(),t.getChartFixedAssetDepDis2(),t.getChartFixedAssetDepDis3()}))},t.prototype.getChartFixedAssetDepDis1=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetdepricdis1",tc);t.data=[{country:"Consumables",litres:51},{country:"Fixed Asset",litres:39},{country:"Non-Fixed Asset",litres:21}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart1=t},t.prototype.getChartFixedAssetDepDis2=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetdepricdis2",tc);t.data=[{country:"A",litres:501.9},{country:"B",litres:301.9},{country:"C",litres:201.1},{country:"D",litres:165.8}];var e=t.series.push(new Ql);e.dataFields.value="litres",e.dataFields.category="country",e.slices.template.stroke=Rr("#fff"),e.slices.template.strokeOpacity=1,e.hiddenState.properties.opacity=1,e.hiddenState.properties.endAngle=-90,e.hiddenState.properties.startAngle=-90,t.hiddenState.properties.radius=ue(0),this.chart2=t},t.prototype.getChartFixedAssetDepDis3=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetdepricdis3",Tl);function e(e,i,r,n){var a=t.yAxes.push(new ml);0!=t.yAxes.indexOf(a)&&(a.syncWithAxis=t.yAxes.getIndex(0));var o=t.series.push(new Dl);o.dataFields.valueY=e,o.dataFields.dateX="date",o.strokeWidth=2,o.yAxis=a,o.name=i,o.tooltipText="{name}: [bold]{valueY}[/]",o.tensionX=.8,o.showOnInit=!0;var s=new ma;switch(n){case"triangle":var l=o.bullets.push(new Ys);l.width=12,l.height=12,l.horizontalCenter="middle",l.verticalCenter="middle";var c=l.createChild(ps);c.stroke=s.getFor("background"),c.strokeWidth=2,c.direction="top",c.width=12,c.height=12;break;case"rectangle":var u=o.bullets.push(new Ys);u.width=10,u.height=10,u.horizontalCenter="middle",u.verticalCenter="middle";var h=u.createChild(go);h.stroke=s.getFor("background"),h.strokeWidth=2,h.width=10,h.height=10;break;default:var p=o.bullets.push(new ou);p.circle.stroke=s.getFor("background"),p.circle.strokeWidth=2}a.renderer.line.strokeOpacity=1,a.renderer.line.strokeWidth=2,a.renderer.line.stroke=o.stroke,a.renderer.labels.template.fill=o.stroke,a.renderer.opposite=r}t.colors.step=2,t.data=function(){var t=[],e=new Date;e.setDate(e.getDate()-100),e.setHours(0,0,0,0);for(var i=1600,r=2900,n=8700,a=0;a<15;a++){var o=new Date(e);o.setDate(o.getDate()+a),i+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),r+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),n+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),t.push({date:o,visits:i,hits:r,views:n})}return t}(),t.xAxes.push(new vl).renderer.minGridDistance=50,e("visits","Consumables",!1,"circle"),e("views","Fixed Asset",!0,"triangle"),e("hits","Non-Fixed Asset",!0,"rectangle"),t.legend=new Js,t.cursor=new hu,this.chart3=t},t.prototype.getChartFixedAssetDepDis4=function(){Ns(bh),Ns(fu);var t=Bs("chartdivfixedassetdepricdis4",Tl);function e(e,i,r,n){var a=t.yAxes.push(new ml);0!=t.yAxes.indexOf(a)&&(a.syncWithAxis=t.yAxes.getIndex(0));var o=t.series.push(new Dl);o.dataFields.valueY=e,o.dataFields.dateX="date",o.strokeWidth=2,o.yAxis=a,o.name=i,o.tooltipText="{name}: [bold]{valueY}[/]",o.tensionX=.8,o.showOnInit=!0;var s=new ma;switch(n){case"triangle":var l=o.bullets.push(new Ys);l.width=12,l.height=12,l.horizontalCenter="middle",l.verticalCenter="middle";var c=l.createChild(ps);c.stroke=s.getFor("background"),c.strokeWidth=2,c.direction="top",c.width=12,c.height=12;break;case"rectangle":var u=o.bullets.push(new Ys);u.width=10,u.height=10,u.horizontalCenter="middle",u.verticalCenter="middle";var h=u.createChild(go);h.stroke=s.getFor("background"),h.strokeWidth=2,h.width=10,h.height=10;break;default:var p=o.bullets.push(new ou);p.circle.stroke=s.getFor("background"),p.circle.strokeWidth=2}a.renderer.line.strokeOpacity=1,a.renderer.line.strokeWidth=2,a.renderer.line.stroke=o.stroke,a.renderer.labels.template.fill=o.stroke,a.renderer.opposite=r}t.colors.step=2,t.data=function(){var t=[],e=new Date;e.setDate(e.getDate()-100),e.setHours(0,0,0,0);for(var i=1600,r=2900,n=8700,a=0;a<15;a++){var o=new Date(e);o.setDate(o.getDate()+a),i+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),r+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),n+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),t.push({date:o,visits:i,hits:r,views:n})}return t}(),t.xAxes.push(new vl).renderer.minGridDistance=50,e("visits","Actual Value",!1,"circle"),e("views","Projected Value",!0,"triangle"),e("hits","Corresponding Value",!0,"rectangle"),t.legend=new Js,t.cursor=new hu,this.chart4=t},t.prototype.successSwal=function(t){vu.a.fire({title:"Success",text:"Successfully "+t+"!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success"}),this.modalRef.hide(),this.ngOnDestroy()},t.prototype.entriesChange=function(t){this.entries=t.target.value},t.prototype.filterTable=function(t){var e=t.target.value;this.temp=this.rows.filter((function(t){for(var i in t)if(-1!==t[i].toLowerCase().indexOf(e))return!0;return!1}))},t.prototype.onActivate=function(t){this.activeRow=t.row},t.prototype.openModal=function(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"}),this.getChartFixedAssetDepDis4()},t.prototype.delete=function(){var t=this;vu.a.fire({title:"Confirmation",text:"Are you sure want to delete this data?",type:"info",buttonsStyling:!1,confirmButtonClass:"btn btn-info",confirmButtonText:"Confirm",showCancelButton:!0,cancelButtonClass:"btn btn-danger",cancelButtonText:"Cancel"}).then((function(e){e.value&&t.doneDelete()}))},t.prototype.doneDelete=function(){vu.a.fire({title:"Success",text:"The data has been deleted!",type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"Close"})},t.\u0275fac=function(e){return new(e||t)(u.Pb(u.z),u.Pb(a.f),u.Pb(s.c))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-fixed-asset-depreciation-disposal"]],viewQuery:function(t,e){var i;1&t&&u.Mc(eg,!0),2&t&&u.vc(i=u.ec())&&(e.staticTabs=i.first)},decls:151,vars:10,consts:[[1,"header","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-12"],[1,"h2","text-dark","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-screwdriver","text-dark"],["href","javascript:void(0)",1,"text-dark"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6"],[1,"card"],[1,"card-header","bg-secondary"],[1,"row","align-items-center"],[1,"col"],[1,"h3","mt-2","mb-0"],[1,"card-body"],[1,"chart"],["id","chartdivfixedassetdepricdis1",1,"amchart"],["id","chartdivfixedassetdepricdis2",1,"amchart"],[1,"col-xl-12"],["id","chartdivfixedassetdepricdis3",1,"amchart"],[1,"col-2"],["type","button",1,"btn","btn-outline-default",3,"click"],["staticTabs",""],["heading","Icon View"],[1,"col-md-2"],[2,"background","url('assets/img/brand/2.png')","width","150px","height","150px","background-size","cover","background-position","center"],["type","button",1,"btn","btn-primary",2,"width","150px",3,"click"],["heading","List View"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","5",3,"selected"],["value","10",3,"selected"],["value","15",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["viewAsset",""],["type","button","title","Edit",1,"btn","btn-icon","btn-default","btn-sm",3,"click"],[1,"btn-inner--icon"],[1,"far","fa-eye"],["type","button","title","Delete",1,"btn","btn-icon","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"modal-header","bg-default"],["id","modal-title-default",1,"modal-title","text-white","my-auto"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true",1,"text-white","my-auto"],[1,"modal-body"],[1,"col-6"],[1,"mb-4"],[1,"form-control"],["selected",""],["value","1"],["value","2"],["value","3"],["type","text","placeholder","Type here...",1,"form-control"],["id","chartdivfixedassetdepricdis4",1,"amchart"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger","ml-auto",3,"click"]],template:function(t,e){if(1&t){var i=u.Wb();u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"div",3),u.Vb(4,"div",4),u.Vb(5,"h6",5),u.Hc(6," Asset Depreciation & Disposal "),u.Ub(),u.Vb(7,"nav",6),u.Vb(8,"ol",7),u.Vb(9,"li",8),u.Vb(10,"a",9),u.Qb(11,"i",10),u.Ub(),u.Ub(),u.Vb(12,"li",8),u.Vb(13,"a",11),u.Hc(14," Fixed Asset Managment "),u.Ub(),u.Ub(),u.Vb(15,"li",12),u.Hc(16," Asset Depreciation & Disposal "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",13),u.Vb(18,"div",14),u.Vb(19,"div",15),u.Vb(20,"div",16),u.Vb(21,"div",17),u.Vb(22,"div",18),u.Vb(23,"div",19),u.Vb(24,"h5",20),u.Hc(25,"Overall Asset By Type"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",21),u.Vb(27,"div",22),u.Qb(28,"div",23),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(29,"div",15),u.Vb(30,"div",16),u.Vb(31,"div",17),u.Vb(32,"div",18),u.Vb(33,"div",19),u.Vb(34,"h5",20),u.Hc(35,"Asset By Location"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(36,"div",21),u.Vb(37,"div",22),u.Qb(38,"div",24),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(39,"div",25),u.Vb(40,"div",16),u.Vb(41,"div",17),u.Vb(42,"div",18),u.Vb(43,"div",19),u.Vb(44,"h5",20),u.Hc(45,"Monthly Purchase/Acquisition"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(46,"div",21),u.Vb(47,"div",22),u.Qb(48,"div",26),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(49,"div",25),u.Vb(50,"div",16),u.Vb(51,"div",17),u.Vb(52,"div",18),u.Vb(53,"div",27),u.Vb(54,"button",28),u.dc("click",(function(t){return e.selectTab(0)})),u.Hc(55," Icon Vew "),u.Ub(),u.Ub(),u.Vb(56,"div",27),u.Vb(57,"button",28),u.dc("click",(function(t){return e.selectTab(1)})),u.Hc(58," List View "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(59,"div",21),u.Vb(60,"tabset",null,29),u.Vb(62,"tab",30),u.Vb(63,"div",14),u.Vb(64,"div",31),u.Qb(65,"div",32),u.Vb(66,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(67," View "),u.Ub(),u.Ub(),u.Vb(68,"div",31),u.Qb(69,"div",32),u.Vb(70,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(71," View "),u.Ub(),u.Ub(),u.Vb(72,"div",31),u.Qb(73,"div",32),u.Vb(74,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(75," View "),u.Ub(),u.Ub(),u.Vb(76,"div",31),u.Qb(77,"div",32),u.Vb(78,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(79," View "),u.Ub(),u.Ub(),u.Vb(80,"div",31),u.Qb(81,"div",32),u.Vb(82,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(83," View "),u.Ub(),u.Ub(),u.Vb(84,"div",31),u.Qb(85,"div",32),u.Vb(86,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(87," View "),u.Ub(),u.Ub(),u.Ub(),u.Vb(88,"div",14),u.Vb(89,"div",31),u.Qb(90,"div",32),u.Vb(91,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(92," View "),u.Ub(),u.Ub(),u.Vb(93,"div",31),u.Qb(94,"div",32),u.Vb(95,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(96," View "),u.Ub(),u.Ub(),u.Vb(97,"div",31),u.Qb(98,"div",32),u.Vb(99,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(100," View "),u.Ub(),u.Ub(),u.Vb(101,"div",31),u.Qb(102,"div",32),u.Vb(103,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(104," View "),u.Ub(),u.Ub(),u.Vb(105,"div",31),u.Qb(106,"div",32),u.Vb(107,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(108," View "),u.Ub(),u.Ub(),u.Vb(109,"div",31),u.Qb(110,"div",32),u.Vb(111,"button",33),u.dc("click",(function(t){u.yc(i);var r=u.wc(150);return e.openModal(r)})),u.Hc(112," View "),u.Ub(),u.Qb(113,"br"),u.Ub(),u.Ub(),u.Ub(),u.Vb(114,"tab",34),u.Vb(115,"div",25),u.Vb(116,"div",35),u.Vb(117,"div",14),u.Vb(118,"div",36),u.Vb(119,"div",37),u.Vb(120,"label"),u.Hc(121," Show "),u.Vb(122,"select",38),u.dc("change",(function(t){return e.entriesChange(t)})),u.Vb(123,"option",39),u.Hc(124," 5 "),u.Ub(),u.Vb(125,"option",40),u.Hc(126," 10 "),u.Ub(),u.Vb(127,"option",41),u.Hc(128," 15 "),u.Ub(),u.Vb(129,"option",42),u.Hc(130," All "),u.Ub(),u.Ub(),u.Hc(131," entries "),u.Ub(),u.Ub(),u.Ub(),u.Vb(132,"div",36),u.Vb(133,"div",43),u.Vb(134,"label"),u.Vb(135,"input",44),u.dc("keyup",(function(t){return e.filterTable(t)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(136,"ngx-datatable",45),u.dc("activate",(function(t){return e.onActivate(t)})),u.Vb(137,"ngx-datatable-column"),u.Fc(138,ig,2,0,"ng-template",46),u.Fc(139,rg,1,1,"ng-template",47),u.Ub(),u.Vb(140,"ngx-datatable-column"),u.Fc(141,ng,2,0,"ng-template",46),u.Fc(142,ag,1,1,"ng-template",47),u.Ub(),u.Vb(143,"ngx-datatable-column"),u.Fc(144,og,2,0,"ng-template",46),u.Fc(145,sg,1,1,"ng-template",47),u.Ub(),u.Vb(146,"ngx-datatable-column"),u.Fc(147,lg,2,0,"ng-template",46),u.Fc(148,cg,6,0,"ng-template",47),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Fc(149,ug,62,0,"ng-template",null,48,u.Gc)}2&t&&(u.Cb(123),u.nc("selected",5==e.entries),u.Cb(2),u.nc("selected",10==e.entries),u.Cb(2),u.nc("selected",15==e.entries),u.Cb(2),u.nc("selected",-1==e.entries),u.Cb(7),u.nc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=e.entries?e.entries:void 0)("rows",e.temp))},directives:[a.l,a.j,s.q,s.u,l.d,l.b,l.c,l.a,s.v,s.n,s.o],styles:[""]}),t}()}]},{path:"investment",component:Lm},{path:"statutory-reporting",component:$u},{path:"procurement",children:[{path:"vendor-list",component:kd},{path:"analysis",component:Xd},{path:"notice",component:db},{path:"strategic-sourcing",component:Nb},{path:"procurement-management",component:pm},{path:"tender-management",component:Rm}]},{path:"sales-service-tax",component:uf},{path:"claim",component:hb},{path:"production-planning-execution",component:hf},{path:"inventory-control",component:Af},{path:"product-costing-material-ledger",component:qf},{path:"system-management",children:[{path:"audit-trails",component:Du},{path:"user-control",component:Qu}]},{path:"report",component:pb}]}];i.d(e,"AdminModule",(function(){return dg})),se.accessToken=oe.a.mapbox.accessToken;var dg=function(){function t(){}return t.\u0275mod=u.Nb({type:t}),t.\u0275inj=u.Mb({factory:function(e){return new(e||t)},imports:[[n.c,a.a.forRoot(),o.c.forRoot(),a.d.forRoot(),a.g.forRoot(),a.i.forRoot(),a.k.forRoot(),a.m.forRoot(),s.h,s.s,c.b,l.e,le.g.forChild(pg),ae,Y,bt.c]]}),t}()}}]);