<div class="header pb-6">
  <div class="container-fluid">
    <div class="header-body">
      <div class="row align-items-center py-4">
        <div class="col-lg-12">
          <h6 class="h2 text-dark d-inline-block mb-0">
            Procurement Management
          </h6>

          <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
            <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
              <li class="breadcrumb-item">
                <a href="javascript:void(0)">
                  <i class="fas fa-handshake text-dark"> </i>
                </a>
              </li>
              <li class="breadcrumb-item">
                <a href="javascript:void(0)" class="text-dark"> Procurement </a>
              </li>
              <li aria-current="page" class="breadcrumb-item active">
                Procurement Management
              </li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid mt--6">
  <div class="row">
    <div class="col-xl-6">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col">
              <h5 class="h3 mt-2 mb-0">No. of PR per Month</h5>
            </div>
          </div>
        </div>

        <div class="card-body">
          <div class="chart">
            <div class="amchart" id="chartdivadminprocurementmanagement1"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-6">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col">
              <h5 class="h3 mt-2 mb-0">PR Category</h5>
            </div>
          </div>
        </div>

        <div class="card-body">
          <div class="chart">
            <div class="amchart" id="chartdivadminprocurementmanagement2"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-6">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col">
              <h5 class="h3 mt-2 mb-0">PR Status</h5>
            </div>
          </div>
        </div>

        <div class="card-body">
          <div class="chart">
            <div class="amchart" id="chartdivadminprocurementmanagement3"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-6">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col">
              <h5 class="h3 mt-2 mb-0">PR to Review</h5>
            </div>
          </div>
        </div>

        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="card card-stats">
                <div class="card-body bg-info">
                  <div class="row">
                    <div class="trycent col">
                      <h1 class="card-title display-1 text-uppercase mb-0">
                        6
                      </h1>

                      <span class="h5 font-weight-bold mb-0">
                        PR without milestone
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="card card-stats">
                <div class="card-body bg-info">
                  <div class="row">
                    <div class="trycent col">
                      <h1 class="card-title display-1 text-uppercase mb-0">
                        10
                      </h1>

                      <span class="h5 font-weight-bold mb-0">
                        PR without tasks
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="trycent col">
              <p class="mt-3 mb-0">
                <span class="text-yellow">
                  <i class="fas fa-exclamation-triangle"> </i>
                </span>

                <span class="text-nowrap">
                  You have <strong>6 PR</strong> without future milestones and
                  <br />
                  <strong>10 PR</strong> without assigned tasks
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-12">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col">
              <h5 class="h3 mt-2 mb-0">Find PR</h5>
            </div>
          </div>
        </div>

        <div class="card-body">
          <div class="row">
            <div class="col-lg-3">
              <div class="form-group">
                <label class="form-control-label">PR Category</label>

                <select class="form-control">
                  <option hidden selected>Please Pick</option>
                  <option value="1">Category 1</option>
                  <option value="2">Category 2</option>
                  <option value="3">Category 3</option>
                  <option value="4">Category 4</option>
                </select>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="form-group">
                <label class="form-control-label">PR Date</label>

                <input
                  class="form-control"
                  placeholder="2021-01-01"
                  type="date"
                />
              </div>
            </div>
            <div class="col-lg-3">
              <div class="form-group">
                <label class="form-control-label">PR Approval Due Date</label>

                <input
                  class="form-control"
                  placeholder="2021-01-01"
                  type="date"
                />
              </div>
            </div>
            <div class="col-lg-3">
              <div class="form-group">
                <label class="form-control-label">PR Status</label>

                <select class="form-control">
                  <option hidden selected>Please Pick</option>
                  <option value="1">Active</option>
                  <option value="2">Pending</option>
                  <option value="3">Draft</option>
                  <option value="4">Archived</option>
                  <option value="5">Terminated</option>
                </select>
              </div>
            </div>
            <div class="col-lg-12 text-right">
              <button
                class="btn btn-default"
                type="button"
                (click)="successSwal('searched')"
              >
                Search
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-12">
      <div class="card">
        <div class="card-header bg-secondary">
          <div class="row align-items-center">
            <div class="col-7">
              <h5 class="h3 m-0">Call List</h5>
            </div>
            <div class="col-5 text-right">
              <button
                class="btn btn-default"
                type="button"
                (click)="openModal(addNew)"
              >
                New PR
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="dataTables_wrapper py-4">
            <div class="row">
              <div class="col-sm-12 col-md-6">
                <div class="dataTables_length" id="datatable_length">
                  <label>
                    Show
                    <select
                      name="datatable_length"
                      aria-controls="datatable"
                      class="form-control form-control-sm"
                      (change)="entriesChange($event)"
                    >
                      <option value="5" [selected]="entries == 5">5</option>
                      <option value="10" [selected]="entries == 10">10</option>
                      <option value="15" [selected]="entries == 15">15</option>
                      <option value="-1" [selected]="entries == -1">All</option>
                    </select>
                    records
                  </label>
                </div>
              </div>
              <div class="col-sm-12 col-md-6">
                <div id="datatable_filter" class="dataTables_filter">
                  <label>
                    <input
                      type="search"
                      class="form-control form-control-sm"
                      placeholder="Search records"
                      aria-controls="datatable"
                      (keyup)="filterTable($event)"
                    />
                  </label>
                </div>
              </div>
            </div>

            <ngx-datatable
              class="bootstrap selection-cell"
              [columnMode]="'force'"
              [headerHeight]="50"
              [footerHeight]="50"
              [rowHeight]="'auto'"
              [limit]="entries != -1 ? entries : undefined"
              [rows]="temp"
            >
              <ngx-datatable-column>
                <ng-template ngx-datatable-header-template>
                  <span> PR Category </span>
                </ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row.category }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column>
                <ng-template ngx-datatable-header-template>
                  <span> PR Date </span>
                </ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row.date }} </ng-template
                >date
              </ngx-datatable-column>
              <ngx-datatable-column>
                <ng-template ngx-datatable-header-template>
                  <span> PR Approval Due Date </span>
                </ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row.duedate }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column>
                <ng-template ngx-datatable-header-template>
                  <span>PR Status</span>
                </ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <span
                    *ngIf="row.status == 'opened'"
                    class="badge badge-pill badge-success"
                    >Active</span
                  >
                  <span
                    *ngIf="row.status == 'draft'"
                    class="badge badge-pill badge-primary"
                    >Draft</span
                  >
                  <span
                    *ngIf="row.status == 'archived'"
                    class="badge badge-pill badge-info"
                    >Archived</span
                  >
                  <span
                    *ngIf="row.status == 'pending'"
                    class="badge badge-pill badge-warning"
                    >Pending</span
                  >
                  <span
                    *ngIf="row.status == 'closed'"
                    class="badge badge-pill badge-danger"
                    >Closed</span
                  >
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column>
                <ng-template ngx-datatable-header-template>
                  <span> Action </span>
                </ng-template>
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <!-- <button
                      class="btn btn-icon btn-success btn-sm"
                      type="button"
                      title="Update"
                      (click)="openModal(addNew)"
                    >
                      <span class="btn-inner--icon">
                        <i class="fas fa-edit"> </i>
                      </span>
                    </button> -->
                  <button
                    class="btn btn-icon btn-default btn-sm"
                    type="button"
                    title="View"
                    (click)="openModal(addNew)"
                  >
                    <span class="btn-inner--icon">
                      <i class="far fa-eye"> </i>
                    </span>
                  </button>
                  <button
                    class="btn btn-icon btn-danger btn-sm"
                    type="button"
                    title="Delete"
                    (click)="delete()"
                  >
                    <span class="btn-inner--icon">
                      <i class="fas fa-trash"> </i>
                    </span>
                  </button>
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #addNew>
  <div class="modal-header bg-default">
    <h6 class="modal-title text-white my-auto" id="modal-title-default">
      Add New PR
    </h6>

    <button
      aria-label="Close"
      class="close"
      data-dismiss="modal"
      type="button"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true" class="text-white my-auto"> × </span>
    </button>
  </div>

  <div class="modal-body">
    <mat-horizontal-stepper #stepper>
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
          <ng-template matStepLabel> PR General Info </ng-template>
          <!-- <h5 class="h3 mb-3">Part 1</h5> -->
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label">PR ID</label>

                <input
                  class="form-control"
                  placeholder="Type here..."
                  type="text"
                />
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label">Category</label>

                <select class="form-control">
                  <option hidden selected>Please Pick</option>
                  <option value="1">Category 1</option>
                  <option value="2">Category 2</option>
                  <option value="3">Category 3</option>
                  <option value="4">Category 4</option>
                </select>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label">PR Date</label>

                <input
                  class="form-control"
                  placeholder="Type here..."
                  type="date"
                />
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label">PR Due Date</label>

                <input
                  class="form-control"
                  placeholder="Type here..."
                  type="date"
                />
              </div>
            </div>
          </div>
          <div>
            <button class="btn btn-default" mat-button matStepperNext>
              Next
            </button>
          </div>
        </form>
      </mat-step>

      <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
          <ng-template matStepLabel> Budget Reference </ng-template>
          <!-- <h5 class="h3 mb-3">Part 2</h5> -->
          <div class="row">
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label"> Budget Category </label>

                <select class="form-control">
                  <option hidden selected>Please Pick</option>
                  <option value="1">Category 1</option>
                  <option value="2">Category 2</option>
                  <option value="3">Category 3</option>
                  <option value="4">Category 4</option>
                </select>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label"> Budget Status </label>

                <select class="form-control">
                  <option hidden selected>Please Pick</option>
                  <option value="1">Active</option>
                  <option value="2">Pending</option>
                  <option value="3">Terminated</option>
                  <option value="4">Archived</option>
                  <option value="5">Draft</option>
                </select>
              </div>
            </div>
            <div class="col-xl-6">
              <div class="form-group">
                <label class="form-control-label">Allocation (RM)</label>

                <input class="form-control" placeholder="0000" type="number" />
              </div>
            </div>
          </div>
          <div>
            <button class="btn btn-danger" mat-button matStepperPrevious>
              Back
            </button>
            <button class="btn btn-default" mat-button matStepperNext>
              Next
            </button>
          </div>
        </form>
      </mat-step>

      <mat-step [stepControl]="thirdFormGroup">
        <form [formGroup]="thirdFormGroup">
          <ng-template matStepLabel> PR Review </ng-template>

          <div class="row">
            <div class="col-xl-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="h3 mb-0">Activity feed</h5>
                </div>

                <div class="card-header d-flex align-items-center">
                  <div class="d-flex align-items-center">
                    <a href="javascript:void(0)">
                      <img class="avatar" src="assets/img/default/avatar.png" />
                    </a>

                    <div class="mx-3">
                      <a
                        class="text-dark font-weight-600 text-sm"
                        href="javascript:void(0)"
                      >
                        John Snow
                      </a>

                      <small class="d-block text-muted"> 3 days ago </small>
                    </div>
                  </div>

                  <div class="text-right ml-auto">
                    <button
                      class="btn btn-sm btn-primary btn-icon"
                      type="button"
                    >
                      <span class="btn-inner--icon">
                        <i class="ni ni-fat-add"> </i>
                      </span>

                      <span class="btn-inner--text"> Follow </span>
                    </button>
                  </div>
                </div>

                <div class="card-body">
                  <p class="mb-4">
                    Personal profiles are the perfect way for you to grab their
                    attention and persuade recruiters to continue reading your
                    CV because you’re telling them from the off exactly why they
                    should hire you.
                  </p>

                  <div class="row align-items-center my-3 pb-3 border-bottom">
                    <div class="col-sm-6">
                      <div class="icon-actions">
                        <a class="like active" href="javascript:void(0)">
                          <i class="ni ni-like-2"> </i>

                          <span class="text-muted"> 150 </span>
                        </a>

                        <a href="javascript:void(0)">
                          <i class="ni ni-chat-round"> </i>

                          <span class="text-muted"> 36 </span>
                        </a>

                        <a href="javascript:void(0)">
                          <i class="ni ni-curved-next"> </i>

                          <span class="text-muted"> 12 </span>
                        </a>
                      </div>
                    </div>

                    <div class="col-sm-6 d-none d-sm-block">
                      <div
                        class="d-flex align-items-center justify-content-sm-end"
                      >
                        <div class="avatar-group">
                          <a
                            class="avatar avatar-xs rounded-circle"
                            tooltip="Jessica Rowland"
                            placement="top"
                            href="javascript:void(0)"
                          >
                            <img
                              alt="Image placeholder"
                              src="assets/img/default/avatar.png"
                            />
                          </a>

                          <a
                            class="avatar avatar-xs rounded-circle"
                            tooltip="Audrey Love"
                            placement="top"
                            href="javascript:void(0)"
                          >
                            <img
                              alt="Image placeholder"
                              class="rounded-circle"
                              src="assets/img/default/avatar.png"
                            />
                          </a>

                          <a
                            class="avatar avatar-xs rounded-circle"
                            tooltip="Michael Lewis"
                            placement="top"
                            href="javascript:void(0)"
                          >
                            <img
                              alt="Image placeholder"
                              class="rounded-circle"
                              src="assets/img/default/avatar.png"
                            />
                          </a>
                        </div>

                        <small class="pl-2 font-weight-bold">
                          and 30+ more
                        </small>
                      </div>
                    </div>
                  </div>

                  <div class="mb-1">
                    <div class="media media-comment">
                      <img
                        alt="Image placeholder"
                        class="
                          avatar avatar-lg
                          media-comment-avatar
                          rounded-circle
                        "
                        src="assets/img/default/avatar.png"
                      />

                      <div class="media-body">
                        <div class="media-comment-text">
                          <h6 class="h5 mt-0">Michael Lewis</h6>

                          <p class="text-sm lh-160">
                            Cras sit amet nibh libero nulla vel metus
                            scelerisque ante sollicitudin. Cras purus odio
                            vestibulum in vulputate viverra turpis.
                          </p>

                          <div class="icon-actions">
                            <a class="like active" href="javascript:void(0)">
                              <i class="ni ni-like-2"> </i>

                              <span class="text-muted"> 3 likes </span>
                            </a>

                            <a href="javascript:void(0)">
                              <i class="ni ni-curved-next"> </i>

                              <span class="text-muted"> 2 shares </span>
                            </a>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="media media-comment">
                      <img
                        alt="Image placeholder"
                        class="
                          avatar avatar-lg
                          media-comment-avatar
                          rounded-circle
                        "
                        src="assets/img/default/avatar.png"
                      />

                      <div class="media-body">
                        <div class="media-comment-text">
                          <h6 class="h5 mt-0">Jessica Stones</h6>

                          <p class="text-sm lh-160">
                            Cras sit amet nibh libero, in gravida nulla. Nulla
                            vel metus scelerisque ante sollicitudin. Cras purus
                            odio, vestibulum in vulputate at, tempus viverra
                            turpis.
                          </p>

                          <div class="icon-actions">
                            <a class="like active" href="javascript:void(0)">
                              <i class="ni ni-like-2"> </i>

                              <span class="text-muted"> 10 likes </span>
                            </a>

                            <a href="javascript:void(0)">
                              <i class="ni ni-curved-next"> </i>

                              <span class="text-muted"> 1 share </span>
                            </a>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr />

                    <div class="media align-items-center">
                      <img
                        alt="Image placeholder"
                        class="avatar avatar-lg rounded-circle mr-4"
                        src="assets/img/default/avatar.png"
                      />

                      <div class="media-body">
                        <form>
                          <textarea
                            class="form-control"
                            placeholder="Write your comment"
                            rows="3"
                          ></textarea>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div>
            <button class="btn btn-danger" mat-button matStepperPrevious>
              Back
            </button>
            <button
              class="btn btn-default"
              mat-button
              (click)="successSwal('sent')"
            >
              Send Notification to Vendor
            </button>
            <button
              class="btn btn-warning"
              mat-button
              (click)="successSwal('ongoing printing')"
            >
              Print
            </button>
            <button
              class="btn btn-danger"
              mat-button
              (click)="successSwal('rejected')"
            >
              Reject
            </button>
            <button
              class="btn btn-success"
              mat-button
              (click)="successSwal1('approved')"
            >
              Approve
            </button>
          </div>
        </form>
      </mat-step>
    </mat-horizontal-stepper>
  </div>

  <div class="modal-footer">
    <!-- <button
            class="btn btn-success"
            type="button"
            (click)="successSwal('saved')"
          >
            Save
          </button> -->

    <button
      class="btn btn-outline-danger ml-auto"
      data-dismiss="modal"
      type="button"
      (click)="modalRef.hide()"
    >
      Close
    </button>
  </div>
</ng-template>
